!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){return function t(e,n,i){function r(a,c){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){var i=t("closest"),r=t("component-event"),o=["focus","blur"];n.bind=function(t,e,n,a,c){return-1!==o.indexOf(n)&&(c=!0),r.bind(t,n,function(n){var r=n.target||n.srcElement;n.delegateTarget=i(r,e,!0,t),n.delegateTarget&&a.call(t,n)},c)},n.unbind=function(t,e,n,i){-1!==o.indexOf(e)&&(i=!0),r.unbind(t,e,n,i)}},{closest:2,"component-event":4}],2:[function(t,e,n){var i=t("matches-selector");e.exports=function(t,e,n){for(var r=n?t:t.parentNode;r&&r!==document;){if(i(r,e))return r;r=r.parentNode}}},{"matches-selector":3}],3:[function(t,e,n){function i(t,e){if(o)return o.call(t,e);for(var n=t.parentNode.querySelectorAll(e),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var r=Element.prototype,o=r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;e.exports=i},{}],4:[function(t,e,n){var i=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",o="addEventListener"!==i?"on":"";n.bind=function(t,e,n,r){return t[i](o+e,n,r||!1),n},n.unbind=function(t,e,n,i){return t[r](o+e,n,i||!1),n}},{}],5:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this,r=function(){i.off(t,r),e.apply(n,arguments)};return this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;r>i;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,a=i.length;a>o;o++)i[o].fn!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},e.exports=i},{}],6:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){i(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){if(this.text&&this.target)throw new Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw new Error('Missing required attributes, use either "target" or "text"');this.selectTarget()}},t.prototype.selectFake=function(){var t=this;this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return t.removeFake()}),this.fakeElem=document.createElement("input"),this.fakeElem.style.position="absolute",this.fakeElem.style.left="-9999px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.selectedText=this.text,document.body.appendChild(this.fakeElem),this.fakeElem.select(),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){if("INPUT"===this.target.nodeName||"TEXTAREA"===this.target.nodeName)this.target.select(),this.selectedText=this.target.value;else{var t=document.createRange(),e=window.getSelection();t.selectNodeContents(this.target),e.addRange(t),this.selectedText=e.toString()}this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},r(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!=typeof t||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');this._target=t}},get:function(){return this._target}}]),t}();n["default"]=o,e.exports=n["default"]},{}],7:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./clipboard-action"),c=i(a),s=t("delegate-events"),l=i(s),u=t("tiny-emitter"),f=i(u),h="data-clipboard-",d=function(t){function e(n,i){r(this,e),t.call(this),this.resolveOptions(i),this.delegateClick(n)}return o(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.setAction,this.target="function"==typeof t.target?t.target:this.setTarget,this.text="function"==typeof t.text?t.text:this.setText},e.prototype.delegateClick=function(t){var e=this;l["default"].bind(document.body,t,"click",function(t){return e.initialize(t)})},e.prototype.initialize=function(t){this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c["default"]({action:this.action(t.delegateTarget),target:this.target(t.delegateTarget),text:this.text(t.delegateTarget),trigger:t.delegateTarget,emitter:this})},e.prototype.setAction=function(t){return t.hasAttribute(h+"action")?t.getAttribute(h+"action"):void 0},e.prototype.setTarget=function(t){if(t.hasAttribute(h+"target")){var e=t.getAttribute(h+"target");return document.querySelector(e)}},e.prototype.setText=function(t){return t.hasAttribute(h+"text")?t.getAttribute(h+"text"):void 0},e}(f["default"]);n["default"]=d,e.exports=n["default"]},{"./clipboard-action":6,"delegate-events":1,"tiny-emitter":5}]},{},[7])(7)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dGVybmFsL2NsaXBib2FyZC5taW4uanMiXSwibmFtZXMiOlsiYSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJiIiwid2luZG93IiwiZ2xvYmFsIiwic2VsZiIsInRoaXMiLCJDbGlwYm9hcmQiLCJjIiwiZCIsImUiLCJnIiwiaCIsImkiLCJyZXF1aXJlIiwiZiIsImoiLCJFcnJvciIsImNvZGUiLCJrIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJiaW5kIiwiaW5kZXhPZiIsInRhcmdldCIsInNyY0VsZW1lbnQiLCJkZWxlZ2F0ZVRhcmdldCIsInVuYmluZCIsImNsb3Nlc3QiLCJjb21wb25lbnQtZXZlbnQiLCIyIiwicGFyZW50Tm9kZSIsImRvY3VtZW50IiwibWF0Y2hlcy1zZWxlY3RvciIsIjMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiRWxlbWVudCIsInByb3RvdHlwZSIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIjQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIjUiLCJvbiIsInB1c2giLCJmbiIsImN0eCIsIm9uY2UiLCJvZmYiLCJhcHBseSIsImFyZ3VtZW50cyIsImVtaXQiLCJzbGljZSIsIjYiLCJUeXBlRXJyb3IiLCJfX2VzTW9kdWxlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJyZXNvbHZlT3B0aW9ucyIsImluaXRTZWxlY3Rpb24iLCJhY3Rpb24iLCJlbWl0dGVyIiwidGV4dCIsInRyaWdnZXIiLCJzZWxlY3RlZFRleHQiLCJzZWxlY3RGYWtlIiwic2VsZWN0VGFyZ2V0IiwicmVtb3ZlRmFrZSIsImZha2VIYW5kbGVyIiwiYm9keSIsImZha2VFbGVtIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0Iiwic2V0QXR0cmlidXRlIiwidmFsdWUiLCJhcHBlbmRDaGlsZCIsInNlbGVjdCIsImNvcHlUZXh0IiwicmVtb3ZlQ2hpbGQiLCJub2RlTmFtZSIsImNyZWF0ZVJhbmdlIiwiZ2V0U2VsZWN0aW9uIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwiYWRkUmFuZ2UiLCJ0b1N0cmluZyIsImV4ZWNDb21tYW5kIiwiaGFuZGxlUmVzdWx0IiwiY2xlYXJTZWxlY3Rpb24iLCJibHVyIiwicmVtb3ZlQWxsUmFuZ2VzIiwic2V0IiwiX2FjdGlvbiIsImdldCIsIm5vZGVUeXBlIiwiX3RhcmdldCIsIjciLCJkZWZhdWx0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImwiLCJtIiwibiIsImRlbGVnYXRlQ2xpY2siLCJzZXRBY3Rpb24iLCJzZXRUYXJnZXQiLCJzZXRUZXh0IiwiaW5pdGlhbGl6ZSIsImNsaXBib2FyZEFjdGlvbiIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsInF1ZXJ5U2VsZWN0b3IiLCIuL2NsaXBib2FyZC1hY3Rpb24iLCJkZWxlZ2F0ZS1ldmVudHMiLCJ0aW55LWVtaXR0ZXIiXSwibWFwcGluZ3MiOiJDQUFDLFNBQVNBLEdBQUcsR0FBRyxnQkFBaUJDLFVBQVMsbUJBQW9CQyxRQUFPQSxPQUFPRCxRQUFRRCxRQUFTLElBQUcsa0JBQW1CRyxTQUFRQSxPQUFPQyxJQUFJRCxVQUFVSCxPQUFPLENBQUMsR0FBSUssRUFBRUEsR0FBRSxtQkFBb0JDLFFBQU9BLE9BQU8sbUJBQW9CQyxRQUFPQSxPQUFPLG1CQUFvQkMsTUFBS0EsS0FBS0MsS0FBS0osRUFBRUssVUFBVVYsTUFBTSxXQUFXLE1BQU8sU0FBU0EsR0FBRUssRUFBRU0sRUFBRUMsR0FBRyxRQUFTQyxHQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJVCxFQUFFUyxHQUFHLENBQUMsR0FBSUUsR0FB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QUUwRSxLQUFLMUUsRUFBRTBFLEtBQUtqRSxLQUFLZ0gsU0FBU3BILEVBQUVvQyxVQUFVNkUsY0FBYyxTQUFTdEgsR0FBRyxHQUFJSyxHQUFFSSxJQUFLVSxHQUFFLFdBQVdPLEtBQUtVLFNBQVM2QyxLQUFLakYsRUFBRSxRQUFRLFNBQVNBLEdBQUcsTUFBT0ssR0FBRXFILFdBQVcxSCxNQUFNSyxFQUFFb0MsVUFBVWlGLFdBQVcsU0FBUzFILEdBQUdTLEtBQUtrSCxrQkFBa0JsSCxLQUFLa0gsZ0JBQWdCLE1BQU1sSCxLQUFLa0gsZ0JBQWdCLEdBQUk1RyxHQUFFLFlBQVl5RCxPQUFPL0QsS0FBSytELE9BQU94RSxFQUFFOEIsZ0JBQWdCRixPQUFPbkIsS0FBS21CLE9BQU81QixFQUFFOEIsZ0JBQWdCNEMsS0FBS2pFLEtBQUtpRSxLQUFLMUUsRUFBRThCLGdCQUFnQjZDLFFBQVEzRSxFQUFFOEIsZUFBZTJDLFFBQVFoRSxRQUFRSixFQUFFb0MsVUFBVThFLFVBQVUsU0FBU3ZILEdBQUcsTUFBT0EsR0FBRTRILGFBQWFSLEVBQUUsVUFBVXBILEVBQUU2SCxhQUFhVCxFQUFFLGNBQWUsSUFBRy9HLEVBQUVvQyxVQUFVK0UsVUFBVSxTQUFTeEgsR0FBRyxHQUFHQSxFQUFFNEgsYUFBYVIsRUFBRSxVQUFVLENBQUMsR0FBSS9HLEdBQUVMLEVBQUU2SCxhQUFhVCxFQUFFLFNBQVUsT0FBT2hGLFVBQVMwRixjQUFjekgsS0FBS0EsRUFBRW9DLFVBQVVnRixRQUFRLFNBQVN6SCxHQUFHLE1BQU9BLEdBQUU0SCxhQUFhUixFQUFFLFFBQVFwSCxFQUFFNkgsYUFBYVQsRUFBRSxZQUFhLElBQUcvRyxHQUFHOEcsRUFBRSxXQUFZeEcsR0FBRSxXQUFXMEcsRUFBRWhILEVBQUVKLFFBQVFVLEVBQUUsYUFBYW9ILHFCQUFxQixFQUFFQyxrQkFBa0IsRUFBRUMsZUFBZSxTQUFTLElBQUkiLCJmaWxlIjoiZXh0ZXJuYWwvY2xpcGJvYXJkLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihhKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1hKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGEpO2Vsc2V7dmFyIGI7Yj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsYi5DbGlwYm9hcmQ9YSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gYShiLGMsZCl7ZnVuY3Rpb24gZShnLGgpe2lmKCFjW2ddKXtpZighYltnXSl7dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighaCYmaSlyZXR1cm4gaShnLCEwKTtpZihmKXJldHVybiBmKGcsITApO3ZhciBqPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrZytcIidcIik7dGhyb3cgai5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGp9dmFyIGs9Y1tnXT17ZXhwb3J0czp7fX07YltnXVswXS5jYWxsKGsuZXhwb3J0cyxmdW5jdGlvbihhKXt2YXIgYz1iW2ddWzFdW2FdO3JldHVybiBlKGM/YzphKX0sayxrLmV4cG9ydHMsYSxiLGMsZCl9cmV0dXJuIGNbZ10uZXhwb3J0c31mb3IodmFyIGY9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxnPTA7ZzxkLmxlbmd0aDtnKyspZShkW2ddKTtyZXR1cm4gZX0oezE6W2Z1bmN0aW9uKGEsYixjKXt2YXIgZD1hKFwiY2xvc2VzdFwiKSxlPWEoXCJjb21wb25lbnQtZXZlbnRcIiksZj1bXCJmb2N1c1wiLFwiYmx1clwiXTtjLmJpbmQ9ZnVuY3Rpb24oYSxiLGMsZyxoKXtyZXR1cm4tMSE9PWYuaW5kZXhPZihjKSYmKGg9ITApLGUuYmluZChhLGMsZnVuY3Rpb24oYyl7dmFyIGU9Yy50YXJnZXR8fGMuc3JjRWxlbWVudDtjLmRlbGVnYXRlVGFyZ2V0PWQoZSxiLCEwLGEpLGMuZGVsZWdhdGVUYXJnZXQmJmcuY2FsbChhLGMpfSxoKX0sYy51bmJpbmQ9ZnVuY3Rpb24oYSxiLGMsZCl7LTEhPT1mLmluZGV4T2YoYikmJihkPSEwKSxlLnVuYmluZChhLGIsYyxkKX19LHtjbG9zZXN0OjIsXCJjb21wb25lbnQtZXZlbnRcIjo0fV0sMjpbZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEoXCJtYXRjaGVzLXNlbGVjdG9yXCIpO2IuZXhwb3J0cz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBlPWM/YTphLnBhcmVudE5vZGU7ZSYmZSE9PWRvY3VtZW50Oyl7aWYoZChlLGIpKXJldHVybiBlO2U9ZS5wYXJlbnROb2RlfX19LHtcIm1hdGNoZXMtc2VsZWN0b3JcIjozfV0sMzpbZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSxiKXtpZihmKXJldHVybiBmLmNhbGwoYSxiKTtmb3IodmFyIGM9YS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoYiksZD0wO2Q8Yy5sZW5ndGg7KytkKWlmKGNbZF09PWEpcmV0dXJuITA7cmV0dXJuITF9dmFyIGU9RWxlbWVudC5wcm90b3R5cGUsZj1lLm1hdGNoZXNTZWxlY3Rvcnx8ZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGUubW96TWF0Y2hlc1NlbGVjdG9yfHxlLm1zTWF0Y2hlc1NlbGVjdG9yfHxlLm9NYXRjaGVzU2VsZWN0b3I7Yi5leHBvcnRzPWR9LHt9XSw0OltmdW5jdGlvbihhLGIsYyl7dmFyIGQ9d2luZG93LmFkZEV2ZW50TGlzdGVuZXI/XCJhZGRFdmVudExpc3RlbmVyXCI6XCJhdHRhY2hFdmVudFwiLGU9d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXI/XCJyZW1vdmVFdmVudExpc3RlbmVyXCI6XCJkZXRhY2hFdmVudFwiLGY9XCJhZGRFdmVudExpc3RlbmVyXCIhPT1kP1wib25cIjpcIlwiO2MuYmluZD1mdW5jdGlvbihhLGIsYyxlKXtyZXR1cm4gYVtkXShmK2IsYyxlfHwhMSksY30sYy51bmJpbmQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGFbZV0oZitiLGMsZHx8ITEpLGN9fSx7fV0sNTpbZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXt9ZC5wcm90b3R5cGU9e29uOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmV8fCh0aGlzLmU9e30pO3JldHVybihkW2FdfHwoZFthXT1bXSkpLnB1c2goe2ZuOmIsY3R4OmN9KSx0aGlzfSxvbmNlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9ZnVuY3Rpb24oKXtkLm9mZihhLGUpLGIuYXBwbHkoYyxhcmd1bWVudHMpfTtyZXR1cm4gdGhpcy5vbihhLGUsYyl9LGVtaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksYz0oKHRoaXMuZXx8KHRoaXMuZT17fSkpW2FdfHxbXSkuc2xpY2UoKSxkPTAsZT1jLmxlbmd0aDtmb3IoZDtlPmQ7ZCsrKWNbZF0uZm4uYXBwbHkoY1tkXS5jdHgsYik7cmV0dXJuIHRoaXN9LG9mZjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZXx8KHRoaXMuZT17fSksZD1jW2FdLGU9W107aWYoZCYmYilmb3IodmFyIGY9MCxnPWQubGVuZ3RoO2c+ZjtmKyspZFtmXS5mbiE9PWImJmUucHVzaChkW2ZdKTtyZXR1cm4gZS5sZW5ndGg/Y1thXT1lOmRlbGV0ZSBjW2FdLHRoaXN9fSxiLmV4cG9ydHM9ZH0se31dLDY6W2Z1bmN0aW9uKGEsYixjKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkKGEsYil7aWYoIShhIGluc3RhbmNlb2YgYikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1jLl9fZXNNb2R1bGU9ITA7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107ZC5lbnVtZXJhYmxlPWQuZW51bWVyYWJsZXx8ITEsZC5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZCYmKGQud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGQua2V5LGQpfX1yZXR1cm4gZnVuY3Rpb24oYixjLGQpe3JldHVybiBjJiZhKGIucHJvdG90eXBlLGMpLGQmJmEoYixkKSxifX0oKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtkKHRoaXMsYSksdGhpcy5yZXNvbHZlT3B0aW9ucyhiKSx0aGlzLmluaXRTZWxlY3Rpb24oKX1yZXR1cm4gYS5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/e306YXJndW1lbnRzWzBdO3RoaXMuYWN0aW9uPWEuYWN0aW9uLHRoaXMuZW1pdHRlcj1hLmVtaXR0ZXIsdGhpcy50YXJnZXQ9YS50YXJnZXQsdGhpcy50ZXh0PWEudGV4dCx0aGlzLnRyaWdnZXI9YS50cmlnZ2VyLHRoaXMuc2VsZWN0ZWRUZXh0PVwiXCJ9LGEucHJvdG90eXBlLmluaXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZih0aGlzLnRleHQmJnRoaXMudGFyZ2V0KXRocm93IG5ldyBFcnJvcignTXVsdGlwbGUgYXR0cmlidXRlcyBkZWNsYXJlZCwgdXNlIGVpdGhlciBcInRhcmdldFwiIG9yIFwidGV4dFwiJyk7aWYodGhpcy50ZXh0KXRoaXMuc2VsZWN0RmFrZSgpO2Vsc2V7aWYoIXRoaXMudGFyZ2V0KXRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBhdHRyaWJ1dGVzLCB1c2UgZWl0aGVyIFwidGFyZ2V0XCIgb3IgXCJ0ZXh0XCInKTt0aGlzLnNlbGVjdFRhcmdldCgpfX0sYS5wcm90b3R5cGUuc2VsZWN0RmFrZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5yZW1vdmVGYWtlKCksdGhpcy5mYWtlSGFuZGxlcj1kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVtb3ZlRmFrZSgpfSksdGhpcy5mYWtlRWxlbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5sZWZ0PVwiLTk5OTlweFwiLHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIixcIlwiKSx0aGlzLmZha2VFbGVtLnZhbHVlPXRoaXMudGV4dCx0aGlzLnNlbGVjdGVkVGV4dD10aGlzLnRleHQsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZha2VFbGVtKSx0aGlzLmZha2VFbGVtLnNlbGVjdCgpLHRoaXMuY29weVRleHQoKX0sYS5wcm90b3R5cGUucmVtb3ZlRmFrZT1mdW5jdGlvbigpe3RoaXMuZmFrZUhhbmRsZXImJihkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiKSx0aGlzLmZha2VIYW5kbGVyPW51bGwpLHRoaXMuZmFrZUVsZW0mJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pLHRoaXMuZmFrZUVsZW09bnVsbCl9LGEucHJvdG90eXBlLnNlbGVjdFRhcmdldD1mdW5jdGlvbigpe2lmKFwiSU5QVVRcIj09PXRoaXMudGFyZ2V0Lm5vZGVOYW1lfHxcIlRFWFRBUkVBXCI9PT10aGlzLnRhcmdldC5ub2RlTmFtZSl0aGlzLnRhcmdldC5zZWxlY3QoKSx0aGlzLnNlbGVjdGVkVGV4dD10aGlzLnRhcmdldC52YWx1ZTtlbHNle3ZhciBhPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksYj13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7YS5zZWxlY3ROb2RlQ29udGVudHModGhpcy50YXJnZXQpLGIuYWRkUmFuZ2UoYSksdGhpcy5zZWxlY3RlZFRleHQ9Yi50b1N0cmluZygpfXRoaXMuY29weVRleHQoKX0sYS5wcm90b3R5cGUuY29weVRleHQ9ZnVuY3Rpb24oKXt2YXIgYT12b2lkIDA7dHJ5e2E9ZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5hY3Rpb24pfWNhdGNoKGIpe2E9ITF9dGhpcy5oYW5kbGVSZXN1bHQoYSl9LGEucHJvdG90eXBlLmhhbmRsZVJlc3VsdD1mdW5jdGlvbihhKXthP3RoaXMuZW1pdHRlci5lbWl0KFwic3VjY2Vzc1wiLHthY3Rpb246dGhpcy5hY3Rpb24sdGV4dDp0aGlzLnNlbGVjdGVkVGV4dCx0cmlnZ2VyOnRoaXMudHJpZ2dlcixjbGVhclNlbGVjdGlvbjp0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcyl9KTp0aGlzLmVtaXR0ZXIuZW1pdChcImVycm9yXCIse2FjdGlvbjp0aGlzLmFjdGlvbix0cmlnZ2VyOnRoaXMudHJpZ2dlcixjbGVhclNlbGVjdGlvbjp0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcyl9KX0sYS5wcm90b3R5cGUuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmdGhpcy50YXJnZXQuYmx1cigpLHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKX0sZShhLFt7a2V5OlwiYWN0aW9uXCIsc2V0OmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP1wiY29weVwiOmFyZ3VtZW50c1swXTtpZih0aGlzLl9hY3Rpb249YSxcImNvcHlcIiE9PXRoaXMuX2FjdGlvbiYmXCJjdXRcIiE9PXRoaXMuX2FjdGlvbil0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJhY3Rpb25cIiB2YWx1ZSwgdXNlIGVpdGhlciBcImNvcHlcIiBvciBcImN1dFwiJyl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3Rpb259fSx7a2V5OlwidGFyZ2V0XCIsc2V0OmZ1bmN0aW9uKGEpe2lmKHZvaWQgMCE9PWEpe2lmKCFhfHxcIm9iamVjdFwiIT10eXBlb2YgYXx8MSE9PWEubm9kZVR5cGUpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgdmFsdWUsIHVzZSBhIHZhbGlkIEVsZW1lbnQnKTt0aGlzLl90YXJnZXQ9YX19LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXR9fV0pLGF9KCk7Y1tcImRlZmF1bHRcIl09ZixiLmV4cG9ydHM9Y1tcImRlZmF1bHRcIl19LHt9XSw3OltmdW5jdGlvbihhLGIsYyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYSYmYS5fX2VzTW9kdWxlP2E6e1wiZGVmYXVsdFwiOmF9fWZ1bmN0aW9uIGUoYSxiKXtpZighKGEgaW5zdGFuY2VvZiBiKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGYoYSxiKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBiJiZudWxsIT09Yil0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgYik7YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiJiZiLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmEsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksYiYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoYSxiKTphLl9fcHJvdG9fXz1iKX1jLl9fZXNNb2R1bGU9ITA7dmFyIGc9YShcIi4vY2xpcGJvYXJkLWFjdGlvblwiKSxoPWQoZyksaT1hKFwiZGVsZWdhdGUtZXZlbnRzXCIpLGo9ZChpKSxrPWEoXCJ0aW55LWVtaXR0ZXJcIiksbD1kKGspLG09XCJkYXRhLWNsaXBib2FyZC1cIixuPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyxkKXtlKHRoaXMsYiksYS5jYWxsKHRoaXMpLHRoaXMucmVzb2x2ZU9wdGlvbnMoZCksdGhpcy5kZWxlZ2F0ZUNsaWNrKGMpfXJldHVybiBmKGIsYSksYi5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/e306YXJndW1lbnRzWzBdO3RoaXMuYWN0aW9uPVwiZnVuY3Rpb25cIj09dHlwZW9mIGEuYWN0aW9uP2EuYWN0aW9uOnRoaXMuc2V0QWN0aW9uLHRoaXMudGFyZ2V0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGEudGFyZ2V0P2EudGFyZ2V0OnRoaXMuc2V0VGFyZ2V0LHRoaXMudGV4dD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLnRleHQ/YS50ZXh0OnRoaXMuc2V0VGV4dH0sYi5wcm90b3R5cGUuZGVsZWdhdGVDbGljaz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2pbXCJkZWZhdWx0XCJdLmJpbmQoZG9jdW1lbnQuYm9keSxhLFwiY2xpY2tcIixmdW5jdGlvbihhKXtyZXR1cm4gYi5pbml0aWFsaXplKGEpfSl9LGIucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSl7dGhpcy5jbGlwYm9hcmRBY3Rpb24mJih0aGlzLmNsaXBib2FyZEFjdGlvbj1udWxsKSx0aGlzLmNsaXBib2FyZEFjdGlvbj1uZXcgaFtcImRlZmF1bHRcIl0oe2FjdGlvbjp0aGlzLmFjdGlvbihhLmRlbGVnYXRlVGFyZ2V0KSx0YXJnZXQ6dGhpcy50YXJnZXQoYS5kZWxlZ2F0ZVRhcmdldCksdGV4dDp0aGlzLnRleHQoYS5kZWxlZ2F0ZVRhcmdldCksdHJpZ2dlcjphLmRlbGVnYXRlVGFyZ2V0LGVtaXR0ZXI6dGhpc30pfSxiLnByb3RvdHlwZS5zZXRBY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaGFzQXR0cmlidXRlKG0rXCJhY3Rpb25cIik/YS5nZXRBdHRyaWJ1dGUobStcImFjdGlvblwiKTp2b2lkIDB9LGIucHJvdG90eXBlLnNldFRhcmdldD1mdW5jdGlvbihhKXtpZihhLmhhc0F0dHJpYnV0ZShtK1widGFyZ2V0XCIpKXt2YXIgYj1hLmdldEF0dHJpYnV0ZShtK1widGFyZ2V0XCIpO3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGIpfX0sYi5wcm90b3R5cGUuc2V0VGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGUobStcInRleHRcIik/YS5nZXRBdHRyaWJ1dGUobStcInRleHRcIik6dm9pZCAwfSxifShsW1wiZGVmYXVsdFwiXSk7Y1tcImRlZmF1bHRcIl09bixiLmV4cG9ydHM9Y1tcImRlZmF1bHRcIl19LHtcIi4vY2xpcGJvYXJkLWFjdGlvblwiOjYsXCJkZWxlZ2F0ZS1ldmVudHNcIjoxLFwidGlueS1lbWl0dGVyXCI6NX1dfSx7fSxbN10pKDcpfSk7Il19
