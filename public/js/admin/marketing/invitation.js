$(function(){invitation.init()});var invitation=function(){var e={};var i,t,o,a,n,l,d,s;function r(e){var i=null;if(window.createObjectURL!=undefined){i=window.createObjectURL(e)}else if(window.URL!=undefined){i=window.URL.createObjectURL(e)}else if(window.webkitURL!=undefined){i=window.webkitURL.createObjectURL(e)}return i}function c(e){if(window.revokeObjectURL!=undefined){window.revokeObjectURL(e)}else if(window.URL!=undefined){window.URL.revokeObjectURL(e)}else if(window.webkitURL!=undefined){window.webkitURL.revokeObjectURL(e)}}function u(e,i,t,o){$(".loadingPartial").show();console.log(e);if(e&&e.length>0){var a=e[0];var n=r(a);fileSize=(a.size/(1024*1024)).toFixed(2);resAudio1Lengh=a.duration;if($uploadFile.checkFileSize(a,o)){$uploadFile.uploadRes(a,i,function(e){},function(e){$(".loadingPartial").hide();console.log(e);baseUtils.show.blueTip("上传成功！");$(".deleteImg").show();resUrl=e.data.access_url;console.log(resUrl);$("#imgUrl").val(resUrl);if(i=="image"){$("#reBackImg").load(function(){c(n)}).attr("src",n)}},function(e){$(".loadingPartial").hide();console.error("上传失败!!!");console.log(e);baseUtils.show.redTip("上传失败！")})}else{baseUtils.show.redTip("上传资源限制在"+o+"MB内！");$(".upLoad"+t).val("")}}else{baseUtils.show.redTip("网络错误，请稍后再试！")}}e.init=function(){$("#uploadImage").on("change",function(){u(this.files,"image","reBackImg",5)});$(".deleteImg1").click(function(){$("#reBackImg").attr("src","");$("#imgUrl").val("");$("#uploadImage").val("")});document.onkeydown=e;function e(e){if(e.keyCode==13){$(".goodsSearchBtn").click()}}$(".salerContent").on("click",".inviteOperate",function(){i=$(this).data("id");t=$(this).data("name");o=$(this).data("price");a=$(this).data("is_invite");n=$(this).data("good_type");d=$(this).data("inviteposter");l=$(this).data("isshowinfo");s=$(this).data("distribute_percent");$(".saleGoodsName").text(t);$("#reBackImg").attr("src",d);$("#imgUrl").val(d);if(d!=""){$(".deleteImg").show();$(".deleteImg1").show()}else{$(".deleteImg").hide();$(".deleteImg1").hide()}if(l==1){$(".showInfo").click()}else{$(".hideInfo").click()}$(".inputRadioValue").val(s);if(o<=1){$(".inputRadioValue").attr("readonly","readonly");$(".inputRadioValue").attr("disabled","disabled");$(".inputRadioValue").addClass("inputDisabled")}else{$(".inputRadioValue").removeClass("inputDisabled");$(".inputRadioValue").removeAttr("readonly");$(".inputRadioValue").removeAttr("disabled")}$(".setSaleRatioWindow").fadeIn(200)});$(".setSaleRatioWindow").on("click",".label1",function(){$(".setPercent").slideDown(300);$(".inputRadioValue").removeAttr("readonly");$(".inputRadioValue").removeAttr("disabled");$(".inputRadioValue").css("color","#243042");a=1});$(".setSaleRatioWindow").on("click",".label2",function(){$(".setPercent").slideUp(300);$(".inputRadioValue").attr("readonly","readonly");$(".inputRadioValue").attr("disabled","disabled");$(".inputRadioValue").css("color","#b2b2b2");$(".inputRadioValue").val("");a=0});$(".setSaleRatioWindow").on("click",".closeIcon,.cancelSaleBtn",function(){$(".setSaleRatioWindow").fadeOut(200)});$(".salerContent").on("click",".goodsSearchBtn",function(){var e=$(".goodsSearchInput").val();window.location="/invite/index?name="+e});$(".setSaleRatioWindow").on("click",".confirmSaleBtn",function(){s=$(".inputRadioValue").val();d=$("#imgUrl").val();if($("#showInfo").is(":checked")){l=1}else{l=0}var e={id:i,goods_type:n,distribute_percent:s,invite_poster:d,is_show_userinfo:l};if(a&&$formCheck.emptyString(e.distribute_percent)){baseUtils.show.blueTip("请输入要设置的比例！");return false}$.post("set",e,function(e){if(e.code===0){baseUtils.show.blueTip("保存成功");location.reload()}else{baseUtils.show.redTip(e.msg)}})})};return e}();function rateCheckNum1(e,i){e=e.replace(/[^\d]/g,"");e=e.replace(/^[5][1-9]$|^[6-9]\d$|^[1-9][0-9]\d{1,}$|^0\d{1,}$/,"");$(i).val(e)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL21hcmtldGluZy9pbnZpdGF0aW9uLmpzIl0sIm5hbWVzIjpbIiQiLCJpbnZpdGF0aW9uIiwiaW5pdCIsImlkIiwibmFtZSIsInByaWNlIiwiaXNJbnZpdGUiLCJnb29kVHlwZSIsImlzU2hvd0luZm8iLCJpbnZpdGVQb3N0ZXIiLCJkaXN0cmlidXRlUGVyY2VudCIsImdldE9iamVjdFVSTCIsImZpbGUiLCJ1cmwiLCJ3aW5kb3ciLCJjcmVhdGVPYmplY3RVUkwiLCJ1bmRlZmluZWQiLCJVUkwiLCJ3ZWJraXRVUkwiLCJyZW1vdmVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJyZXNVcGxvYWQiLCJmaWxlcyIsInJlc1R5cGUiLCJyZXNUeXBlQ2xhc3MiLCJyZXNMaW1pdFNpemUiLCJzaG93IiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsInJlc291cmNlTG9jYWxVcmwiLCJmaWxlU2l6ZSIsInNpemUiLCJ0b0ZpeGVkIiwicmVzQXVkaW8xTGVuZ2giLCJkdXJhdGlvbiIsIiR1cGxvYWRGaWxlIiwiY2hlY2tGaWxlU2l6ZSIsInVwbG9hZFJlcyIsImRhdGEiLCJoaWRlIiwiYmFzZVV0aWxzIiwiYmx1ZVRpcCIsInJlc1VybCIsImFjY2Vzc191cmwiLCJ2YWwiLCJsb2FkIiwiYXR0ciIsImVycm9yIiwicmVkVGlwIiwib24iLCJ0aGlzIiwiY2xpY2siLCJkb2N1bWVudCIsIm9ua2V5ZG93biIsImtleUxpc3RlbmVyIiwiZSIsImtleUNvZGUiLCJ0ZXh0IiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInJlbW92ZUF0dHIiLCJmYWRlSW4iLCJzbGlkZURvd24iLCJjc3MiLCJzbGlkZVVwIiwiZmFkZU91dCIsImdvb2RTZWFyY2hDb250ZW50IiwibG9jYXRpb24iLCJpcyIsImludml0ZUluZm8iLCJnb29kc190eXBlIiwiZGlzdHJpYnV0ZV9wZXJjZW50IiwiaW52aXRlX3Bvc3RlciIsImlzX3Nob3dfdXNlcmluZm8iLCIkZm9ybUNoZWNrIiwiZW1wdHlTdHJpbmciLCJwb3N0IiwiY29kZSIsInJlbG9hZCIsIm1zZyIsInJhdGVDaGVja051bTEiLCJ2YWx1ZSIsImRvbSIsInJlcGxhY2UiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFLFdBRUVDLFdBQVdDLFFBSWYsSUFBSUQsWUFBYSxXQUNiLEdBQUlBLEtBRUosSUFBSUUsR0FDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsQ0FFSixTQUFTQyxHQUFhQyxHQUNsQixHQUFJQyxHQUFNLElBQ1YsSUFBSUMsT0FBT0MsaUJBQW1CQyxVQUFXLENBQ3JDSCxFQUFNQyxPQUFPQyxnQkFBZ0JILE9BQzFCLElBQUlFLE9BQU9HLEtBQU9ELFVBQVcsQ0FDaENILEVBQU1DLE9BQU9HLElBQUlGLGdCQUFnQkgsT0FDOUIsSUFBSUUsT0FBT0ksV0FBYUYsVUFBVyxDQUN0Q0gsRUFBTUMsT0FBT0ksVUFBVUgsZ0JBQWdCSCxHQUUzQyxNQUFPQyxHQUdYLFFBQVNNLEdBQWdCTixHQUNyQixHQUFJQyxPQUFPTSxpQkFBbUJKLFVBQVcsQ0FDckNGLE9BQU9NLGdCQUFnQlAsT0FDcEIsSUFBSUMsT0FBT0csS0FBT0QsVUFBVyxDQUNoQ0YsT0FBT0csSUFBSUcsZ0JBQWdCUCxPQUN4QixJQUFJQyxPQUFPSSxXQUFhRixVQUFXLENBQ3RDRixPQUFPSSxVQUFVRSxnQkFBZ0JQLElBS3pDLFFBQVNRLEdBQVVDLEVBQU9DLEVBQVNDLEVBQWNDLEdBQzdDekIsRUFBRSxtQkFBbUIwQixNQUNyQkMsU0FBUUMsSUFBSU4sRUFDWixJQUFJQSxHQUFTQSxFQUFNTyxPQUFTLEVBQUcsQ0FDM0IsR0FBSWpCLEdBQU9VLEVBQU0sRUFDakIsSUFBSVEsR0FBbUJuQixFQUFhQyxFQUNwQ21CLFdBQVluQixFQUFLb0IsTUFBUSxLQUFPLE9BQU9DLFFBQVEsRUFDL0NDLGdCQUFpQnRCLEVBQUt1QixRQUV0QixJQUFJQyxZQUFZQyxjQUFjekIsRUFBTWEsR0FBZSxDQUMvQ1csWUFBWUUsVUFBVTFCLEVBQU1XLEVBQVMsU0FBVWdCLEtBUzNDLFNBQVVBLEdBQ052QyxFQUFFLG1CQUFtQndDLE1BQ3JCYixTQUFRQyxJQUFJVyxFQUNaRSxXQUFVZixLQUFLZ0IsUUFBUSxRQUN2QjFDLEdBQUUsY0FBYzBCLE1BQ2hCaUIsUUFBU0osRUFBS0EsS0FBS0ssVUFDbkJqQixTQUFRQyxJQUFJZSxPQUNaM0MsR0FBRSxXQUFXNkMsSUFBSUYsT0FFakIsSUFBSXBCLEdBQVcsUUFBUyxDQUVwQnZCLEVBQUUsY0FDRzhDLEtBQUssV0FDRjNCLEVBQWdCVyxLQUVuQmlCLEtBQUssTUFBT2pCLEtBS3pCLFNBQVVTLEdBQ052QyxFQUFFLG1CQUFtQndDLE1BQ3JCYixTQUFRcUIsTUFBTSxVQUNkckIsU0FBUUMsSUFBSVcsRUFDWkUsV0FBVWYsS0FBS3VCLE9BQU8sZUFFM0IsQ0FDSFIsVUFBVWYsS0FBS3VCLE9BQU8sVUFBWXhCLEVBQWUsT0FDakR6QixHQUFFLFVBQVl3QixHQUFjcUIsSUFBSSxTQUdqQyxDQUNISixVQUFVZixLQUFLdUIsT0FBTyxnQkFLOUJoRCxFQUFXQyxLQUFPLFdBRWRGLEVBQUUsZ0JBQWdCa0QsR0FBRyxTQUFVLFdBQzNCN0IsRUFBVThCLEtBQUs3QixNQUFPLFFBQVMsWUFBYSxJQUloRHRCLEdBQUUsZUFBZW9ELE1BQU0sV0FDbkJwRCxFQUFFLGNBQWMrQyxLQUFLLE1BQU8sR0FDNUIvQyxHQUFFLFdBQVc2QyxJQUFJLEdBQ2pCN0MsR0FBRSxnQkFBZ0I2QyxJQUFJLEtBSTFCUSxVQUFTQyxVQUFZQyxDQUVyQixTQUFTQSxHQUFZQyxHQUVqQixHQUFJQSxFQUFFQyxTQUFXLEdBQUksQ0FDakJ6RCxFQUFFLG1CQUFtQm9ELFNBSzdCcEQsRUFBRSxpQkFBaUJrRCxHQUFHLFFBQVMsaUJBQWtCLFdBQzdDL0MsRUFBS0gsRUFBRW1ELE1BQU1aLEtBQUssS0FDbEJuQyxHQUFPSixFQUFFbUQsTUFBTVosS0FBSyxPQUNwQmxDLEdBQVFMLEVBQUVtRCxNQUFNWixLQUFLLFFBQ3JCakMsR0FBV04sRUFBRW1ELE1BQU1aLEtBQUssWUFDeEJoQyxHQUFXUCxFQUFFbUQsTUFBTVosS0FBSyxZQUN4QjlCLEdBQWVULEVBQUVtRCxNQUFNWixLQUFLLGVBQzVCL0IsR0FBYVIsRUFBRW1ELE1BQU1aLEtBQUssYUFDMUI3QixHQUFvQlYsRUFBRW1ELE1BQU1aLEtBQUsscUJBQ2pDdkMsR0FBRSxrQkFBa0IwRCxLQUFLdEQsRUFDekJKLEdBQUUsY0FBYytDLEtBQUssTUFBT3RDLEVBQzVCVCxHQUFFLFdBQVc2QyxJQUFJcEMsRUFDakIsSUFBSUEsR0FBZ0IsR0FBSSxDQUNwQlQsRUFBRSxjQUFjMEIsTUFDaEIxQixHQUFFLGVBQWUwQixXQUNkLENBQ0gxQixFQUFFLGNBQWN3QyxNQUNoQnhDLEdBQUUsZUFBZXdDLE9BRXJCLEdBQUdoQyxHQUFZLEVBQUUsQ0FDYlIsRUFBRSxhQUFhb0QsWUFDWixDQUNIcEQsRUFBRSxhQUFhb0QsUUFTbkJwRCxFQUFFLG9CQUFvQjZDLElBQUluQyxFQUMxQixJQUFJTCxHQUFTLEVBQUcsQ0FDWkwsRUFBRSxvQkFBb0IrQyxLQUFLLFdBQVksV0FDdkMvQyxHQUFFLG9CQUFvQitDLEtBQUssV0FBWSxXQUN2Qy9DLEdBQUUsb0JBQW9CMkQsU0FBUyxxQkFFNUIsQ0FDSDNELEVBQUUsb0JBQW9CNEQsWUFBWSxnQkFDbEM1RCxHQUFFLG9CQUFvQjZELFdBQVcsV0FDakM3RCxHQUFFLG9CQUFvQjZELFdBQVcsWUFFckM3RCxFQUFFLHVCQUF1QjhELE9BQU8sTUFHcEM5RCxHQUFFLHVCQUF1QmtELEdBQUcsUUFBUyxVQUFXLFdBQzVDbEQsRUFBRSxlQUFlK0QsVUFBVSxJQUMzQi9ELEdBQUUsb0JBQW9CNkQsV0FBVyxXQUNqQzdELEdBQUUsb0JBQW9CNkQsV0FBVyxXQUNqQzdELEdBQUUsb0JBQW9CZ0UsSUFBSSxRQUFTLFVBQ25DMUQsR0FBVyxHQUdmTixHQUFFLHVCQUF1QmtELEdBQUcsUUFBUyxVQUFXLFdBQzVDbEQsRUFBRSxlQUFlaUUsUUFBUSxJQUN6QmpFLEdBQUUsb0JBQW9CK0MsS0FBSyxXQUFZLFdBQ3ZDL0MsR0FBRSxvQkFBb0IrQyxLQUFLLFdBQVksV0FDdkMvQyxHQUFFLG9CQUFvQmdFLElBQUksUUFBUyxVQUNuQ2hFLEdBQUUsb0JBQW9CNkMsSUFBSSxHQUMxQnZDLEdBQVcsR0FJZk4sR0FBRSx1QkFBdUJrRCxHQUFHLFFBQVMsNEJBQTZCLFdBQzlEbEQsRUFBRSx1QkFBdUJrRSxRQUFRLE1BSXJDbEUsR0FBRSxpQkFBaUJrRCxHQUFHLFFBQVMsa0JBQW1CLFdBQzlDLEdBQUlpQixHQUFvQm5FLEVBQUUscUJBQXFCNkMsS0FDL0MvQixRQUFPc0QsU0FBVyxzQkFBd0JELEdBRzlDbkUsR0FBRSx1QkFBdUJrRCxHQUFHLFFBQVMsa0JBQW1CLFdBQ3BEeEMsRUFBb0JWLEVBQUUsb0JBQW9CNkMsS0FDMUNwQyxHQUFlVCxFQUFFLFdBQVc2QyxLQUM1QixJQUFJN0MsRUFBRSxhQUFhcUUsR0FBRyxZQUFhLENBQy9CN0QsRUFBYSxNQUNWLENBQ0hBLEVBQWEsRUFFakIsR0FBSThELElBQ0FuRSxHQUFJQSxFQUNKb0UsV0FBWWhFLEVBQ1ppRSxtQkFBb0I5RCxFQUNwQitELGNBQWVoRSxFQUNmaUUsaUJBQWtCbEUsRUFHdEIsSUFBSUYsR0FBWXFFLFdBQVdDLFlBQVlOLEVBQVdFLG9CQUFxQixDQUNuRS9CLFVBQVVmLEtBQUtnQixRQUFRLGFBQ3ZCLE9BQU8sT0FRWDFDLEVBQUU2RSxLQUFLLE1BQU9QLEVBQVksU0FBVS9CLEdBQ2hDLEdBQUlBLEVBQUt1QyxPQUFTLEVBQUcsQ0FDakJyQyxVQUFVZixLQUFLZ0IsUUFBUSxPQUN2QjBCLFVBQVNXLGFBQ04sQ0FDSHRDLFVBQVVmLEtBQUt1QixPQUFPVixFQUFLeUMsVUFRM0MsT0FBTy9FLEtBR1gsU0FBU2dGLGVBQWNDLEVBQU9DLEdBRTFCRCxFQUFRQSxFQUFNRSxRQUFRLFNBQVUsR0FFaENGLEdBQVFBLEVBQU1FLFFBQVEsb0RBQXFELEdBRTNFcEYsR0FBRW1GLEdBQUt0QyxJQUFJcUMiLCJmaWxlIjoiYWRtaW4vbWFya2V0aW5nL2ludml0YXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGZ1bmN0aW9uICgpIHtcblxuICAgIGludml0YXRpb24uaW5pdCgpO1xuXG59KTtcblxudmFyIGludml0YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGludml0YXRpb24gPSB7fTtcblxuICAgIHZhciBpZCwgLy/llYblk4FpZFxuICAgICAgICBuYW1lLCAvL+WVhuWTgeWQjeensFxuICAgICAgICBwcmljZSwgLy/llYblk4Hku7fmoLxcbiAgICAgICAgaXNJbnZpdGUsIC8v5piv5ZCm5ZCv55So6YKA6K+35Y2hXG4gICAgICAgIGdvb2RUeXBlLCAvL+WVhuWTgeexu+Wei1xuICAgICAgICBpc1Nob3dJbmZvLCAvL+iHquWumuS5iemCgOivt+WNoea1t+aKpeaYr+WQpuaYvuekuueUqOaIt+WktOWDj+WSjOaYteensFxuICAgICAgICBpbnZpdGVQb3N0ZXIsIC8v6YKA6K+35Y2h5bCB6Z2i5Zyw5Z2AXG4gICAgICAgIGRpc3RyaWJ1dGVQZXJjZW50OyAvL+WlluWKseavlOS+i1xuXG4gICAgZnVuY3Rpb24gZ2V0T2JqZWN0VVJMKGZpbGUpIHtcbiAgICAgICAgdmFyIHVybCA9IG51bGw7XG4gICAgICAgIGlmICh3aW5kb3cuY3JlYXRlT2JqZWN0VVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdXJsID0gd2luZG93LmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LndlYmtpdFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHVybCA9IHdpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlT2JqZWN0VVJMKHVybCkgeyAvL+mHiuaUvui1hOa6kFVSTFxuICAgICAgICBpZiAod2luZG93LnJldm9rZU9iamVjdFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cud2Via2l0VVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93LndlYmtpdFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8v6LWE5rqQ5LiK5Lyg5Ye95pWwKOWPguaVsO+8mnJlc1R5cGU66LWE5rqQ57G75Z6LLHJlc1R5cGVDbGFzczrotYTmupDnsbvlnovkuK3nu4bliIbnmoTnp43nsbsscmVzTGltaXRTaXplOui1hOa6kOmZkOWItuWkp+WwjylcbiAgICBmdW5jdGlvbiByZXNVcGxvYWQoZmlsZXMsIHJlc1R5cGUsIHJlc1R5cGVDbGFzcywgcmVzTGltaXRTaXplKSB7XG4gICAgICAgICQoXCIubG9hZGluZ1BhcnRpYWxcIikuc2hvdygpO1xuICAgICAgICBjb25zb2xlLmxvZyhmaWxlcyk7XG4gICAgICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xuICAgICAgICAgICAgdmFyIHJlc291cmNlTG9jYWxVcmwgPSBnZXRPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgICAgICBmaWxlU2l6ZSA9IChmaWxlLnNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgcmVzQXVkaW8xTGVuZ2ggPSBmaWxlLmR1cmF0aW9uO1xuICAgICAgICAgICAgLy8g6ZmQ5Yi26LWE5rqQ5ZyoKk1C5YaFXG4gICAgICAgICAgICBpZiAoJHVwbG9hZEZpbGUuY2hlY2tGaWxlU2l6ZShmaWxlLCByZXNMaW1pdFNpemUpKSB7XG4gICAgICAgICAgICAgICAgJHVwbG9hZEZpbGUudXBsb2FkUmVzKGZpbGUsIHJlc1R5cGUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAocmVzVHlwZSA9PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIHByb2dyZXNzID0gcGFyc2VJbnQoZGF0YSAqIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cocHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICQoXCIudXBsb2FkUExpbmVBY3RpdmVcIiArIHJlc1R5cGVDbGFzcykuY3NzKFwid2lkdGhcIiwgcHJvZ3Jlc3MgKyAnJScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICQoXCIudXBsb2FkUGVyc2VudFwiICsgcmVzVHlwZUNsYXNzKS50ZXh0KHByb2dyZXNzICsgXCIlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyDkuIrkvKDmiJDlip/lm57osINcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1BhcnRpYWxcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5LiK5Lyg5oiQ5Yqf77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5kZWxldGVJbWdcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzVXJsID0gZGF0YS5kYXRhLmFjY2Vzc191cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNpbWdVcmxcIikudmFsKHJlc1VybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzmmK/lm77niYfotYTmupDvvIzliJnlsZXnpLrlm77niYfpooTop4hcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNUeXBlID09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+ebtOaOpeWKoOi9veacrOWcsOWbvueJh+i/m+ihjOmihOiniFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcmVCYWNrSW1nXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5sb2FkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU9iamVjdFVSTChyZXNvdXJjZUxvY2FsVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJzcmNcIiwgcmVzb3VyY2VMb2NhbFVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8g5LiK5Lyg5aSx6LSl5Zue6LCDXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdQYXJ0aWFsXCIpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLkuIrkvKDlpLHotKUhISFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS4iuS8oOWksei0pe+8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS4iuS8oOi1hOa6kOmZkOWItuWcqFwiICsgcmVzTGltaXRTaXplICsgXCJNQuWGhe+8gVwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLnVwTG9hZFwiICsgcmVzVHlwZUNsYXNzKS52YWwoXCJcIik7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZpbGVzKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW52aXRhdGlvbi5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyDngrnlh7vmjInpkq7kuIrkvKDlm77niYdcbiAgICAgICAgJChcIiN1cGxvYWRJbWFnZVwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNVcGxvYWQodGhpcy5maWxlcywgXCJpbWFnZVwiLCBcInJlQmFja0ltZ1wiLCA1KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g5Yig6Zmk5LiK5Lyg5Zu+54mHXG4gICAgICAgICQoXCIuZGVsZXRlSW1nMVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiI3JlQmFja0ltZ1wiKS5hdHRyKFwic3JjXCIsIFwiXCIpO1xuICAgICAgICAgICAgJChcIiNpbWdVcmxcIikudmFsKFwiXCIpO1xuICAgICAgICAgICAgJChcIiN1cGxvYWRJbWFnZVwiKS52YWwoXCJcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v5Li6a2V5TGlzdGVuZXLmlrnms5Xms6jlhozmjInplK7kuovku7ZcbiAgICAgICAgZG9jdW1lbnQub25rZXlkb3duID0ga2V5TGlzdGVuZXI7XG5cbiAgICAgICAgZnVuY3Rpb24ga2V5TGlzdGVuZXIoZSkge1xuICAgICAgICAgICAgLy8g5b2T5oyJ5LiL5Zue6L2m6ZSu77yM5omn6KGM5oiR5Lus55qE5Luj56CBXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICAgICAgJChcIi5nb29kc1NlYXJjaEJ0blwiKS5jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy/pgoDor7fljaHorr7nva5cbiAgICAgICAgJChcIi5zYWxlckNvbnRlbnRcIikub24oXCJjbGlja1wiLCBcIi5pbnZpdGVPcGVyYXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlkID0gJCh0aGlzKS5kYXRhKFwiaWRcIik7XG4gICAgICAgICAgICBuYW1lID0gJCh0aGlzKS5kYXRhKFwibmFtZVwiKTtcbiAgICAgICAgICAgIHByaWNlID0gJCh0aGlzKS5kYXRhKFwicHJpY2VcIik7XG4gICAgICAgICAgICBpc0ludml0ZSA9ICQodGhpcykuZGF0YShcImlzX2ludml0ZVwiKTtcbiAgICAgICAgICAgIGdvb2RUeXBlID0gJCh0aGlzKS5kYXRhKFwiZ29vZF90eXBlXCIpO1xuICAgICAgICAgICAgaW52aXRlUG9zdGVyID0gJCh0aGlzKS5kYXRhKFwiaW52aXRlcG9zdGVyXCIpO1xuICAgICAgICAgICAgaXNTaG93SW5mbyA9ICQodGhpcykuZGF0YShcImlzc2hvd2luZm9cIik7XG4gICAgICAgICAgICBkaXN0cmlidXRlUGVyY2VudCA9ICQodGhpcykuZGF0YShcImRpc3RyaWJ1dGVfcGVyY2VudFwiKTtcbiAgICAgICAgICAgICQoXCIuc2FsZUdvb2RzTmFtZVwiKS50ZXh0KG5hbWUpO1xuICAgICAgICAgICAgJChcIiNyZUJhY2tJbWdcIikuYXR0cihcInNyY1wiLCBpbnZpdGVQb3N0ZXIpO1xuICAgICAgICAgICAgJChcIiNpbWdVcmxcIikudmFsKGludml0ZVBvc3Rlcik7XG4gICAgICAgICAgICBpZiAoaW52aXRlUG9zdGVyICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAkKFwiLmRlbGV0ZUltZ1wiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJChcIi5kZWxldGVJbWcxXCIpLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChcIi5kZWxldGVJbWdcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoXCIuZGVsZXRlSW1nMVwiKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihpc1Nob3dJbmZvPT0xKXtcbiAgICAgICAgICAgICAgICAkKCcuc2hvd0luZm8nKS5jbGljaygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcuaGlkZUluZm8nKS5jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYoaXNJbnZpdGUpe1xuICAgICAgICAgICAgLy8gICAgICQoXCIubGFiZWwxXCIpLmNsaWNrKCk7XG4gICAgICAgICAgICAvLyAgICAgJChcIi5zZXRQZXJjZW50XCIpLnNob3coKTtcbiAgICAgICAgICAgIC8vIH1lbHNlIHtcbiAgICAgICAgICAgIC8vICAgICAkKFwiLmxhYmVsMlwiKS5jbGljaygpO1xuICAgICAgICAgICAgLy8gICAgICQoXCIuc2V0UGVyY2VudFwiKS5oaWRlKCk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAkKFwiLmlucHV0UmFkaW9WYWx1ZVwiKS52YWwoZGlzdHJpYnV0ZVBlcmNlbnQpO1xuICAgICAgICAgICAgaWYgKHByaWNlIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAkKFwiLmlucHV0UmFkaW9WYWx1ZVwiKS5hdHRyKFwicmVhZG9ubHlcIiwgXCJyZWFkb25seVwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLmlucHV0UmFkaW9WYWx1ZVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLmlucHV0UmFkaW9WYWx1ZVwiKS5hZGRDbGFzcyhcImlucHV0RGlzYWJsZWRcIik7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChcIi5pbnB1dFJhZGlvVmFsdWVcIikucmVtb3ZlQ2xhc3MoXCJpbnB1dERpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgICQoXCIuaW5wdXRSYWRpb1ZhbHVlXCIpLnJlbW92ZUF0dHIoXCJyZWFkb25seVwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLmlucHV0UmFkaW9WYWx1ZVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKFwiLnNldFNhbGVSYXRpb1dpbmRvd1wiKS5mYWRlSW4oMjAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChcIi5zZXRTYWxlUmF0aW9XaW5kb3dcIikub24oXCJjbGlja1wiLCBcIi5sYWJlbDFcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi5zZXRQZXJjZW50XCIpLnNsaWRlRG93bigzMDApO1xuICAgICAgICAgICAgJChcIi5pbnB1dFJhZGlvVmFsdWVcIikucmVtb3ZlQXR0cihcInJlYWRvbmx5XCIpO1xuICAgICAgICAgICAgJChcIi5pbnB1dFJhZGlvVmFsdWVcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgJChcIi5pbnB1dFJhZGlvVmFsdWVcIikuY3NzKFwiY29sb3JcIiwgXCIjMjQzMDQyXCIpO1xuICAgICAgICAgICAgaXNJbnZpdGUgPSAxO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiLnNldFNhbGVSYXRpb1dpbmRvd1wiKS5vbihcImNsaWNrXCIsIFwiLmxhYmVsMlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLnNldFBlcmNlbnRcIikuc2xpZGVVcCgzMDApO1xuICAgICAgICAgICAgJChcIi5pbnB1dFJhZGlvVmFsdWVcIikuYXR0cihcInJlYWRvbmx5XCIsIFwicmVhZG9ubHlcIik7XG4gICAgICAgICAgICAkKFwiLmlucHV0UmFkaW9WYWx1ZVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICQoXCIuaW5wdXRSYWRpb1ZhbHVlXCIpLmNzcyhcImNvbG9yXCIsIFwiI2IyYjJiMlwiKTtcbiAgICAgICAgICAgICQoXCIuaW5wdXRSYWRpb1ZhbHVlXCIpLnZhbChcIlwiKTtcbiAgICAgICAgICAgIGlzSW52aXRlID0gMDtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAkKFwiLnNldFNhbGVSYXRpb1dpbmRvd1wiKS5vbihcImNsaWNrXCIsIFwiLmNsb3NlSWNvbiwuY2FuY2VsU2FsZUJ0blwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLnNldFNhbGVSYXRpb1dpbmRvd1wiKS5mYWRlT3V0KDIwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v5ZWG5ZOB5pCc57SiXG4gICAgICAgICQoXCIuc2FsZXJDb250ZW50XCIpLm9uKCdjbGljaycsICcuZ29vZHNTZWFyY2hCdG4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZ29vZFNlYXJjaENvbnRlbnQgPSAkKFwiLmdvb2RzU2VhcmNoSW5wdXRcIikudmFsKCk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAnL2ludml0ZS9pbmRleD9uYW1lPScgKyBnb29kU2VhcmNoQ29udGVudDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChcIi5zZXRTYWxlUmF0aW9XaW5kb3dcIikub24oXCJjbGlja1wiLCBcIi5jb25maXJtU2FsZUJ0blwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkaXN0cmlidXRlUGVyY2VudCA9ICQoXCIuaW5wdXRSYWRpb1ZhbHVlXCIpLnZhbCgpO1xuICAgICAgICAgICAgaW52aXRlUG9zdGVyID0gJChcIiNpbWdVcmxcIikudmFsKCk7XG4gICAgICAgICAgICBpZiAoJChcIiNzaG93SW5mb1wiKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICAgICAgIGlzU2hvd0luZm8gPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1Nob3dJbmZvID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbnZpdGVJbmZvID0ge1xuICAgICAgICAgICAgICAgIGlkOiBpZCwgICAvL+WVhuWTgWlkXG4gICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogZ29vZFR5cGUsICAgLy/llYblk4HnsbvlnotcbiAgICAgICAgICAgICAgICBkaXN0cmlidXRlX3BlcmNlbnQ6IGRpc3RyaWJ1dGVQZXJjZW50LCAgICAvL+mCgOivt+avlOS+i1xuICAgICAgICAgICAgICAgIGludml0ZV9wb3N0ZXI6IGludml0ZVBvc3RlciwgICAgLy/pgoDor7fmtbfmiqXlm77niYflnLDlnYBcbiAgICAgICAgICAgICAgICBpc19zaG93X3VzZXJpbmZvOiBpc1Nob3dJbmZvLCAgICAgLy/mtbfmiqXmmK/lkKbmmL7npLrnlKjmiLfkv6Hmga9cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChpc0ludml0ZSAmJiAkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGludml0ZUluZm8uZGlzdHJpYnV0ZV9wZXJjZW50KSkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLor7fovpPlhaXopoHorr7nva7nmoTmr5TkvovvvIFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKmNvbnNvbGUubG9nKHByaWNlICogKGRpc3RyaWJ1dGVQZXJjZW50LzEwMCkpXG4gICAgICAgICAgICBpZihwcmljZSAqIChkaXN0cmlidXRlUGVyY2VudC8xMDApIDwgMC4wMSkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIumihOiuoemCgOivt+WlluWKseWwj+S6jjAuMDHlhYPvvIzor7fph43mlrDorr7nva7vvIFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSovXG4gICAgICAgICAgICAkLnBvc3QoJ3NldCcsIGludml0ZUluZm8sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5L+d5a2Y5oiQ5YqfXCIpO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuXG4gICAgfTtcblxuICAgIHJldHVybiBpbnZpdGF0aW9uO1xufSgpO1xuXG5mdW5jdGlvbiByYXRlQ2hlY2tOdW0xKHZhbHVlLCBkb20pIHtcbiAgICAvL+a4hemZpFwi5pWw5a2XXCLku6XlpJbnmoTlrZfnrKZcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1teXFxkXS9nLCBcIlwiKTtcblxuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXls1XVsxLTldJHxeWzYtOV1cXGQkfF5bMS05XVswLTldXFxkezEsfSR8XjBcXGR7MSx9JC8sIFwiXCIpO1xuXG4gICAgJChkb20pLnZhbCh2YWx1ZSk7XG59XG4iXX0=
