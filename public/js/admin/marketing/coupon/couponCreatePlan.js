$(function(){createPlan.init()});var createPlan=function(){var e={};var n;var o;var c;var r;var t;var a;var i;var s;var u;var d;function m(e){$.ajax({type:"GET",url:"/coupon/getCoupon",dataType:"html",data:{name:e},success:function(e){$(".couponsContent").html(e)},error:function(e,n,o){console.log(e);console.error(o);console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})}function l(e){$.ajax({type:"GET",url:"/coupon/getResource",dataType:"html",data:{name:e},success:function(e){$(".membersContent").html(e)},error:function(e,n,o){console.log(e);console.error(o);console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})}e.init=function(){m("");l("");$("body").on("click",".couponsTr",function(){n=$(this).data("id");c=$(this).data("leftnum");o=$(this).data("name");d=$(this).children("#couponNum").html();$(this).find("input").prop("checked",true)});$("body").on("click",".membersTr",function(){r=$(this).data("id");t=$(this).data("membersnum");a=$(this).data("is_member");i=$(this).data("name");$(this).find("input").prop("checked",true)});$("body").on("click","tr",function(){});$("body").on("click",".closeAddBox,.boxClose",function(){$(".darkScreen2,.darkScreen1").fadeOut(200)});$("body").on("click",".selectMembers",function(){$(".darkScreen1").fadeIn(200)});$("body").on("click",".selectCoupons",function(){$(".darkScreen2").fadeIn(200)});$("body").on("click","#searchMembers",function(){var e=$("#memberName").val()});$("body").on("click","#searchCoupons",function(){var e=$("#couponsName").val()});$("body").on("click","#addCoupons",function(){$(".darkScreen2,.darkScreen1").fadeOut(200);$(".selectCoupons").hide();$(".conponInfo").show();$(".couponName").text(o);$(".couponNum").text(d+"张");$("#f_cou_name").attr("data-id",n)});$(".membersContent").on("click",".membersTr",function(){r=$(this).children("label").attr("for");member_num=$(this).children(".memberNum").html()});$("body").on("click","#addMembers",function(){s=r;$(".darkScreen,.darkScreen1").fadeOut(200);if(s!=""){$(".selectMembers").hide();$(".memberInfo").show();if(a==1){$(".memberType").text()}$(".memberName").text(i);$(".memberNum").text(member_num);$("#f_mem_name").attr("data-id",r)}});$(".memberInfoEdit").on("click",function(){$(".darkScreen1").fadeIn(200)});$(".memberInfoDel").on("click",function(){$(".memberInfo").hide();$(".selectMembers").show()});$(".couponEdit").on("click",function(){$(".darkScreen2").fadeIn(200)});$(".couponDel").on("click",function(){$(".conponInfo").hide();$(".selectCoupons").show()});$(".pageConfirm").on("click",function(){var e={title:$("#f_name").val(),cou_id:n,cou_name:o,resource_id:r,resource_name:i,count:t};$.ajax({type:"GET",url:"/coupon/addPlan",dataType:"json",data:{params:e},success:function(e){$(".submit-tip").html(e.msg);window.location.href="/coupon/index"},error:function(e,n,o){console.log(e);console.error(o);console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})})};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL21hcmtldGluZy9jb3Vwb24vY291cG9uQ3JlYXRlUGxhbi5qcyJdLCJuYW1lcyI6WyIkIiwiY3JlYXRlUGxhbiIsImluaXQiLCJjb3Vwb25faWQiLCJjb3Vwb25fbmFtZSIsImxlZnROdW0iLCJwYWNrYWdlX2lkIiwibWVtYmVyc051bSIsImlzX21lbWJlciIsIm1lbWJlcl9uYW1lIiwiZm9ybV9jb25wb25faWQiLCJmb3JtX3BhY2thZ2VfaWQiLCJjb3Vwb25fbnVtIiwic2VhcmNoQ291cG9uIiwibmFtZSIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YVR5cGUiLCJkYXRhIiwic3VjY2VzcyIsImh0bWwiLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJiYXNlVXRpbHMiLCJzaG93IiwicmVkVGlwIiwic2VhcmNoTWVtYmVycyIsIm9uIiwidGhpcyIsImNoaWxkcmVuIiwiZmluZCIsInByb3AiLCJmYWRlT3V0IiwiZmFkZUluIiwibWVtYmVyTmFtZSIsInZhbCIsImNvdXBvbnNOYW1lIiwiaGlkZSIsInRleHQiLCJhdHRyIiwibWVtYmVyX251bSIsInBhcmFtcyIsInRpdGxlIiwiY291X2lkIiwiY291X25hbWUiLCJyZXNvdXJjZV9pZCIsInJlc291cmNlX25hbWUiLCJjb3VudCIsIm1zZyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiJdLCJtYXBwaW5ncyI6IkFBR0FBLEVBQUUsV0FDRUMsV0FBV0MsUUFHZixJQUFJRCxZQUFhLFdBQ2IsR0FBSUEsS0FFSixJQUFJRSxFQUNKLElBQUlDLEVBQ0osSUFBSUMsRUFDSixJQUFJQyxFQUNKLElBQUlDLEVBQ0osSUFBSUMsRUFDSixJQUFJQyxFQUNKLElBQUlDLEVBQ0osSUFBSUMsRUFDSixJQUFJQyxFQUVKLFNBQVNDLEdBQWFDLEdBQ2xCZCxFQUFFZSxNQUNFQyxLQUFNLE1BQ05DLElBQUssb0JBQ0xDLFNBQVUsT0FDVkMsTUFDSUwsS0FBTUEsR0FFVk0sUUFB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USxXQUM3QmhDLEVBQUUsZ0JBQWdCc0MsT0FBTyxNQUc1QnRDLEdBQUUsa0JBQWtCZ0MsR0FBRyxRQUFRLFdBQzNCaEMsRUFBRSxlQUFlMEMsTUFDakIxQyxHQUFFLGtCQUFrQjZCLFFBRXhCN0IsR0FBRSxlQUFlZ0MsR0FBRyxRQUFRLFdBQ3hCaEMsRUFBRSxnQkFBZ0JzQyxPQUFPLE1BRzdCdEMsR0FBRSxjQUFjZ0MsR0FBRyxRQUFRLFdBQ3ZCaEMsRUFBRSxlQUFlMEMsTUFDakIxQyxHQUFFLGtCQUFrQjZCLFFBR3hCN0IsR0FBRSxnQkFBZ0JnQyxHQUFHLFFBQVEsV0FFekIsR0FBSWMsSUFDQUMsTUFBTS9DLEVBQUUsV0FBV3dDLE1BQ25CUSxPQUFPN0MsRUFDUDhDLFNBQVM3QyxFQUNUOEMsWUFBWTVDLEVBQ1o2QyxjQUFjMUMsRUFDZDJDLE1BQU03QyxFQUdWUCxHQUFFZSxNQUNFQyxLQUFNLE1BQ05DLElBQUssa0JBQ0xDLFNBQVUsT0FDVkMsTUFDSTJCLE9BQVVBLEdBRWQxQixRQUFTLFNBQVVELEdBQ2ZuQixFQUFFLGVBQWVxQixLQUFLRixFQUFLa0MsSUFDM0JDLFFBQU9DLFNBQVNDLEtBQUssaUJBRXpCbEMsTUFBTyxTQUFVQyxFQUFLQyxFQUFRQyxHQUMxQkMsUUFBUUMsSUFBSUosRUFDWkcsU0FBUUosTUFBTUcsRUFDZEMsU0FBUUosTUFBTUUsRUFDZEksV0FBVUMsS0FBS0MsT0FBTyxvQkEwQnRDLE9BQU83QiIsImZpbGUiOiJhZG1pbi9tYXJrZXRpbmcvY291cG9uL2NvdXBvbkNyZWF0ZVBsYW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBqc2VyayBvbiAyMDE3LzYvMi5cclxuICovXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgY3JlYXRlUGxhbi5pbml0KCk7XHJcbn0pO1xyXG5cclxudmFyIGNyZWF0ZVBsYW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY3JlYXRlUGxhbiA9IHt9O1xyXG5cclxuICAgIHZhciBjb3Vwb25faWQ7XHJcbiAgICB2YXIgY291cG9uX25hbWU7XHJcbiAgICB2YXIgbGVmdE51bTtcclxuICAgIHZhciBwYWNrYWdlX2lkO1xyXG4gICAgdmFyIG1lbWJlcnNOdW07XHJcbiAgICB2YXIgaXNfbWVtYmVyO1xyXG4gICAgdmFyIG1lbWJlcl9uYW1lO1xyXG4gICAgdmFyIGZvcm1fY29ucG9uX2lkO1xyXG4gICAgdmFyIGZvcm1fcGFja2FnZV9pZDtcclxuICAgIHZhciBjb3Vwb25fbnVtO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNlYXJjaENvdXBvbihuYW1lKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgdXJsOiAnL2NvdXBvbi9nZXRDb3Vwb24nLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICQoJy5jb3Vwb25zQ29udGVudCcpLmh0bWwoZGF0YSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coeGhyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3Ioc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBJyk7XHJcbiAgICAgICAgICAgICAgICAvL2hpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMzAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzZWFyY2hNZW1iZXJzKG5hbWUpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICB1cmw6ICcvY291cG9uL2dldFJlc291cmNlJyxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgJCgnLm1lbWJlcnNDb250ZW50JykuaHRtbChkYXRhKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIEnKTtcclxuICAgICAgICAgICAgICAgIC8vaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIC8vICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgzMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVQbGFuLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VhcmNoQ291cG9uKFwiXCIpO1xyXG4gICAgICAgIHNlYXJjaE1lbWJlcnMoXCJcIik7XHJcblxyXG4gICAgICAgICQoXCJib2R5XCIpLm9uKCdjbGljaycsICcuY291cG9uc1RyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb3Vwb25faWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XHJcbiAgICAgICAgICAgIGxlZnROdW0gPSAkKHRoaXMpLmRhdGEoJ2xlZnRudW0nKTtcclxuICAgICAgICAgICAgY291cG9uX25hbWU9JCh0aGlzKS5kYXRhKCduYW1lJyk7XHJcbiAgICAgICAgICAgIGNvdXBvbl9udW0gPSAkKHRoaXMpLmNoaWxkcmVuKCcjY291cG9uTnVtJykuaHRtbCgpO1xyXG5cclxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiaW5wdXRcIikucHJvcChcImNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgJChcImJvZHlcIikub24oJ2NsaWNrJywgJy5tZW1iZXJzVHInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBhY2thZ2VfaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XHJcbiAgICAgICAgICAgIG1lbWJlcnNOdW09JCh0aGlzKS5kYXRhKCdtZW1iZXJzbnVtJyk7XHJcbiAgICAgICAgICAgIGlzX21lbWJlcj0kKHRoaXMpLmRhdGEoJ2lzX21lbWJlcicpO1xyXG4gICAgICAgICAgICBtZW1iZXJfbmFtZT0kKHRoaXMpLmRhdGEoJ25hbWUnKTtcclxuXHJcbiAgICAgICAgICAgICQodGhpcykuZmluZChcImlucHV0XCIpLnByb3AoXCJjaGVja2VkXCIsIHRydWUpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICQoXCJib2R5XCIpLm9uKCdjbGljaycsICd0cicsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCJib2R5XCIpLm9uKCdjbGljaycsICcuY2xvc2VBZGRCb3gsLmJveENsb3NlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICQoXCIuZGFya1NjcmVlbjIsLmRhcmtTY3JlZW4xXCIpLmZhZGVPdXQoMjAwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcImJvZHlcIikub24oJ2NsaWNrJywgJy5zZWxlY3RNZW1iZXJzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiLmRhcmtTY3JlZW4xXCIpLmZhZGVJbigyMDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiYm9keVwiKS5vbignY2xpY2snLCAnLnNlbGVjdENvdXBvbnMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIuZGFya1NjcmVlbjJcIikuZmFkZUluKDIwMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCJib2R5XCIpLm9uKCdjbGljaycsICcjc2VhcmNoTWVtYmVycycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG1lbWJlck5hbWU9JChcIiNtZW1iZXJOYW1lXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICAvL3NlYXJjaE1lbWJlcnMobWVtYmVyTmFtZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChcImJvZHlcIikub24oJ2NsaWNrJywgJyNzZWFyY2hDb3Vwb25zJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY291cG9uc05hbWU9JChcIiNjb3Vwb25zTmFtZVwiKS52YWwoKTtcclxuICAgICAgICAgICAgLy9zZWFyY2hNZW1iZXJzKGNvdXBvbnNOYW1lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcImJvZHlcIikub24oJ2NsaWNrJywgJyNhZGRDb3Vwb25zJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiLmRhcmtTY3JlZW4yLC5kYXJrU2NyZWVuMVwiKS5mYWRlT3V0KDIwMCk7XHJcbiAgICAgICAgICAgICQoXCIuc2VsZWN0Q291cG9uc1wiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoXCIuY29ucG9uSW5mb1wiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoXCIuY291cG9uTmFtZVwiKS50ZXh0KGNvdXBvbl9uYW1lKTtcclxuICAgICAgICAgICAgJChcIi5jb3Vwb25OdW1cIikudGV4dChjb3Vwb25fbnVtKyflvKAnKTtcclxuICAgICAgICAgICAgJCgnI2ZfY291X25hbWUnKS5hdHRyKFwiZGF0YS1pZFwiLGNvdXBvbl9pZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLm1lbWJlcnNDb250ZW50Jykub24oJ2NsaWNrJywnLm1lbWJlcnNUcicsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcGFja2FnZV9pZCA9ICQodGhpcykuY2hpbGRyZW4oJ2xhYmVsJykuYXR0cignZm9yJyk7XHJcbiAgICAgICAgICAgIG1lbWJlcl9udW0gPSAkKHRoaXMpLmNoaWxkcmVuKCcubWVtYmVyTnVtJykuaHRtbCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8v56Gu5a6a5re75Yqg55uu5qCH5Lq6576kXHJcbiAgICAgICAgJChcImJvZHlcIikub24oJ2NsaWNrJywgJyNhZGRNZW1iZXJzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmb3JtX2NvbnBvbl9pZD1wYWNrYWdlX2lkO1xyXG4gICAgICAgICAgICAkKFwiLmRhcmtTY3JlZW4sLmRhcmtTY3JlZW4xXCIpLmZhZGVPdXQoMjAwKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGZvcm1fY29ucG9uX2lkIT1cIlwiKXtcclxuXHJcbiAgICAgICAgICAgICAgICAkKFwiLnNlbGVjdE1lbWJlcnNcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5tZW1iZXJJbmZvXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIGlmKGlzX21lbWJlcj09MSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tZW1iZXJUeXBlXCIpLnRleHQoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJChcIi5tZW1iZXJOYW1lXCIpLnRleHQobWVtYmVyX25hbWUpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5tZW1iZXJOdW1cIikudGV4dChtZW1iZXJfbnVtKTtcclxuICAgICAgICAgICAgICAgICQoJyNmX21lbV9uYW1lJykuYXR0cihcImRhdGEtaWRcIixwYWNrYWdlX2lkKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcubWVtYmVySW5mb0VkaXQnKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgJCgnLmRhcmtTY3JlZW4xJykuZmFkZUluKDIwMCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy5tZW1iZXJJbmZvRGVsJykub24oJ2NsaWNrJyxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKCcubWVtYmVySW5mbycpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLnNlbGVjdE1lbWJlcnMnKS5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLmNvdXBvbkVkaXQnKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoJy5kYXJrU2NyZWVuMicpLmZhZGVJbigyMDApO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcuY291cG9uRGVsJykub24oJ2NsaWNrJyxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKCcuY29ucG9uSW5mbycpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLnNlbGVjdENvdXBvbnMnKS5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIucGFnZUNvbmZpcm1cIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICB2YXIgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6JCgnI2ZfbmFtZScpLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgY291X2lkOmNvdXBvbl9pZCxcclxuICAgICAgICAgICAgICAgIGNvdV9uYW1lOmNvdXBvbl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfaWQ6cGFja2FnZV9pZCxcclxuICAgICAgICAgICAgICAgIHJlc291cmNlX25hbWU6bWVtYmVyX25hbWUsXHJcbiAgICAgICAgICAgICAgICBjb3VudDptZW1iZXJzTnVtXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2NvdXBvbi9hZGRQbGFuJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiBwYXJhbXNcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5zdWJtaXQtdGlwJykuaHRtbChkYXRhLm1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWY9Jy9jb3Vwb24vaW5kZXgnO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHhocik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3Ioc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+e9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gScpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMzAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCcubGlzdC1zZWFyY2gnLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgxKTtcclxuICAgICAgICAgICAgICAgIHZhciBzdHIgPSB0cmltKCQodGhpcykuc2libGluZygnaW5wdXQnKS52YWwoKSk7XHJcbiAgICAgICAgICAgICAgICBpZihzdHI9PScnKXtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+ivt+i+k+WFpeaQnOe0ouWGheWuuScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICQoJy4nKyQoJ3RoaXMnKS5kYXRhKCdjbGFzcycpKS5maW5kKCcubGlzdC10aXRsZScpLmVhY2goZnVuY3Rpb24oaW5kZXgsZWwpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCQodGhpcykuaHRtbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZighJCh0aGlzKS5odG1sKCkuaW5kZXhPZihzdHIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCd0ZCcpLnBhcmVudHMoJ3RyJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ3RkJykucGFyZW50cygndHInKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gY3JlYXRlUGxhbjtcclxufSgpOyJdfQ==
