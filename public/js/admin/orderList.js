var search_content;var order_attr;var generate_type;var timeRange={start:"",end:""};$(document).ready(function(){setTopUrlCookie("payadmin_listop","财务管理");keyEnter($("#pay_search_btn"));$("select[name=order_type], select[name=distribute]").on("change",function(){$("#pay_search_btn").click()});$(".datetimepicker-months").find(".month").click(function(){return false});$("#export_time").on("click",function(){if($(".datetimepicker-days").css("display")=="block"){$(".datetimepicker-days").find(".switch").trigger("click")}if($(".datetimepicker").css("display")=="block"){}});$("#applyExport").on("click",function(){$("#ExportModal").modal("show")});$("#applyOrderToExcel").on("click",function(){showLoading();var e=$.trim($("#export_time").val());var t=null;var i=0;var r=document.getElementsByName("selectOffice");for(var a=0;a<r.length;a++){if(r[a].checked){t=r[a].value;if(t==1){i=2003}}}if(e!=""){var o="/excel/order?export_time="+e+"&&version="+i;console.log(o);$("#ExportModal").modal("hide");$.ajax(o,{type:"GET",success:function(e){hideLoading();window.location.href=o},error:function(e,t,i){hideLoading();console.error(i);baseUtils.show.redTip("下载失败，请稍后重试！")}})}else{hideLoading();baseUtils.show.redTip("请检查时间选择是否正确")}});var e=new pickerDateRange("SelectData",{isTodayValid:true,defaultText:" ~ ",inputTrigger:"optional",theme:"ta",success:function(e){timeRange={start:e.startDate,end:e.endDate};updateTime(timeRange)}});$("#SelectRange").on("click","li",function(e){var t=$(this),i=t.data("type"),r=t.text();if(i=="all"){timeRange={start:"",end:""}}else if(i=="nowMonth"){timeRange={start:getNowMonth(),end:getNowDay()}}updateTime(timeRange)});$("#optional").click(function(){$("#dropdown-toggle").dropdown("toggle")});$("#SelectData").off("click").text("全部订单");reBack();updateTime(timeRange)});function updateTime(e){$("#startTime").val(e.start);$("#endTime").val(e.end);if(e.start&&e.start!="2016"){$("#SelectData").text(e.start+" ~ "+e.end)}else{$("#SelectData").text("全部订单")}}function reBack(){var e=GetQueryString("select_type");if(e){$("#select_type option[value="+e+"]").prop("selected",true)}var t=GetQueryString("order_type");if(t){$("#order_type option[value="+t+"]").prop("selected",true)}var i=GetQueryString("distribute");if(t){$("#distribute_type option[value="+i+"]").prop("selected",true)}var r=GetQueryString("start_time"),a=GetQueryString("end_time");timeRange={start:r||"",end:a||""}}function jumpDetail(e){var t=e;resetUrl("/customerdetail?userId="+t)}function exportOrderRecords(){$("#ExportModal").modal("show")}function exportorderToExcel(){showLoading();var e=$("#export_time").val();var t={};t["export_time"]=e;if(e!=""){var i="/export_order_excel?export_time="+e;window.location.href=i;hideLoading();$("#ExportModal").modal("hide")}else{baseUtils.show.redTip("请检查时间选择是否正确")}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL29yZGVyTGlzdC5qcyJdLCJuYW1lcyI6WyJzZWFyY2hfY29udGVudCIsIm9yZGVyX2F0dHIiLCJnZW5lcmF0ZV90eXBlIiwidGltZVJhbmdlIiwic3RhcnQiLCJlbmQiLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInNldFRvcFVybENvb2tpZSIsImtleUVudGVyIiwib24iLCJjbGljayIsImZpbmQiLCJjc3MiLCJ0cmlnZ2VyIiwibW9kYWwiLCJzaG93TG9hZGluZyIsImV4cG9ydF90aW1lIiwidHJpbSIsInZhbCIsImNoa09ianMiLCJPZmZpY2UyMDAzIiwib2JqIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJpIiwibGVuZ3RoIiwiY2hlY2tlZCIsInZhbHVlIiwidXJsIiwiY29uc29sZSIsImxvZyIsImFqYXgiLCJ0eXBlIiwic3VjY2VzcyIsImpzb24iLCJoaWRlTG9hZGluZyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImVycm9yIiwieGhyIiwic3RhdHVzIiwiZXJyIiwiYmFzZVV0aWxzIiwic2hvdyIsInJlZFRpcCIsImRhdGFSYW5nZUluc3RhbmNlIiwicGlja2VyRGF0ZVJhbmdlIiwiaXNUb2RheVZhbGlkIiwiZGVmYXVsdFRleHQiLCJpbnB1dFRyaWdnZXIiLCJ0aGVtZSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJ1cGRhdGVUaW1lIiwiZSIsImVsZSIsInRoaXMiLCJkYXRhIiwidGV4dCIsImdldE5vd01vbnRoIiwiZ2V0Tm93RGF5IiwiZHJvcGRvd24iLCJvZmYiLCJyZUJhY2siLCJ0aW1lIiwic2VsZWN0X3R5cGUiLCJHZXRRdWVyeVN0cmluZyIsInByb3AiLCJvcmRlcl90eXBlIiwiZGlzdHJpYnV0ZSIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJqdW1wRGV0YWlsIiwiaW5mbyIsInVzZXJJZCIsInJlc2V0VXJsIiwiZXhwb3J0T3JkZXJSZWNvcmRzIiwiZXhwb3J0b3JkZXJUb0V4Y2VsIiwiUGFyYW1zIl0sIm1hcHBpbmdzIjoi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SUMsR0FBYUYsZUFBZSxhQUNoQyxJQUFJRSxFQUFZLENBQ1poRSxFQUFFLDRCQUE0QmdFLEVBQVcsS0FBS0QsS0FBSyxXQUFZLE1BR25FLEdBQUlFLEdBQWFILGVBQWUsYUFDaEMsSUFBSUUsRUFBWSxDQUNaaEUsRUFBRSxpQ0FBaUNpRSxFQUFXLEtBQUtGLEtBQUssV0FBWSxNQUd4RSxHQUFJRyxHQUFZSixlQUFlLGNBQzNCSyxFQUFVTCxlQUFlLFdBRTdCakUsWUFDSUMsTUFBT29FLEdBQWEsR0FDcEJuRSxJQUFLb0UsR0FBVyxJQUt4QixRQUFTQyxZQUFXQyxHQUVoQixHQUFJQyxHQUFPRCxDQUNYRSxVQUFTLDBCQUEwQkQsR0FJdkMsUUFBU0Usc0JBQ0x4RSxFQUFFLGdCQUFnQlUsTUFBTSxRQUk1QixRQUFTK0Qsc0JBQ0w5RCxhQUNBLElBQUlDLEdBQWNaLEVBQUUsZ0JBQWdCYyxLQUNwQyxJQUFJNEQsS0FDSkEsR0FBTyxlQUFpQjlELENBSXhCLElBQUdBLEdBQWUsR0FBRyxDQUVqQixHQUFJVyxHQUFNLG1DQUFtQ1gsQ0FDN0NtQixRQUFPQyxTQUFTQyxLQUFPVixDQUN2Qk8sY0FDQTlCLEdBQUUsZ0JBQWdCVSxNQUFNLFlBQ3ZCLENBQ0Q0QixVQUFVQyxLQUFLQyxPQUFPIiwiZmlsZSI6ImFkbWluL29yZGVyTGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxudmFyIHNlYXJjaF9jb250ZW50O1xudmFyIG9yZGVyX2F0dHI7XG52YXIgZ2VuZXJhdGVfdHlwZTtcbnZhciB0aW1lUmFuZ2UgPSB7XG4gICAgc3RhcnQ6ICcnLFxuICAgIGVuZDogJydcbn1cblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgIHNldFRvcFVybENvb2tpZSgncGF5YWRtaW5fbGlzdG9wJywn6LSi5Yqh566h55CGJyk7XG4gICAga2V5RW50ZXIoJCgnI3BheV9zZWFyY2hfYnRuJykpO1xuXG4gICAgJChcInNlbGVjdFtuYW1lPW9yZGVyX3R5cGVdLCBzZWxlY3RbbmFtZT1kaXN0cmlidXRlXVwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoJyNwYXlfc2VhcmNoX2J0bicpLmNsaWNrKCk7XG4gICAgfSk7XG5cblxuICAgICQoJy5kYXRldGltZXBpY2tlci1tb250aHMnKS5maW5kKCcubW9udGgnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgICQoJyNleHBvcnRfdGltZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoJCgnLmRhdGV0aW1lcGlja2VyLWRheXMnKS5jc3MoJ2Rpc3BsYXknKT09J2Jsb2NrJyl7XG4gICAgICAgICAgICAkKCcuZGF0ZXRpbWVwaWNrZXItZGF5cycpLmZpbmQoJy5zd2l0Y2gnKS50cmlnZ2VyKFwiY2xpY2tcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZigkKCcuZGF0ZXRpbWVwaWNrZXInKS5jc3MoJ2Rpc3BsYXknKT09J2Jsb2NrJyl7XG4gICAgICAgICAgICAvL2FsZXJ0KCdvayEhJyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLy/nlLPor7flr7zlh7rorqLljZXmjInpkq5cbiAgICAkKCcjYXBwbHlFeHBvcnQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJChcIiNFeHBvcnRNb2RhbFwiKS5tb2RhbCgnc2hvdycpO1xuICAgIH0pO1xuICAgIC8v54K55Ye755Sz6K+35a+85Ye6XG4gICAgJCgnI2FwcGx5T3JkZXJUb0V4Y2VsJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgIHZhciBleHBvcnRfdGltZSA9ICQudHJpbSggJCgnI2V4cG9ydF90aW1lJykudmFsKCkgKTtcblxuICAgICAgICB2YXIgY2hrT2Jqcz1udWxsOyBcbiAgICAgICAgdmFyIE9mZmljZTIwMDM9MDtcbiAgICAgICAgdmFyIG9iaj1kb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcInNlbGVjdE9mZmljZVwiKTtcbiAgICAgICAgZm9yICh2YXIgaT0wO2k8b2JqLmxlbmd0aDtpKyspeyAvL+mBjeWOhlJhZGlvIFxuICAgICAgICAgICAgaWYob2JqW2ldLmNoZWNrZWQpeyBcbiAgICAgICAgICAgICAgICBjaGtPYmpzPW9ialtpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZihjaGtPYmpzPT0xKXtcbiAgICAgICAgICAgICAgICAgICAgT2ZmaWNlMjAwMz0yMDAzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gXG4gICAgICAgIH0gXG4gICAgICAgIC8vIGFsZXJ0KE9mZmljZTIwMDMpO1xuICAgICAgICBcblxuICAgICAgICBcbiAgICAgICBcblxuICAgICAgICAvL+WvvOWHuuaVsOaNrlxuICAgICAgICAvL2lmKHN0YXJ0X3RpbWUgIT0gJycgJiYgZW5kX3RpbWUgIT0gJycgJiYgc3RhcnRfdGltZSA8IGVuZF90aW1lKXtcbiAgICAgICAgaWYoZXhwb3J0X3RpbWUgIT0gJycpe1xuICAgICAgICAgICAgLy92YXIgdXJsID0gJy9leHBvcnRfZXhjZWw/c3RhcnRfdGltZT0nK3N0YXJ0X3RpbWUrJyZlbmRfdGltZT0nK2VuZF90aW1lO1xuICAgICAgICAgICAgLy8gdmFyIHVybCA9ICcvZXhwb3J0X29yZGVyX2V4Y2VsP2V4cG9ydF90aW1lPScrZXhwb3J0X3RpbWU7XG4gICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgICAgIHZhciB1cmwgPSAnL2V4Y2VsL29yZGVyP2V4cG9ydF90aW1lPScrZXhwb3J0X3RpbWUrXCImJnZlcnNpb249XCIrT2ZmaWNlMjAwMztcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHVybCk7XG4gICAgICAgICAgICAkKFwiI0V4cG9ydE1vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgICAgICAkLmFqYXgodXJsLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgLy8gZGF0YToge1xuICAgICAgICAgICAgICAgIC8vICAgICBleHBvcnRfdGltZTogZXhwb3J0X3RpbWVcbiAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgIC8vIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oanNvbikge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj11cmw7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmKGpzb249PTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoJ+eUs+ivt+aIkOWKn++8jOivt+eojeWQjuWJjeW+gOeUs+ivt+WIl+ihqOS4i+i9vScpO1xuICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYoanNvbj09MCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2V4Y2VsL29yZGVyP2V4cG9ydF90aW1lPScrZXhwb3J0X3RpbWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSBpZihqc29uPT0tMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfnlLPor7flpLHotKXvvIzor7fnqI3lkI7ph43or5XvvIEnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+S4i+i9veWksei0pe+8jOivt+eojeWQjumHjeivle+8gScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+ivt+ajgOafpeaXtumXtOmAieaLqeaYr+WQpuato+ehricpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgZGF0YVJhbmdlSW5zdGFuY2UgPSBuZXcgcGlja2VyRGF0ZVJhbmdlKCdTZWxlY3REYXRhJywgeyAvL+WIneWni+WMluaXtumXtOaPkuS7tlxuICAgICAgICBpc1RvZGF5VmFsaWQgOiB0cnVlLFxuICAgICAgICBkZWZhdWx0VGV4dCA6ICcgfiAnLFxuICAgICAgICBpbnB1dFRyaWdnZXIgOiAnb3B0aW9uYWwnLFxuICAgICAgICB0aGVtZSA6ICd0YScsXG4gICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIHRpbWVSYW5nZSA9IHtcbiAgICAgICAgICAgICAgICBzdGFydDogb2JqLnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgICAgICBlbmQ6IG9iai5lbmREYXRlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVUaW1lKHRpbWVSYW5nZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAkKCcjU2VsZWN0UmFuZ2UnKS5vbignY2xpY2snLCAnbGknLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBlbGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgdHlwZSA9IGVsZS5kYXRhKCd0eXBlJyksXG4gICAgICAgICAgICB0ZXh0ID0gZWxlLnRleHQoKTtcbiAgICAgICAgaWYodHlwZSA9PSAnYWxsJykge1xuICAgICAgICAgICAgdGltZVJhbmdlID0ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiAnJyxcbiAgICAgICAgICAgICAgICBlbmQ6ICcnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYodHlwZSA9PSAnbm93TW9udGgnKSB7XG4gICAgICAgICAgICB0aW1lUmFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IGdldE5vd01vbnRoKCksXG4gICAgICAgICAgICAgICAgZW5kOiBnZXROb3dEYXkoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVUaW1lKHRpbWVSYW5nZSk7XG4gICAgfSk7XG4gICAgJCgnI29wdGlvbmFsJykuY2xpY2soZnVuY3Rpb24oKSB7IC8v5pe26Ze06YCJ5oup5Zmo5LiL5ouJXG4gICAgICAgICQoJyNkcm9wZG93bi10b2dnbGUnKS5kcm9wZG93bigndG9nZ2xlJyk7XG4gICAgfSk7XG4gICAgJCgnI1NlbGVjdERhdGEnKS5vZmYoJ2NsaWNrJykudGV4dCgn5YWo6YOo6K6i5Y2VJyk7ICAvL+iuvue9ruW8gOWni+e7k+adn+aXtumXtFxuXG4gICAgLy/nrZvpgInlj4LmlbDnmoTlm57mmL5cbiAgICByZUJhY2soKTtcblxuICAgIHVwZGF0ZVRpbWUodGltZVJhbmdlKTtcbn0pO1xuXG5mdW5jdGlvbiB1cGRhdGVUaW1lICh0aW1lKSB7XG4gICAgJCgnI3N0YXJ0VGltZScpLnZhbCh0aW1lLnN0YXJ0KTtcbiAgICAkKCcjZW5kVGltZScpLnZhbCh0aW1lLmVuZCk7XG4gICAgaWYodGltZS5zdGFydCAmJiB0aW1lLnN0YXJ0IT0nMjAxNicpe1xuICAgICAgICAkKCcjU2VsZWN0RGF0YScpLnRleHQodGltZS5zdGFydCArICcgfiAnICsgdGltZS5lbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICQoJyNTZWxlY3REYXRhJykudGV4dCgn5YWo6YOo6K6i5Y2VJyk7XG4gICAgfVxufVxuXG5cbi8v5Zue5pi+5pCc57Si5qGG5YaF55qE5YC8XG5mdW5jdGlvbiByZUJhY2soKSB7XG4vLyAgICAgdmFyIHNlbGVjdF9jb250ZW50ID0gR2V0UXVlcnlTdHJpbmcoXCJzZWxlY3RfY29udGVudFwiKTtcbi8vICAgICAkKFwiI3NlbGVjdF9jb250ZW50XCIpXG4vLyAgICAgLnZhbChzZWxlY3RfY29udGVudCB8fCAnJyk7XG5cbiAgICB2YXIgc2VsZWN0X3R5cGUgPSBHZXRRdWVyeVN0cmluZyhcInNlbGVjdF90eXBlXCIpO1xuICAgIGlmKCBzZWxlY3RfdHlwZSApe1xuICAgICAgICAkKFwiI3NlbGVjdF90eXBlIG9wdGlvblt2YWx1ZT1cIitzZWxlY3RfdHlwZStcIl1cIikucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICB9XG5cbiAgICB2YXIgb3JkZXJfdHlwZSA9IEdldFF1ZXJ5U3RyaW5nKCdvcmRlcl90eXBlJyk7XG4gICAgaWYoIG9yZGVyX3R5cGUgKXtcbiAgICAgICAgJChcIiNvcmRlcl90eXBlIG9wdGlvblt2YWx1ZT1cIitvcmRlcl90eXBlK1wiXVwiKS5wcm9wKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgIH1cblxuICAgIHZhciBkaXN0cmlidXRlID0gR2V0UXVlcnlTdHJpbmcoJ2Rpc3RyaWJ1dGUnKTtcbiAgICBpZiggb3JkZXJfdHlwZSApe1xuICAgICAgICAkKFwiI2Rpc3RyaWJ1dGVfdHlwZSBvcHRpb25bdmFsdWU9XCIrZGlzdHJpYnV0ZStcIl1cIikucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICB9XG5cbiAgICB2YXIgc3RhcnRUaW1lID0gR2V0UXVlcnlTdHJpbmcoJ3N0YXJ0X3RpbWUnKSxcbiAgICAgICAgZW5kVGltZSA9IEdldFF1ZXJ5U3RyaW5nKCdlbmRfdGltZScpO1xuXG4gICAgdGltZVJhbmdlID0ge1xuICAgICAgICBzdGFydDogc3RhcnRUaW1lIHx8ICcnLFxuICAgICAgICBlbmQ6IGVuZFRpbWUgfHwgJydcbiAgICB9XG59XG5cbi8v6LCD5Yiw6K+m5oOF6aG1XG5mdW5jdGlvbiBqdW1wRGV0YWlsKGluZm8pXG57XG4gICAgdmFyIHVzZXJJZD1pbmZvO1xuICAgIHJlc2V0VXJsKCcvY3VzdG9tZXJkZXRhaWw/dXNlcklkPScrdXNlcklkKTtcbn1cblxuLy/orqLljZXorrDlvZXlvLnmoYZcbmZ1bmN0aW9uIGV4cG9ydE9yZGVyUmVjb3JkcygpIHtcbiAgICAkKFwiI0V4cG9ydE1vZGFsXCIpLm1vZGFsKCdzaG93Jyk7XG59XG5cbi8v5a+85Ye66K6i5Y2V6K6w5b2VXG5mdW5jdGlvbiBleHBvcnRvcmRlclRvRXhjZWwoKSB7XG4gICAgc2hvd0xvYWRpbmcoKTtcbiAgICB2YXIgZXhwb3J0X3RpbWUgPSAkKCcjZXhwb3J0X3RpbWUnKS52YWwoKTtcbiAgICB2YXIgUGFyYW1zID0ge307XG4gICAgUGFyYW1zWydleHBvcnRfdGltZSddID0gZXhwb3J0X3RpbWU7XG5cbiAgICAvL+WvvOWHuuaVsOaNrlxuICAgIC8vaWYoc3RhcnRfdGltZSAhPSAnJyAmJiBlbmRfdGltZSAhPSAnJyAmJiBzdGFydF90aW1lIDwgZW5kX3RpbWUpe1xuICAgIGlmKGV4cG9ydF90aW1lICE9ICcnKXtcbiAgICAgICAgLy92YXIgdXJsID0gJy9leHBvcnRfZXhjZWw/c3RhcnRfdGltZT0nK3N0YXJ0X3RpbWUrJyZlbmRfdGltZT0nK2VuZF90aW1lO1xuICAgICAgICB2YXIgdXJsID0gJy9leHBvcnRfb3JkZXJfZXhjZWw/ZXhwb3J0X3RpbWU9JytleHBvcnRfdGltZTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICQoXCIjRXhwb3J0TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcbiAgICB9ZWxzZXtcbiAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfor7fmo4Dmn6Xml7bpl7TpgInmi6nmmK/lkKbmraPnoa4nKTtcbiAgICB9XG59XG4iXX0=
