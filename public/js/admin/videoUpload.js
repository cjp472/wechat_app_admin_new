var width;var height;var params={};var pay_type=2;var resource_type;var cos=new InitCosCloud;var SID;var Poffset;var files=[];var transcodeNotifyUrl;var secretId;var isEditPatchPic=false;var isUploadPic=false;var isVideoUpload=false;var is_single_sale=0;var prevVal;$(document).ready(function(){prevVal=+$("#serviceContent :radio:checked").val();params["push_state"]=prevVal;$.cookie("content_create")?setTopUrlInfo("content_create"):setTopUrlInfo("video_listop");$("#checkbox-img").click(function(){var e=$("#checkbox-img").attr("checked-state");if(e=="unchecked"){$("#checkbox-img").attr("checked-state","checked");$("#checkbox-img").css("backgroundPosition","-104px 0");$("#single_price_div").removeClass("hide")}else if(e=="checked"){$("#checkbox-img").attr("checked-state","unchecked");$("#checkbox-img").css("backgroundPosition","-78px 0");$("#single_price_div").addClass("hide")}});$(".nicefile").niceFileInput({width:"300",height:"40",btnText:"选择文件",btnWidth:"100",margin:"20",left:"0"});$(".fileWrapper").css("width","500px");$("#resource_title").on("blur keyup change",function(){setMsgDim(this)});$("#resource_price").on("blur keyup",function(){setMsgDim(this)});$("#free_select").on("click",function(){$(this).parents(".upload_input_div").find(".upload_input_msg").css("color","")});$("#package_select").on("click",function(){$(this).parents(".upload_input_div").find(".upload_input_msg").css("color","")});datetimepickerconfig("#start_time");changeSingleAndPackage();monitorPriceChange();initUpload();isShowService();$("#resource_package").on("change",function(e){isShowService()});openService()});function isShowService(){if($("#package_select").hasClass("border_blue")){var e=$("#resource_package option:selected").attr("about");if(e>0){$("#serviceContent").show();params["push_state"]=prevVal}else{$("#serviceContent").hide();delete params["push_state"]}}else{$("#serviceContent").hide();delete params["push_state"]}}function openService(){if($("#serviceContent").data("setting")==1){$("#serviceContent").on("click",":radio",function(e){var i=$(this);var s=+i.val();if(s!==prevVal&&s==1){e.preventDefault();var t="您需要到微信公众号后台将您的服务号所在行业设置为“教育/培训”，设置完成后，开启服务号通知方可正常发送模板消息。"+"<br/><a target='_blank' href='/help/instructions#hp5_wx_service' style='margin-top:10px;'>什么是模板消息？</a>";var a={title:"提示",btn:3,oktext:"我已设置",canceltext:"关闭",icon:"blue",onOk:function(){$.ajax("/is_industry",{type:"GET",dataType:"json",data:{}}).done(function(e){var t=e.ret;if(t==0){i.prop("checked",true);prevVal=s;params["push_state"]=s;$("#serviceContent").data("state",s);$().toastmessage("baseUtils.show.blueTip","模板消息推送开启")}else{$().toastmessage("baseUtils.show.redTip","无法开启消息推送，请按照提示修改设置")}}).fail(function(e,i,s){console.error(s);$().toastmessage("baseUtils.show.redTip","服务器出差啦，请稍后重试")})}};$.alert(t,"custom",a);return false}else{params["push_state"]=s;$("#serviceContent").data("state",s);prevVal=s}})}else{$("#serviceContent").on("click",":radio",function(e){var i=$(this);var s=+i.val();if(s!==prevVal&&s==1){params["push_state"]=s;$("#serviceContent").data("state",s);prevVal=s;$().toastmessage("baseUtils.show.blueTip","模板消息推送开启")}else{params["push_state"]=s;$("#serviceContent").data("state",s);prevVal=s}})}}function getParameterByName(e,i){if(!i)i=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var s=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),t=s.exec(i);if(!t)return null;if(!t[2])return"";return decodeURIComponent(t[2].replace(/\+/g," "))}function monitorPriceChange(){inputLimitPrice("#resource_price")}function changeSingleAndPackage(){$(".upload_type").on("click",function(){$(".upload_type").removeClass("border_blue");$("#resource_price").removeAttr("readonly");$("#resource_price").val("");$(this).addClass("border_blue");isShowService();if($("#single_select").hasClass("border_blue")){$("#price_div").removeClass("hide");$(".searchSelectArea").addClass("hide");$("#resource_package").addClass("hide");if(!$(".package_side_pay").hasClass("hide")){$(".package_side_pay").addClass("hide")}pay_type=2}else if($("#package_select").hasClass("border_blue")){$("#price_div").addClass("hide");$(".searchSelectArea").removeClass("hide");$("#resource_package").removeClass("hide");$(".package_side_pay").removeClass("hide");pay_type=3}else{$("#price_div").addClass("hide");$(".searchSelectArea").addClass("hide");$("#resource_package").addClass("hide");if(!$(".package_side_pay").hasClass("hide")){$(".package_side_pay").addClass("hide")}$("#resource_price").attr("readonly","readonly");$("#resource_price").val("0.00");pay_type=1}})}$(function(){$("#start_time").on("change",function(){setMsgDim("#start_time")});$("#resource_pic").on("change",function(){var e=getObjectURL(this.files[0]);var i=this.files[0].size;if($(this).attr("id")=="resource_pic"&&i>4*1e3*1e3){baseUtils.show.redTip("封面图片太大!请不要超过4M!");return}try{var s,t;if(s=this.files[0]){t=new Image;t.onload=function(){width=this.width;height=this.height};t.src=e}}catch(e){}$(this).nextAll(".pic_add").addClass("hide");$(this).nextAll(".pic_close").removeClass("hide");$(this).nextAll(".pic_show").removeClass("hide");$(this).nextAll(".pic_show").attr("src",e);if(!checkPic()){return false}$(".pic_close").on("click",function(){$(this).addClass("hide");$(this).nextAll(".pic_show").addClass("hide");$(this).nextAll(".pic_add").removeClass("hide");$(this).prevAll("#resource_pic").val("")})});$("#patch_pic").on("change",function(){var e=getObjectURL(this.files[0]);var i=this.files[0].size;if($(this).attr("id")=="#patch_pic"&&i>4*1e3*1e3){baseUtils.show.redTip("贴片图片太大!请不要超过4M!");return}try{var s,t;if(s=this.files[0]){t=new Image;t.onload=function(){width=this.width;height=this.height};t.src=e}}catch(e){}$(this).nextAll(".pic_add").addClass("hide");$(this).nextAll(".pic_close").removeClass("hide");$(this).nextAll(".pic_show").removeClass("hide");$(this).nextAll(".pic_show").attr("src",e);$(".pic_close").on("click",function(){$(this).addClass("hide");$(this).nextAll(".pic_show").addClass("hide");$(this).nextAll(".pic_add").removeClass("hide");$(this).prevAll("#patch_pic").val("")})})});function getObjectURL(e){var i=null;if(window.createObjectURL!=undefined){i=window.createObjectURL(e)}else if(window.URL!=undefined){i=window.URL.createObjectURL(e)}else if(window.webkitURL!=undefined){i=window.webkitURL.createObjectURL(e)}return i}function uploadResource(e){this.resource_type=e;if(!checkForm()){return}showLoading();sliceUpload("#resource_pic",get_cos_image_path(),pic_successCallBack,pic_errorCallBack,"picture")}function checkPic(){var e=$("#resource_pic").val();if(e.length==0){baseUtils.show.redTip("封面不能为空!");return false}else{var i=$("#resource_pic").prop("files");var s=i[0].type;if(s.indexOf("image")<0){baseUtils.show.redTip("封面必须为图片文件!");return false}}return true}function checkForm(){var e=$("#resource_title").val().trim();if(e.length==0){baseUtils.show.redTip("名称不能为空!");setHighLightMsg("#resource_title");$("#resource_title").focus();return false}params["title"]=e;var i=$("#start_time").val().trim();if(i.length==0){baseUtils.show.redTip("上架时间不能为空!");setHighLightMsg("#start_time");$("#start_time").focus();return false}params["start_at"]=i;if(!checkPic()){$("#resource_pic").focus();return false}var s=$("#patch_pic").val();if(s.length==0){isEditPatchPic=false}else{isEditPatchPic=true}if(files.length<1){baseUtils.show.redTip("资源不能为空!");return false}if(pay_type!=3){var t=$("#resource_price").val().trim();if(pay_type==2){if(t.length==0){baseUtils.show.redTip("价格不能为空!");setHighLightMsg("#resource_price");$("#resource_price").focus();return false}else if(t<=0){baseUtils.show.redTip("价格需高于0.00!");setHighLightMsg("#resource_price");$("#resource_price").focus();return false}}params["piece_price"]=t*100}else{var a=$("#resource_package").find("option:selected").val();if(a==undefined||a.length==0){baseUtils.show.redTip("请选择产品包!");return false}params["product_id"]=a;var r=$("#resource_package").find("option:selected").text().trim();params["product_name"]=r;params["piece_price"]=$("#resource_package").find("option:selected").attr("about");params["product_state"]=$("#resource_package").find("option:selected").attr("state");var o=$("#checkbox-img").attr("checked-state");if(o=="unchecked"){is_single_sale=0}else if(o=="checked"){is_single_sale=1;var c=/^((0)|([1-9]{1}\d*))(\.\d{1,2})?$/;var l=$("#single_price").val().trim();if(l.length>0){if(c.test(l)){if(l==0||l==0||l==0){baseUtils.show.redTip("金额不能为0!")}params["piece_price"]=l*100}else{baseUtils.show.redTip("请输入正确的金额！");return false}}else{baseUtils.show.redTip("请输入单价!");return false}}}var n=UE.getEditor("resource_desc");var d=n.getContent();params["org_content"]=d;var p=n.getPlainTxt();if(p.length==0){baseUtils.show.redTip("描述不能为空!");return false}params["descrb"]=p;params["payment_type"]=pay_type;return true}function sliceUpload(e,i,s,t,a){var r=$(e).prop("files");if(r&&r.length==1){browserMD5File(r[0],function(e,a){console.log("MD5:"+a);var o=r[0]["name"];var c=o.split(".");var l=c[c.length-1];console.log("suffix:"+l);i=i+a+"."+l;console.log("remotePath:"+i);cos.uploadFileWithoutPro(s,t,i,r[0],0)})}else{baseUtils.show.redTip("请选择一个文件")}}var pic_successCallBack=function(e){console.log("图片上传成功!");var i=e.data.access_url;console.log("图片链接!"+i);params["img_url"]=i;params["img_url_compressed"]=i;if(isEditPatchPic){sliceUpload("#patch_pic",get_cos_image_path(),patch_pic_successCallBack,patch_pic_errorCallBack,"picture")}else{videoUpload()}};var pic_errorCallBack=function(e){hideLoading();baseUtils.show.redTip("配图上传失败!请重新上传!");uploadErrorShow(e.responseText)};var patch_pic_successCallBack=function(e){console.log("贴片图上传成功!");var i=e.data.access_url;console.log("贴片图链接!"+i);params["patch_img_url"]=i;params["patch_img_url_compressed"]=i;videoUpload()};var patch_pic_errorCallBack=function(e){hideLoading();baseUtils.show.redTip("贴片图上传失败!请重新上传!");uploadErrorShow(e.responseText)};function getResourceDuration(e){console.log("时长"+e.duration);if(resource_type=="audio"){params["audio_length"]=e.duration}else{params["video_length"]=e.duration}}function toAddPackage(){$.alert.xcConfirm("您确定要去新增专栏页面吗?","confirm",{onOk:function(){window.location.href="/package_list"}})}function initUpload(){var e=qcVideo.get("$");var i=qcVideo.get("Version");if(!qcVideo.uploader.supportBrowser()){if(i.IS_MOBILE){baseUtils.show.redTip("当前浏览器不支持上传，请升级系统版本或者下载最新的chrome浏览器")}else{getInternetExplorerVersion()}return}var s=1;var t=1;accountDone("video_file",s,t,"")}var accountDone=function(e,i,s,t){var a=qcVideo.get("$"),r=qcVideo.get("ErrorCode"),o=qcVideo.get("Log"),c=qcVideo.get("JSON"),l=qcVideo.get("util"),n=qcVideo.get("Code"),d=qcVideo.get("Version");qcVideo.uploader.init({web_upload_url:"https://vod.qcloud.com/v2/index.php",secretId:secretId,getSignature:function(e,i){a.ajax({dataType:"json",url:"/getsig?args="+encodeURIComponent(e),success:function(e){i(e["result"])}})},upBtnId:e,isTranscode:i,isWatermark:s,after_sha_start_upload:false,sha1js_path:"/calculator_worker_sha1.js",disable_multi_selection:false,transcodeNotifyUrl:transcodeNotifyUrl,classId:t,forceH5Worker:true},{onFileUpdate:function(e){var i=e.size;var s=i/(1024*1024);console.log(transcodeNotifyUrl);if(s>1024){setTimeout(function(){alert("请将视频文件压缩到 1G 以内!")},100);qcVideo.uploader.deleteFile(e.id);deleteFromFile(e.id);a("#"+e.id).remove();console.log("文件超过1G,提示重新选择视频文件:"+e.id);e="";return}if(e.code==1){if(files.length==1){if(files[0]!=undefined){var t=files[0].id;qcVideo.uploader.deleteFile(t);deleteFromFile(t);a("#"+t).remove();console.log("删除了一个文件:"+t)}}var r=a("#"+e.id);if(!r.get(0)){a("#progress_show").append("<div class='progress_div' id = '"+e.id+"'><span style='font-size: 12px'>"+e.name+":</span><div class='progress_bar' id = 'progress_bar_"+e.id+"'><div class='bar' id='bar_"+e.id+"'></div></div><span class='upload_finish' id='upload_finish_"+e.id+"'>上传完成</span><span data-act='del' data-type='0' class='delete'>删除</span></div>")}var o={id:e.id,size:e.size,state:0,file_id:"",size_text:e.size_text,type:1};files[files.length]=o;console.log("添加了一个新的文件:"+"id:"+e.id+"size:"+e.size)}if(e.code==2){files[0]["state"]=2}if(e.code==5&&e.percent>0){if(a("#progress_bar_"+e.id).is(":hidden")){a("#progress_bar_"+e.id).css("display","inline-block")}a("#bar_"+e.id).css("width",e.percent+"%")}if(e.code==6){a("#bar_"+e.id).css("width","100%");a("#upload_finish_"+e.id).show();for(var c=0;c<files.length;c++){if(e.id==files[c]["id"]){files[c]["state"]=6;files[c]["file_id"]=e.serverFileId;break}}if(isUploadFinish()){var l=generateParams();uploadToServer(l)}}console.log(e)},onFileStatus:function(e){console.log("各状态总数--\x3e"+c.stringify(e))},onFilterError:function(e){var i="message:"+e.message+(e.solution?";solution=="+e.solution:"");console.log(i)}});a("#progress_show").on("click",'[data-act="del"]',function(e){var i=a(this).parent();var s=i.get(0).id;o.debug("delete",s);i.remove();qcVideo.uploader.deleteFile(s);deleteFromFile(s)})};function deleteFromFile(e){for(var i=0;i<files.length;i++){var s=files[i];if(e==s["id"]){files.splice(i,1);console.log("从files中删除了一个文件:"+e)}}}function isUploadFinish(){var e=true;for(var i=0;i<files.length;i++){if(files[i]["state"]!=6){e=false}}return e}function generateParams(){var e={};if(files.length==1){e={public_video:files[0]["file_id"],public_size_text:files[0]["size"]/(1024*1024)}}return e}function uploadToServer(e){var i={};i["resource_type"]=resource_type;i["resource_params"]=e;i["params"]=params;i["is_single_sale"]=is_single_sale;$.post("/upload_video",i,function(e){hideLoading();var s=e.code;var t=e.msg;if(s==0){baseUtils.show.blueTip(t,function(){Is_Save=false;if(i["resource_type"]=="audio"){window.location.href="/audio_list"}else if(i["resource_type"]=="video"){window.location.href="/video_list"}else{window.location.href="/audio_list"}})}else{baseUtils.show.redTip(t)}})}var try_count=0;function videoUpload(){if(try_count>=300){hideLoading();baseUtils.show.redTip("视频解析失败,请更新浏览器版本重新上传");return}setTimeout(function(){if(files.length>0&&files[0]["state"]==2){console.log("解析完成");qcVideo.uploader.startUpload()}else{try_count++;console.log("解析还未完成");videoUpload()}},1e3)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL3ZpZGVvVXBsb2FkLmpzIl0sIm5hbWVzIjpbIndpZHRoIiwiaGVpZ2h0IiwicGFyYW1zIiwicGF5X3R5cGUiLCJyZXNvdXJjZV90eXBlIiwiY29zIiwiSW5pdENvc0Nsb3VkIiwiU0lEIiwiUG9mZnNldCIsImZpbGVzIiwidHJhbnNjb2RlTm90aWZ5VXJsIiwic2VjcmV0SWQiLCJpc0VkaXRQYXRjaFBpYyIsImlzVXBsb2FkUGljIiwiaXNWaWRlb1VwbG9hZCIsImlzX3NpbmdsZV9zYWxlIiwicHJldlZhbCIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwidmFsIiwiY29va2llIiwic2V0VG9wVXJsSW5mbyIsImNsaWNrIiwiY2hlY2tlZFN0YXRlIiwiYXR0ciIsImNzcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJuaWNlRmlsZUlucHV0IiwiYnRuVGV4dCIsImJ0bldpZHRoIiwibWFyZ2luIiwibGVmdCIsIm9uIiwic2V0TXNnRGltIiwidGhpcyIsInBhcmVudHMiLCJmaW5kIiwiZGF0ZXRpbWVwaWNrZXJjb25maWciLCJjaGFuZ2VTaW5nbGVBbmRQYWNrYWdlIiwibW9uaXRvclByaWNlQ2hhbmdlIiwiaW5pdFVwbG9hZCIsImlzU2hvd1NlcnZpY2UiLCJlIiwib3BlblNlcnZpY2UiLCJoYXNDbGFzcyIsInBhY2thZ2VQcmljZSIsInNob3ciLCJoaWRlIiwiZGF0YSIsImVsZSIsImN1cnJWYWwiLCJwcmV2ZW50RGVmYXVsdCIsInR4dCIsIm9wdGlvbiIsInRpdGxlIiwiYnRuIiwib2t0ZXh0IiwiY2FuY2VsdGV4dCIsImljb24iLCJvbk9rIiwiYWpheCIsInR5cGUiLCJkYXRhVHlwZSIsImRvbmUiLCJjb2RlIiwicmV0IiwicHJvcCIsInRvYXN0bWVzc2FnZSIsImZhaWwiLCJ4aHIiLCJ0ZXh0IiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiYWxlcnQiLCJnZXRQYXJhbWV0ZXJCeU5hbWUiLCJuYW1lIiwidXJsIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwicmVwbGFjZSIsInJlZ2V4IiwiUmVnRXhwIiwicmVzdWx0cyIsImV4ZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJpbnB1dExpbWl0UHJpY2UiLCJyZW1vdmVBdHRyIiwic3JjcyIsImdldE9iamVjdFVSTCIsImZpbGVTaXplIiwic2l6ZSIsImJhc2VVdGlscyIsInJlZFRpcCIsImZpbGUiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsInNyYyIsIm5leHRBbGwiLCJjaGVja1BpYyIsInByZXZBbGwiLCJjcmVhdGVPYmplY3RVUkwiLCJ1bmRlZmluZWQiLCJVUkwiLCJ3ZWJraXRVUkwiLCJ1cGxvYWRSZXNvdXJjZSIsImNoZWNrRm9ybSIsInNob3dMb2FkaW5nIiwic2xpY2VVcGxvYWQiLCJnZXRfY29zX2ltYWdlX3BhdGgiLCJwaWNfc3VjY2Vzc0NhbGxCYWNrIiwicGljX2Vycm9yQ2FsbEJhY2siLCJyZXNvdXJjZV9waWMiLCJsZW5ndGgiLCJwcm9wX3BpYyIsInBpY190eXBlIiwiaW5kZXhPZiIsInJlc291cmNlX3RpdGxlIiwidHJpbSIsInNldEhpZ2hMaWdodE1zZyIsImZvY3VzIiwic3RhcnRfdGltZSIsInBhdGNoX3BpYyIsInJlc291cmNlX3ByaWNlIiwicmVzb3VyY2VfcGFja2FnZSIsInBhY2thZ2VfbmFtZSIsInJlZyIsInNpbmdsZV9wcmljZSIsInRlc3QiLCJ1ZSIsIlVFIiwiZ2V0RWRpdG9yIiwiaHRtbCIsImdldENvbnRlbnQiLCJyZXNvdXJjZV9kZXNjIiwiZ2V0UGxhaW5UeHQiLCJpZGVudGl0eSIsInJlbW90ZVBhdGgiLCJzdWNjZXNzQ2FsbEJhY2siLCJlcnJvckNhbGxCYWNrIiwiZmlsZV90eXBlIiwiYnJvd3Nlck1ENUZpbGUiLCJtZDUiLCJsb2ciLCJmaWxlX25hbWUiLCJuYW1lcyIsInNwbGl0Iiwic3VmZml4IiwidXBsb2FkRmlsZVdpdGhvdXRQcm8iLCJyZXN1bHQiLCJwaWNfdXJsIiwiYWNjZXNzX3VybCIsInBhdGNoX3BpY19zdWNjZXNzQ2FsbEJhY2siLCJwYXRjaF9waWNfZXJyb3JDYWxsQmFjayIsInZpZGVvVXBsb2FkIiwiaGlkZUxvYWRpbmciLCJ1cGxvYWRFcnJvclNob3ciLCJyZXNwb25zZVRleHQiLCJwYXRjaF9waWNfdXJsIiwiZ2V0UmVzb3VyY2VEdXJhdGlvbiIsImVsZW1lbnQiLCJkdXJhdGlvbiIsInRvQWRkUGFja2FnZSIsInhjQ29uZmlybSIsInFjVmlkZW8iLCJnZXQiLCJWZXJzaW9uIiwidXBsb2FkZXIiLCJzdXBwb3J0QnJvd3NlciIsIklTX01PQklMRSIsImdldEludGVybmV0RXhwbG9yZXJWZXJzaW9uIiwiaXNUcmFuc2NvZGUiLCJpc1dhdGVybWFyayIsImFjY291bnREb25lIiwidXBCdG5JZCIsImNsYXNzSWQiLCJFcnJvckNvZGUiLCJMb2ciLCJKU09OIiwidXRpbCIsIkNvZGUiLCJpbml0Iiwid2ViX3VwbG9hZF91cmwiLCJnZXRTaWduYXR1cmUiLCJhcmdTdHIiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzdWNjZXNzIiwiZCIsImFmdGVyX3NoYV9zdGFydF91cGxvYWQiLCJzaGExanNfcGF0aCIsImRpc2FibGVfbXVsdGlfc2VsZWN0aW9uIiwiZm9yY2VINVdvcmtlciIsIm9uRmlsZVVwZGF0ZSIsImFyZ3MiLCJ2aWRlb1NpemUiLCJ2aWRlb0dzaXplIiwic2V0VGltZW91dCIsImRlbGV0ZUZpbGUiLCJpZCIsImRlbGV0ZUZyb21GaWxlIiwicmVtb3ZlIiwib2xkX2lkIiwiJGxpbmUiLCJhcHBlbmQiLCJpbmZvX2l0ZW0iLCJzdGF0ZSIsImZpbGVfaWQiLCJzaXplX3RleHQiLCJwZXJjZW50IiwiaXMiLCJpIiwic2VydmVyRmlsZUlkIiwiaXNVcGxvYWRGaW5pc2giLCJleHRlcm5hbFBhcmFtcyIsImdlbmVyYXRlUGFyYW1zIiwidXBsb2FkVG9TZXJ2ZXIiLCJvbkZpbGVTdGF0dXMiLCJpbmZvIiwic3RyaW5naWZ5Iiwib25GaWx0ZXJFcnJvciIsIm1zZyIsIm1lc3NhZ2UiLCJzb2x1dGlvbiIsInBhcmVudCIsImZpbGVJZCIsImRlYnVnIiwiaXRlbSIsInNwbGljZSIsImlzRmluaXNoIiwiZmlsZV9pZF9wYXJhbXMiLCJwdWJsaWNfdmlkZW8iLCJwdWJsaWNfc2l6ZV90ZXh0IiwiYWxsUGFyYW1zIiwicG9zdCIsImJsdWVUaXAiLCJJc19TYXZlIiwidHJ5X2NvdW50Iiwic3RhcnRVcGxvYWQiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLE1BQ0osSUFBSUMsT0FFSixJQUFJQyxVQUVKLElBQUlDLFVBQVcsQ0FFZixJQUFJQyxjQUtKLElBQUlDLEtBQU0sR0FBSUMsYUFHZCxJQUFJQyxJQUVKLElBQUlDLFFBRUosSUFBSUMsU0FDSixJQUFJQyxtQkFDSixJQUFJQyxTQUVKLElBQUlDLGdCQUFpQixLQUVyQixJQUFJQyxhQUFhLEtBQ2pCLElBQUlDLGVBQWdCLEtBR3BCLElBQUlDLGdCQUFpQixDQUNyQixJQUFJQyxRQUVKQyxHQUFFQyxVQUFVQyxNQUFNLFdBRWRILFNBQVdDLEVBQUUsa0NBQWtDRyxLQUMvQ2xCLFFBQU8sY0FBZ0JjLE9BQ3ZCQyxHQUFFSSxPQUFPLGtCQUFtQkMsY0FBYyxrQkFBb0JBLGNBQWMsZUFHNUVMLEdBQUUsaUJBQWlCTSxNQUFNLFdBRXJCLEdBQUlDLEdBQWVQLEVBQUUsaUJBQWlCUSxLQUFLLGdCQUMzQyxJQUFJRCxHQUFnQixZQUFhLENBQzdCUCxFQUFFLGlCQUFpQlEsS0FBSyxnQkFBaUIsVUFDekNSLEdBQUUsaUJBQWlCUyxJQUFJLHFCQUFzQixXQUM3Q1QsR0FBRSxxQkFBcUJVLFlBQVksWUFFaEMsSUFBSUgsR0FBZ0IsVUFBVyxDQUNsQ1AsRUFBRSxpQkFBaUJRLEtBQUssZ0JBQWlCLFlBQ3pDUixHQUFFLGlCQUFpQlMsSUFBSSxxQkFBc0IsVUFDN0NULEdBQUUscUJBQXFCVyxTQUFTLFVBTXhDWCxHQUFFLGFBQWFZLGVBQ1g3QixNQUFTLE1BQ1RDLE9BQVUsS0FDVjZCLFFBQVcsT0FDWEMsU0FBWSxNQUNaQyxPQUFVLEtBQ1ZDLEtBQVEsS0FFWmhCLEdBQUUsZ0JBQWdCUyxJQUFJ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LEdBQUltQixLQUNKQSxHQUFVLGlCQUFtQnhPLGFBQzdCd08sR0FBVSxtQkFBcUJuQixDQUMvQm1CLEdBQVUsVUFBWTFPLE1BQ3RCME8sR0FBVSxrQkFBb0I3TixjQUU5QkUsR0FBRTROLEtBQUssZ0JBQWlCRCxFQUFXLFNBQVVuRixHQUN6Q00sYUFDQSxJQUFJN0YsR0FBT3VGLEVBQU92RixJQUNsQixJQUFJOEosR0FBTXZFLEVBQU91RSxHQUNqQixJQUFJOUosR0FBUSxFQUFHLENBQ1g2QixVQUFVL0MsS0FBSzhMLFFBQVFkLEVBQUssV0FDeEJlLFFBQVUsS0FDVixJQUFJSCxFQUFVLGtCQUFvQixRQUFTLENBQ3ZDNUosT0FBT0MsU0FBU0MsS0FBTyxrQkFDcEIsSUFBSTBKLEVBQVUsa0JBQW9CLFFBQVMsQ0FDOUM1SixPQUFPQyxTQUFTQyxLQUFPLGtCQUNwQixDQUNIRixPQUFPQyxTQUFTQyxLQUFPLHFCQUc1QixDQUNIYSxVQUFVL0MsS0FBS2dELE9BQU9nSSxNQU1sQyxHQUFJZ0IsV0FBVSxDQUdkLFNBQVNsRixlQUNMLEdBQUlrRixXQUFhLElBQUssQ0FDbEJqRixhQUNBaEUsV0FBVS9DLEtBQUtnRCxPQUFPLHNCQUN0QixRQUVKd0csV0FDSSxXQUNJLEdBQUcvTCxNQUFNNEcsT0FBTyxHQUFHNUcsTUFBTSxHQUFHLFVBQVUsRUFBRSxDQUNwQ2lFLFFBQVF5RSxJQUFJLE9BQ1pxQixTQUFRRyxTQUFTc0Usa0JBQ2hCLENBQ0RELFdBQ0F0SyxTQUFReUUsSUFBSSxTQUNaVyxpQkFFTiIsImZpbGUiOiJhZG1pbi92aWRlb1VwbG9hZC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB3aWR0aDtcclxudmFyIGhlaWdodDtcclxuXHJcbnZhciBwYXJhbXMgPSB7fTtcclxuXHJcbnZhciBwYXlfdHlwZSA9IDI7IC8v5LuY6LS557G75Z6LLDHooajnpLrlhY3otLnjgIEy6KGo56S65Y2V5Liq5LuY6LS5LDPooajnpLrkuJPmoI/jgIJcclxuXHJcbnZhciByZXNvdXJjZV90eXBlOy8v5Yib5bu657G75Z6LXHJcblxyXG4vL+iFvuiur+S6kei1hOa6kFxyXG4vL3ZhciBidWNrZXROYW1lID0gd2luZG93LmNvc19idWNrZXRfbmFtZTtcclxuLy92YXIgY29zID0gbmV3IENvc0Nsb3VkKHdpbmRvdy5jb3NfYXBwX2lkKTtcclxudmFyIGNvcyA9IG5ldyBJbml0Q29zQ2xvdWQoKTtcclxuXHJcbi8vU2V0SW50ZXJ2YWzov5Tlm55JRFxyXG52YXIgU0lEO1xyXG4vL+atu+i/m+W6puadoeavj+asoeWPmOWMlumHj1xyXG52YXIgUG9mZnNldDtcclxuXHJcbnZhciBmaWxlcyA9IFtdOyAvL+WtmOaUvuaWh+S7tlxyXG52YXIgdHJhbnNjb2RlTm90aWZ5VXJsOy8vIOi9rOeggeaIkOWKn+Wbnuiwg+WcsOWdgFxyXG52YXIgc2VjcmV0SWQ7XHJcbi8v5Yik5pat6LS054mH5piv5ZCm5LiK5Lyg5LqGXHJcbnZhciBpc0VkaXRQYXRjaFBpYyA9IGZhbHNlO1xyXG4vL+agh+ivhuaYr+WQpuS4iuS8oOS6huWwgemdouWbvueJh1xyXG52YXIgaXNVcGxvYWRQaWMgPWZhbHNlO1xyXG52YXIgaXNWaWRlb1VwbG9hZCA9IGZhbHNlO1xyXG5cclxuLy/mmK/lkKbljZXljZZcclxudmFyIGlzX3NpbmdsZV9zYWxlID0gMDtcclxudmFyIHByZXZWYWw7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgcHJldlZhbCA9ICskKFwiI3NlcnZpY2VDb250ZW50IDpyYWRpbzpjaGVja2VkXCIpLnZhbCgpOyAvL+W9k+WJjeWNlemAieahhueahOWAvFxyXG4gICAgcGFyYW1zWydwdXNoX3N0YXRlJ10gPSBwcmV2VmFsOyAvL+aooeadv+a2iOaBr+m7mOiupOS4uuWFs+mXrVxyXG4gICAgJC5jb29raWUoJ2NvbnRlbnRfY3JlYXRlJyk/IHNldFRvcFVybEluZm8oJ2NvbnRlbnRfY3JlYXRlJykgOiBzZXRUb3BVcmxJbmZvKCd2aWRlb19saXN0b3AnKTtcclxuXHJcbiAgICAvL2NoZWNrYm94XCLkuJPmoI/lpJbljZXljZZcIlxyXG4gICAgJChcIiNjaGVja2JveC1pbWdcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB2YXIgY2hlY2tlZFN0YXRlID0gJChcIiNjaGVja2JveC1pbWdcIikuYXR0cihcImNoZWNrZWQtc3RhdGVcIik7XHJcbiAgICAgICAgaWYgKGNoZWNrZWRTdGF0ZSA9PSBcInVuY2hlY2tlZFwiKSB7XHJcbiAgICAgICAgICAgICQoXCIjY2hlY2tib3gtaW1nXCIpLmF0dHIoXCJjaGVja2VkLXN0YXRlXCIsIFwiY2hlY2tlZFwiKTtcclxuICAgICAgICAgICAgJChcIiNjaGVja2JveC1pbWdcIikuY3NzKFwiYmFja2dyb3VuZFBvc2l0aW9uXCIsIFwiLTEwNHB4IDBcIik7XHJcbiAgICAgICAgICAgICQoXCIjc2luZ2xlX3ByaWNlX2RpdlwiKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrZWRTdGF0ZSA9PSBcImNoZWNrZWRcIikge1xyXG4gICAgICAgICAgICAkKFwiI2NoZWNrYm94LWltZ1wiKS5hdHRyKFwiY2hlY2tlZC1zdGF0ZVwiLCBcInVuY2hlY2tlZFwiKTtcclxuICAgICAgICAgICAgJChcIiNjaGVja2JveC1pbWdcIikuY3NzKFwiYmFja2dyb3VuZFBvc2l0aW9uXCIsIFwiLTc4cHggMFwiKTtcclxuICAgICAgICAgICAgJChcIiNzaW5nbGVfcHJpY2VfZGl2XCIpLmFkZENsYXNzKCdoaWRlJyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8v5pu/5o2i6YCJ5oup5paH5Lu25qC35byP5qGGXHJcbiAgICAkKFwiLm5pY2VmaWxlXCIpLm5pY2VGaWxlSW5wdXQoe1xyXG4gICAgICAgICd3aWR0aCc6ICczMDAnLCAvL3dpZHRoIG9mIGJ1dHRvbiAtIG1pbmltdW0gMTUwXHJcbiAgICAgICAgJ2hlaWdodCc6ICc0MCcsICAvL2hlaWdodCBvZiB0ZXh0XHJcbiAgICAgICAgJ2J0blRleHQnOiAn6YCJ5oup5paH5Lu2JywgLy90ZXh0IG9mIHRoZSBidXR0b25cclxuICAgICAgICAnYnRuV2lkdGgnOiAnMTAwJywgIC8vIHdpZHRoIG9mIGJ1dHRvblxyXG4gICAgICAgICdtYXJnaW4nOiAnMjAnLFx0Ly8gZ2FwIGJldHdlZW4gdGV4dGJveCBhbmQgYnV0dG9uIC0gbWluaW11bSAxNFxyXG4gICAgICAgICdsZWZ0JzogJzAnXHJcbiAgICB9KTtcclxuICAgICQoJy5maWxlV3JhcHBlcicpLmNzcygnd2lkdGgnLCAnNTAwcHgnKTtcclxuXHJcbiAgICAkKCcjcmVzb3VyY2VfdGl0bGUnKS5vbignYmx1ciBrZXl1cCBjaGFuZ2UnLGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZXRNc2dEaW0odGhpcyk7XHJcbiAgICB9KTtcclxuICAgICQoJyNyZXNvdXJjZV9wcmljZScpLm9uKCdibHVyIGtleXVwJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNldE1zZ0RpbSh0aGlzKTtcclxuICAgIH0pO1xyXG4gICAgJCgnI2ZyZWVfc2VsZWN0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy51cGxvYWRfaW5wdXRfZGl2JykuZmluZCgnLnVwbG9hZF9pbnB1dF9tc2cnKS5jc3MoJ2NvbG9yJywnJyk7XHJcbiAgICB9KTtcclxuICAgICQoJyNwYWNrYWdlX3NlbGVjdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy51cGxvYWRfaW5wdXRfZGl2JykuZmluZCgnLnVwbG9hZF9pbnB1dF9tc2cnKS5jc3MoJ2NvbG9yJywnJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLy8v5Yid5aeL5YyW5pe26Ze06YCJ5oup5ZmoXHJcbiAgICAvLyQoXCIjc3RhcnRfdGltZVwiKS5kYXRldGltZXBpY2tlcih7XHJcbiAgICAvLyAgICBzdGFydERhdGU6bmV3IERhdGUoKSxcclxuICAgIC8vICAgIHdlZWtTdGFydDogMSxcclxuICAgIC8vICAgIG1pblZpZXc6IFwiZGF5XCIsXHJcbiAgICAvLyAgICBhdXRvY2xvc2U6IHRydWUvL+mAieaLqeaXpeacn+WQjuiHquWKqOWFs+mXrVxyXG4gICAgLy99KTtcclxuICAgIGRhdGV0aW1lcGlja2VyY29uZmlnKCcjc3RhcnRfdGltZScpO1xyXG5cclxuICAgIGNoYW5nZVNpbmdsZUFuZFBhY2thZ2UoKTtcclxuXHJcbiAgICAvL+ebkeWQrOi+k+WFpeahhuS7t+agvOeahOWPmOWMllxyXG4gICAgbW9uaXRvclByaWNlQ2hhbmdlKCk7XHJcblxyXG4gICAgLy/liJ3lp4vljJbkuIrkvKDnqbrpl7RcclxuICAgIGluaXRVcGxvYWQoKTtcclxuXHJcbiAgICBpc1Nob3dTZXJ2aWNlKCk7IC8v5Yik5pat5piv5ZCm5pi+56S65raI5oGv5o6o6YCB5oyJ6ZKuXHJcbiAgICAkKCcjcmVzb3VyY2VfcGFja2FnZScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaXNTaG93U2VydmljZSgpO1xyXG4gICAgfSk7XHJcbiAgICAvL+WIneWni+WMluacjeWKoeaOqOmAgeWNlemAieahhlxyXG4gICAgb3BlblNlcnZpY2UoKTtcclxuXHJcblxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGlzU2hvd1NlcnZpY2UoKSB7IC8v5Yik5pat6IO95ZCm5byA5ZCv5o6o6YCBXHJcbiAgICBpZiggJCgnI3BhY2thZ2Vfc2VsZWN0JykuaGFzQ2xhc3MoJ2JvcmRlcl9ibHVlJykgKXsgLy/lpoLmnpzlvZPliY3pgInkuK3nmoTmmK/kuJPmoI9cclxuICAgICAgICB2YXIgcGFja2FnZVByaWNlID0gJCgnI3Jlc291cmNlX3BhY2thZ2Ugb3B0aW9uOnNlbGVjdGVkJykuYXR0cignYWJvdXQnKTtcclxuICAgICAgICBpZiggcGFja2FnZVByaWNlID4gMCApIHsgLy/lpoLmnpzkuJPmoI/ku7fmoLzlpKfkuo4wXHJcbiAgICAgICAgICAgICQoJyNzZXJ2aWNlQ29udGVudCcpLnNob3coKTtcclxuICAgICAgICAgICAgcGFyYW1zWydwdXNoX3N0YXRlJ10gPSBwcmV2VmFsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJyNzZXJ2aWNlQ29udGVudCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgZGVsZXRlIHBhcmFtc1sncHVzaF9zdGF0ZSddO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnI3NlcnZpY2VDb250ZW50JykuaGlkZSgpO1xyXG4gICAgICAgIGRlbGV0ZSBwYXJhbXNbJ3B1c2hfc3RhdGUnXTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gb3BlblNlcnZpY2UoKSB7XHJcbiAgICBpZiggJCgnI3NlcnZpY2VDb250ZW50JykuZGF0YSgnc2V0dGluZycpID09IDEgKXtcclxuICAgICAgICAkKCcjc2VydmljZUNvbnRlbnQnKS5vbignY2xpY2snLCAnOnJhZGlvJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgZWxlID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIGN1cnJWYWwgPSArZWxlLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYoIGN1cnJWYWwgIT09IHByZXZWYWwgJiYgY3VyclZhbCA9PSAxICkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHR4dD0gIFwi5oKo6ZyA6KaB5Yiw5b6u5L+h5YWs5LyX5Y+35ZCO5Y+w5bCG5oKo55qE5pyN5Yqh5Y+35omA5Zyo6KGM5Lia6K6+572u5Li64oCc5pWZ6IKyL+WfueiureKAne+8jOiuvue9ruWujOaIkOWQju+8jOW8gOWQr+acjeWKoeWPt+mAmuefpeaWueWPr+ato+W4uOWPkemAgeaooeadv+a2iOaBr+OAglwiK1xyXG4gICAgICAgICAgICAgICAgXCI8YnIvPjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScvaGVscC9pbnN0cnVjdGlvbnMjaHA1X3d4X3NlcnZpY2UnIHN0eWxlPSdtYXJnaW4tdG9wOjEwcHg7Jz7ku4DkuYjmmK/mqKHmnb/mtojmga/vvJ88L2E+XCI7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuaPkOekulwiLCAvL+W8ueWHuuahhuagh+mimFxyXG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMywgLy/noa7lrpomJuWPlua2iFxyXG4gICAgICAgICAgICAgICAgICAgIG9rdGV4dDogJ+aIkeW3suiuvue9ricsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsdGV4dDogJ+WFs+mXrScsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2JsdWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCgnL2lzX2luZHVzdHJ5Jyx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2RlID0gZGF0YS5yZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb2RlID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldlZhbCA9IGN1cnJWYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyrmtojmga/mjqjpgIHlvIDlkK8qL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1sncHVzaF9zdGF0ZSddID0gY3VyclZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2VydmljZUNvbnRlbnQnKS5kYXRhKCdzdGF0ZScsY3VyclZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgpLnRvYXN0bWVzc2FnZSgnYmFzZVV0aWxzLnNob3cuYmx1ZVRpcCcsIFwi5qih5p2/5raI5oGv5o6o6YCB5byA5ZCvXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCkudG9hc3RtZXNzYWdlKCdiYXNlVXRpbHMuc2hvdy5yZWRUaXAnLCBcIuaXoOazleW8gOWQr+a2iOaBr+aOqOmAge+8jOivt+aMieeFp+aPkOekuuS/ruaUueiuvue9rlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbih4aHIsIHRleHQsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgpLnRvYXN0bWVzc2FnZSgnYmFzZVV0aWxzLnNob3cucmVkVGlwJywgXCLmnI3liqHlmajlh7rlt67llabvvIzor7fnqI3lkI7ph43or5VcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KHR4dCwgXCJjdXN0b21cIiwgb3B0aW9uKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8q5YWz6Zet5raI5oGv5o6o6YCBKi9cclxuICAgICAgICAgICAgICAgIHBhcmFtc1sncHVzaF9zdGF0ZSddID0gY3VyclZhbDtcclxuICAgICAgICAgICAgICAgICQoJyNzZXJ2aWNlQ29udGVudCcpLmRhdGEoJ3N0YXRlJyxjdXJyVmFsKTtcclxuICAgICAgICAgICAgICAgIHByZXZWYWwgPSBjdXJyVmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoJyNzZXJ2aWNlQ29udGVudCcpLm9uKCdjbGljaycsICc6cmFkaW8nLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGUgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgY3VyclZhbCA9ICtlbGUudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiggY3VyclZhbCAhPT0gcHJldlZhbCAmJiBjdXJyVmFsID09IDEgKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXNbJ3B1c2hfc3RhdGUnXSA9IGN1cnJWYWw7XHJcbiAgICAgICAgICAgICAgICAkKCcjc2VydmljZUNvbnRlbnQnKS5kYXRhKCdzdGF0ZScsY3VyclZhbCk7XHJcbiAgICAgICAgICAgICAgICBwcmV2VmFsID0gY3VyclZhbDtcclxuICAgICAgICAgICAgICAgICQoKS50b2FzdG1lc3NhZ2UoJ2Jhc2VVdGlscy5zaG93LmJsdWVUaXAnLCBcIuaooeadv+a2iOaBr+aOqOmAgeW8gOWQr1wiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtc1sncHVzaF9zdGF0ZSddID0gY3VyclZhbDtcclxuICAgICAgICAgICAgICAgICQoJyNzZXJ2aWNlQ29udGVudCcpLmRhdGEoJ3N0YXRlJyxjdXJyVmFsKTtcclxuICAgICAgICAgICAgICAgIHByZXZWYWwgPSBjdXJyVmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog6I635Y+WdXJp5Y+C5pWwXHJcbiAqIEBwYXJhbSBuYW1lXHJcbiAqIEBwYXJhbSB1cmxcclxuICogQHJldHVybnMgeyp9XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKSB7XHJcbiAgICBpZiAoIXVybCkgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlxcXFwkJlwiKTtcclxuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcclxuICAgICAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xyXG4gICAgaWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcclxuICAgIGlmICghcmVzdWx0c1syXSkgcmV0dXJuICcnO1xyXG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xyXG59XHJcblxyXG4vL+ebkeWQrOS7t+agvOWPmOWMlizpmLLmraLlh7rnjrDotJ/mlbBcclxuZnVuY3Rpb24gbW9uaXRvclByaWNlQ2hhbmdlKCkge1xyXG4gICAgaW5wdXRMaW1pdFByaWNlKFwiI3Jlc291cmNlX3ByaWNlXCIpO1xyXG5cclxuICAgIC8vJChcIiNyZXNvdXJjZV9wcmljZVwiKS5ibHVyKGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICAgLy/ph5Hpop1cclxuICAgIC8vICAgIHZhciByZXNvdXJjZV9wcmljZSA9ICQoXCIjcmVzb3VyY2VfcHJpY2VcIikudmFsKCk7XHJcbiAgICAvLyAgICBpZihyZXNvdXJjZV9wcmljZSA8PSAwKXtcclxuICAgIC8vICAgICAgICBhbGVydCgn5Lu35qC85LiN6IO95L2O5LqOMC4wMCcpO1xyXG4gICAgLy8gICAgICAgICQoXCIjcmVzb3VyY2VfcHJpY2VcIikudmFsKCcnKTtcclxuICAgIC8vICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICB9XHJcbiAgICAvL30pO1xyXG59XHJcblxyXG4vL+WIh+aNouWNleS4quWSjOS6p+WTgeWMhemAieaLqVxyXG5mdW5jdGlvbiBjaGFuZ2VTaW5nbGVBbmRQYWNrYWdlKCkge1xyXG4gICAgJCgnLnVwbG9hZF90eXBlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy51cGxvYWRfdHlwZScpLnJlbW92ZUNsYXNzKCdib3JkZXJfYmx1ZScpO1xyXG4gICAgICAgICQoXCIjcmVzb3VyY2VfcHJpY2VcIikucmVtb3ZlQXR0cigncmVhZG9ubHknKTtcclxuICAgICAgICAkKFwiI3Jlc291cmNlX3ByaWNlXCIpLnZhbCgnJyk7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYm9yZGVyX2JsdWUnKTtcclxuICAgICAgICBpc1Nob3dTZXJ2aWNlKCk7Ly/liKTmlq3og73kuI3og73lvIDlkK/mtojmga/mjqjpgIFcclxuICAgICAgICBpZiAoJCgnI3NpbmdsZV9zZWxlY3QnKS5oYXNDbGFzcygnYm9yZGVyX2JsdWUnKSkgeyAvL+WNleWNllxyXG4gICAgICAgICAgICAkKCcjcHJpY2VfZGl2JykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgJCgnLnNlYXJjaFNlbGVjdEFyZWEnKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICAkKCcjcmVzb3VyY2VfcGFja2FnZScpLmFkZENsYXNzKCdoaWRlJyk7XHJcblxyXG4gICAgICAgICAgICBpZighKCQoJy5wYWNrYWdlX3NpZGVfcGF5JykuaGFzQ2xhc3MoJ2hpZGUnKSkpXHJcbiAgICAgICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgICAgICAkKCcucGFja2FnZV9zaWRlX3BheScpLmFkZENsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBheV90eXBlID0gMjtcclxuICAgICAgICB9IGVsc2UgaWYgKCQoJyNwYWNrYWdlX3NlbGVjdCcpLmhhc0NsYXNzKCdib3JkZXJfYmx1ZScpKSB7IC8v5Lqn5ZOB5YyFXHJcbiAgICAgICAgICAgICQoJyNwcmljZV9kaXYnKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICAkKCcuc2VhcmNoU2VsZWN0QXJlYScpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICQoJyNyZXNvdXJjZV9wYWNrYWdlJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgJCgnLnBhY2thZ2Vfc2lkZV9wYXknKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG5cclxuICAgICAgICAgICAgcGF5X3R5cGUgPSAzO1xyXG4gICAgICAgIH0gZWxzZSB7IC8v5YWN6LS5XHJcbiAgICAgICAgICAgICQoJyNwcmljZV9kaXYnKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICAkKCcuc2VhcmNoU2VsZWN0QXJlYScpLmFkZENsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICQoJyNyZXNvdXJjZV9wYWNrYWdlJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgLy8kKFwiI3Jlc291cmNlX3ByaWNlXCIpLmFkZENsYXNzKCdoaWRlJyk7XHJcblxyXG4gICAgICAgICAgICBpZighKCQoJy5wYWNrYWdlX3NpZGVfcGF5JykuaGFzQ2xhc3MoJ2hpZGUnKSkpXHJcbiAgICAgICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgICAgICAkKCcucGFja2FnZV9zaWRlX3BheScpLmFkZENsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8v6K6+572uXHJcbiAgICAgICAgICAgICQoXCIjcmVzb3VyY2VfcHJpY2VcIikuYXR0cigncmVhZG9ubHknLCAncmVhZG9ubHknKTtcclxuICAgICAgICAgICAgJChcIiNyZXNvdXJjZV9wcmljZVwiKS52YWwoJzAuMDAnKTtcclxuICAgICAgICAgICAgcGF5X3R5cGUgPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnI3N0YXJ0X3RpbWUnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcclxuICAgICAgICBzZXRNc2dEaW0oJyNzdGFydF90aW1lJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiI3Jlc291cmNlX3BpY1wiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNyY3MgPSBnZXRPYmplY3RVUkwodGhpcy5maWxlc1swXSk7ICAgLy/ojrflj5bot6/lvoRcclxuICAgICAgICB2YXIgZmlsZVNpemUgPSB0aGlzLmZpbGVzWzBdLnNpemU7XHJcblxyXG4gICAgICAgIC8v5Yik5pat5Zu+54mH5aSn5bCPXHJcbiAgICAgICAgaWYgKCQodGhpcykuYXR0cihcImlkXCIpID09ICdyZXNvdXJjZV9waWMnICYmIGZpbGVTaXplID4gNCAqIDEwMDAgKiAxMDAwKSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5bCB6Z2i5Zu+54mH5aSq5aSnIeivt+S4jeimgei2hei/hzRNIScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvL+iOt+WPluWbvueJh+eahOWuvemrmFxyXG4gICAgICAgICAgICB2YXIgZmlsZSwgaW1nO1xyXG4gICAgICAgICAgICBpZiAoKGZpbGUgPSB0aGlzLmZpbGVzWzBdKSkge1xyXG4gICAgICAgICAgICAgICAgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gc3JjcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKHRoaXMpLm5leHRBbGwoXCIucGljX2FkZFwiKS5hZGRDbGFzcygnaGlkZScpOyAgIC8vdGhpc+aMh+eahOaYr2lucHV0XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0QWxsKCcucGljX2Nsb3NlJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTsgICAvL3RoaXPmjIfnmoTmmK9pbnB1dFxyXG4gICAgICAgICQodGhpcykubmV4dEFsbChcIi5waWNfc2hvd1wiKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICQodGhpcykubmV4dEFsbChcIi5waWNfc2hvd1wiKS5hdHRyKFwic3JjXCIsIHNyY3MpOyAgICAvL3RoaXPmjIfnmoTmmK9pbnB1dFxyXG4gICAgICAgIGlmKCFjaGVja1BpYygpKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKFwiLnBpY19jbG9zZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaGlkZScpOyAgICAgLy90aGlz5oyH55qE5pivc3BhblxyXG4gICAgICAgICAgICAkKHRoaXMpLm5leHRBbGwoXCIucGljX3Nob3dcIikuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5uZXh0QWxsKFwiLnBpY19hZGRcIikucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wcmV2QWxsKCcjcmVzb3VyY2VfcGljJykudmFsKCcnKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIjcGF0Y2hfcGljXCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc3JjcyA9IGdldE9iamVjdFVSTCh0aGlzLmZpbGVzWzBdKTsgICAvL+iOt+WPlui3r+W+hFxyXG4gICAgICAgIHZhciBmaWxlU2l6ZSA9IHRoaXMuZmlsZXNbMF0uc2l6ZTtcclxuXHJcbiAgICAgICAgLy/liKTmlq3lm77niYflpKflsI9cclxuICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKFwiaWRcIikgPT0gJyNwYXRjaF9waWMnICYmIGZpbGVTaXplID4gNCAqIDEwMDAgKiAxMDAwKSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn6LS054mH5Zu+54mH5aSq5aSnIeivt+S4jeimgei2hei/hzRNIScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvL+iOt+WPluWbvueJh+eahOWuvemrmFxyXG4gICAgICAgICAgICB2YXIgZmlsZSwgaW1nO1xyXG4gICAgICAgICAgICBpZiAoKGZpbGUgPSB0aGlzLmZpbGVzWzBdKSkge1xyXG4gICAgICAgICAgICAgICAgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gc3JjcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKHRoaXMpLm5leHRBbGwoXCIucGljX2FkZFwiKS5hZGRDbGFzcygnaGlkZScpOyAgIC8vdGhpc+aMh+eahOaYr2lucHV0XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0QWxsKCcucGljX2Nsb3NlJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTsgICAvL3RoaXPmjIfnmoTmmK9pbnB1dFxyXG4gICAgICAgICQodGhpcykubmV4dEFsbChcIi5waWNfc2hvd1wiKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICQodGhpcykubmV4dEFsbChcIi5waWNfc2hvd1wiKS5hdHRyKFwic3JjXCIsIHNyY3MpOyAgICAvL3RoaXPmjIfnmoTmmK9pbnB1dFxyXG4gICAgICAgICQoXCIucGljX2Nsb3NlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdoaWRlJyk7ICAgICAvL3RoaXPmjIfnmoTmmK9zcGFuXHJcbiAgICAgICAgICAgICQodGhpcykubmV4dEFsbChcIi5waWNfc2hvd1wiKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLm5leHRBbGwoXCIucGljX2FkZFwiKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnByZXZBbGwoJyNwYXRjaF9waWMnKS52YWwoJycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pXHJcblxyXG5mdW5jdGlvbiBnZXRPYmplY3RVUkwoZmlsZSkge1xyXG4gICAgdmFyIHVybCA9IG51bGw7XHJcbiAgICBpZiAod2luZG93LmNyZWF0ZU9iamVjdFVSTCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICB1cmwgPSB3aW5kb3cuY3JlYXRlT2JqZWN0VVJMKGZpbGUpXHJcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5VUkwgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSlcclxuICAgIH0gZWxzZSBpZiAod2luZG93LndlYmtpdFVSTCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICB1cmwgPSB3aW5kb3cud2Via2l0VVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVybFxyXG59XHJcblxyXG4vL+S4iuS8oOi1hOa6kCAgcmVzb3VyY2VfdHlwZTphdWRpb+OAgXZpZGVvXHJcbmZ1bmN0aW9uIHVwbG9hZFJlc291cmNlKHJlc291cmNlX3R5cGUpIHtcclxuICAgIHRoaXMucmVzb3VyY2VfdHlwZSA9IHJlc291cmNlX3R5cGU7XHJcblxyXG4gICAgaWYgKCFjaGVja0Zvcm0oKSkge1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBzaG93TG9hZGluZygpO1xyXG4gICAgLy/kuIrkvKDlm77niYdcclxuICAgIHNsaWNlVXBsb2FkKCcjcmVzb3VyY2VfcGljJywgZ2V0X2Nvc19pbWFnZV9wYXRoKCksIHBpY19zdWNjZXNzQ2FsbEJhY2ssIHBpY19lcnJvckNhbGxCYWNrLCAncGljdHVyZScpO1xyXG5cclxufVxyXG5cclxuLy/moLjlr7nlsIHpnaLlm75cclxuZnVuY3Rpb24gY2hlY2tQaWMoKSB7XHJcbiAgICAvL+i1hOa6kOWwgemdolxyXG4gICAgdmFyIHJlc291cmNlX3BpYyA9ICQoJyNyZXNvdXJjZV9waWMnKS52YWwoKTtcclxuICAgIGlmIChyZXNvdXJjZV9waWMubGVuZ3RoID09IDApIHtcclxuICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+WwgemdouS4jeiDveS4uuepuiEnKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBwcm9wX3BpYyA9ICQoJyNyZXNvdXJjZV9waWMnKS5wcm9wKCdmaWxlcycpO1xyXG4gICAgICAgIHZhciBwaWNfdHlwZSA9IHByb3BfcGljWzBdLnR5cGU7XHJcbiAgICAgICAgaWYgKHBpY190eXBlLmluZGV4T2YoJ2ltYWdlJykgPCAwKSB7IC8vICdpbWFnZS9qcGVnJ1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+WwgemdouW/hemhu+S4uuWbvueJh+aWh+S7tiEnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbi8v5qC45a+56KGo5Y2VXHJcbmZ1bmN0aW9uIGNoZWNrRm9ybSgpIHtcclxuXHJcbiAgICAvLyBwYXJhbXMgPSB7fTsgLy/muIXnqbrkuYvliY3nmoTmlbDmja5cclxuICAgIC8v6LWE5rqQ5ZCN56ewXHJcbiAgICB2YXIgcmVzb3VyY2VfdGl0bGUgPSAkKCcjcmVzb3VyY2VfdGl0bGUnKS52YWwoKS50cmltKCk7XHJcbiAgICBpZiAocmVzb3VyY2VfdGl0bGUubGVuZ3RoID09IDApIHtcclxuICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+WQjeensOS4jeiDveS4uuepuiEnKTtcclxuICAgICAgICBzZXRIaWdoTGlnaHRNc2coJyNyZXNvdXJjZV90aXRsZScpO1xyXG4gICAgICAgICQoJyNyZXNvdXJjZV90aXRsZScpLmZvY3VzKCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcGFyYW1zWyd0aXRsZSddID0gcmVzb3VyY2VfdGl0bGU7XHJcblxyXG5cclxuICAgIC8v5LiK5p625pe26Ze0XHJcbiAgICB2YXIgc3RhcnRfdGltZSA9ICQoJyNzdGFydF90aW1lJykudmFsKCkudHJpbSgpO1xyXG4gICAgaWYgKHN0YXJ0X3RpbWUubGVuZ3RoID09IDApIHtcclxuICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+S4iuaetuaXtumXtOS4jeiDveS4uuepuiEnKTtcclxuICAgICAgICBzZXRIaWdoTGlnaHRNc2coJyNzdGFydF90aW1lJyk7XHJcbiAgICAgICAgJCgnI3N0YXJ0X3RpbWUnKS5mb2N1cygpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHBhcmFtc1snc3RhcnRfYXQnXSA9IHN0YXJ0X3RpbWU7XHJcblxyXG4gICAgLy/otYTmupDlsIHpnaJcclxuICAgIC8vdmFyIHJlc291cmNlX3BpYyA9ICQoJyNyZXNvdXJjZV9waWMnKS52YWwoKTtcclxuICAgIGlmKCFjaGVja1BpYygpKXtcclxuICAgICAgICAkKCcjcmVzb3VyY2VfcGljJykuZm9jdXMoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy/op4bpopHotLTniYfpgInmi6nmgKfkuIrkvKBcclxuICAgIHZhciBwYXRjaF9waWMgPSAkKCcjcGF0Y2hfcGljJykudmFsKCk7XHJcbiAgICBpZiAocGF0Y2hfcGljLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgLy8gYWxlcnQoJ+inhumikei0tOeJh+WbvuS4jeiDveS4uuepuiEnKTtcclxuICAgICAgICAvLyByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaXNFZGl0UGF0Y2hQaWMgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gdmFyIHBhdGNoX3BpY19wcm9wX3BpYyA9ICQoJyNwYXRjaF9waWMnKS5wcm9wKCdmaWxlcycpO1xyXG4gICAgICAgIC8vIHZhciBwYXRjaF9waWNfdHlwZSA9IHBhdGNoX3BpY19wcm9wX3BpY1swXS50eXBlO1xyXG4gICAgICAgIC8vIGlmIChwYXRjaF9waWNfdHlwZS5pbmRleE9mKCdpbWFnZScpIDwgMCkgeyAvLyAnaW1hZ2UvanBlZydcclxuICAgICAgICAvLyAgICAgYWxlcnQoJ+inhumikei0tOeJh+WbvuW/hemhu+S4uuWbvueJh+aWh+S7tiEnKTtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBpc0VkaXRQYXRjaFBpYyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmIChmaWxlcy5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfotYTmupDkuI3og73kuLrnqbohJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwYXlfdHlwZSAhPSAzKSB7IC8v5LiN5piv5Lqn5ZOB5YyFXHJcbiAgICAgICAgLy/ku7fmoLxcclxuICAgICAgICB2YXIgcmVzb3VyY2VfcHJpY2UgPSAkKCcjcmVzb3VyY2VfcHJpY2UnKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgaWYgKHBheV90eXBlID09IDIpIHtcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlX3ByaWNlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+S7t+agvOS4jeiDveS4uuepuiEnKTtcclxuICAgICAgICAgICAgICAgIHNldEhpZ2hMaWdodE1zZygnI3Jlc291cmNlX3ByaWNlJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjcmVzb3VyY2VfcHJpY2UnKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc291cmNlX3ByaWNlIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5Lu35qC86ZyA6auY5LqOMC4wMCEnKTtcclxuICAgICAgICAgICAgICAgIHNldEhpZ2hMaWdodE1zZygnI3Jlc291cmNlX3ByaWNlJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjcmVzb3VyY2VfcHJpY2UnKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhcmFtc1sncGllY2VfcHJpY2UnXSA9IHJlc291cmNlX3ByaWNlICogMTAwO1xyXG4gICAgfSBlbHNlIHsgLy/kuqflk4HljIVcclxuICAgICAgICB2YXIgcmVzb3VyY2VfcGFja2FnZSA9ICQoJyNyZXNvdXJjZV9wYWNrYWdlJykuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS52YWwoKTtcclxuICAgICAgICBpZiAocmVzb3VyY2VfcGFja2FnZSA9PSB1bmRlZmluZWQgfHwgcmVzb3VyY2VfcGFja2FnZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+ivt+mAieaLqeS6p+WTgeWMhSEnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXJhbXNbJ3Byb2R1Y3RfaWQnXSA9IHJlc291cmNlX3BhY2thZ2U7XHJcbiAgICAgICAgLy/ojrflj5bkuqflk4HljIXlkI3lrZdcclxuICAgICAgICB2YXIgcGFja2FnZV9uYW1lID0gJChcIiNyZXNvdXJjZV9wYWNrYWdlXCIpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpLnRyaW0oKTtcclxuICAgICAgICBwYXJhbXNbJ3Byb2R1Y3RfbmFtZSddID0gcGFja2FnZV9uYW1lO1xyXG4gICAgICAgIHBhcmFtc1sncGllY2VfcHJpY2UnXSA9ICQoXCIjcmVzb3VyY2VfcGFja2FnZVwiKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLmF0dHIoXCJhYm91dFwiKTtcclxuICAgICAgICBwYXJhbXNbJ3Byb2R1Y3Rfc3RhdGUnXSA9ICQoXCIjcmVzb3VyY2VfcGFja2FnZVwiKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLmF0dHIoXCJzdGF0ZVwiKTtcclxuXHJcbiAgICAgICAgLy9UT0RPOuaYr+WQpuWNleWNllxyXG4gICAgICAgIHZhciBjaGVja2VkU3RhdGUgPSAkKFwiI2NoZWNrYm94LWltZ1wiKS5hdHRyKFwiY2hlY2tlZC1zdGF0ZVwiKTtcclxuICAgICAgICBpZiAoY2hlY2tlZFN0YXRlID09IFwidW5jaGVja2VkXCIpIHtcclxuICAgICAgICAgICAgaXNfc2luZ2xlX3NhbGUgPSAwOy8v5LiN5Y2V5Y2WXHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2tlZFN0YXRlID09IFwiY2hlY2tlZFwiKSB7XHJcbiAgICAgICAgICAgIGlzX3NpbmdsZV9zYWxlID0gMTsvL+WNleWNllxyXG4gICAgICAgICAgICB2YXIgcmVnID0gL14oKDApfChbMS05XXsxfVxcZCopKShcXC5cXGR7MSwyfSk/JC87XHJcblxyXG4gICAgICAgICAgICB2YXIgc2luZ2xlX3ByaWNlID0gJChcIiNzaW5nbGVfcHJpY2VcIikudmFsKCkudHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgaWYoc2luZ2xlX3ByaWNlLmxlbmd0aD4wKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihyZWcudGVzdChzaW5nbGVfcHJpY2UpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaW5nbGVfcHJpY2UgPT0gMCB8fCBzaW5nbGVfcHJpY2UgPT0gMC4wIHx8IHNpbmdsZV9wcmljZSA9PSAwLjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHV0aWwuc2hvd0Vycm9yKCcjd2l0aGRyYXdfYW1vdW50LWVycicsICfmj5DnjrDph5Hpop3kuI3og73kuLow77yBJywgJyN3aXRoZHJhd19hbW91bnQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfph5Hpop3kuI3og73kuLowIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXNbJ3BpZWNlX3ByaWNlJ10gPSBzaW5nbGVfcHJpY2UqMTAwO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCAn6K+36L6T5YWl5q2j56Gu55qE6YeR6aKd77yBJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn6K+36L6T5YWl5Y2V5Lu3IScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHVlID0gVUUuZ2V0RWRpdG9yKCdyZXNvdXJjZV9kZXNjJyk7XHJcblxyXG4gICAgdmFyIGh0bWwgPSB1ZS5nZXRDb250ZW50KCk7XHJcbiAgICBwYXJhbXNbJ29yZ19jb250ZW50J10gPSBodG1sO1xyXG5cclxuICAgIC8v6LWE5rqQ5o+P6L+wXHJcbiAgICB2YXIgcmVzb3VyY2VfZGVzYyA9IHVlLmdldFBsYWluVHh0KCk7XHJcbiAgICBpZiAocmVzb3VyY2VfZGVzYy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5o+P6L+w5LiN6IO95Li656m6IScpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHBhcmFtc1snZGVzY3JiJ10gPSByZXNvdXJjZV9kZXNjO1xyXG5cclxuICAgIC8v5LuY6LS557G75Z6LXHJcbiAgICBwYXJhbXNbJ3BheW1lbnRfdHlwZSddID0gcGF5X3R5cGU7XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBzbGljZVVwbG9hZChpZGVudGl0eSwgcmVtb3RlUGF0aCwgc3VjY2Vzc0NhbGxCYWNrLCBlcnJvckNhbGxCYWNrLCBmaWxlX3R5cGUpIHtcclxuXHJcbiAgICAvL+S4iuS8oCjnm7TmjqXpgJrov4dqc+S4iuS8oGNkbilcclxuICAgIHZhciBmaWxlcyA9ICQoaWRlbnRpdHkpLnByb3AoJ2ZpbGVzJyk7XHJcbiAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAvL2lmICghY29zLmhhc0ZsYXNoVmVyc2lvbk9yQmV0dGVyKDIwLCAwKSkge1xyXG4gICAgICAgIC8vICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgLy8gICAgaWYgKGNvbmZpcm0oXCLlvZPliY3mtY/op4jlmajkuI3mlK/mjIFGbGFzaO+8jOaXoOazleS4iuS8oOaWh+S7tu+8jOimgeS4i+i9vWZsYXNo5ZCXP1wiKSkge1xyXG4gICAgICAgIC8vICAgICAgICB3aW5kb3cub3BlbihcImh0dHBzOi8vZ2V0LmFkb2JlLmNvbS9jbi9mbGFzaHBsYXllci9cIiwgXCJfYmxhbmtcIik7XHJcbiAgICAgICAgLy8gICAgICAgIHJldHVybjtcclxuICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgLy8gICAgcmV0dXJuO1xyXG4gICAgICAgIC8vfVxyXG4gICAgICAgIC8vaWYgKCEkKCcjcXMnKS5sZW5ndGgpIHtcclxuICAgICAgICAvLyAgICAkKCdib2R5JykuYXBwZW5kKCc8b2JqZWN0IGlkPVwicXNcIiB3aWR0aD1cIjBcIiBoZWlnaHQ9XCIwXCIgdHlwZT1cImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoXCIgZGF0YT1cInNkay9Tb21ldGhpbmd0ZXN0LnN3ZlwiIHN0eWxlPVwidmlzaWJpbGl0eTogdmlzaWJsZTtcIj48L29iamVjdD4nKTtcclxuICAgICAgICAvL31cclxuXHJcbiAgICAgICAgLy/ojrflj5bmlofku7bnmoRNRDXlgLxcclxuICAgICAgICBicm93c2VyTUQ1RmlsZShmaWxlc1swXSwgZnVuY3Rpb24gKGVyciwgbWQ1KSB7XHJcbiAgICAgICAgICAgIC8v6I635Y+W5paH5Lu25YaF5a6555qETUQ1XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNRDU6JyArIG1kNSk7XHJcbiAgICAgICAgICAgIC8v5Y+W5paH5Lu25ZCN5ZCO57yAXHJcbiAgICAgICAgICAgIHZhciBmaWxlX25hbWUgPSBmaWxlc1swXVsnbmFtZSddO1xyXG4gICAgICAgICAgICB2YXIgbmFtZXMgPSBmaWxlX25hbWUuc3BsaXQoJy4nKTtcclxuICAgICAgICAgICAgdmFyIHN1ZmZpeCA9IG5hbWVzW25hbWVzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc3VmZml4OicgKyBzdWZmaXgpO1xyXG4gICAgICAgICAgICByZW1vdGVQYXRoID0gcmVtb3RlUGF0aCArIG1kNSArIFwiLlwiICsgc3VmZml4O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncmVtb3RlUGF0aDonICsgcmVtb3RlUGF0aCk7XHJcblxyXG4gICAgICAgICAgICBjb3MudXBsb2FkRmlsZVdpdGhvdXRQcm8oc3VjY2Vzc0NhbGxCYWNrLCBlcnJvckNhbGxCYWNrLCByZW1vdGVQYXRoLCBmaWxlc1swXSwgMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+36YCJ5oup5LiA5Liq5paH5Lu2XCIpO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbi8v5bCB6Z2i5Zu+5oiQ5Yqf5LiK5Lyg5Zue6LCDXHJcbnZhciBwaWNfc3VjY2Vzc0NhbGxCYWNrID0gZnVuY3Rpb24gKHJlc3VsdCkge1xyXG5cclxuICAgIC8vdmFyIGpzb25SZXN1bHQgPSAkLnBhcnNlSlNPTihyZXN1bHQpO1xyXG4gICAgY29uc29sZS5sb2coJ+WbvueJh+S4iuS8oOaIkOWKnyEnKTtcclxuXHJcbiAgICAvL+iOt+WPluWIsOi1hOa6kGNkbuiuv+mXrui/nuaOpVxyXG4gICAgdmFyIHBpY191cmwgPSByZXN1bHQuZGF0YS5hY2Nlc3NfdXJsO1xyXG4gICAgY29uc29sZS5sb2coJ+WbvueJh+mTvuaOpSEnICsgcGljX3VybCk7XHJcblxyXG4gICAgcGFyYW1zWydpbWdfdXJsJ10gPSBwaWNfdXJsO1xyXG4gICAgcGFyYW1zWydpbWdfdXJsX2NvbXByZXNzZWQnXSA9IHBpY191cmw7XHJcblxyXG5cclxuICAgIGlmKGlzRWRpdFBhdGNoUGljKXtcclxuICAgICAgICAvL+inpuWPkei0tOeJh+WbvuS4iuS8oFxyXG4gICAgICAgIHNsaWNlVXBsb2FkKCcjcGF0Y2hfcGljJywgZ2V0X2Nvc19pbWFnZV9wYXRoKCksIHBhdGNoX3BpY19zdWNjZXNzQ2FsbEJhY2ssIHBhdGNoX3BpY19lcnJvckNhbGxCYWNrLCAncGljdHVyZScpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgdmlkZW9VcGxvYWQoKTtcclxuICAgIH1cclxuXHJcblxyXG59O1xyXG5cclxuLy/otYTmupDphY3lm77lpLHotKXkuIrkvKDlm57osINcclxudmFyIHBpY19lcnJvckNhbGxCYWNrID0gZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgLy92YXIganNvblJlc3VsdCA9ICQucGFyc2VKU09OKHJlc3VsdCk7XHJcbiAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfphY3lm77kuIrkvKDlpLHotKUh6K+36YeN5paw5LiK5LygIScpO1xyXG4gICAgdXBsb2FkRXJyb3JTaG93KHJlc3VsdC5yZXNwb25zZVRleHQpO1xyXG59O1xyXG5cclxuLy/phY3lm77miJDlip/kuIrkvKDlm57osINcclxudmFyIHBhdGNoX3BpY19zdWNjZXNzQ2FsbEJhY2sgPSBmdW5jdGlvbiAocmVzdWx0KSB7XHJcblxyXG4gICAgLy92YXIganNvblJlc3VsdCA9ICQucGFyc2VKU09OKHJlc3VsdCk7XHJcbiAgICBjb25zb2xlLmxvZygn6LS054mH5Zu+5LiK5Lyg5oiQ5YqfIScpO1xyXG5cclxuICAgIC8v6I635Y+W5Yiw6LWE5rqQY2Ru6K6/6Zeu6L+e5o6lXHJcbiAgICB2YXIgcGF0Y2hfcGljX3VybCA9IHJlc3VsdC5kYXRhLmFjY2Vzc191cmw7XHJcbiAgICBjb25zb2xlLmxvZygn6LS054mH5Zu+6ZO+5o6lIScgKyBwYXRjaF9waWNfdXJsKTtcclxuXHJcbiAgICBwYXJhbXNbJ3BhdGNoX2ltZ191cmwnXSA9IHBhdGNoX3BpY191cmw7XHJcbiAgICBwYXJhbXNbJ3BhdGNoX2ltZ191cmxfY29tcHJlc3NlZCddID0gcGF0Y2hfcGljX3VybDtcclxuXHJcbiAgICAvL+inpuWPkeinhumikeS4iuS8oFxyXG4gICAgLy8gcWNWaWRlby51cGxvYWRlci5zdGFydFVwbG9hZCgpO1xyXG4gICAgdmlkZW9VcGxvYWQoKTtcclxuXHJcbn07XHJcblxyXG4vL+i1hOa6kOmFjeWbvuWksei0peS4iuS8oOWbnuiwg1xyXG52YXIgcGF0Y2hfcGljX2Vycm9yQ2FsbEJhY2sgPSBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAvL3ZhciBqc29uUmVzdWx0ID0gJC5wYXJzZUpTT04ocmVzdWx0KTtcclxuICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+i0tOeJh+WbvuS4iuS8oOWksei0pSHor7fph43mlrDkuIrkvKAhJyk7XHJcbiAgICB1cGxvYWRFcnJvclNob3cocmVzdWx0LnJlc3BvbnNlVGV4dCk7XHJcbn07XHJcblxyXG4vL2F1ZGlv5Yqg6L295a6M5q+V5Zue6LCDLOiOt+WPlumfs+mikeaXtumVv1xyXG5mdW5jdGlvbiBnZXRSZXNvdXJjZUR1cmF0aW9uKGVsZW1lbnQpIHtcclxuICAgIGNvbnNvbGUubG9nKCfml7bplb8nICsgZWxlbWVudC5kdXJhdGlvbik7XHJcbiAgICBpZiAocmVzb3VyY2VfdHlwZSA9PSAnYXVkaW8nKSB7XHJcbiAgICAgICAgcGFyYW1zWydhdWRpb19sZW5ndGgnXSA9IGVsZW1lbnQuZHVyYXRpb247XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhcmFtc1sndmlkZW9fbGVuZ3RoJ10gPSBlbGVtZW50LmR1cmF0aW9uO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy/osIPliLDmlrDlop7kuJPmoI9cclxuZnVuY3Rpb24gdG9BZGRQYWNrYWdlKCkge1xyXG4gICAgJC5hbGVydC54Y0NvbmZpcm0oJ+aCqOehruWumuimgeWOu+aWsOWinuS4k+agj+mhtemdouWQlz8nLCAnY29uZmlybScsIHtcclxuICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9wYWNrYWdlX2xpc3QnO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyDkuIrkvKDop4bpopHliJ3lp4vljJZcclxuZnVuY3Rpb24gaW5pdFVwbG9hZCgpIHtcclxuICAgIHZhciAkID0gcWNWaWRlby5nZXQoJyQnKTtcclxuICAgIHZhciBWZXJzaW9uID0gcWNWaWRlby5nZXQoJ1ZlcnNpb24nKTtcclxuICAgIGlmICghcWNWaWRlby51cGxvYWRlci5zdXBwb3J0QnJvd3NlcigpKSB7XHJcbiAgICAgICAgaWYgKFZlcnNpb24uSVNfTU9CSUxFKSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5b2T5YmN5rWP6KeI5Zmo5LiN5pSv5oyB5LiK5Lyg77yM6K+35Y2H57qn57O757uf54mI5pys5oiW6ICF5LiL6L295pyA5paw55qEY2hyb21l5rWP6KeI5ZmoJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ2V0SW50ZXJuZXRFeHBsb3JlclZlcnNpb24oKTtcclxuICAgICAgICAgICAgLy8gYmFzZVV0aWxzLnNob3cucmVkVGlwKCflvZPliY3mtY/op4jlmajkuI3mlK/mjIHkuIrkvKDvvIzor7fljYfnuqfmtY/op4jlmajmiJbogIXkuIvovb3mnIDmlrDnmoRjaHJvbWXmtY/op4jlmagnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBpc1RyYW5zY29kZSA9IDE7IC8v5byA5ZCv6L2s56CBXHJcbiAgICB2YXIgaXNXYXRlcm1hcmsgPSAxOy8vIOawtOWNsFxyXG5cclxuICAgIGFjY291bnREb25lKCd2aWRlb19maWxlJywgaXNUcmFuc2NvZGUsIGlzV2F0ZXJtYXJrLCAnJyk7XHJcbn1cclxuXHJcbnZhciBhY2NvdW50RG9uZSA9IGZ1bmN0aW9uICh1cEJ0bklkLCBpc1RyYW5zY29kZSwgaXNXYXRlcm1hcmssIGNsYXNzSWQpIHtcclxuXHJcbiAgICB2YXIgJCA9IHFjVmlkZW8uZ2V0KCckJylcclxuICAgICAgICAsIEVycm9yQ29kZSA9IHFjVmlkZW8uZ2V0KCdFcnJvckNvZGUnKVxyXG4gICAgICAgICwgTG9nID0gcWNWaWRlby5nZXQoJ0xvZycpXHJcbiAgICAgICAgLCBKU09OID0gcWNWaWRlby5nZXQoJ0pTT04nKVxyXG4gICAgICAgICwgdXRpbCA9IHFjVmlkZW8uZ2V0KCd1dGlsJylcclxuICAgICAgICAsIENvZGUgPSBxY1ZpZGVvLmdldCgnQ29kZScpXHJcbiAgICAgICAgLCBWZXJzaW9uID0gcWNWaWRlby5nZXQoJ1ZlcnNpb24nKVxyXG4gICAgICAgIDtcclxuXHJcbiAgICBxY1ZpZGVvLnVwbG9hZGVyLmluaXQoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3ZWJfdXBsb2FkX3VybDogJ2h0dHBzOi8vdm9kLnFjbG91ZC5jb20vdjIvaW5kZXgucGhwJyxcclxuICAgICAgICAgICAgc2VjcmV0SWQ6IHNlY3JldElkLCAvLyDkupFhcGkgc2VjcmV0SWRcclxuXHJcbiAgICAgICAgICAgIGdldFNpZ25hdHVyZTogZnVuY3Rpb24gKGFyZ1N0ciwgZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgLy/ms6jmhI/vvJrlh7rkuo7lronlhajogIPomZHvvIwg5pyN5Yqh56uv5o6l5pS2YXJnU3Ry6L+Z5Liq5Y+C5pWw5ZCO77yM6ZyA6KaB5qCh6aqM5YW25Lit55qEQWN0aW9u5Y+C5pWw5piv5ZCm5Li6IFwiTXVsdGlwYXJ0VXBsb2FkVm9kRmlsZVwiLOeUqOadpeivgeaYjuivpeWPguaVsOagh+ivhuS4iuS8oOivt+axglxyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YVR5cGUnOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvZ2V0c2lnP2FyZ3M9JyArIGVuY29kZVVSSUNvbXBvbmVudChhcmdTdHIpLFxyXG4gICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZShkWydyZXN1bHQnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVwQnRuSWQ6IHVwQnRuSWQsIC8v5LiK5Lyg5oyJ6ZKuSUTvvIjku7vmhI/pobXpnaLlhYPntKBJRO+8iVxyXG4gICAgICAgICAgICBpc1RyYW5zY29kZTogaXNUcmFuc2NvZGUsLy/mmK/lkKbovaznoIFcclxuICAgICAgICAgICAgaXNXYXRlcm1hcms6IGlzV2F0ZXJtYXJrLC8v5piv5ZCm6K6+572u5rC05Y2wXHJcbiAgICAgICAgICAgIGFmdGVyX3NoYV9zdGFydF91cGxvYWQ6IGZhbHNlLC8vc2hh6K6h566X5a6M5oiQ5ZCO77yM5byA5aeL5LiK5LygICjpu5jorqTlhbPpl63nq4vljbPkuIrkvKApXHJcbiAgICAgICAgICAgIHNoYTFqc19wYXRoOiAnL2NhbGN1bGF0b3Jfd29ya2VyX3NoYTEuanMnLCAvL+iuoeeul3NoYTHnmoTkvY3nva5cclxuICAgICAgICAgICAgZGlzYWJsZV9tdWx0aV9zZWxlY3Rpb246IGZhbHNlLCAvL+emgeeUqOWkmumAiSDvvIzpu5jorqTkuLpmYWxzZVxyXG4gICAgICAgICAgICB0cmFuc2NvZGVOb3RpZnlVcmw6IHRyYW5zY29kZU5vdGlmeVVybCwvLyjovaznoIHmiJDlip/lkI7nmoTlm57osIPlnLDlnYApaXNUcmFuc2NvZGU9PXRydWUs5pe25byA5ZCv77ybIOWbnuiwg3VybOeahOi/lOWbnuaVsOaNruagvOW8j+WPguiAgyAgaHR0cDovL3d3dy5xY2xvdWQuY29tL3dpa2kvdjIvTXVsdGlwYXJ0VXBsb2FkVm9kRmlsZVxyXG4gICAgICAgICAgICBjbGFzc0lkOiBjbGFzc0lkLFxyXG4gICAgICAgICAgICAvL2ZvcmNlSDVXb3JrZXI6ICEhcGFyc2VJbnQoZ2V0UGFyYW1ldGVyQnlOYW1lKCdmb3JjZUg1V29ya2VyJykpIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICBmb3JjZUg1V29ya2VyOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgICwge1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIOabtOaWsOaWh+S7tueKtuaAgeWSjOi/m+W6plxyXG4gICAgICAgICAgICAgKiBjb2RlOjHjgIHlh4blpIforqHnrpdTSEEgMuOAgeetieW+heS4iuS8oCAz44CBU0hB6K6h566X5LitIDTjgIHljbPlsIbkuIrkvKAgNeOAgeS4iuS8oOi/m+W6puabtOaWsCA244CB5LiK5Lyg5a6M5oiQXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSBhcmdzIHsgaWQ6IOaWh+S7tklELCBzaXplOiDmlofku7blpKflsI8sIG5hbWU6IOaWh+S7tuWQjeensCwgc3RhdHVzOiDnirbmgIEsIHBlcmNlbnQ6IOi/m+W6piBzcGVlZDog6YCf5bqmLCBlcnJvckNvZGU6IOmUmeivr+eggSxzZXJ2ZXJGaWxlSWQ6IOWQjuerr+aWh+S7tklEIH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG9uRmlsZVVwZGF0ZTogZnVuY3Rpb24gKGFyZ3MpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvL+WIpOaWreS4iuS8oOinhumikeWkp+Wwj1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvU2l6ZSA9IGFyZ3Muc2l6ZTtcclxuICAgICAgICAgICAgICAgIHZhciB2aWRlb0dzaXplID0gdmlkZW9TaXplLygxMDI0KjEwMjQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codHJhbnNjb2RlTm90aWZ5VXJsKTtcclxuICAgICAgICAgICAgICAgIGlmKHZpZGVvR3NpemU+MTAyNCl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi6K+35bCG6KeG6aKR5paH5Lu25Y6L57yp5YiwIDFHIOS7peWGhSFcIilcclxuICAgICAgICAgICAgICAgICAgICB9LDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcWNWaWRlby51cGxvYWRlci5kZWxldGVGaWxlKGFyZ3MuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUZyb21GaWxlKGFyZ3MuaWQpOyAvL+S7juaWh+S7tuaVsOe7hOS4reWIoOmZpOivpeaWh+S7tlxyXG4gICAgICAgICAgICAgICAgICAgICQoJyMnICsgYXJncy5pZCkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aWh+S7tui2hei/hzFHLOaPkOekuumHjeaWsOmAieaLqeinhumikeaWh+S7tjonICsgYXJncy5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5jb2RlID09IDEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5Yig6Zmk5LmL5YmN55qE5re75Yqg5paw55qEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlc1swXSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRfaWQgPSBmaWxlc1swXS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHFjVmlkZW8udXBsb2FkZXIuZGVsZXRlRmlsZShvbGRfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlRnJvbUZpbGUob2xkX2lkKTsgLy/ku47mlofku7bmlbDnu4TkuK3liKDpmaTor6Xmlofku7ZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnICsgb2xkX2lkKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfliKDpmaTkuobkuIDkuKrmlofku7Y6JyArIG9sZF9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkbGluZSA9ICQoXCIjXCIgKyBhcmdzLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISRsaW5lLmdldCgwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjcHJvZ3Jlc3Nfc2hvdycpLmFwcGVuZChcIjxkaXYgY2xhc3M9J3Byb2dyZXNzX2RpdicgaWQgPSAnXCIgKyBhcmdzLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFwiJz48c3BhbiBzdHlsZT0nZm9udC1zaXplOiAxMnB4Jz5cIiArIGFyZ3MubmFtZSArIFwiOjwvc3Bhbj48ZGl2IGNsYXNzPSdwcm9ncmVzc19iYXInIGlkID0gJ3Byb2dyZXNzX2Jhcl9cIiArIGFyZ3MuaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgXCInPjxkaXYgY2xhc3M9J2JhcicgaWQ9J2Jhcl9cIiArIGFyZ3MuaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgXCInPjwvZGl2PjwvZGl2PjxzcGFuIGNsYXNzPSd1cGxvYWRfZmluaXNoJyBpZD0ndXBsb2FkX2ZpbmlzaF9cIiArIGFyZ3MuaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgXCInPuS4iuS8oOWujOaIkDwvc3Bhbj48c3BhbiBkYXRhLWFjdD0nZGVsJyBkYXRhLXR5cGU9JzAnIGNsYXNzPSdkZWxldGUnPuWIoOmZpDwvc3Bhbj48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZm9faXRlbSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogYXJncy5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemUnOiBhcmdzLnNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0ZSc6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdmaWxlX2lkJzogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzaXplX3RleHQnOiBhcmdzLnNpemVfdGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZXNbZmlsZXMubGVuZ3RoXSA9IGluZm9faXRlbTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmt7vliqDkuobkuIDkuKrmlrDnmoTmlofku7Y6XCIgKyBcImlkOlwiICsgYXJncy5pZCArIFwic2l6ZTpcIiArIGFyZ3Muc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoYXJncy5jb2RlPT0yKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZXNbMF1bJ3N0YXRlJ10gPSAyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmNvZGUgPT0gNSAmJiBhcmdzLnBlcmNlbnQgPiAwKSAvL+S4iuS8oOi/m+W6puWPkeeUn+WPmOWMllxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCQoJyNwcm9ncmVzc19iYXJfJythcmdzLmlkKS5pcygnOmhpZGRlbicpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Byb2dyZXNzX2Jhcl8nK2FyZ3MuaWQpLmNzcygnZGlzcGxheScsJ2lubGluZS1ibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkKCcjYmFyXycgKyBhcmdzLmlkKS5jc3MoJ3dpZHRoJywgYXJncy5wZXJjZW50ICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MuY29kZSA9PSA2KSAvL+S4iuS8oOaIkOWKn1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNiYXJfJyArIGFyZ3MuaWQpLmNzcygnd2lkdGgnLCBcIjEwMCVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiN1cGxvYWRfZmluaXNoX1wiICsgYXJncy5pZCkuc2hvdygpOyAvL+S4iuS8oOWujOaIkFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL+S/ruaUuWZpbGVz5Lit5paH5Lu255qE54q25oCBXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5pZCA9PSBmaWxlc1tpXVsnaWQnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNbaV1bJ3N0YXRlJ10gPSA2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNbaV1bJ2ZpbGVfaWQnXSA9IGFyZ3Muc2VydmVyRmlsZUlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1VwbG9hZEZpbmlzaCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5o+Q5Lqk5paH5Lu2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHRlcm5hbFBhcmFtcyA9IGdlbmVyYXRlUGFyYW1zKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZFRvU2VydmVyKGV4dGVybmFsUGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3MpO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIOaWh+S7tueKtuaAgeWPkeeUn+WPmOWMllxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gaW5mbyAgeyBkb25lOiDlrozmiJDmlbDph48gLCBmYWlsOiDlpLHotKXmlbDph48gLCBzaGE6IOiuoeeul1NIQeaIluiAheetieW+heiuoeeul1NIQeS4reeahOaVsOmHjyAsIHdhaXQ6IOetieW+heS4iuS8oOaVsOmHjyAsIHVwbG9hZGluZzog5LiK5Lyg5Lit55qE5pWw6YePIH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG9uRmlsZVN0YXR1czogZnVuY3Rpb24gKGluZm8pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflkITnirbmgIHmgLvmlbAtLT4nICsgSlNPTi5zdHJpbmdpZnkoaW5mbykpO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqICDkuIrkvKDml7bplJnor6/mlofku7bov4fmu6Tmj5DnpLpcclxuICAgICAgICAgICAgICogQHBhcmFtIGFyZ3Mge2NvZGU6ey0xOiDmlofku7bnsbvlnovlvILluLgsLTI6IOaWh+S7tuWQjeW8guW4uH0gLCBtZXNzYWdlOiDplJnor6/ljp/lm6Ag77yMIHNvbHV0aW9uOiDop6PlhrPmlrnms5V9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBvbkZpbHRlckVycm9yOiBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1zZyA9ICdtZXNzYWdlOicgKyBhcmdzLm1lc3NhZ2UgKyAoYXJncy5zb2x1dGlvbiA/ICgnO3NvbHV0aW9uPT0nICsgYXJncy5zb2x1dGlvbikgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuXHJcbiAgICAkKCcjcHJvZ3Jlc3Nfc2hvdycpLm9uKCdjbGljaycsICdbZGF0YS1hY3Q9XCJkZWxcIl0nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciAkbGluZSA9ICQodGhpcykucGFyZW50KCk7XHJcbiAgICAgICAgdmFyIGZpbGVJZCA9ICRsaW5lLmdldCgwKS5pZDtcclxuICAgICAgICBMb2cuZGVidWcoJ2RlbGV0ZScsIGZpbGVJZCk7XHJcbiAgICAgICAgJGxpbmUucmVtb3ZlKCk7XHJcbiAgICAgICAgLy9AYXBpIOWIoOmZpOaWh+S7tlxyXG4gICAgICAgIHFjVmlkZW8udXBsb2FkZXIuZGVsZXRlRmlsZShmaWxlSWQpO1xyXG4gICAgICAgIGRlbGV0ZUZyb21GaWxlKGZpbGVJZCk7IC8v5LuO5paH5Lu25pWw57uE5Lit5Yig6Zmk6K+l5paH5Lu2XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy/liKDpmaTmn5DkuKrlhYPntKBcclxuZnVuY3Rpb24gZGVsZXRlRnJvbUZpbGUoaWQpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgaXRlbSA9IGZpbGVzW2ldO1xyXG4gICAgICAgIGlmIChpZCA9PSBpdGVtWydpZCddKSB7XHJcbiAgICAgICAgICAgIGZpbGVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+S7jmZpbGVz5Lit5Yig6Zmk5LqG5LiA5Liq5paH5Lu2OicgKyBpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vL+WIpOaWreS4pOS4quinhumikeaYr+WQpumDveS4iuS8oOWujOaIkOS6hlxyXG5mdW5jdGlvbiBpc1VwbG9hZEZpbmlzaCgpIHtcclxuICAgIHZhciBpc0ZpbmlzaCA9IHRydWU7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGZpbGVzW2ldWydzdGF0ZSddICE9IDYpIHsgLy/mnInkuIDkuKrmsqHlrozmiJDjgIJcclxuICAgICAgICAgICAgaXNGaW5pc2ggPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXNGaW5pc2g7XHJcbn1cclxuLy/nlJ/miJDlj4LmlbBcclxuZnVuY3Rpb24gZ2VuZXJhdGVQYXJhbXMoKSB7XHJcbiAgICB2YXIgZmlsZV9pZF9wYXJhbXMgPSB7fTtcclxuICAgIGlmIChmaWxlcy5sZW5ndGggPT0gMSkge1xyXG5cclxuICAgICAgICBmaWxlX2lkX3BhcmFtcyA9IHtcclxuICAgICAgICAgICAgJ3B1YmxpY192aWRlbyc6IGZpbGVzWzBdWydmaWxlX2lkJ10sICdwdWJsaWNfc2l6ZV90ZXh0JzogKGZpbGVzWzBdWydzaXplJ10vKDEwMjQqMTAyNCkpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBmaWxlX2lkX3BhcmFtcztcclxufVxyXG5cclxuLy/kuIrkvKDoh7PmiJHku6zmnI3liqHlmahcclxuZnVuY3Rpb24gdXBsb2FkVG9TZXJ2ZXIoZXh0ZXJuYWxQYXJhbXMpIHtcclxuICAgIHZhciBhbGxQYXJhbXMgPSB7fTtcclxuICAgIGFsbFBhcmFtc1sncmVzb3VyY2VfdHlwZSddID0gcmVzb3VyY2VfdHlwZTtcclxuICAgIGFsbFBhcmFtc1sncmVzb3VyY2VfcGFyYW1zJ10gPSBleHRlcm5hbFBhcmFtcztcclxuICAgIGFsbFBhcmFtc1sncGFyYW1zJ10gPSBwYXJhbXM7XHJcbiAgICBhbGxQYXJhbXNbJ2lzX3NpbmdsZV9zYWxlJ10gPSBpc19zaW5nbGVfc2FsZTtcclxuICAgIC8v5LiK5Lyg6Iez5pyN5Yqh5ZmoXHJcbiAgICAkLnBvc3QoJy91cGxvYWRfdmlkZW8nLCBhbGxQYXJhbXMsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgIHZhciBjb2RlID0gcmVzdWx0LmNvZGU7XHJcbiAgICAgICAgdmFyIG1zZyA9IHJlc3VsdC5tc2c7XHJcbiAgICAgICAgaWYgKGNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKG1zZywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgSXNfU2F2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFsbFBhcmFtc1sncmVzb3VyY2VfdHlwZSddID09ICdhdWRpbycpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYXVkaW9fbGlzdCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFsbFBhcmFtc1sncmVzb3VyY2VfdHlwZSddID09ICd2aWRlbycpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvdmlkZW9fbGlzdCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hdWRpb19saXN0JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKG1zZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG52YXIgdHJ5X2NvdW50PTA7XHJcblxyXG4vL+WvueS6juWkp+aWh+S7tizorqHnrpdzaGFyMeWAvOavlOi+g+aFolxyXG5mdW5jdGlvbiB2aWRlb1VwbG9hZCgpIHtcclxuICAgIGlmICh0cnlfY291bnQgPj0gMzAwKSB7XHJcbiAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLop4bpopHop6PmnpDlpLHotKUs6K+35pu05paw5rWP6KeI5Zmo54mI5pys6YeN5paw5LiK5LygXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHNldFRpbWVvdXQoXHJcbiAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZihmaWxlcy5sZW5ndGg+MCYmZmlsZXNbMF1bJ3N0YXRlJ109PTIpeyAvL+WmguaenOino+aekOWujOS6hueahOivnVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+ino+aekOWujOaIkCcpO1xyXG4gICAgICAgICAgICAgICAgcWNWaWRlby51cGxvYWRlci5zdGFydFVwbG9hZCgpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRyeV9jb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+ino+aekOi/mOacquWujOaIkCcpO1xyXG4gICAgICAgICAgICAgICAgdmlkZW9VcGxvYWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sMTAwMFxyXG4gICAgKVxyXG59XHJcblxyXG5cclxuXHJcbiJdfQ==
