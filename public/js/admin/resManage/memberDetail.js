$(document).ready(function(){Business.init();$inviteGuest.init();$aliveShowSet.init()});var Business=function(){var e={};e.isLoading=false;e.tabState="singleList";e.member_id=-1;e.member_price=0;e.searchContentForSingle="";e.searchContentForPackage="";e.resource_type=0;e.pageIndex=1;e.init=function(){e.member_id=GetQueryString("id");modal.id=GetQueryString("id");e.member_price=$(".admin_data").data("member_price");var t=sessionStorage.getItem("inviteGuestAliveId");if(t&&t!=""){sessionStorage.setItem("inviteGuestAliveId","");$inviteGuest.openGuestSettingWindow(t)}$(".toolBox").on("click","li",function(){var t=$(this).data("type");switch(t){case"edit":window.location.href="/edit_member_page?id="+e.member_id+"&page_origin=member_detail";break;case"newListShow":memberDetailUtils.changeNewlListState(e.member_id,0,0);break;case"newListHide":memberDetailUtils.changeNewlListState(e.member_id,0,1);break;case"show_member":memberDetailUtils.changeGoodsState(e.member_id,0,0);break;case"hide_member":memberDetailUtils.changeGoodsState(e.member_id,0,1);break;case"openForm":memberDetailUtils.packageForm(e.member_id,1);break;case"closeForm":memberDetailUtils.packageForm(e.member_id,0);break;default:console.log("会员操作，参数错误。");break}});$(".member_list_wrapper").on("click",".hover_tool_box li.operate",function(t){t.stopPropagation();var i=$(this).parents(".member_list_item").data("resource_id"),s=$(this).parents(".member_list_item").data("resource_type"),a=$(this).parents(".member_list_item").data("res_title"),o=$(this).parents(".member_list_item").data("is_try"),r=$(this).parents(".member_list_item").data("show_time"),n=$(this).parents(".member_list_item").data("img_url"),c=$(this).parents(".member_list_item").data("payment_type");var l=$(this).data("type");switch(l){case"to_top":memberDetailUtils.setResourceTop(e.member_id,s,i,1);break;case"cancel_top":memberDetailUtils.setResourceTop(e.member_id,s,i,0);break;case"aliveGuestSet":if(s==4){$inviteGuest.openGuestSettingWindow(i)}break;case"look_comments":if(s==4){contentDetail("/alivecomment?alive_id="+i)}else{contentDetail("/comment_admin?type="+(s-1)+"&record_id="+i)}break;case"edit":window.location.href="/edit_resource_page?type="+s+"&id="+i+"&upload_channel_type=3"+"&package_id="+e.member_id+"&price="+e.member_price;break;case"set_try":memberDetailUtils.setResourceTry(e.member_id,s,i,c,1);break;case"cancel_try":memberDetailUtils.setResourceTry(e.member_id,s,i,c,0);break;case"export_audio":memberDetailUtils.exportAudio(i);break;case"set_single_sale":memberDetailUtils.setSingleSale(s,i,a,o,r,n);break;case"cancel_single_sale":memberDetailUtils.cancelSingleSale(s,i,c);break;case"show_resource":memberDetailUtils.changeGoodsState(i,s,0);break;case"hide_resource":memberDetailUtils.changeGoodsState(i,s,1);break;case"delete":memberDetailUtils.querySingleResource(i,s,e.member_id);break;case"enable_copy":memberDetailUtils.changeCanSelectState(i,true);break;case"forbid_copy":$.alert("禁止复制后，该篇图文的图片点击放大和长按识别二维码功能将被禁用","info",{btn:3,onOk:function(){memberDetailUtils.changeCanSelectState(i,false)}});break;default:console.error("参数错误");break}});$(".member_list_wrapper").on("click","#package_item_operate li.operate",function(e){e.stopPropagation();var t=$(this).parents(".package_list_item").data("package_id"),i=$(this).data("type");switch(i){case"soldout":memberDetailUtils.packageisShow(t,false);break;case"putaway":memberDetailUtils.packageisShow(t,true);break;case"edit_package":window.location.href="edit_package_page?id="+t+"&member_id="+modal.id;break;case"remove_package":memberDetailUtils.queryPackageResource(t);break;default:console.log("参数错误");break}});(function(){var e=new Clipboard(".copyHref");e.on("success",function(e){if(e.trigger.id=="copy_app_href"){baseUtils.show.blueTip("复制成功！")}else{baseUtils.show.blueTip("复制成功！请在微信内打开哦 。")}e.clearSelection()})})();$(".content_tab_wrapper li").click(function(){if(!e.isLoading){$(".inputSearchAll").val("");e.pageIndex=1;e.isLoading=true;var t=$(this).text();if(!$(this).hasClass("activeContentTab")){if(t=="专栏"){$("#packageTab").addClass("activeContentTab");$("#singleTab").removeClass("activeContentTab");$(".selector_resource_type").addClass("hide")}else if(t=="单品"){$("#singleTab").addClass("activeContentTab");$("#packageTab").removeClass("activeContentTab");$(".selector_resource_type").removeClass("hide")}}if(t=="专栏"){e.searchContentForPackage="";e.tabState="packageList";memberDetailUtils.switchWindowTab("packageTab");modal.initPackageListOfMember()}else if(t=="单品"){e.searchContentForSingle="";e.resource_type=0;$("#firstOption").removeAttr("selected").attr("selected","selected");e.tabState="singleList";memberDetailUtils.switchWindowTab("singleTab");modal.initResourceListOfMember()}}});modal.selectResource();modal.initResourceAndPackageSearch();memberDetailUtils.initListPagination();$(".member_list_wrapper").on("click"," .pagination li a",function(t){var i=$(t.target),s=i.data("url");e.pageIndex=i.text();if(e.tabState=="packageList"){modal.initPackageListOfMember()}else if(e.tabState=="singleList"){modal.initResourceListOfMember()}});$(".userDefined").click(function(){var e=$(".admin_data").data("member_id");window.location.href="/user_defined?id="+e})};return e}();var modal=function(){var e={};e.initResourceListOfMember=function(){$(".loadingS").fadeIn(300);$.ajax("/singe_list_member",{type:"GET",dataType:"html",data:{id:Business.member_id,search_content:Business.searchContentForSingle,resource_type:Business.resource_type,page:Business.pageIndex},success:function(e){Business.isLoading=false;$(".loadingS").fadeOut(100);if(e&&e.length>0){$(".member_list_wrapper").html(e);memberDetailUtils.initListPagination()}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,t,i){Business.isLoading=false;$(".loadingS").fadeOut(100);console.log(i);baseUtils.show.redTip("获取单品列表失败")}})};e.initPackageListOfMember=function(){$(".loadingS").fadeIn(300);$.ajax("/package_list_member",{type:"GET",dataType:"html",data:{id:Business.member_id,search_content:Business.searchContentForPackage,page:Business.pageIndex},success:function(e){Business.isLoading=false;$(".loadingS").fadeOut(100);if(e&&e.length>0){$(".member_list_wrapper").html(e);memberDetailUtils.initListPagination()}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,t,i){Business.isLoading=false;$(".loadingS").fadeOut(100);console.log(i);baseUtils.show.redTip("获取单品列表失败")}})};e.hasDown=false;e.hasClose=true;e.page=1;e.searchContent="";e.isLoading=false;e.resType=0;e.tabState="singleList";e.selectResource=function(){var t=this;$("#addSingle").on("click",function(){t.page=1;t.hasDown=false;t.hasClose=false;t.getSelectData()});$("#selectWindow #selctClose, #selectWindow #selectCancelBtn").on("click",function(){var e=$("#selectWindow");e.fadeOut("normal",function(){$(this).find("#selectAreaList").html("")});e.find(".inputSearchPart").val("");t.page=1;t.hasClose=true;t.searchContent=""});$("#selectWindow #selectSearchBtn").on("click",function(){var e=$.trim($(this).prev().val());t.searchContent=e;t.page=1;t.hasClose=true;t.getSelectData()}).prev().on("keypress",function(e){if(e.keyCode=="13"){$("#selectWindow #selectSearchBtn").click()}});$(".selectGoodTabWrapper li").click(function(){var i=$(this).val();if(!e.isLoading){t.page=1;$("#selectWindow #selectAreaListWrapper").scrollTop(0);e.isLoading=true;if(i==1){memberDetailUtils.switchWindowTab("singleTab")}else{memberDetailUtils.switchWindowTab("packageTab")}t.getSelectData()}});$("#selectWindow #selectAreaListWrapper").scroll(function(e){var i=$("#selectAreaList").height(),s=$(this).height(),a=$(this).scrollTop();if(a+s>=i-5&&!t.hasDown&&!t.hasClose){t.hasClose=true;t.getSelectData()}else{}});$("#selectWindow #selectOkBtn").on("click",function(i){var s=$("#selectWindow #selectAreaListWrapper"),a=[];s.find(":checkbox:checked").each(function(t,i){if(e.tabState=="packageList"){var s={resource_id:i.getAttribute("id"),resource_type:6}}else if(e.tabState=="singleList"){var s={resource_id:i.getAttribute("id"),resource_type:i.getAttribute("value")}}a[a.length]=s});$.ajax("/submit_choice_resource",{type:"POST",dataType:"json",data:{channel_type:3,resource_list:a,package_id:t.id},success:function(t){console.log(t);if(t.code==0){$("#selectWindow #selctClose").click();baseUtils.show.blueTip(t.msg);if(e.tabState=="packageList"){$("#packageTab").click()}else if(e.tabState=="singleList"){$("#singleTab").click()}}else{baseUtils.show.redTip(t.msg)}},error:function(e,t,i){console.error(i);baseUtils.show.redTip("操作失败，请稍后再试")}})})};e.getSelectData=function(){var t=this;if(t.page==1){$(".loadingS_in_window").fadeIn(300)}$.ajax("/choice_resource_list",{type:"POST",dataType:"json",data:{search_content:t.searchContent||"",channel_type:3,resource_type:t.resType,package_id:t.id,page:t.page},success:function(i){$(".loadingS_in_window").fadeOut(300);e.isLoading=false;console.log(i);if(i.code==0){var s=$("#selectAreaList"),a="",o=JSON.parse(i.data.page_offset);$.each(i.data.resource_list,function(e,i){var s="";if(t.resType==0){switch(+this.resource_type){case 1:s="图文";break;case 2:s="音频";break;case 3:s="视频";break;case 4:s="直播";break;default:s="无";break}}if(t.resType==0){a+='<div class="resourceItemWrapper">'+'<input value="'+this.resource_type+'" id="'+this.id+'" class="with-gap singleResourceRadio" name="select_resource" type="checkbox">'+'<label for="'+this.id+'" class="radio_desc">'+'<div class="resource_icon_wrapper">'+'<img class="resource_icon" src="'+this.img_url+'">'+"</div>"+this.title+"</label>"+'<span class="resource_type">'+s+"</span>"+'<span class="resource_time">'+this.start_at+"</span>"+"</div>"}else{a+='<div class="resourceItemWrapper">'+"<input"+' id="'+this.id+'" class="with-gap singleResourceRadio" name="select_resource" type="checkbox">'+'<label for="'+this.id+'" class="radio_desc">'+'<div class="resource_icon_wrapper">'+'<img class="resource_icon" src="'+this.img_url+'">'+"</div>"+this.name+"</label>"+'<span class="resource_time">'+this.updated_at+"</span>"+"</div>"}});if(t.page==1||!t.page){s.html(a);s.append('<div class="isDown">资源加载中</div>');t.hasClose=false;if(!t.searchContent){$("#selectWindow").fadeIn()}}else if(t.page>1){s.find(".isDown").before(a);t.hasClose=false}if(o.current_page>=o.total_pages){s.find(".isDown").hide();t.hasDown=true}t.page++}else{baseUtils.show.redTip("拉取已有单品失败！")}},error:function(t,i,s){$(".loadingS_in_window").fadeOut(300);e.isLoading=false;console.error(s);baseUtils.show.redTip("操作失败，请稍后再试")}})};e.initResourceAndPackageSearch=function(){$(".searchAllBtn").click(function(){if(Business.tabState=="packageList"){Business.searchContentForPackage=$.trim($(".inputSearchAll").val());e.initPackageListOfMember()}else if(Business.tabState=="singleList"){Business.resource_type=$(".selector_resource_type").val();Business.searchContentForSingle=$.trim($(".inputSearchAll").val());e.initResourceListOfMember()}});$(".inputSearchAll").on("keypress",function(e){if(e.keyCode==13){$(".searchAllBtn").click()}});$(".selector_resource_type").on("change",function(){$(".searchAllBtn").click()})};e.initSetSingleSaleWindow=function(t,i,s,a,o){$(".resource_icon_3").attr("src",t);$(".resource_title_3").html(i);switch(s){case 1:$(".resource_type_3").html("图文");break;case 2:$(".resource_type_3").html("音频");break;case 3:$(".resource_type_3").html("视频");break;case 4:$(".resource_type_3").html("直播");break;default:break}$(".resource_time_3").html(a);$(".close_icon_wrapper_2, .cancel_set_price").click(function(){$(".set_price_window").fadeOut(300)});$(".confirm_price_btn").click(function(){var t=$.trim($(".input_setting_price").val());var i=/^([1-9][\d]*|0)([\/.][\d]{1,2})?$/;if(!i.test(t)){baseUtils.show.redTip("价格输入有误");$(".input_setting_price").val("");return false}if(t<=0){baseUtils.show.redTip("价格不能为0 或 负数!");return false}if(t>baseUtils.maxInputPrice){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}var a={};a["resource_id"]=o;a["resource_type"]=s;var r=[a];showLoading();$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:r,piece_price:t*100,submit_type:0},success:function(t){hideLoading();if(t.code==0){$(".set_price_window").fadeOut(300);baseUtils.show.blueTip("设为单卖成功");e.initResourceListOfMember()}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,t,i){hideLoading();console.log(i);baseUtils.show.redTip("服务器开小差啦，请稍后再操作！")}})})};return e}();var memberDetailUtils=function(){var e={};e.changeGoodsState=function(e,t,i){if(t==0){var s=i==0?"上架后该会员将对外显示":"下架后该会员将不对外显示"}else if(t==1||t==2||t==3||t==4){var s=i==0?"上架后该单品将对外显示":"下架后该单品将不对外显示"}$.alert(s,"info",{onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:t,operate_type:i},success:function(e){hideLoading();if(e.code==0){if(i==0){baseUtils.show.blueTip("上架成功！")}else{baseUtils.show.blueTip("下架成功！")}if(t==0){setTimeout(function(){window.location.reload()},1500)}else{modal.initResourceListOfMember()}}else{baseUtils.show.redTip("操作失败，请稍后重试！")}},error:function(e,t,i){hideLoading();console.log(i);baseUtils.show.redTip("操作失败，请稍后重试！")}})}})};e.changeNewlListState=function(e,t,i){showLoading();$.ajax("/set_h5_newest_hide",{type:"POST",dataType:"json",data:{id:e,h5_newest_hide:i},success:function(e){hideLoading();if(e.code==0){if(i==0){baseUtils.show.blueTip("设置成功！")}else{baseUtils.show.blueTip("设置成功！")}if(t==0){setTimeout(function(){window.location.reload()},1500)}else{modal.initResourceListOfMember()}}else{baseUtils.show.redTip("操作失败，请稍后重试！")}},error:function(e,t,i){hideLoading();console.log(i);baseUtils.show.redTip("操作失败，请稍后重试！")}})};e.setResourceTop=function(e,t,i,s){showLoading();$.ajax("/set_package_resource_top",{type:"POST",dataType:"json",data:{package_id:e,resource_type:t,resource_id:i,top_state:s},success:function(e){hideLoading();if(e.code==0){if(s==0){baseUtils.show.blueTip("已经取消置顶！")}else{baseUtils.show.blueTip("置顶成功！")}modal.initResourceListOfMember()}else{baseUtils.show.redTip(e.msg)}},error:function(e,t,i){hideLoading();console.error(i);baseUtils.show.redTip("操作失败，请稍后再试")}})};e.packageisShow=function(e,t){$.alert(t?"上架后该专栏将对外显示":"下架后该专栏将不对外显示","info",{onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:0,operate_type:t?0:1},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{baseUtils.show.redTip(e.msg);hideLoading();self.btnState=true}},error:function(e,t,i){console.error(i);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}})};e.querySingleResource=function(t,i,s){showLoading();$.ajax("/query_goods_state",{type:"POST",dataType:"json",data:{goods_id:t,goods_type:i,channel_type:2,package_id:s},success:function(a){hideLoading();if(a.code==0){var o=a.data["is_exist"],r=a.data["records_list"],n=Object.keys(r).length,c="";if(o==0){c="确认移除该内容，移除后所有用户将无法查看此内容且<spa style='color: red;'>不可恢复</spa>"}else if(r[0]==undefined){for(var l=1;l<=n;l++){c+="《"+r[l]["title"]+"》"}c="确认移除该内容，移除后该会员用户将无法查看此内容。此内容仍存在于"+c+"中"}else{if(n==1){c="确认移除该内容，移除后该会员用户将无法查看此内容。此内容仍在单品列表且单独售卖"}else{for(var l=1;l<n;l++){c+="《"+r[l]["title"]+"》"}c="确认移除该内容，移除后该会员用户将无法查看此内容。此内容单独售卖且仍存在于"+c+"中"}}$.alert(c,"info",{oktext:"确认移除",onOk:function(){e.deleteSingleResource(t,i,s)}})}else{baseUtils.show.redTip("操作失败！")}},error:function(e,t,i){hideLoading();console.log(i);baseUtils.show.redTip("服务器开小差了，请稍后再试！")}})};e.queryPackageResource=function(t){showLoading();$.ajax("/query_goods_state",{type:"POST",dataType:"json",data:{goods_id:t,goods_type:6,channel_type:2,package_id:Business.member_id},success:function(i){hideLoading();if(i.code==0){var s=i.data["is_exist"],a=i.data["records_list"],o=Object.keys(a).length,r="";if(s==0){r="确认移除该专栏，移除后该会员用户将无法查看此专栏，此专栏仍在专栏列表且单独售卖"}else{for(var n=1;n<=o;n++){r+="《"+a[n]["title"]+"》"}r="确认移除该专栏，移除后该会员用户将无法查看此专栏，此专栏仍存在于"+r+"中"}$.alert(r,"info",{oktext:"确认移除",onOk:function(){e.deleteSingleResource(t,6,Business.member_id)}})}else{baseUtils.show.redTip("操作失败！");console.log(i.msg)}},error:function(e,t,i){hideLoading();console.log(i);baseUtils.show.redTip("服务器开小差了，请稍后再试！")}})};e.packageForm=function(e,t){var i=$(".user_version_num").data("version_type");if(i&&i==3){$.alert(t?"开启资料填写后，用户在付费购买本会员前将填写个人信息，您确认要开启么？":"关闭资料填写后，用户在付费购买本会员前将不再填写个人信息，您确认要关闭么？","info",{icon:"blue",onOk:function(){showLoading();$.ajax("/set_is_complete_info",{type:"POST",dataType:"json",data:{id:e,is_complete_info:t},success:function(e){console.log(e);location.reload();if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},200)}else{baseUtils.show.redTip(e.msg);hideLoading()}}})}})}else{baseUtils.show.redTip("当前版本不支持开启资料填写，如需开启请升级至专业版")}};e.deleteSingleResource=function(e,t,i){$.ajax("/move_goods",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:t,channel_type:2,package_id:i},success:function(e){$(".loadingS").fadeOut(300);if(e.code==0){baseUtils.show.blueTip("移除成功！")}else{baseUtils.show.redTip("移除失败，请稍后再试")}if(t==6){modal.initPackageListOfMember()}else{modal.initResourceListOfMember()}},error:function(e,t,i){$(".loadingS").fadeOut(300);console.log(i);baseUtils.show.redTip("服务器开小差了，请稍后再试！")}})};e.setResourceTry=function(e,t,i,s,a){if(s==1||s==2){if(t==2){$.alert("该单品已设为单卖，取消单卖后方可设为试听","info",{btn:2})}else if(t==1||t==3||t==4){$.alert("该单品已设为单卖，取消单卖后方可设为试看","info",{btn:2})}return false}showLoading();$.ajax("/set_package_resource_try",{type:"POST",dataType:"json",data:{package_id:e,resource_type:t,resource_id:i,try_state:a},success:function(e){hideLoading();if(e.code==0){if(a==1){baseUtils.show.blueTip("设置成功！")}else{baseUtils.show.blueTip("取消成功！")}modal.initResourceListOfMember()}else{baseUtils.show.redTip("操作失败！")}},error:function(e,t,i){console.error(i);hideLoading();baseUtils.show.redTip("操作失败，请稍后再试")}})};e.exportAudio=function(e){$.ajax("/async_download_alive_voice",{type:"POST",dataType:"json",data:{alive_id:e},success:function(e){switch(e.code){case 0:window.location.href=e.data["url"];break;case 1:$.alert("语音正在合成中，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 2:$.alert("开始进行语音合成，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 3:$.alert("服务器正在维护，直播音频导出功能受到影响，请稍后再试。","info",{btn:2});break;case 4:$.alert("该直播没有音频。","info",{btn:2});break;case 5:$.alert("这个直播不是语音类型的，不支持音频导出。","info",{btn:2});break;case 6:$.alert("这个直播还没结束，暂不支持音频导出。","info",{btn:2});break;default:console.log("参数错误");baseUtils.show.redTip(e.msg);break}console.log(e.msg)},error:function(e,t,i){console.log(i);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})};e.setSingleSale=function(e,t,i,s,a,o){if(s==1){if(e==2){$.alert("该单品已设为试听，取消试听后方可设为单卖","info",{btn:2})}else if(e==1||e==3||e==4){$.alert("该单品已设为试看，取消试看后方可设为单卖","info",{btn:2})}}else{modal.initSetSingleSaleWindow(o,i,e,a,t);$(".set_price_window").fadeIn(300)}};e.cancelSingleSale=function(e,t,i){if(i==1){var s="取消单卖后，未开通会员的用户将不可单独查看该单品!"}else if(i==2){var s="取消单卖后，未开通会员的用户将不可单独付费购买该单品!"}$.alert(s,"info",{onOk:function(){showLoading();var i={};i["resource_id"]=t;i["resource_type"]=e;var s=[i];$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:s,submit_type:1},success:function(e){hideLoading();if(e.code==0){baseUtils.show.blueTip("取消单卖成功！");modal.initResourceListOfMember()}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,t,i){hideLoading();console.log(i);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})}})};e.changeCanSelectState=function(e,t){$.ajax("/set_resource_select_can",{type:"POST",dataType:"json",data:{id:e,resource_type:1,can_select:t?1:0},success:function(e){if(e.code==0){if(t){baseUtils.show.blueTip("已经允许复制")}else{baseUtils.show.blueTip("已经禁止复制")}window.location.reload()}else{baseUtils.show.redTip("操作失败，请稍后再试")}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})};e.initListPagination=function(){$(".list-page .pagination li a").each(function(){var e=$(this);e.attr("data-url",e.attr("href"));e.removeAttr("href")})};e.switchWindowTab=function(e){var t=$(".selectGoodTabWrapper>li.activeContentTab").val();if(t==1&&e=="singleTab"||t==0&&e=="packageTab"){return false}if(e=="singleTab"){$("#selectGoodSingleTab").addClass("activeContentTab");$("#selectGoodPackageTab").removeClass("activeContentTab");modal.tabState="singleList";modal.resType=0}else if(e=="packageTab"){$("#selectGoodPackageTab").addClass("activeContentTab");$("#selectGoodSingleTab").removeClass("activeContentTab");modal.tabState="packageList";modal.resType=6}};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlckRldGFpbC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIkJ1c2luZXNzIiwiaW5pdCIsIiRpbnZpdGVHdWVzdCIsIiRhbGl2ZVNob3dTZXQiLCJpc0xvYWRpbmciLCJ0YWJTdGF0ZSIsIm1lbWJlcl9pZCIsIm1lbWJlcl9wcmljZSIsInNlYXJjaENvbnRlbnRGb3JTaW5nbGUiLCJzZWFyY2hDb250ZW50Rm9yUGFja2FnZSIsInJlc291cmNlX3R5cGUiLCJwYWdlSW5kZXgiLCJHZXRRdWVyeVN0cmluZyIsIm1vZGFsIiwiaWQiLCJkYXRhIiwiYWxpdmVJZCIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJvcGVuR3Vlc3RTZXR0aW5nV2luZG93Iiwib24iLCJ0eXBlIiwidGhpcyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsIm1lbWJlckRldGFpbFV0aWxzIiwiY2hhbmdlTmV3bExpc3RTdGF0ZSIsImNoYW5nZUdvb2RzU3RhdGUiLCJwYWNrYWdlRm9ybSIsImNvbnNvbGUiLCJsb2ciLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwicmVzSWQiLCJwYXJlbnRzIiwicmVzVHlwZSIsInJlc1RpdGxlIiwiaXNUcnkiLCJzaG93VGltZSIsInJlc0ltZ1VybCIsInBheW1lbnRUeXBlIiwic2V0UmVzb3VyY2VUb3AiLCJjb250ZW50RGV0YWlsIiwic2V0UmVzb3VyY2VUcnkiLCJleHBvcnRBdWRpbyIsInNldFNpbmdsZVNhbGUiLCJjYW5jZWxTaW5nbGVTYWxlIiwicXVlcnlTaW5nbGVSZXNvdXJjZSIsImNoYW5nZUNhblNlbGVjdFN0YXRlIiwiYWxlcnQiLCJidG4iLCJvbk9rIiwiZXJyb3IiLCJwYWNrYWdlSWQiLCJwYWNrYWdlaXNTaG93IiwicXVlcnlQYWNrYWdlUmVzb3VyY2UiLCJjbGlwYm9hcmQiLCJDbGlwYm9hcmQiLCJ0cmlnZ2VyIiwiYmFzZVV0aWxzIiwic2hvdyIsImJsdWVUaXAiLCJjbGVhclNlbGVjdGlvbiIsImNsaWNrIiwidmFsIiwidGV4dCIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInN3aXRjaFdpbmRvd1RhYiIsImluaXRQYWNrYWdlTGlzdE9mTWVtYmVyIiwicmVtb3ZlQXR0ciIsImF0dHIiLCJpbml0UmVzb3VyY2VMaXN0T2ZNZW1iZXIiLCJzZWxlY3RSZXNvdXJjZSIsImluaXRSZXNvdXJjZUFuZFBhY2thZ2VTZWFyY2giLCJpbml0TGlzdFBhZ2luYXRpb24iLCJlbGUiLCJ0YXJnZXQiLCJ1cmwiLCJwaWQiLCJmYWRlSW4iLCJhamF4IiwiZGF0YVR5cGUiLCJzZWFyY2hfY29udGVudCIsInBhZ2UiLCJzdWNjZXNzIiwicmVzdWx0IiwiZmFkZU91dCIsImxlbmd0aCIsImh0bWwiLCJyZWRUaXAiLCJ4aHIiLCJzdGF0dXMiLCJlcnIiLCJoYXNEb3duIiwiaGFzQ2xvc2UiLCJzZWFyY2hDb250ZW50Iiwic2VsZiIsImdldFNlbGVjdERhdGEiLCIkc2VsZWN0V2luIiwiZmluZCIsInNlYXJjaFZhbCIsInRyaW0iLCJwcmV2Iiwia2V5Q29kZSIsInZhbHVlIiwic2Nyb2xsVG9wIiwic2Nyb2xsIiwiRGl2SGVpZ2h0IiwiaGVpZ2h0IiwiU2Nyb2xsSGVpZ2h0IiwiU2Nyb2xsVG9wIiwiJHNlbGVjdEFyZWEiLCJyZXNMaXN0IiwiZWFjaCIsImkiLCJpdGVtIiwicmVzT2JqIiwicmVzb3VyY2VfaWQiLCJnZXRBdHRyaWJ1dGUiLCJjaGFubmVsX3R5cGUiLCJyZXNvdXJjZV9saXN0IiwicGFja2FnZV9pZCIsImNvZGUiLCJtc2ciLCJzZWxlY3RTdHIiLCJwYWdlT2JqIiwiSlNPTiIsInBhcnNlIiwicGFnZV9vZmZzZXQiLCJpbWdfdXJsIiwidGl0bGUiLCJzdGFydF9hdCIsIm5hbWUiLCJ1cGRhdGVkX2F0IiwiYXBwZW5kIiwiYmVmb3JlIiwiY3VycmVudF9wYWdlIiwidG90YWxfcGFnZXMiLCJoaWRlIiwiaW5pdFNldFNpbmdsZVNhbGVXaW5kb3ciLCJwcmljZSIsInJlZyIsInRlc3QiLCJtYXhJbnB1dFByaWNlIiwiYXJyIiwicmVzb3VyY2VMaXN0QXJyIiwic2hvd0xvYWRpbmciLCJwaWVjZV9wcmljZSIsInN1Ym1pdF90eXBlIiwiaGlkZUxvYWRpbmciLCJ1dGlscyIsImdvb2RzSWQiLCJnb29kc1R5cGUiLCJvcGVyYXRlX3R5cGUiLCJnb29kc19pZCIsImdvb2RzX3R5cGUiLCJzZXRUaW1lb3V0IiwicmVsb2FkIiwiaDVfbmV3ZXN0X2hpZGUiLCJyZXNvdXJjZVR5cGUiLCJyZXNvdXJjZUlkIiwidG9wU3RhdGUiLCJ0b3Bfc3RhdGUiLCJjaGFuZ2VUeXBlIiwicmVsb2FkUGFnZSIsImJ0blN0YXRlIiwiaXNFeGlzdCIsInJlY29yZHNMaXN0IiwiYXJyTGVuZ3RoIiwiT2JqZWN0Iiwia2V5cyIsInVuZGVmaW5lZCIsImluZGV4Iiwib2t0ZXh0IiwiZGVsZXRlU2luZ2xlUmVzb3VyY2UiLCJmb3JtVHlwZSIsInZlcnNpb24iLCJpY29uIiwiaXNfY29tcGxldGVfaW5mbyIsIm1lbWJlcklkIiwidHJ5U3RhdGUiLCJ0cnlfc3RhdGUiLCJhbGl2ZV9pZCIsImNhblNlbGVjdCIsImNhbl9zZWxlY3QiLCIkZWxlIiwidGFiVmFsdWUiXSwibWFwcGluZ3MiOiJBQUlBQSxFQUFFQyxVQUFVQyxNQUFNLFdBQ2RDLFNBQVNDLE1BQ1RDLGNBQWFELE1BQ2JFLGVBQWNGLFFBR2xCLElBQUlELFVBQVcsV0FFWCxHQUFJQSxLQUVKQSxHQUFTSSxVQUFZLEtBQ3JCSixHQUFTSyxTQUFXLFlBRXBCTCxHQUFTTSxXQUFhLENBQ3RCTixHQUFTTyxhQUFlLENBR3hCUCxHQUFTUSx1QkFBeUIsRUFDbENSLEdBQVNTLHdCQUEwQixFQUNuQ1QsR0FBU1UsY0FBZ0IsQ0FFekJWLEdBQVNXLFVBQVksQ0FFckJYLEdBQVNDLEtBQU8sV0FFWkQsRUFBU00sVUFBWU0sZUFBZSxLQUNwQ0MsT0FBTUMsR0FBS0YsZUFBZSxLQUMxQlosR0FBU08sYUFBZVYsRUFBRSxlQUFla0IsS0FBSyxlQUc5QyxJQUFJ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cUgiLCJmaWxlIjoibWVtYmVyRGV0YWlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IEFkbWluaXN0cmF0b3Igb24gMjAxNy8zLzIxLlxuICovXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIEJ1c2luZXNzLmluaXQoKTtcbiAgICAkaW52aXRlR3Vlc3QuaW5pdCgpO1xuICAgICRhbGl2ZVNob3dTZXQuaW5pdCgpO1xufSk7XG5cbnZhciBCdXNpbmVzcyA9IChmdW5jdGlvbigpIHtcblxuICAgIHZhciBCdXNpbmVzcyA9IHt9O1xuXG4gICAgQnVzaW5lc3MuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgQnVzaW5lc3MudGFiU3RhdGUgPSBcInNpbmdsZUxpc3RcIjsgIC8vIOm7mOiupOaYvuekuuS4k+agj+WIl+ihqCAgICAg77yIXCJwYWNrYWdlTGlzdFwiLCBcInNpbmdsZUxpc3RcIu+8iVxuXG4gICAgQnVzaW5lc3MubWVtYmVyX2lkID0gLTE7XG4gICAgQnVzaW5lc3MubWVtYmVyX3ByaWNlID0gMDtcblxuICAgIC8vICDmkJzntKJcbiAgICBCdXNpbmVzcy5zZWFyY2hDb250ZW50Rm9yU2luZ2xlID0gXCJcIjtcbiAgICBCdXNpbmVzcy5zZWFyY2hDb250ZW50Rm9yUGFja2FnZSA9IFwiXCI7XG4gICAgQnVzaW5lc3MucmVzb3VyY2VfdHlwZSA9IDA7XG5cbiAgICBCdXNpbmVzcy5wYWdlSW5kZXggPSAxO1xuXG4gICAgQnVzaW5lc3MuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyAg5LuO5b2T5YmNVVJM5Lit5Y+W5Ye65Y+C5pWwXG4gICAgICAgIEJ1c2luZXNzLm1lbWJlcl9pZCA9IEdldFF1ZXJ5U3RyaW5nKFwiaWRcIik7XG4gICAgICAgIG1vZGFsLmlkID0gR2V0UXVlcnlTdHJpbmcoXCJpZFwiKTtcbiAgICAgICAgQnVzaW5lc3MubWVtYmVyX3ByaWNlID0gJChcIi5hZG1pbl9kYXRhXCIpLmRhdGEoXCJtZW1iZXJfcHJpY2VcIik7XG5cbiAgICAgICAgLy/miZPlvIDnm7Tmkq3nqpflj6NcbiAgICAgICAgdmFyIGFsaXZlSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiaW52aXRlR3Vlc3RBbGl2ZUlkXCIpO1xuICAgICAgICBpZiAoYWxpdmVJZCAmJiBhbGl2ZUlkICE9IFwiXCIpIHtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJpbnZpdGVHdWVzdEFsaXZlSWRcIiwgXCJcIik7XG4gICAgICAgICAgICAkaW52aXRlR3Vlc3Qub3Blbkd1ZXN0U2V0dGluZ1dpbmRvdyhhbGl2ZUlkKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gIOmSiOWvueS8muWRmOS/oeaBr+eahOaTjeS9nFxuICAgICAgICAkKCcudG9vbEJveCcpLm9uKFwiY2xpY2tcIiwgXCJsaVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gJCh0aGlzKS5kYXRhKFwidHlwZVwiKTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlZGl0XCI6Ly8gIOe8lui+kVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2VkaXRfbWVtYmVyX3BhZ2U/aWQ9XCIgKyBCdXNpbmVzcy5tZW1iZXJfaWQgKyBcIiZwYWdlX29yaWdpbj1tZW1iZXJfZGV0YWlsXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJuZXdMaXN0U2hvd1wiOi8v5Zyo5pyA5paw5YiX6KGo5Lit5pi+56S6XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLmNoYW5nZU5ld2xMaXN0U3RhdGUoQnVzaW5lc3MubWVtYmVyX2lkLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5ld0xpc3RIaWRlXCI6Ly/lnKjmnIDmlrDliJfooajkuK3mmL7npLpcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuY2hhbmdlTmV3bExpc3RTdGF0ZShCdXNpbmVzcy5tZW1iZXJfaWQsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic2hvd19tZW1iZXJcIjovLyAg5LiK5p62XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLmNoYW5nZUdvb2RzU3RhdGUoQnVzaW5lc3MubWVtYmVyX2lkLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImhpZGVfbWVtYmVyXCI6Ly8gIOS4i+aetlxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5jaGFuZ2VHb29kc1N0YXRlKEJ1c2luZXNzLm1lbWJlcl9pZCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGVuRm9ybVwiOi8vICDlvIDlkK/otYTmlpnloavlhplcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMucGFja2FnZUZvcm0oQnVzaW5lc3MubWVtYmVyX2lkLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNsb3NlRm9ybVwiOi8vICDlhbPpl63otYTmlpnloavlhplcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMucGFja2FnZUZvcm0oQnVzaW5lc3MubWVtYmVyX2lkLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLkvJrlkZjmk43kvZzvvIzlj4LmlbDplJnor6/jgIJcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICDpkojlr7nljZXlk4HliJfooajkuK3mr4/kuIDkuKrmnaHnm67nmoTmk43kvZxcbiAgICAgICAgJChcIi5tZW1iZXJfbGlzdF93cmFwcGVyXCIpLm9uKFwiY2xpY2tcIiwgXCIuaG92ZXJfdG9vbF9ib3ggbGkub3BlcmF0ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAvLyAg6Zi75q2i5LqL5Lu25ZCR5LiL5Lyg6YCSXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAvLyAg5b2T5YmN5p2h55uu55qE6LWE5rqQaWRcbiAgICAgICAgICAgIHZhciByZXNJZCA9ICQodGhpcykucGFyZW50cyhcIi5tZW1iZXJfbGlzdF9pdGVtXCIpLmRhdGEoXCJyZXNvdXJjZV9pZFwiKSxcbiAgICAgICAgICAgICAgICByZXNUeXBlID0gJCh0aGlzKS5wYXJlbnRzKFwiLm1lbWJlcl9saXN0X2l0ZW1cIikuZGF0YShcInJlc291cmNlX3R5cGVcIiksXG4gICAgICAgICAgICAgICAgcmVzVGl0bGUgPSAkKHRoaXMpLnBhcmVudHMoXCIubWVtYmVyX2xpc3RfaXRlbVwiKS5kYXRhKFwicmVzX3RpdGxlXCIpLFxuICAgICAgICAgICAgICAgIGlzVHJ5ID0gJCh0aGlzKS5wYXJlbnRzKFwiLm1lbWJlcl9saXN0X2l0ZW1cIikuZGF0YShcImlzX3RyeVwiKSxcbiAgICAgICAgICAgICAgICBzaG93VGltZSA9ICQodGhpcykucGFyZW50cyhcIi5tZW1iZXJfbGlzdF9pdGVtXCIpLmRhdGEoXCJzaG93X3RpbWVcIiksXG4gICAgICAgICAgICAgICAgcmVzSW1nVXJsID0gJCh0aGlzKS5wYXJlbnRzKFwiLm1lbWJlcl9saXN0X2l0ZW1cIikuZGF0YShcImltZ191cmxcIiksXG4gICAgICAgICAgICAgICAgcGF5bWVudFR5cGUgPSAkKHRoaXMpLnBhcmVudHMoXCIubWVtYmVyX2xpc3RfaXRlbVwiKS5kYXRhKFwicGF5bWVudF90eXBlXCIpO1xuXG4gICAgICAgICAgICB2YXIgdHlwZSA9ICQodGhpcykuZGF0YShcInR5cGVcIik7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidG9fdG9wXCI6Ly8gIOe9rumhtlxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5zZXRSZXNvdXJjZVRvcChCdXNpbmVzcy5tZW1iZXJfaWQsIHJlc1R5cGUsIHJlc0lkLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNhbmNlbF90b3BcIjovLyAg5Y+W5raI572u6aG2XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLnNldFJlc291cmNlVG9wKEJ1c2luZXNzLm1lbWJlcl9pZCwgcmVzVHlwZSwgcmVzSWQsIDApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWxpdmVHdWVzdFNldFwiOi8vICDlmInlrr7orr7nva5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGludml0ZUd1ZXN0Lm9wZW5HdWVzdFNldHRpbmdXaW5kb3cocmVzSWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsb29rX2NvbW1lbnRzXCI6Ly8gIOafpeeci+ivhOiuulxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzVHlwZSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50RGV0YWlsKFwiL2FsaXZlY29tbWVudD9hbGl2ZV9pZD1cIiArIHJlc0lkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnREZXRhaWwoXCIvY29tbWVudF9hZG1pbj90eXBlPVwiICsgKHJlc1R5cGUgLSAxKSArIFwiJnJlY29yZF9pZD1cIiArIHJlc0lkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZWRpdFwiOi8vICDnvJbovpFcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9lZGl0X3Jlc291cmNlX3BhZ2U/dHlwZT1cIiArIHJlc1R5cGUgKyBcIiZpZD1cIiArIHJlc0lkICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiJnVwbG9hZF9jaGFubmVsX3R5cGU9M1wiICsgXCImcGFja2FnZV9pZD1cIiArIEJ1c2luZXNzLm1lbWJlcl9pZCArIFwiJnByaWNlPVwiICsgQnVzaW5lc3MubWVtYmVyX3ByaWNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic2V0X3RyeVwiOi8vICDorr7kuLror5XlkKwg5oiWIOivleeci1xuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5zZXRSZXNvdXJjZVRyeShCdXNpbmVzcy5tZW1iZXJfaWQsIHJlc1R5cGUsIHJlc0lkLCBwYXltZW50VHlwZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjYW5jZWxfdHJ5XCI6Ly8gIOWPlua2iOivleWQrCDmiJYg6K+V55yLXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLnNldFJlc291cmNlVHJ5KEJ1c2luZXNzLm1lbWJlcl9pZCwgcmVzVHlwZSwgcmVzSWQsIHBheW1lbnRUeXBlLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImV4cG9ydF9hdWRpb1wiOi8vICDlr7zlh7rpn7PpopFcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuZXhwb3J0QXVkaW8ocmVzSWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic2V0X3NpbmdsZV9zYWxlXCI6Ly8gIOiuvue9ruWNleWNllxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5zZXRTaW5nbGVTYWxlKHJlc1R5cGUsIHJlc0lkLCByZXNUaXRsZSwgaXNUcnksIHNob3dUaW1lLCByZXNJbWdVcmwpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2FuY2VsX3NpbmdsZV9zYWxlXCI6Ly8gIOWPlua2iOWNleWNllxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5jYW5jZWxTaW5nbGVTYWxlKHJlc1R5cGUsIHJlc0lkLCBwYXltZW50VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzaG93X3Jlc291cmNlXCI6Ly8gIOS4iuaetlxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5jaGFuZ2VHb29kc1N0YXRlKHJlc0lkLCByZXNUeXBlLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImhpZGVfcmVzb3VyY2VcIjovLyAg5LiL5p62XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLmNoYW5nZUdvb2RzU3RhdGUocmVzSWQsIHJlc1R5cGUsIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVsZXRlXCI6Ly8gIOenu+mZpOivpeWVhuWTgVxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5xdWVyeVNpbmdsZVJlc291cmNlKHJlc0lkLCByZXNUeXBlLCBCdXNpbmVzcy5tZW1iZXJfaWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdlbmFibGVfY29weSc6Ly/lhYHorrjlpI3liLZcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuY2hhbmdlQ2FuU2VsZWN0U3RhdGUocmVzSWQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmb3JiaWRfY29weSc6Ly/npoHmraLlpI3liLZcbiAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuemgeatouWkjeWItuWQju+8jOivpeevh+WbvuaWh+eahOWbvueJh+eCueWHu+aUvuWkp+WSjOmVv+aMieivhuWIq+S6jOe7tOeggeWKn+iDveWwhuiiq+emgeeUqFwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLmNoYW5nZUNhblNlbGVjdFN0YXRlKHJlc0lkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCflj4LmlbDplJnor68nKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIOmSiOWvueS4k+agj+WIl+ihqOS4reavj+S4gOS4quadoeebrueahOaTjeS9nFxuICAgICAgICAkKFwiLm1lbWJlcl9saXN0X3dyYXBwZXJcIikub24oXCJjbGlja1wiLCBcIiNwYWNrYWdlX2l0ZW1fb3BlcmF0ZSBsaS5vcGVyYXRlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgdmFyIHBhY2thZ2VJZCA9ICQodGhpcykucGFyZW50cyhcIi5wYWNrYWdlX2xpc3RfaXRlbVwiKS5kYXRhKFwicGFja2FnZV9pZFwiKSxcbiAgICAgICAgICAgICAgICB0eXBlID0gJCh0aGlzKS5kYXRhKFwidHlwZVwiKTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIGNhc2UgXCJ0b190b3BcIjogIC8v572u6aG2XG4gICAgICAgICAgICAgICAgLy8gICAgIG1lbWJlckRldGFpbFV0aWxzLnNldFJlc291cmNlVG9wKEJ1c2luZXNzLm1lbWJlcl9pZCwgNiwgcGFja2FnZUlkLCAxKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gY2FzZSBcImNhbmNlbF90b3BcIjogIC8v572u6aG2XG4gICAgICAgICAgICAgICAgLy8gICAgIG1lbWJlckRldGFpbFV0aWxzLnNldFJlc291cmNlVG9wKEJ1c2luZXNzLm1lbWJlcl9pZCwgNiwgcGFja2FnZUlkLCAwKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc29sZG91dCc6XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLnBhY2thZ2Vpc1Nob3cocGFja2FnZUlkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3B1dGF3YXknOlxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5wYWNrYWdlaXNTaG93KHBhY2thZ2VJZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlZGl0X3BhY2thZ2VcIjogICAgLy/nvJbovpFcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImVkaXRfcGFja2FnZV9wYWdlP2lkPVwiICsgcGFja2FnZUlkICsgXCImbWVtYmVyX2lkPVwiICsgbW9kYWwuaWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVfcGFja2FnZVwiOiAgLy/np7vpmaTor6XmnYPnm4pcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMucXVlcnlQYWNrYWdlUmVzb3VyY2UocGFja2FnZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlj4LmlbDplJnor69cIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAg5pON5L2cIC0g5aSN5Yi25Yiw5Ymq6LS05p2/XG4gICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKCcuY29weUhyZWYnKTtcbiAgICAgICAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZihlLnRyaWdnZXIuaWQ9PSdjb3B5X2FwcF9ocmVmJyl7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlpI3liLbmiJDlip/vvIFcIik7XG5cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWkjeWItuaIkOWKn++8geivt+WcqOW+ruS/oeWGheaJk+W8gOWTpiDjgIJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSgpO1xuXG4gICAgICAgIC8vIOS4k+agjyArIOWNleWTgSB0YWIg5YiH5o2iXG4gICAgICAgICQoXCIuY29udGVudF90YWJfd3JhcHBlciBsaVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIUJ1c2luZXNzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICQoXCIuaW5wdXRTZWFyY2hBbGxcIikudmFsKFwiXCIpO1xuICAgICAgICAgICAgICAgIEJ1c2luZXNzLnBhZ2VJbmRleCA9IDE7ICAgICAvL+WIh+aNouWQju+8jOWIhumhtemhteeggee9ruS4ujFcbiAgICAgICAgICAgICAgICBCdXNpbmVzcy5pc0xvYWRpbmcgPSB0cnVlOyAgLy/orrDlvZXliqDovb3nirbmgIHvvIzpmLLph43lpI3ngrnlh7tcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9ICQodGhpcykudGV4dCgpO1xuICAgICAgICAgICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQgPT0gXCLkuJPmoI9cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwYWNrYWdlVGFiXCIpLmFkZENsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjc2luZ2xlVGFiXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuc2VsZWN0b3JfcmVzb3VyY2VfdHlwZVwiKS5hZGRDbGFzcyhcImhpZGVcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dCA9PSBcIuWNleWTgVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3NpbmdsZVRhYlwiKS5hZGRDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3BhY2thZ2VUYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGV4dCA9PSBcIuS4k+agj1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIEJ1c2luZXNzLnNlYXJjaENvbnRlbnRGb3JQYWNrYWdlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgQnVzaW5lc3MudGFiU3RhdGUgPSBcInBhY2thZ2VMaXN0XCI7XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLnN3aXRjaFdpbmRvd1RhYihcInBhY2thZ2VUYWJcIik7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRQYWNrYWdlTGlzdE9mTWVtYmVyKCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gXCLljZXlk4FcIikge1xuICAgICAgICAgICAgICAgICAgICBCdXNpbmVzcy5zZWFyY2hDb250ZW50Rm9yU2luZ2xlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgQnVzaW5lc3MucmVzb3VyY2VfdHlwZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICQoJyNmaXJzdE9wdGlvbicpLnJlbW92ZUF0dHIoXCJzZWxlY3RlZFwiKS5hdHRyKFwic2VsZWN0ZWRcIixcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBCdXNpbmVzcy50YWJTdGF0ZSA9IFwic2luZ2xlTGlzdFwiO1xuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5zd2l0Y2hXaW5kb3dUYWIoXCJzaW5nbGVUYWJcIik7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRSZXNvdXJjZUxpc3RPZk1lbWJlcigpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIOWIneWni+WMlumAieaLqeW3suacieWNleWTgVxuICAgICAgICBtb2RhbC5zZWxlY3RSZXNvdXJjZSgpO1xuXG4gICAgICAgIC8vICDliJ3lp4vljJbmkJzntKLnrZvpgIlcbiAgICAgICAgbW9kYWwuaW5pdFJlc291cmNlQW5kUGFja2FnZVNlYXJjaCgpO1xuXG4gICAgICAgIC8vICDliJ3lp4vljJbliJfooajnmoTliIbpobVcbiAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuaW5pdExpc3RQYWdpbmF0aW9uKCk7XG5cbiAgICAgICAgLy/liIbpobXor7fmsYJcbiAgICAgICAgJChcIi5tZW1iZXJfbGlzdF93cmFwcGVyXCIpLm9uKCdjbGljaycsICcgLnBhZ2luYXRpb24gbGkgYScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBlbGUgPSAkKGUudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICB1cmwgPSBlbGUuZGF0YSgndXJsJyk7XG4gICAgICAgICAgICBCdXNpbmVzcy5wYWdlSW5kZXggPSBlbGUudGV4dCgpO1xuICAgICAgICAgICAgaWYgKEJ1c2luZXNzLnRhYlN0YXRlID09IFwicGFja2FnZUxpc3RcIikge1xuICAgICAgICAgICAgICAgIG1vZGFsLmluaXRQYWNrYWdlTGlzdE9mTWVtYmVyKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJ1c2luZXNzLnRhYlN0YXRlID09IFwic2luZ2xlTGlzdFwiKSB7XG4gICAgICAgICAgICAgICAgbW9kYWwuaW5pdFJlc291cmNlTGlzdE9mTWVtYmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v5ZC05pmT5rOi5LiT55So6Ieq5a6a5LmJ5YaF5a655YiX6KGo6Lez6L2s5oyJ6ZKuXG4gICAgICAgICQoXCIudXNlckRlZmluZWRcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBwaWQgPSAkKCcuYWRtaW5fZGF0YScpLmRhdGEoXCJtZW1iZXJfaWRcIik7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cIi91c2VyX2RlZmluZWQ/aWQ9XCIgKyBwaWQ7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIHJldHVybiBCdXNpbmVzcztcblxufSkoKTtcblxudmFyIG1vZGFsID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIG1vZGFsID0ge307XG5cbiAgICAvKipcbiAgICAgKiDmqKHlnZfkuIDvvJrliJ3lp4vljJbljZXlk4HliJfooahcbiAgICAgKi9cbiAgICBtb2RhbC5pbml0UmVzb3VyY2VMaXN0T2ZNZW1iZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlSW4oMzAwKTtcblxuICAgICAgICAkLmFqYXgoXCIvc2luZ2VfbGlzdF9tZW1iZXJcIiwge1xuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBcImlkXCI6IEJ1c2luZXNzLm1lbWJlcl9pZCxcbiAgICAgICAgICAgICAgICBcInNlYXJjaF9jb250ZW50XCI6IEJ1c2luZXNzLnNlYXJjaENvbnRlbnRGb3JTaW5nbGUsXG4gICAgICAgICAgICAgICAgXCJyZXNvdXJjZV90eXBlXCI6IEJ1c2luZXNzLnJlc291cmNlX3R5cGUsXG4gICAgICAgICAgICAgICAgXCJwYWdlXCI6IEJ1c2luZXNzLnBhZ2VJbmRleFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIEJ1c2luZXNzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tZW1iZXJfbGlzdF93cmFwcGVyXCIpLmh0bWwocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuaW5pdExpc3RQYWdpbmF0aW9uKCk7Ly/liJ3lp4vljJbliIbpobXmjInpkq5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuivt+axguaVsOaNruS4uuepulwiKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6Zeu6aKY77yM6K+356iN5ZCO5YaN6K+VXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIEJ1c2luZXNzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6I635Y+W5Y2V5ZOB5YiX6KGo5aSx6LSlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDmqKHlnZfkuozvvJrliJ3lp4vljJbkuJPmoI/liJfooahcbiAgICAgKi9cbiAgICBtb2RhbC5pbml0UGFja2FnZUxpc3RPZk1lbWJlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVJbigzMDApO1xuICAgICAgICAkLmFqYXgoXCIvcGFja2FnZV9saXN0X21lbWJlclwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkOiBCdXNpbmVzcy5tZW1iZXJfaWQsXG4gICAgICAgICAgICAgICAgc2VhcmNoX2NvbnRlbnQ6IEJ1c2luZXNzLnNlYXJjaENvbnRlbnRGb3JQYWNrYWdlLFxuICAgICAgICAgICAgICAgIHBhZ2U6IEJ1c2luZXNzLnBhZ2VJbmRleFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIEJ1c2luZXNzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tZW1iZXJfbGlzdF93cmFwcGVyXCIpLmh0bWwocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuaW5pdExpc3RQYWdpbmF0aW9uKCk7Ly/liJ3lp4vljJbliIbpobXmjInpkq5cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6K+35rGC5pWw5o2u5Li656m6XCIpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zpl67popjvvIzor7fnqI3lkI7lho3or5VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgQnVzaW5lc3MuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLojrflj5bljZXlk4HliJfooajlpLHotKVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiAg5qih5Z2X5LiJIO+8miDpgInmi6nlt7LmnInljZXlk4FcbiAgICAgKi9cbiAgICBtb2RhbC5oYXNEb3duID0gZmFsc2U7XG4gICAgbW9kYWwuaGFzQ2xvc2UgPSB0cnVlO1xuICAgIG1vZGFsLnBhZ2UgPSAxOyAvL+a3u+WKoOW3suacieWNleWTgeeahOmhteeggVxuICAgIG1vZGFsLnNlYXJjaENvbnRlbnQgPSAnJztcblxuICAgIG1vZGFsLmlzTG9hZGluZyA9IGZhbHNlOyAgICAvL+aYr+WQpuWkhOS6juWKoOi9veeKtuaAgVxuICAgIG1vZGFsLnJlc1R5cGUgPSAwOyAgLy8gIDYt6I635Y+W5LiT5qCP5L+h5oGv77yMIDAt6I635Y+W5Y2V5ZOB5L+h5oGvXG4gICAgbW9kYWwudGFiU3RhdGUgPSBcInNpbmdsZUxpc3RcIjsgIC8vIOm7mOiupOaYvuekuuWNleWTgeWIl+ihqCAgICAg77yIXCJwYWNrYWdlTGlzdFwiLCBcInNpbmdsZUxpc3RcIu+8iVxuXG5cbiAgICBtb2RhbC5zZWxlY3RSZXNvdXJjZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICQoJyNhZGRTaW5nbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsgLy/lvLnlh7rpgInmi6nmoYZcbiAgICAgICAgICAgIHNlbGYucGFnZSA9IDE7XG4gICAgICAgICAgICBzZWxmLmhhc0Rvd24gPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuZ2V0U2VsZWN0RGF0YSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjc2VsZWN0V2luZG93ICNzZWxjdENsb3NlLCAjc2VsZWN0V2luZG93ICNzZWxlY3RDYW5jZWxCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsgLy/lhbPpl63pgInmi6nlvLnnqpdcbiAgICAgICAgICAgIHZhciAkc2VsZWN0V2luID0gJCgnI3NlbGVjdFdpbmRvdycpO1xuICAgICAgICAgICAgJHNlbGVjdFdpbi5mYWRlT3V0KCdub3JtYWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJyNzZWxlY3RBcmVhTGlzdCcpLmh0bWwoJycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2VsZWN0V2luLmZpbmQoJy5pbnB1dFNlYXJjaFBhcnQnKS52YWwoJycpOyAvL+a4heepuuaQnOe0ouahhlxuICAgICAgICAgICAgc2VsZi5wYWdlID0gMTtcbiAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5zZWFyY2hDb250ZW50ID0gJyc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGVjdFNlYXJjaEJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgeyAvL+mAieaLqeahhueahOWNleWTgeaQnOe0olxuICAgICAgICAgICAgdmFyIHNlYXJjaFZhbCA9ICQudHJpbSgkKHRoaXMpLnByZXYoKS52YWwoKSk7XG4gICAgICAgICAgICBzZWxmLnNlYXJjaENvbnRlbnQgPSBzZWFyY2hWYWw7XG4gICAgICAgICAgICBzZWxmLnBhZ2UgPSAxO1xuICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLmdldFNlbGVjdERhdGEoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnByZXYoKS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IFwiMTNcIikge1xuICAgICAgICAgICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGVjdFNlYXJjaEJ0bicpLmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vdGFi5YiH5o2iXG4gICAgICAgICQoXCIuc2VsZWN0R29vZFRhYldyYXBwZXIgbGlcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gJCh0aGlzKS52YWwoKTtcblxuICAgICAgICAgICAgaWYgKCFtb2RhbC5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGVjdEFyZWFMaXN0V3JhcHBlcicpLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgICAgICAgICBtb2RhbC5pc0xvYWRpbmcgPSB0cnVlOyAgLy/orrDlvZXliqDovb3nirbmgIHvvIzpmLLph43lpI3ngrnlh7tcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLnN3aXRjaFdpbmRvd1RhYihcInNpbmdsZVRhYlwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5zd2l0Y2hXaW5kb3dUYWIoXCJwYWNrYWdlVGFiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxmLmdldFNlbGVjdERhdGEoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGVjdEFyZWFMaXN0V3JhcHBlcicpLnNjcm9sbChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgRGl2SGVpZ2h0ID0gJCgnI3NlbGVjdEFyZWFMaXN0JykuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgU2Nyb2xsSGVpZ2h0ID0gJCh0aGlzKS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBTY3JvbGxUb3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICBpZiAoKFNjcm9sbFRvcCArIFNjcm9sbEhlaWdodCA+PSBEaXZIZWlnaHQgLSA1KSAmJlxuICAgICAgICAgICAgICAgICFzZWxmLmhhc0Rvd24gLy/liKTmlq3mmK/lkKbliLDovr7lupXpg6hcbiAgICAgICAgICAgICAgICAmJlxuICAgICAgICAgICAgICAgICFzZWxmLmhhc0Nsb3NlIC8v5Yik5pat5by55qGG5piv5ZCm5YWz6ZetXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxmLmdldFNlbGVjdERhdGEoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gJChcIiNzZWxlY3RBcmVhTGlzdCAuaXNEb3duXCIpLmFkZENsYXNzKFwiaGlkZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/mj5DkuqTopoHmt7vliqDnmoTljZXlk4FcbiAgICAgICAgJCgnI3NlbGVjdFdpbmRvdyAjc2VsZWN0T2tCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgJHNlbGVjdEFyZWEgPSAkKCcjc2VsZWN0V2luZG93ICNzZWxlY3RBcmVhTGlzdFdyYXBwZXInKSxcbiAgICAgICAgICAgICAgICByZXNMaXN0ID0gW107XG5cbiAgICAgICAgICAgICRzZWxlY3RBcmVhLmZpbmQoJzpjaGVja2JveDpjaGVja2VkJykuZWFjaChmdW5jdGlvbihpLCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGFsLnRhYlN0YXRlID09IFwicGFja2FnZUxpc3RcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfaWQ6IGl0ZW0uZ2V0QXR0cmlidXRlKCdpZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogNlxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kYWwudGFiU3RhdGUgPT0gXCJzaW5nbGVMaXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc09iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX2lkOiBpdGVtLmdldEF0dHJpYnV0ZSgnaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IGl0ZW0uZ2V0QXR0cmlidXRlKCd2YWx1ZScpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc0xpc3RbcmVzTGlzdC5sZW5ndGhdID0gcmVzT2JqO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgICAxLWNoYW5uZWxfdHlwZSgxLeWNleWTgSwyLeS4k+agjywzLeS8muWRmCk7XG4gICAgICAgICAgICAgMi1yZXNvdXJjZV9saXN0KOmAieS4reeahOi1hOa6kOmbhuWQiCjmlbDnu4QpLFxuICAgICAgICAgICAgIOmUruWAvOWvueeahOagvOW8j+WmgjpyZXNvdXJjZV9pZDphX2tqamFrMzQ1LHJlc291cmNlX3R5cGU6MSk7XG4gICAgICAgICAgICAgMy1wYWNrYWdlX2lkKOW9k2NoYW5uZWxfdHlwZT0y44CBM+aXtizmnInlgLwpO1xuICAgICAgICAgICAgIDQtcGllY2VfcHJpY2Uo5L2GY2hhbm5lbF90eXBlPTHml7bmnInlgLwpKi9cbiAgICAgICAgICAgICQuYWpheCgnL3N1Ym1pdF9jaG9pY2VfcmVzb3VyY2UnLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDMsXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX2xpc3Q6IHJlc0xpc3QsXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHNlbGYuaWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NlbGVjdFdpbmRvdyAjc2VsY3RDbG9zZScpLmNsaWNrKCk7IC8v6YCJ5oup5oiQ5Yqf77yM5Li75Yqo5YWz6Zet6YCJ5oup5by556qXXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RhbC50YWJTdGF0ZSA9PSBcInBhY2thZ2VMaXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3BhY2thZ2VUYWJcIikuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kYWwudGFiU3RhdGUgPT0gXCJzaW5nbGVMaXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3NpbmdsZVRhYlwiKS5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICBtb2RhbC5nZXRTZWxlY3REYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYucGFnZSA9PSAxKSB7XG4gICAgICAgICAgICAkKFwiLmxvYWRpbmdTX2luX3dpbmRvd1wiKS5mYWRlSW4oMzAwKTtcbiAgICAgICAgfVxuICAgICAgICAkLmFqYXgoJy9jaG9pY2VfcmVzb3VyY2VfbGlzdCcsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgICAxLWNoYW5uZWxfdHlwZSgxLeWNleWTgSwyLeS4k+agjywzLeS8muWRmClcbiAgICAgICAgICAgICAyLeaQnOe0ouWGheWuuS1zZWFyY2hfY29udGVudDtcbiAgICAgICAgICAgICAzLXJlc291cmNlX3R5cGUoMC3lhajpg6gsMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgIDQtcGFnZSjliIbpobXpobXnoIEpO1xuICAgICAgICAgICAgIDUtcGFja2FnZV9pZCjlvZNjaGFubmVsX3R5cGU9MuOAgTPml7Ys5pyJ5YC8KVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc2VhcmNoX2NvbnRlbnQ6IHNlbGYuc2VhcmNoQ29udGVudCB8fCAnJyxcbiAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDMsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogc2VsZi5yZXNUeXBlLFxuICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHNlbGYuaWQsXG4gICAgICAgICAgICAgICAgcGFnZTogc2VsZi5wYWdlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU19pbl93aW5kb3dcIikuZmFkZU91dCgzMDApO1xuICAgICAgICAgICAgICAgIG1vZGFsLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRzZWxlY3RBcmVhID0gJCgnI3NlbGVjdEFyZWFMaXN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RTdHIgPSAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VPYmogPSBKU09OLnBhcnNlKHJlc3VsdC5kYXRhLnBhZ2Vfb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlc3VsdC5kYXRhLnJlc291cmNlX2xpc3QsIGZ1bmN0aW9uKGksIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZV90eXBlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5yZXNUeXBlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCt0aGlzLnJlc291cmNlX3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZSA9ICflm77mlocnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGUgPSAn6Z+z6aKRJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlID0gJ+inhumikSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZSA9ICfnm7Tmkq0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlID0gJ+aXoCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlc1R5cGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFN0ciArPSAnPGRpdiBjbGFzcz1cInJlc291cmNlSXRlbVdyYXBwZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB2YWx1ZT1cIicgKyB0aGlzLnJlc291cmNlX3R5cGUgKyAnXCIgaWQ9XCInICsgdGhpcy5pZCArICdcIiBjbGFzcz1cIndpdGgtZ2FwIHNpbmdsZVJlc291cmNlUmFkaW9cIiBuYW1lPVwic2VsZWN0X3Jlc291cmNlXCIgdHlwZT1cImNoZWNrYm94XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGFiZWwgZm9yPVwiJyArIHRoaXMuaWQgKyAnXCIgY2xhc3M9XCJyYWRpb19kZXNjXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicmVzb3VyY2VfaWNvbl93cmFwcGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW1nIGNsYXNzPVwicmVzb3VyY2VfaWNvblwiIHNyYz1cIicgKyB0aGlzLmltZ191cmwgKyAnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2xhYmVsPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJyZXNvdXJjZV90eXBlXCI+JyArIHJlc291cmNlX3R5cGUgKyAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJyZXNvdXJjZV90aW1lXCI+JyArIHRoaXMuc3RhcnRfYXQgKyAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U3RyICs9ICc8ZGl2IGNsYXNzPVwicmVzb3VyY2VJdGVtV3JhcHBlclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGlucHV0JyArICcgaWQ9XCInICsgdGhpcy5pZCArICdcIiBjbGFzcz1cIndpdGgtZ2FwIHNpbmdsZVJlc291cmNlUmFkaW9cIiBuYW1lPVwic2VsZWN0X3Jlc291cmNlXCIgdHlwZT1cImNoZWNrYm94XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGFiZWwgZm9yPVwiJyArIHRoaXMuaWQgKyAnXCIgY2xhc3M9XCJyYWRpb19kZXNjXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicmVzb3VyY2VfaWNvbl93cmFwcGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW1nIGNsYXNzPVwicmVzb3VyY2VfaWNvblwiIHNyYz1cIicgKyB0aGlzLmltZ191cmwgKyAnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvbGFiZWw+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInJlc291cmNlX3RpbWVcIj4nICsgdGhpcy51cGRhdGVkX2F0ICsgJzwvc3Bhbj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5wYWdlID09IDEgfHwgIXNlbGYucGFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdEFyZWEuaHRtbChzZWxlY3RTdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdEFyZWEuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiaXNEb3duXCI+6LWE5rqQ5Yqg6L295LitPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL+mmluasoeWKoOi9ve+8jOaYvuekulxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLnNlYXJjaENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2VsZWN0V2luZG93JykuZmFkZUluKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5wYWdlID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdEFyZWEuZmluZCgnLmlzRG93bicpLmJlZm9yZShzZWxlY3RTdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy/mlbDmja7liqDovb3lrozmr5XlkI7nmoTmk43kvZxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VPYmouY3VycmVudF9wYWdlID49IHBhZ2VPYmoudG90YWxfcGFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3RBcmVhLmZpbmQoJy5pc0Rvd24nKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhhc0Rvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSsrO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5ouJ5Y+W5bey5pyJ5Y2V5ZOB5aSx6LSl77yBXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NfaW5fd2luZG93XCIpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgICAgICAgICBtb2RhbC5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5qih5Z2X5Zub77yaIOWNleWTgS/kuJPmoI/liJfooajnmoTmkJzntKJcbiAgICAgKi9cbiAgICBtb2RhbC5pbml0UmVzb3VyY2VBbmRQYWNrYWdlU2VhcmNoID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy8gIDHjgIHlvIDlp4vmkJzntKLjgIHljZXlk4Ev5LiT5qCPXG4gICAgICAgICQoXCIuc2VhcmNoQWxsQnRuXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBpZiAoQnVzaW5lc3MudGFiU3RhdGUgPT0gXCJwYWNrYWdlTGlzdFwiKSB7XG4gICAgICAgICAgICAgICAgQnVzaW5lc3Muc2VhcmNoQ29udGVudEZvclBhY2thZ2UgPSAkLnRyaW0oJChcIi5pbnB1dFNlYXJjaEFsbFwiKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgbW9kYWwuaW5pdFBhY2thZ2VMaXN0T2ZNZW1iZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQnVzaW5lc3MudGFiU3RhdGUgPT0gXCJzaW5nbGVMaXN0XCIpIHtcbiAgICAgICAgICAgICAgICBCdXNpbmVzcy5yZXNvdXJjZV90eXBlID0gJChcIi5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlXCIpLnZhbCgpO1xuICAgICAgICAgICAgICAgIEJ1c2luZXNzLnNlYXJjaENvbnRlbnRGb3JTaW5nbGUgPSAkLnRyaW0oJChcIi5pbnB1dFNlYXJjaEFsbFwiKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgbW9kYWwuaW5pdFJlc291cmNlTGlzdE9mTWVtYmVyKCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAx44CB6L6T5YWl5a6M5oiQ5ZCO77yM5Zue6L2m5byA5aeL5pCc57SiIC0g5YWo6YOo5Y2V5ZOBL+S4k+agj1xuICAgICAgICAkKFwiLmlucHV0U2VhcmNoQWxsXCIpLm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICAgICAgJCgnLnNlYXJjaEFsbEJ0bicpLmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICDnm5HlkKznrZvpgInmoYbpgInmi6nkuovku7ZcbiAgICAgICAgJChcIi5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlXCIpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcuc2VhcmNoQWxsQnRuJykuY2xpY2soKTtcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICog5qih5Z2X5LqU77yaIOWIneWni+WMluS8muWRmOWkluWNleWNluiuvue9rueql+WPo1xuICAgICAqL1xuICAgIG1vZGFsLmluaXRTZXRTaW5nbGVTYWxlV2luZG93ID0gZnVuY3Rpb24ocmVzSW1nVXJsLCByZXNUaXRsZSwgcmVzVHlwZSwgc2hvd1RpbWUsIHJlc0lkKSB7XG5cbiAgICAgICAgLy8gIOe7meiuvue9ruS7t+agvOWhq+WFheaVsOaNrlxuICAgICAgICAkKFwiLnJlc291cmNlX2ljb25fM1wiKS5hdHRyKFwic3JjXCIsIHJlc0ltZ1VybCk7XG4gICAgICAgICQoXCIucmVzb3VyY2VfdGl0bGVfM1wiKS5odG1sKHJlc1RpdGxlKTtcbiAgICAgICAgc3dpdGNoIChyZXNUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgJChcIi5yZXNvdXJjZV90eXBlXzNcIikuaHRtbChcIuWbvuaWh1wiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAkKFwiLnJlc291cmNlX3R5cGVfM1wiKS5odG1sKFwi6Z+z6aKRXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICQoXCIucmVzb3VyY2VfdHlwZV8zXCIpLmh0bWwoXCLop4bpopFcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgJChcIi5yZXNvdXJjZV90eXBlXzNcIikuaHRtbChcIuebtOaSrVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgJChcIi5yZXNvdXJjZV90aW1lXzNcIikuaHRtbChzaG93VGltZSk7XG5cbiAgICAgICAgJChcIi5jbG9zZV9pY29uX3dyYXBwZXJfMiwgLmNhbmNlbF9zZXRfcHJpY2VcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKFwiLnNldF9wcmljZV93aW5kb3dcIikuZmFkZU91dCgzMDApO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiLmNvbmZpcm1fcHJpY2VfYnRuXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgcHJpY2UgPSAkLnRyaW0oJChcIi5pbnB1dF9zZXR0aW5nX3ByaWNlXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgdmFyIHJlZyA9IC9eKFsxLTldW1xcZF0qfDApKFsvLl1bXFxkXXsxLDJ9KT8kLztcbiAgICAgICAgICAgIGlmICghcmVnLnRlc3QocHJpY2UpKSB7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfku7fmoLzovpPlhaXmnInor68nKTtcbiAgICAgICAgICAgICAgICAkKCcuaW5wdXRfc2V0dGluZ19wcmljZScpLnZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJpY2UgPD0gMCkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS7t+agvOS4jeiDveS4ujAg5oiWIOi0n+aVsCFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJpY2UgPiBiYXNlVXRpbHMubWF4SW5wdXRQcmljZSkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS7t+agvOS4jeiDveWkp+S6jiBcIiArIGJhc2VVdGlscy5tYXhJbnB1dFByaWNlICsgXCIg5YWDXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGFyciA9IHt9O1xuICAgICAgICAgICAgYXJyW1wicmVzb3VyY2VfaWRcIl0gPSByZXNJZDtcbiAgICAgICAgICAgIGFycltcInJlc291cmNlX3R5cGVcIl0gPSByZXNUeXBlO1xuICAgICAgICAgICAgdmFyIHJlc291cmNlTGlzdEFyciA9IFthcnJdO1xuXG4gICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgJC5hamF4KFwiL3N1Ym1pdF9jaG9pY2VfcmVzb3VyY2VcIiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJjaGFubmVsX3R5cGVcIjogMSxcbiAgICAgICAgICAgICAgICAgICAgXCJyZXNvdXJjZV9saXN0XCI6IHJlc291cmNlTGlzdEFycixcbiAgICAgICAgICAgICAgICAgICAgXCJwaWVjZV9wcmljZVwiOiBwcmljZSAqIDEwMCwgLy8g5Y2V5L2N77yaIOWIhlxuICAgICAgICAgICAgICAgICAgICBcInN1Ym1pdF90eXBlXCI6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5zZXRfcHJpY2Vfd2luZG93XCIpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLorr7kuLrljZXljZbmiJDlip9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5pbml0UmVzb3VyY2VMaXN0T2ZNZW1iZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlSFcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuacjeWKoeWZqOW8gOWwj+W3ruWVpu+8jOivt+eojeWQjuWGjeaTjeS9nO+8gVwiKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cblxuICAgIHJldHVybiBtb2RhbDtcblxufSkoKTtcblxuXG52YXIgbWVtYmVyRGV0YWlsVXRpbHMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgdXRpbHMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIOS8muWRmCDmiJbogIUg5Y2V5ZOBIOWunueOsOS4iuaetiArIOS4i+aetlxuICAgICAqIEBwYXJhbSBtZW1iZXJJZFxuICAgICAqIEBwYXJhbSBvcGVyYXRlX3R5cGVcbiAgICAgKi9cbiAgICB1dGlscy5jaGFuZ2VHb29kc1N0YXRlID0gZnVuY3Rpb24oZ29vZHNJZCwgZ29vZHNUeXBlLCBvcGVyYXRlX3R5cGUpIHtcblxuICAgICAgICBpZiAoZ29vZHNUeXBlID09IDApIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gb3BlcmF0ZV90eXBlID09IDAgPyBcIuS4iuaetuWQjuivpeS8muWRmOWwhuWvueWkluaYvuekulwiIDogXCLkuIvmnrblkI7or6XkvJrlkZjlsIbkuI3lr7nlpJbmmL7npLpcIjtcbiAgICAgICAgfSBlbHNlIGlmIChnb29kc1R5cGUgPT0gMSB8fCBnb29kc1R5cGUgPT0gMiB8fCBnb29kc1R5cGUgPT0gMyB8fCBnb29kc1R5cGUgPT0gNCkge1xuICAgICAgICAgICAgdmFyIHRleHQgPSBvcGVyYXRlX3R5cGUgPT0gMCA/IFwi5LiK5p625ZCO6K+l5Y2V5ZOB5bCG5a+55aSW5pi+56S6XCIgOiBcIuS4i+aetuWQjuivpeWNleWTgeWwhuS4jeWvueWkluaYvuekulwiO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5hbGVydCh0ZXh0LCBcImluZm9cIiwge1xuICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAkLmFqYXgoXCIvY2hhbmdlX2dvb2RzX3N0YXRlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJnb29kc19pZFwiOiBnb29kc0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJnb29kc190eXBlXCI6IGdvb2RzVHlwZSwgLy8gIGdvb2RzX3R5cGUoMC3kuJPmoI8g5oiWIOS8muWRmCwxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIm9wZXJhdGVfdHlwZVwiOiBvcGVyYXRlX3R5cGUgLy8gIDAt5LiK5p62LDEt5LiL5p62XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZXJhdGVfdHlwZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLkuIrmnrbmiJDlip/vvIFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuS4i+aetuaIkOWKn++8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdvb2RzVHlwZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRSZXNvdXJjZUxpc3RPZk1lbWJlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO6YeN6K+V77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIzor7fnqI3lkI7ph43or5XvvIFcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDmmK/lkKblnKjmnIDmlrDliJfooajkuK3mmL7npLpcbiAgICAgKiBAcGFyYW0gbWVtYmVySWRcbiAgICAgKiBAcGFyYW0gb3BlcmF0ZV90eXBlXG4gICAgICovXG4gICAgdXRpbHMuY2hhbmdlTmV3bExpc3RTdGF0ZSA9IGZ1bmN0aW9uKGdvb2RzSWQsIGdvb2RzVHlwZSwgb3BlcmF0ZV90eXBlKSB7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheChcIi9zZXRfaDVfbmV3ZXN0X2hpZGVcIiwge1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgXCJpZFwiOiBnb29kc0lkLFxuICAgICAgICAgICAgICAgIFwiaDVfbmV3ZXN0X2hpZGVcIjogb3BlcmF0ZV90eXBlIC8vICAwLeaYvuekuiwxLemakOiXj1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZXJhdGVfdHlwZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi6K6+572u5oiQ5Yqf77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuiuvue9ruaIkOWKn++8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZ29vZHNUeXBlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5pbml0UmVzb3VyY2VMaXN0T2ZNZW1iZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjumHjeivle+8gVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO6YeN6K+V77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIOe9rumhtuaTjeS9nFxuICAgICAqIEBwYXJhbSBwYWNrYWdlSWRcbiAgICAgKiBAcGFyYW0gcmVzb3VyY2VUeXBlICAtPiAoMC3kuJPmoI8sMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAqIEBwYXJhbSByZXNvdXJjZUlkXG4gICAgICogQHBhcmFtIHRvcFN0YXRlICAgICAgLT4gKDAt5Y+W5raI572u6aG2LDEt6K6+572u572u6aG2KVxuICAgICAqL1xuICAgIHV0aWxzLnNldFJlc291cmNlVG9wID0gZnVuY3Rpb24ocGFja2FnZUlkLCByZXNvdXJjZVR5cGUsIHJlc291cmNlSWQsIHRvcFN0YXRlKSB7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG5cbiAgICAgICAgJC5hamF4KCcvc2V0X3BhY2thZ2VfcmVzb3VyY2VfdG9wJywge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBwYWNrYWdlSWQsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogcmVzb3VyY2VUeXBlLFxuICAgICAgICAgICAgICAgIHJlc291cmNlX2lkOiByZXNvdXJjZUlkLFxuICAgICAgICAgICAgICAgIHRvcF9zdGF0ZTogdG9wU3RhdGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcFN0YXRlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlt7Lnu4/lj5bmtojnva7pobbvvIFcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi572u6aG25oiQ5Yqf77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRSZXNvdXJjZUxpc3RPZk1lbWJlcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICog5Y2V5ZOB5LiK5LiL5p62XG4gICAgICogQHBhcmFtIHJlc291cmNlX2lkXG4gICAgICogQHBhcmFtIGNoYW5nZVR5cGUgIHRydWUt5LiK5p6277yMIGZhbHNlLeS4i+aetlxuICAgICAqL1xuICAgIHV0aWxzLnBhY2thZ2Vpc1Nob3cgPSBmdW5jdGlvbihpZCwgY2hhbmdlVHlwZSkgeyAvL+S4k+agj+S4iuS4i+aetlxuICAgICAgICAkLmFsZXJ0KGNoYW5nZVR5cGUgPyBcIuS4iuaetuWQjuivpeS4k+agj+WwhuWvueWkluaYvuekulwiIDogXCLkuIvmnrblkI7or6XkuJPmoI/lsIbkuI3lr7nlpJbmmL7npLpcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgJC5hamF4KCcvY2hhbmdlX2dvb2RzX3N0YXRlJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAxLWdvb2RzX2lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgMi1nb29kc190eXBlKDAt5LiT5qCPLDEt5Zu+5paHLDIt6Z+z6aKRLDMt6KeG6aKRLDQt55u05pKtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIDMtb3BlcmF0ZV90eXBlKDAt5LiK5p62LDEt5LiL5p62KVxuICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGdvb2RzX2lkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvb2RzX3R5cGU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRlX3R5cGU6IGNoYW5nZVR5cGUgPyAwIDogMSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDmn6Xor6LljZXlk4Eg5piv5ZCm5Zyo5Y2V5ZOB5YiX6KGoIOaIliDkuJPmoI/liJfooahcbiAgICAgKiBAcGFyYW0gcmVzb3VyY2VfaWRcbiAgICAgKiBAcGFyYW0gcmVzb3VyY2VfdHlwZSAgKDEt5Zu+5paHLDIt6Z+z6aKRLDMt6KeG6aKRLDQt55u05pKtKTtcbiAgICAgKiBAcGFyYW0gcGFja2FnZV9pZCAgKOW9k2NoYW5uZWxfdHlwZT0x5pe25pyJ5YC8KVxuICAgICAqL1xuICAgIHV0aWxzLnF1ZXJ5U2luZ2xlUmVzb3VyY2UgPSBmdW5jdGlvbihyZXNvdXJjZV9pZCwgcmVzb3VyY2VfdHlwZSwgcGFja2FnZV9pZCkge1xuICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAkLmFqYXgoXCIvcXVlcnlfZ29vZHNfc3RhdGVcIiwgeyAvLyAgMSAtPiDmn6Xor6LljZXlk4Eg5piv5ZCm5Zyo5Y2V5ZOB5YiX6KGo5oiW6ICF5YW25a6D5LiT5qCP44CB5Lya5ZGY5YiX6KGoXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBnb29kc19pZDogcmVzb3VyY2VfaWQsXG4gICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogcmVzb3VyY2VfdHlwZSxcbiAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDIsIC8vICBjaGFubmVsX3R5cGUgKCAwLeWNleWTgSwxLeS4k+agj+WGhei1hOa6kCwyLeS8muWRmOWGhSApXG4gICAgICAgICAgICAgICAgcGFja2FnZV9pZDogcGFja2FnZV9pZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzRXhpc3QgPSByZXN1bHQuZGF0YVsnaXNfZXhpc3QnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZHNMaXN0ID0gcmVzdWx0LmRhdGFbJ3JlY29yZHNfbGlzdCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyTGVuZ3RoID0gT2JqZWN0LmtleXMocmVjb3Jkc0xpc3QpLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0V4aXN0ID09IDApIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICDlj6rlsZ7kuo7mn5DkuKrkuJPmoI/nmoTljZXlk4Es5YW25a6D5Zyw5pa55LiN5a2Y5ZyoXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCLnoa7orqTnp7vpmaTor6XlhoXlrrnvvIznp7vpmaTlkI7miYDmnInnlKjmiLflsIbml6Dms5Xmn6XnnIvmraTlhoXlrrnkuJQ8c3BhIHN0eWxlPSdjb2xvcjogcmVkOyc+5LiN5Y+v5oGi5aSNPC9zcGE+XCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVjb3Jkc0xpc3RbMF0gPT0gdW5kZWZpbmVkKSB7ICAgICAgIC8vICDlj6rlsZ7kuo7lpJrkuKrkuJPmoI/nmoTljZXlk4FcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8PSBhcnJMZW5ndGg7IGluZGV4ICsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSAoXCLjgIpcIiArIHJlY29yZHNMaXN0W2luZGV4XVsndGl0bGUnXSArIFwi44CLXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSAoXCLnoa7orqTnp7vpmaTor6XlhoXlrrnvvIznp7vpmaTlkI7or6XkvJrlkZjnlKjmiLflsIbml6Dms5Xmn6XnnIvmraTlhoXlrrnjgILmraTlhoXlrrnku43lrZjlnKjkuo5cIiArIHRleHQgKyBcIuS4rVwiKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyckxlbmd0aCA9PSAxKSB7ICAgICAgICAgICAgICAvLyAg5Y2V5ZOB5Y2V5Y2W5LiU5bGe5LqO5LiA5Liq5LiT5qCPXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFwi56Gu6K6k56e76Zmk6K+l5YaF5a6577yM56e76Zmk5ZCO6K+l5Lya5ZGY55So5oi35bCG5peg5rOV5p+l55yL5q2k5YaF5a6544CC5q2k5YaF5a655LuN5Zyo5Y2V5ZOB5YiX6KGo5LiU5Y2V54us5ZSu5Y2WXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICDljZXlk4HljZXljZbkuJTlsZ7kuo7lpJrkuKrkuJPmoI9cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcnJMZW5ndGg7IGluZGV4ICsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gKFwi44CKXCIgKyByZWNvcmRzTGlzdFtpbmRleF1bJ3RpdGxlJ10gKyBcIuOAi1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBcIuehruiupOenu+mZpOivpeWGheWuue+8jOenu+mZpOWQjuivpeS8muWRmOeUqOaIt+WwhuaXoOazleafpeeci+atpOWGheWuueOAguatpOWGheWuueWNleeLrOWUruWNluS4lOS7jeWtmOWcqOS6jlwiICsgdGV4dCArIFwi5LitXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJC5hbGVydCh0ZXh0LCBcImluZm9cIiwgeyAvLyAyIC0+IOS9nOWHuuebuOW6lOeahOaPkOekulxuICAgICAgICAgICAgICAgICAgICAgICAgb2t0ZXh0OiAn56Gu6K6k56e76ZmkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmRlbGV0ZVNpbmdsZVJlc291cmNlKHJlc291cmNlX2lkLCByZXNvdXJjZV90eXBlLCBwYWNrYWdlX2lkKTsgLy8gMyAtPiDnp7vpmaRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIFcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuacjeWKoeWZqOW8gOWwj+W3ruS6hu+8jOivt+eojeWQjuWGjeivle+8gVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgLy8gIOafpeivouS4k+agjyDmmK/lkKblnKjlhbblroPkvJrlkZjliJfooahcbiAgICB1dGlscy5xdWVyeVBhY2thZ2VSZXNvdXJjZSA9IGZ1bmN0aW9uIChyZXNvdXJjZV9pZCkge1xuICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAkLmFqYXgoXCIvcXVlcnlfZ29vZHNfc3RhdGVcIiwgeyAvLyAgMSAtPiDmn6Xor6LkuJPmoI8g5piv5ZCm5Zyo5YW25a6D5Lya5ZGY5YiX6KGoXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBnb29kc19pZDogcmVzb3VyY2VfaWQsXG4gICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogNixcbiAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDIsIC8vICBjaGFubmVsX3R5cGUgKCAwLeWNleWTgSwxLeS4k+agj+WGhei1hOa6kCwyLeS8muWRmOWGhSApXG4gICAgICAgICAgICAgICAgcGFja2FnZV9pZDogQnVzaW5lc3MubWVtYmVyX2lkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNFeGlzdCA9IHJlc3VsdC5kYXRhWydpc19leGlzdCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3Jkc0xpc3QgPSByZXN1bHQuZGF0YVsncmVjb3Jkc19saXN0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJMZW5ndGggPSBPYmplY3Qua2V5cyhyZWNvcmRzTGlzdCkubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXhpc3QgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFwi56Gu6K6k56e76Zmk6K+l5LiT5qCP77yM56e76Zmk5ZCO6K+l5Lya5ZGY55So5oi35bCG5peg5rOV5p+l55yL5q2k5LiT5qCP77yM5q2k5LiT5qCP5LuN5Zyo5LiT5qCP5YiX6KGo5LiU5Y2V54us5ZSu5Y2WXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDw9IGFyckxlbmd0aDsgaW5kZXggKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IChcIuOAilwiICsgcmVjb3Jkc0xpc3RbaW5kZXhdWyd0aXRsZSddICsgXCLjgItcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IChcIuehruiupOenu+mZpOivpeS4k+agj++8jOenu+mZpOWQjuivpeS8muWRmOeUqOaIt+WwhuaXoOazleafpeeci+atpOS4k+agj++8jOatpOS4k+agj+S7jeWtmOWcqOS6jlwiICsgdGV4dCArIFwi5LitXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJC5hbGVydCh0ZXh0LCBcImluZm9cIiwgeyAvLyAyIC0+IOS9nOWHuuebuOW6lOeahOaPkOekulxuICAgICAgICAgICAgICAgICAgICAgICAgb2t0ZXh0OiAn56Gu6K6k56e76ZmkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmRlbGV0ZVNpbmdsZVJlc291cmNlKHJlc291cmNlX2lkLCA2LCBCdXNpbmVzcy5tZW1iZXJfaWQpOyAvLyAzIC0+IOenu+mZpOS4k+agj1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0Lm1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuacjeWKoeWZqOW8gOWwj+W3ruS6hu+8jOivt+eojeWQjuWGjeivle+8gVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgIH07XG4gICAgdXRpbHMucGFja2FnZUZvcm0gPSBmdW5jdGlvbihpZCxmb3JtVHlwZSl7XG4gICAgICAgIC8vIGlkOuS4k+agj+aYr+WQpuimgeiuvue9ruaUr+S7mOaXtuWhq+WGmeS/oeaBr+eahOS4k+agj2lk77yMZm9ybVR5cGUg77yadHJ1ZS3lhYHorrggZmFsc2Ut56aB5q2iLlxuICAgICAgICB2YXIgdmVyc2lvbj0kKFwiLnVzZXJfdmVyc2lvbl9udW1cIikuZGF0YShcInZlcnNpb25fdHlwZVwiKTtcbiAgICAgICAgaWYodmVyc2lvbiAmJiB2ZXJzaW9uPT0zKSB7XG4gICAgICAgICAgICAkLmFsZXJ0KGZvcm1UeXBlID8gXCLlvIDlkK/otYTmlpnloavlhpnlkI7vvIznlKjmiLflnKjku5jotLnotK3kubDmnKzkvJrlkZjliY3lsIbloavlhpnkuKrkurrkv6Hmga/vvIzmgqjnoa7orqTopoHlvIDlkK/kuYjvvJ9cIiA6XG4gICAgICAgICAgICAgICAgXCLlhbPpl63otYTmlpnloavlhpnlkI7vvIznlKjmiLflnKjku5jotLnotK3kubDmnKzkvJrlkZjliY3lsIbkuI3lho3loavlhpnkuKrkurrkv6Hmga/vvIzmgqjnoa7orqTopoHlhbPpl63kuYjvvJ9cIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICBpY29uOiBcImJsdWVcIixcbiAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICQuYWpheCgnL3NldF9pc19jb21wbGV0ZV9pbmZvJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfY29tcGxldGVfaW5mbzogZm9ybVR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuW9k+WJjeeJiOacrOS4jeaUr+aMgeW8gOWQr+i1hOaWmeWhq+WGme+8jOWmgumcgOW8gOWQr+ivt+WNh+e6p+iHs+S4k+S4mueJiFwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOenu+mZpOWNleWTgei1hOa6kFxuICAgICAqIEBwYXJhbSByZXNvdXJjZUlkXG4gICAgICogQHBhcmFtIHJlc291cmNlVHlwZVxuICAgICAqIEBwYXJhbSBtZW1iZXJJZFxuICAgICAqL1xuICAgIHV0aWxzLmRlbGV0ZVNpbmdsZVJlc291cmNlID0gZnVuY3Rpb24ocmVzb3VyY2VJZCwgcmVzb3VyY2VUeXBlLCBtZW1iZXJJZCkge1xuICAgICAgICAvLyAkKFwiLmxvYWRpbmdTXCIpLmZhZGVJbigzMDApO1xuICAgICAgICAkLmFqYXgoXCIvbW92ZV9nb29kc1wiLCB7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBnb29kc19pZDogcmVzb3VyY2VJZCxcbiAgICAgICAgICAgICAgICBnb29kc190eXBlOiByZXNvdXJjZVR5cGUsXG4gICAgICAgICAgICAgICAgY2hhbm5lbF90eXBlOiAyLCAvLyAgY2hhbm5lbF90eXBlKDAt5Y2V5ZOBLDEt5LiT5qCP5YaF6LWE5rqQLDIt5Lya5ZGY5YaFKVxuICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IG1lbWJlcklkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDMwMCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuenu+mZpOaIkOWKn++8gVwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnp7vpmaTlpLHotKXvvIzor7fnqI3lkI7lho3or5VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZVR5cGUgPT0gNikge1xuICAgICAgICAgICAgICAgICAgICBtb2RhbC5pbml0UGFja2FnZUxpc3RPZk1lbWJlcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRSZXNvdXJjZUxpc3RPZk1lbWJlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgzMDApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDorr7nva7or5XlkKwg5oiWIOivleeci1xuICAgICAqIEBwYXJhbSBwYWNrYWdlSWRcbiAgICAgKiBAcGFyYW0gcmVzSWRcbiAgICAgKiBAcGFyYW0gdHJ5U3RhdGUgICgwLeWPlua2iOivleWQrCwxLeiuvuS4uuivleWQrClcbiAgICAgKi9cbiAgICB1dGlscy5zZXRSZXNvdXJjZVRyeSA9IGZ1bmN0aW9uKHBhY2thZ2VJZCwgcmVzVHlwZSwgcmVzSWQsIHBheW1lbnRUeXBlLCB0cnlTdGF0ZSkge1xuXG4gICAgICAgIC8vIGlmIChyZXNUeXBlID09IDQpIHtcbiAgICAgICAgLy8gICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaaguS4jeaUr+aMgeWwhuebtOaSreiuvuS4uuivleeciyFcIik7XG4gICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIH1cbiAgICAgICAgaWYgKHBheW1lbnRUeXBlID09IDEgfHwgcGF5bWVudFR5cGUgPT0gMikge1xuICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gMikge1xuICAgICAgICAgICAgICAgICQuYWxlcnQoXCLor6XljZXlk4Hlt7Lorr7kuLrljZXljZbvvIzlj5bmtojljZXljZblkI7mlrnlj6/orr7kuLror5XlkKxcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNUeXBlID09IDEgfHwgcmVzVHlwZSA9PSAzIHx8IHJlc1R5cGUgPT0gNCkge1xuICAgICAgICAgICAgICAgICQuYWxlcnQoXCLor6XljZXlk4Hlt7Lorr7kuLrljZXljZbvvIzlj5bmtojljZXljZblkI7mlrnlj6/orr7kuLror5XnnItcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgJC5hamF4KCcvc2V0X3BhY2thZ2VfcmVzb3VyY2VfdHJ5Jywge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBwYWNrYWdlSWQsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogcmVzVHlwZSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZV9pZDogcmVzSWQsXG4gICAgICAgICAgICAgICAgdHJ5X3N0YXRlOiB0cnlTdGF0ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJ5U3RhdGUgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuiuvue9ruaIkOWKn++8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlj5bmtojmiJDlip/vvIFcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuaW5pdFJlc291cmNlTGlzdE9mTWVtYmVyKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yBXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIC8v5a+85Ye66Z+z6aKRXG4gICAgdXRpbHMuZXhwb3J0QXVkaW8gPSBmdW5jdGlvbiAoYWxpdmVJZCkge1xuXG4gICAgICAgICQuYWpheChcIi9hc3luY19kb3dubG9hZF9hbGl2ZV92b2ljZVwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBhbGl2ZV9pZDogYWxpdmVJZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlc3VsdC5jb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzdWx0LmRhdGFbJ3VybCddOyAgICAgIC8v55u05o6l5byA5aeL5LiL6L296Z+z6aKR5paH5Lu2XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuivremfs+ato+WcqOWQiOaIkOS4re+8jOagueaNruaCqOebtOaSremXtOWGheeahOmfs+mikeaVsOmHj+mcgOimgTEw5YiG6ZKf5YiwNOS4quWwj+aXtuS4jeetie+8jOivt+eojeWAmeiuv+mXruOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLlvIDlp4vov5vooYzor63pn7PlkIjmiJDvvIzmoLnmja7mgqjnm7Tmkq3pl7TlhoXnmoTpn7PpopHmlbDph4/pnIDopoExMOWIhumSn+WIsDTkuKrlsI/ml7bkuI3nrYnvvIzor7fnqI3lgJnorr/pl67jgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi5pyN5Yqh5Zmo5q2j5Zyo57u05oqk77yM55u05pKt6Z+z6aKR5a+85Ye65Yqf6IO95Y+X5Yiw5b2x5ZON77yM6K+356iN5ZCO5YaN6K+V44CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeebtOaSreayoeaciemfs+mikeOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLov5nkuKrnm7Tmkq3kuI3mmK/or63pn7PnsbvlnovnmoTvvIzkuI3mlK/mjIHpn7PpopHlr7zlh7rjgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6L+Z5Liq55u05pKt6L+Y5rKh57uT5p2f77yM5pqC5LiN5pSv5oyB6Z+z6aKR5a+85Ye644CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+C5pWw6ZSZ6K+vXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKHJlc3VsdC5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5tc2cpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5Ye65bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICB1dGlscy5zZXRTaW5nbGVTYWxlID0gZnVuY3Rpb24ocmVzVHlwZSwgcmVzSWQsIHJlc1RpdGxlLCBpc1RyeSwgc2hvd1RpbWUsIHJlc0ltZ1VybCkge1xuXG4gICAgICAgIGlmIChpc1RyeSA9PSAxKSB7IC8v5pivXG4gICAgICAgICAgICBpZiAocmVzVHlwZSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeWNleWTgeW3suiuvuS4uuivleWQrO+8jOWPlua2iOivleWQrOWQjuaWueWPr+iuvuS4uuWNleWNllwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc1R5cGUgPT0gMSB8fCByZXNUeXBlID09IDMgfHwgcmVzVHlwZSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeWNleWTgeW3suiuvuS4uuivleeci++8jOWPlua2iOivleeci+WQjuaWueWPr+iuvuS4uuWNleWNllwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2RhbC5pbml0U2V0U2luZ2xlU2FsZVdpbmRvdyhyZXNJbWdVcmwsIHJlc1RpdGxlLCByZXNUeXBlLCBzaG93VGltZSwgcmVzSWQpO1xuICAgICAgICAgICAgJChcIi5zZXRfcHJpY2Vfd2luZG93XCIpLmZhZGVJbigzMDApO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgdXRpbHMuY2FuY2VsU2luZ2xlU2FsZSA9IGZ1bmN0aW9uKHJlc1R5cGUsIHJlc0lkLCBwYXltZW50VHlwZSkge1xuXG4gICAgICAgIGlmIChwYXltZW50VHlwZSA9PSAxKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IFwi5Y+W5raI5Y2V5Y2W5ZCO77yM5pyq5byA6YCa5Lya5ZGY55qE55So5oi35bCG5LiN5Y+v5Y2V54us5p+l55yL6K+l5Y2V5ZOBIVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHBheW1lbnRUeXBlID09IDIpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gXCLlj5bmtojljZXljZblkI7vvIzmnKrlvIDpgJrkvJrlkZjnmoTnlKjmiLflsIbkuI3lj6/ljZXni6zku5jotLnotK3kubDor6XljZXlk4EhXCI7XG4gICAgICAgIH1cbiAgICAgICAgJC5hbGVydCh0ZXh0LCBcImluZm9cIiwge1xuICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0ge307XG4gICAgICAgICAgICAgICAgYXJyW1wicmVzb3VyY2VfaWRcIl0gPSByZXNJZDtcbiAgICAgICAgICAgICAgICBhcnJbXCJyZXNvdXJjZV90eXBlXCJdID0gcmVzVHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2VMaXN0QXJyID0gW2Fycl07XG5cbiAgICAgICAgICAgICAgICAkLmFqYXgoXCIvc3VibWl0X2Nob2ljZV9yZXNvdXJjZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoYW5uZWxfdHlwZVwiOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXNvdXJjZV9saXN0XCI6IHJlc291cmNlTGlzdEFycixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3VibWl0X3R5cGVcIjogMVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlj5bmtojljZXljZbmiJDlip/vvIFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwuaW5pdFJlc291cmNlTGlzdE9mTWVtYmVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlSFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuacjeWKoeWZqOW8gOWwj+W3ruWVpu+8jOivt+eojeWQjuWGjeaQnOe0ou+8gVwiKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIHV0aWxzLmNoYW5nZUNhblNlbGVjdFN0YXRlID0gZnVuY3Rpb24gKHJlc0lkLCBjYW5TZWxlY3QpIHtcblxuICAgICAgICAkLmFqYXgoXCIvc2V0X3Jlc291cmNlX3NlbGVjdF9jYW5cIiwge1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlc0lkLFxuICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IDEsXG4gICAgICAgICAgICAgICAgY2FuX3NlbGVjdDogY2FuU2VsZWN0ID8gMSA6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlt7Lnu4/lhYHorrjlpI3liLZcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5bey57uP56aB5q2i5aSN5Yi2XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIHV0aWxzLmluaXRMaXN0UGFnaW5hdGlvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcubGlzdC1wYWdlIC5wYWdpbmF0aW9uIGxpIGEnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICRlbGUgPSAkKHRoaXMpO1xuICAgICAgICAgICAgJGVsZS5hdHRyKCdkYXRhLXVybCcsICRlbGUuYXR0cignaHJlZicpKTtcbiAgICAgICAgICAgICRlbGUucmVtb3ZlQXR0cignaHJlZicpO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDliIfmjaLpgInmi6nlt7LmnInnqpflj6PkuK0gdGFiIOeahOaYvuekulxuICAgICAqIEBwYXJhbSB0YXJnZXQoU3RyaW5nKSAgICBwYWNrYWdlVGFiIC0g5YiH5o2i5Yiw5LiT5qCP77ybIHNpbmdsZVRhYiAtIOWIh+aNouWIsOWNleWTgVxuICAgICAqL1xuICAgIHV0aWxzLnN3aXRjaFdpbmRvd1RhYiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcblxuICAgICAgICB2YXIgdGFiVmFsdWUgPSAkKFwiLnNlbGVjdEdvb2RUYWJXcmFwcGVyPmxpLmFjdGl2ZUNvbnRlbnRUYWJcIikudmFsKCk7IC8vICAgIDEt5Y2V5ZOBICAwLeS4k+agj1xuXG4gICAgICAgIGlmICgodGFiVmFsdWUgPT0gMSAmJiB0YXJnZXQgPT0gXCJzaW5nbGVUYWJcIikgfHwgKHRhYlZhbHVlID09IDAgJiYgdGFyZ2V0ID09IFwicGFja2FnZVRhYlwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YXJnZXQgPT0gXCJzaW5nbGVUYWJcIikge1xuICAgICAgICAgICAgJChcIiNzZWxlY3RHb29kU2luZ2xlVGFiXCIpLmFkZENsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcbiAgICAgICAgICAgICQoXCIjc2VsZWN0R29vZFBhY2thZ2VUYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xuXG4gICAgICAgICAgICBtb2RhbC50YWJTdGF0ZSA9IFwic2luZ2xlTGlzdFwiO1xuICAgICAgICAgICAgbW9kYWwucmVzVHlwZSA9IDA7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgPT0gXCJwYWNrYWdlVGFiXCIpIHtcbiAgICAgICAgICAgICQoXCIjc2VsZWN0R29vZFBhY2thZ2VUYWJcIikuYWRkQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xuICAgICAgICAgICAgJChcIiNzZWxlY3RHb29kU2luZ2xlVGFiXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcblxuICAgICAgICAgICAgbW9kYWwudGFiU3RhdGUgPSBcInBhY2thZ2VMaXN0XCI7XG4gICAgICAgICAgICBtb2RhbC5yZXNUeXBlID0gNjtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgcmV0dXJuIHV0aWxzO1xuXG59KSgpO1xuIl19
