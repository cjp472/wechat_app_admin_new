$(document).ready(function(){QADetail.init()});var resAudio1Length=-1,resAudioSize=-1;var QADetail=function(){var e={};e.tabState="questionList";e.pageIndex=1;e.searchAnswererContent="";e.searchAnswererState="";e.searchQuestionContent="";e.timeInterval={startDate:"",endDate:""};e.init=function(){var a=GetQueryString("set");if(a=="answerer")location.href="/QA/questionAndAnswerDetail?page_type=1";var i=GetQueryString("page_type")||1;if(i==1){e.tabState="responderList"}else{e.tabState="questionList"}var n=$("#admin_data").data("code_url");t(n);modal.handleSearch();modal.initDetailOperate();modal.initContentTab();modal.initListPagination();modal.initPaginationEvent();modal.initQuestionOperate();modal.initResponderOperate();modal.initSettingOperate();modal.handleInviteAnswererWindow();modal.handleScanQuestionWindow()};function t(e){var t=new QRCode(document.getElementById("qr_code"),{text:e,width:120,height:120,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H});create_qr_flag=false}return e}();var modal=function(){var e={};e.questionId=-1;e.isEnable=-1;e.submitLimit=false;e.isAudioUploading=false;e.initDetailOperate=function(){$(".detailOperateArea li.operate").click(function(){var e=$(this).data("type");var t=$(this).data("state")==1?0:1;var a=$("#product_id").val();switch(e){case"editQA":window.location.href="/QA/editQuestionAndAnswer?id="+a;break;case"changeQAState":$.ajax("/QA/changeStateQueProducts",{type:"POST",dataType:"json",data:{id:a,state:t},success:function(e){if(e.code==0){if(t==1){baseUtils.show.blueTip("已下架，问答专区将不在首页显示")}else{baseUtils.show.blueTip("已上架，问答专区将在首页显示")}window.location.href="/QA/questionAndAnswerDetail"}else{baseUtils.show.redTip("网络错误，请稍后再试！")}},error:function(e,t,a){console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}});break;default:console.log("参数错误.");break}});(function(){var e=new Clipboard(".QA_DetailUrl");e.on("success",function(e){baseUtils.show.blueTip("复制成功！请在微信内打开哦 。");e.clearSelection()})})()};e.initContentTab=function(){$(".contentTabWrapper li").click(function(){var t=$(this).val();if(!$(this).hasClass("activeContentTab")){if(t==1){$("#responderTab").addClass("activeContentTab");$("#questionTab").removeClass("activeContentTab");$("#settingTab").removeClass("activeContentTab")}else if(t==0){$("#questionTab").addClass("activeContentTab");$("#responderTab").removeClass("activeContentTab");$("#settingTab").removeClass("activeContentTab")}else if(t==2){$("#settingTab").addClass("activeContentTab");$("#questionTab").removeClass("activeContentTab");$("#responderTab").removeClass("activeContentTab")}}QADetail.pageIndex=1;QADetail.searchAnswererContent="";QADetail.searchAnswererState="";QADetail.searchQuestionContent="";$("#searchAnswererInput").val("");$("#answererIsShow").val("");$("#searchQuestionInput").val("");$("#SelectData").text("全部问题");if(t==1){QADetail.tabState="responderList";history.replaceState(null,"","/QA/questionAndAnswerDetail?page_type=1");e.getResponderList(true,true)}else if(t==0){QADetail.tabState="questionList";history.replaceState(null,"","/QA/questionAndAnswerDetail?page_type=0");e.getQuestionList(true,true)}else if(t==2){QADetail.tabState="settingTab";history.replaceState(null,"","/QA/questionAndAnswerDetail?page_type=2");e.getSettingPage()}})};e.getResponderList=function(t,a){if(t==undefined||t==true){$(".loadingS").fadeIn(300)}$.ajax("/QA/getResponderList",{type:"GET",dataType:"html",data:{search:QADetail.searchAnswererContent,state:QADetail.searchAnswererState,page:QADetail.pageIndex},success:function(t){$(".loadingS").fadeOut(100);if(t&&t.length>0){$(".mainListContent").html(t);e.initListPagination();if(a){$(".listOperateArea").show();$(".questionListOperate").hide();$(".responderListOperate").fadeIn(300)}}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}})};e.getQuestionList=function(t,a){if(t==undefined||t==true){$(".loadingS").fadeIn(300)}var i=$("#SelectData").text();if(i=="全部问题"){i=""}$.ajax("/QA/getQuestionList",{type:"GET",dataType:"html",data:{search:QADetail.searchQuestionContent,time1:i,page:QADetail.pageIndex},success:function(t){$(".loadingS").fadeOut(100);if(t&&t.length>0){$(".mainListContent").html(t);e.initListPagination();if(a){$(".listOperateArea").show();$(".responderListOperate").hide();$(".questionListOperate").fadeIn(300)}}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}})};e.getSettingPage=function(){$(".loadingS").fadeIn(300);$.ajax("/QA/getSettingPage",{type:"GET",dataType:"html",data:{},success:function(e){$(".loadingS").fadeOut(100);if(e&&e.length>0){$(".mainListContent").html(e);$(".listOperateArea").hide()}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})};e.initQuestionOperate=function(){$(".mainListContent").on("click",".questionListOperateArea li.operate",function(){var t=$(this).data("id");var a=$(this).data("is_enable");var i=$(this).data("state")==1?0:1;var n=$(this).data("type");switch(n){case"answerQuestion":e.handAnswerQuestion(t,a);break;case"answerQueAgain":$.alert("确认上传音频并重新回答，确认后新的回答内容将覆盖原内容，且该动作无法撤回。","info",{btn:3,onOk:function(){e.handAnswerQuestion(t,a)}});break;case"lookQuestion":$("#scanQueWindowContent").text("");$("#scanQueImgWrapper").html("");var s=$(this).data("content");$("#scanQueWindowContent").text(s);var o=$(this).data("imgs");if(o.length>0){var r="";o.forEach(function(e){r+='<img src="'+e+'">'});$("#scanQueImgWrapper").html(r)}$(".scanQuestionWindowBg").fadeIn(300);break;case"changeQuestionState":$(".loadingS").fadeIn(300);$.ajax("/QA/changeQuestionState",{type:"POST",dataType:"json",data:{state:i,question_id:t},success:function(t){if(t.code==0){if(i==1){baseUtils.show.blueTip("操作成功，问题将不在问答专区展示")}else{baseUtils.show.blueTip("操作成功，问题将在问答专区展示")}e.getQuestionList(false)}else{$(".loadingS").fadeOut(100);baseUtils.show.redTip("网络错误，请稍后再试！")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}});break;default:console.log("参数错误.");break}});$("#selectAudioFile").click(function(){$("#uploadAudioFile").click()});$(".closeUploadFileWindow, #cancelUploadAudio").click(function(){$(".uploadFileWindowBg").fadeOut(300)});$("#uploadAudioFile").on("change",function(){s(this.files,"audio","Audio1",1e3)});$("#confirmUploadAudio").click(function(){var t=$("#is_enable_eavesdrop").is(":checked");if(t==false)t=0;else t=1;console.log(t);var a=$("#uploadAudioUrl").val();if(e.isAudioUploading){baseUtils.show.redTip("音频文件正在上传中...");return false}if(a.length==0){baseUtils.show.redTip("请先上传音频文件.");return false}if(e.submitLimit){console.log("音频提交中，请稍后再试。");return false}e.submitLimit=true;$.ajax("/QA/commitAnswer",{type:"POST",dataType:"json",data:{id:e.questionId,answerer_size:resAudioSize,answerer_length:resAudio1Length,answerer_content:a,is_enable_eavesdrop:t},success:function(t){e.submitLimit=false;if(t.code==0){baseUtils.show.blueTip("音频文件提交成功。");$(".uploadFileWindowBg").fadeOut(300);e.getQuestionList(true)}else{baseUtils.show.redTip(t.msg);console.log(t.msg)}},error:function(t,a,i){e.submitLimit=false;console.log(i);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})})};e.initResponderOperate=function(){$(".mainListContent").on("click",".responderListOperateArea li.operate",function(){var t=$(this).data("state");var a=$(this).data("id");var i=$(this).data("type");switch(i){case"editResponderInfo":window.location.href="/QA/editAnswerer?answerer_id="+a+"&state="+t;break;case"changeResponderState":$(".loadingS").fadeIn(300);t=t==1?0:1;$.ajax("/QA/changeAnswererState",{type:"POST",dataType:"json",data:{answerer_id:a,state:t},success:function(a){if(a.code==0){if(t==1){baseUtils.show.blueTip("答主下线成功")}else{baseUtils.show.blueTip("答主上线成功")}e.getResponderList(false)}else if(a.code==2){$(".loadingS").fadeOut(100);baseUtils.show.redTip("请您先填写答主信息 才能上线答主！");return false}else{$(".loadingS").fadeOut(100);baseUtils.show.redTip("网络错误，请稍后再试！");return false}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}});break;default:console.log("参数错误.");break}})};e.initSettingOperate=function(){$(".mainListContent").on("change","input[type=radio]",function(e){var t=e.target.id,a=$("input[name=isShowListen]:checked").val(),i=$("input[name=isSmsRemind]:checked").val();$.ajax("/QA/commitSetting",{type:"POST",dataType:"json",data:{params:{isShowListen:a,isSmsRemind:i}},success:function(e){if(e.code==0){var a="";switch(t){case"openEavesdrop":a="问题页已显示偷听人数";break;case"closeEavesdrop":a="问题页已隐藏偷听人数";break;case"openSmsRemind":a="短信提醒已开启";break;case"closeSmsRemind":a="短信提醒已关闭";break;default:console.log("参数错误。");break}baseUtils.show.blueTip(a)}else{baseUtils.show.redTip("保存失败");window.location.reload()}},error:function(e,t,a){console.log(a);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})})};e.handleInviteAnswererWindow=function(){$("#inviteResponder").click(function(){$(".scanQrCodeWindowBg").fadeIn(300)});$(".closeScanQrCodeWindow img").click(function(){$(".scanQrCodeWindowBg").fadeOut(300)});(function(){var e=new Clipboard(".copyHref");e.on("success",function(e){baseUtils.show.blueTip("复制成功！请在微信内打开哦 。");e.clearSelection();setTimeout(function(){$(".scanQrCodeWindowBg").fadeOut(100)},2e3)})})()};e.handleScanQuestionWindow=function(){$(".closeQuestionDetailWindow, .scanQuestionWindowBg").click(function(){$(".scanQuestionWindowBg").fadeOut(100)});$(".scanQuestionWindow").click(function(e){e.stopPropagation()})};e.initListPagination=function(){$(".list-page .pagination li a").each(function(){var e=$(this);e.attr("data-url",e.attr("href"));e.removeAttr("href")})};e.initPaginationEvent=function(){$(".mainListContent").on("click"," .pagination li a",function(t){var a=$(t.target),i=a.data("url");var n=i.indexOf("page");QADetail.pageIndex=i.substring(n+5);if(QADetail.tabState=="questionList"){e.getQuestionList(true)}else if(QADetail.tabState=="responderList"){e.getResponderList(true)}})};e.handleSearch=function(){var a=new pickerDateRange("SelectData",{isTodayValid:true,defaultText:" ~ ",inputTrigger:"optional",theme:"ta",success:function(e){t(e);$("#searchQuestion").click()}});$("#SelectRange").on("click","li",function(){var e=$(this).data("type");var a=-1;switch(e){case"all":a={startDate:"",endDate:""};break;case"current_month":a={startDate:getNowMonth(),endDate:getNowDay()};break;case"last_seven":a={startDate:getOneDay(6),endDate:getNowDay()};break;case"last_month":a={startDate:getOneDay(29),endDate:getNowDay()};break}t(a);$("#searchQuestion").click()});$("#optional").click(function(){$("#dropdown-toggle").dropdown("toggle")});$("#SelectData").off("click").text("全部问题");$("#searchQuestion").click(function(){QADetail.pageIndex=1;QADetail.searchQuestionContent=$("#searchQuestionInput").val();e.getQuestionList(true)});$("#searchQuestionInput").on("keypress",function(e){if(e.keyCode==13){$("#searchQuestion").click()}});$("#searchAnswerer").click(function(){QADetail.pageIndex=1;QADetail.searchAnswererContent=$("#searchAnswererInput").val();QADetail.searchAnswererState=$("#answererIsShow").val();e.getResponderList(true)});$("#answererIsShow").on("change",function(){$("#searchAnswerer").click()});$("#searchAnswererInput").on("keypress",function(e){if(e.keyCode==13){$("#searchAnswerer").click()}})};e.handAnswerQuestion=function(t,a){$(".uploadAudio1Name").html("");$(".uploadAudio1Size span").html("");$(".uploadPLineActiveAudio1").css("width","0");$(".uploadPersentAudio1").text("");$(".uploadPLineAudio1").hide();$(".uploadBoxAudio1").hide();$("#uploadAudioUrl").val("");$("#is_enable_eavesdrop").attr("checked","true");e.questionId=t;$(".uploadFileWindowBg").fadeIn(100);if(a==1){$(".simi_tip").hide();$(".is_enable_eavesdrop").show()}else{$(".simi_tip").show();$(".is_enable_eavesdrop").hide()}};function t(e){if(e.startDate==""&&e.endDate==""){$("#SelectData").text("全部问题")}else{$("#SelectData").text(e.startDate+" ~ "+e.endDate)}QADetail.timeInterval.startDate=e.startDate;QADetail.timeInterval.endDate=e.endDate}function a(e){var t=$(".contentTabWrapper>li.activeContentTab").val();if(t==1&&e=="responderTab"||t==0&&e=="questionTab"){return false}if(e=="questionTab"){$("#questionTab").addClass("activeContentTab");$("#responderTab").removeClass("activeContentTab")}else if(e=="responderTab"){$("#responderTab").addClass("activeContentTab");$("#questionTab").removeClass("activeContentTab")}}function i(e){var t=null;if(window.createObjectURL!=undefined){t=window.createObjectURL(e)}else if(window.URL!=undefined){t=window.URL.createObjectURL(e)}else if(window.webkitURL!=undefined){t=window.webkitURL.createObjectURL(e)}return t}function n(e){if(window.revokeObjectURL!=undefined){window.revokeObjectURL(e)}else if(window.URL!=undefined){window.URL.revokeObjectURL(e)}else if(window.webkitURL!=undefined){window.webkitURL.revokeObjectURL(e)}}function s(t,a,s,o){if(t&&t.length>0){var r=t[0];var l=i(r);var d=(r.size/(1024*1024)).toFixed(2);resAudioSize=d;if(s=="Audio1"){fileAudio1Size=d;var c=document.getElementById("resourceTime");c.src=l;c.onload=function(){n(l)}}if(a=="audio"){console.log($("#audioURL"+s));$("#audioURL"+s).hide();$(".uploadBox"+s).fadeIn(300);$(".upload"+s+"Name").html(r.name);$(".upload"+s+"Size span").html(d);$(".uploadPLine"+s).show().find(".uploadPLineActive"+s).css("width","0");$(".uploadPersent"+s).html("");if(s=="Audio1"){var u=r.name}}if($uploadFile.checkFileSize(r,o)){e.isAudioUploading=true;$uploadFile.uploadRes(r,a,function(e){if(a=="audio"){var t=parseInt(e*100);$(".uploadPLineActive"+s).css("width",t+"%");$(".uploadPersent"+s).text(t+"%")}},function(t){e.isAudioUploading=false;console.log(t);baseUtils.show.blueTip("上传成功！");$(".uploadPersent"+s).text("已上传");var a=t.data.access_url;$("#uploadAudioUrl").val(a)},function(t){e.isAudioUploading=false;console.error("上传失败!!!");console.log(t);baseUtils.show.redTip("上传失败！")})}else{baseUtils.show.redTip("上传资源限制在"+o+"MB内！");$(".upLoad"+s).val("")}}else{baseUtils.show.redTip("网络错误，请稍后再试！")}}return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1ZXN0aW9uQW5kQW5zd2VyRGV0YWlsLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiUUFEZXRhaWwiLCJpbml0IiwicmVzQXVkaW8xTGVuZ3RoIiwicmVzQXVkaW9TaXplIiwidGFiU3RhdGUiLCJwYWdlSW5kZXgiLCJzZWFyY2hBbnN3ZXJlckNvbnRlbnQiLCJzZWFyY2hBbnN3ZXJlclN0YXRlIiwic2VhcmNoUXVlc3Rpb25Db250ZW50IiwidGltZUludGVydmFsIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInNldCIsIkdldFF1ZXJ5U3RyaW5nIiwibG9jYXRpb24iLCJocmVmIiwicGFnZVR5cGUiLCJjb2RlVXJsIiwiZGF0YSIsImNyZWF0ZVFSIiwibW9kYWwiLCJoYW5kbGVTZWFyY2giLCJpbml0RGV0YWlsT3BlcmF0ZSIsImluaXRDb250ZW50VGFiIiwiaW5pdExpc3RQYWdpbmF0aW9uIiwiaW5pdFBhZ2luYXRpb25FdmVudCIsImluaXRRdWVzdGlvbk9wZXJhdGUiLCJpbml0UmVzcG9uZGVyT3BlcmF0ZSIsImluaXRTZXR0aW5nT3BlcmF0ZSIsImhhbmRsZUludml0ZUFuc3dlcmVyV2luZG93IiwiaGFuZGxlU2NhblF1ZXN0aW9uV2luZG93IiwiY29kZV91cmwiLCJxcmNvZGUiLCJRUkNvZGUiLCJnZXRFbGVtZW50QnlJZCIsInRleHQiLCJ3aWR0aCIsImhlaWdodCIsImNvbG9yRGFyayIsImNvbG9yTGlnaHQiLCJjb3JyZWN0TGV2ZWwiLCJDb3JyZWN0TGV2ZWwiLCJIIiwiY3JlYXRlX3FyX2ZsYWciLCJxdWVzdGlvbklkIiwiaXNFbmFibGUiLCJzdWJtaXRMaW1pdCIsImlzQXVkaW9VcGxvYWRpbmciLCJjbGljayIsInR5cGUiLCJ0aGlzIiwic3RhdGUiLCJpZCIsInZhbCIsIndpbmRvdyIsImFqYXgiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJjb2RlIiwiYmFzZVV0aWxzIiwic2hvdyIsImJsdWVUaXAiLCJyZWRUaXAiLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjbGlwYm9hcmQiLCJDbGlwYm9hcmQiLCJvbiIsImUiLCJjbGVhclNlbGVjdGlvbiIsInZhbHVlIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsImdldFJlc3BvbmRlckxpc3QiLCJnZXRRdWVzdGlvbkxpc3QiLCJnZXRTZXR0aW5nUGFnZSIsImlzU2hvd0xvYWRpbmciLCJpc1N3aXRjaENvbnRlbnRUYWIiLCJ1bmRlZmluZWQiLCJmYWRlSW4iLCJzZWFyY2giLCJwYWdlIiwicmVzdWx0IiwiZmFkZU91dCIsImxlbmd0aCIsImh0bWwiLCJoaWRlIiwidGltZVN0cmluZyIsInRpbWUxIiwicXVlc3Rpb25faWQiLCJpc19lbmFibGUiLCJoYW5kQW5zd2VyUXVlc3Rpb24iLCJhbGVydCIsImJ0biIsIm9uT2siLCJjb250ZW50IiwiaW1nSnNvbkFyciIsImltZ1N0cmluZyIsImZvckVhY2giLCJpdGVtIiwicmVzVXBsb2FkIiwiZmlsZXMiLCJpc19lbmFibGVfZWF2ZXNkcm9wIiwiaXMiLCJ1cGxvYWRBdWRpb1VybCIsImFuc3dlcmVyX3NpemUiLCJhbnN3ZXJlcl9sZW5ndGgiLCJhbnN3ZXJlcl9jb250ZW50IiwibXNnIiwiYW5zd2VyZXJJZCIsImFuc3dlcmVyX2lkIiwidGFyZ2V0SWQiLCJ0YXJnZXQiLCJpc1Nob3dMaXN0ZW4iLCJpc1Ntc1JlbWluZCIsInBhcmFtcyIsIm91dHB1dFRleHQiLCJyZWxvYWQiLCJzZXRUaW1lb3V0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZWFjaCIsIiRlbGUiLCJhdHRyIiwicmVtb3ZlQXR0ciIsImVsZSIsInVybCIsImluZGV4IiwiaW5kZXhPZiIsInN1YnN0cmluZyIsImRhdGFSYW5nZUluc3RhbmNlIiwicGlja2VyRGF0ZVJhbmdlIiwiaXNUb2RheVZhbGlkIiwiZGVmYXVsdFRleHQiLCJpbnB1dFRyaWdnZXIiLCJ0aGVtZSIsIm9iaiIsInVwZGF0ZVRpbWVJbnRlcnZhbCIsInRpbWVSYW5nZSIsImdldE5vd01vbnRoIiwiZ2V0Tm93RGF5IiwiZ2V0T25lRGF5IiwiZHJvcGRvd24iLCJvZmYiLCJrZXlDb2RlIiwiY3NzIiwic3dpdGNoQ29udGVudFRhYiIsInRhYlZhbHVlIiwiZ2V0T2JqZWN0VVJMIiwiZmlsZSIsImNyZWF0ZU9iamVjdFVSTCIsIlVSTCIsIndlYmtpdFVSTCIsInJlbW92ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsInJlc1R5cGUiLCJyZXNUeXBlQ2xhc3MiLCJyZXNMaW1pdFNpemUiLCJyZXNvdXJjZUxvY2FsVXJsIiwiZmlsZVNpemUiLCJzaXplIiwidG9GaXhlZCIsImZpbGVBdWRpbzFTaXplIiwicmVzb3VyY2VFbGVtZW50Iiwic3JjIiwib25sb2FkIiwibmFtZSIsImZpbmQiLCJBdWRpb05hbWUiLCIkdXBsb2FkRmlsZSIsImNoZWNrRmlsZVNpemUiLCJ1cGxvYWRSZXMiLCJwcm9ncmVzcyIsInBhcnNlSW50IiwicmVzVXJsIiwiYWNjZXNzX3VybCJdLCJtYXBwaW5ncyI6IkFBQ0FBLEVBQUVDLFVBQVVDLE1BQU0sV0FDZEMsU0FBU0MsUUFHYixJQUFJQyxrQkFBbUIsRUFDbkJDLGNBQWdCLENBRXBCLElBQUlILFVBQVcsV0FFWCxHQUFJQSxLQUVKQSxHQUFTSSxTQUFXLGNBQ3BCSixHQUFTSyxVQUFZLENBRXJCTCxHQUFTTSxzQkFBd0IsRUFDakNOLEdBQVNPLG9CQUFzQixFQUUvQlAsR0FBU1Esc0JBQXdCLEVBRWpDUixHQUFTUyxjQUNMQyxVQUFXLEdBQ1hDLFFBQVMsR0FHYlgsR0FBU0MsS0FBTyxXQUNaLEdBQUlXLEdBQU1DLGVBQWUsTUFDekIsSUFBR0QsR0FBTyxXQUNORSxTQUFTQyxLQUFPLHlDQUVwQixJQUFJQyxHQUFXSCxlQUFlLGNBQWdCLENBQzlDLElBQUlHLEdBQVksRUFBRyxDQUNmaEIsRUFBU0ksU0FBVyxvQkFDakIsQ0FDSEosRUFBU0ksU0FBVyxlQUl4QixHQUFJYSxHQUFVcEIsRUFBRSxlQUFlcUIsS0FBSyxXQUNwQ0MsR0FBU0YsRUFNVEcsT0FBTUMsY0FVTkQsT0FBTUUsbUJBS05GLE9BQU1HLGdCQUtOSCxPQUFNSSxvQkFLTkosT0FBTUsscUJBS05MLE9BQU1NLHFCQUtOTixPQUFNTyxzQkFLTlAsT0FBTVEsb0JBS05SLE9BQU1TLDRCQUtOVCxPQUFNVSwyQkFNVixTQUFTWCxHQUFTWSxHQUVkLEdBQUlDLEdBQVMsR0FBSUMsUUFBT25DLFNBQVNvQyxlQUFlLFlBQzVDQyxLQUFNSixFQUNOSyxNQUFPLElBQ1BDLE9BQVEsSUFDUkMsVUFBVyxVQUNYQyxXQUFZLFVBQ1pDLGFBQWNQLE9BQU9RLGFBQWFDLEdBRXRDQyxnQkFBaUIsTUFHckIsTUFBTzNDLEtBR1gsSUFBSW9CLE9BQVEsV0FFUixHQUFJQSxLQUVKQSxHQUFNd0IsWUFBYyxDQUVwQnhCLEdBQU15QixVQUFZLENBQ2xCekIsR0FBTTBCLFlBQWMsS0FFcEIxQixHQUFNMkIsaUJBQW1CLEtBRXpCM0IsR0FBTUUsa0JBQW9CLFdBRXRCekIsRUFBRSxpQ0FBaUNtRCxNQUFNLFdBRXJDLEdBQUlDLEdBQU9wRCxFQUFFcUQsTUFBTWhDLEtBQUssT0FDeEIsSUFBSWlDLEdBQVF0RCxFQUFFcUQsTUFBTWhDLEtBQUssVUFBYSxFQUFJLEVBQUksQ0FDOUMsSUFBSWtDLEdBQUt2RCxFQUFFLGVBQWV3RCxLQUMxQixRQUFRSixHQUNKLElBQUssU0FDREssT0FBT3hDLFNBQVNDLEtBQU8sZ0NBQWtDcUMsQ0FDekQsTUFFSixLQUFLLGdCQUNEdkQsRUFBRTBELEtBQUssOEJBQ0hOLEtBQU0sT0FDTk8sU0FBVSxPQUNWdEMsTUFDSWtDLEdBQUdBLEVBQ0hELE1BQU9BLEdBRVhNLFFBQVMsU0FBVXZDLEdBQ2YsR0FBSUEsRUFBS3dDLE1BQVEsRUFBRyxDQUNoQixHQUFJUCxHQUFTLEVBQUcsQ0FDWlEsVUFBVUMsS0FBS0MsUUFBUSx1QkFDcEIsQ0FDSEYsVUFBVUMsS0FBS0MsUUFBUSxrQkFFM0JQLE9BQU94QyxTQUFTQyxLQUFPLGtDQUNwQixDQUNINEMsVUFBVUMsS0FBS0UsT0FBTyxpQkFJOUJDLE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUJDLFFBQVFDLElBQUlGLEVBQ1pQLFdBQVVDLEtBQUtFLE9BQU8saUJBSTlCLE1BQ0osU0FDSUssUUFBUUMsSUFBSSxRQUNaLFdBTVosV0FDSSxHQUFJQyxHQUFZLEdBQUlDLFdBQVUsZ0JBQzlCRCxHQUFVRSxHQUFHLFVBQVcsU0FBU0MsR0FDN0JiLFVBQVVDLEtBQUtDLFFBQVEsa0JBQ3ZCVyxHQUFFQyx1QkFNZHJELEdBQU1HLGVBQWlCLFdBRW5CMUIsRUFBRSx5QkFBeUJtRCxNQUFNLFdBQzdCLEdBQUkwQixHQUFRN0UsRUFBRXFELE1BQU1HLEtBRXBCLEtBQUt4RCxFQUFFcUQsTUFBTXlCLFNBQVMsb0JBQXFCLENBQ3ZDLEdBQUlELEdBQVMsRUFBRyxDQUNaN0UsRUFBRSxpQkFBaUIrRSxTQUFTLG1CQUM1Qi9FLEdBQUUsZ0JBQWdCZ0YsWUFBWSxtQkFDOUJoRixHQUFFLGVBQWVnRixZQUFZLHdCQUUxQixJQUFJSCxHQUFTLEVBQUcsQ0FDbkI3RSxFQUFFLGdCQUFnQitFLFNBQVMsbUJBQzNCL0UsR0FBRSxpQkFBaUJnRixZQUFZLG1CQUMvQmhGLEdBQUUsZUFBZWdGLFlBQVksd0JBRTFCLElBQUlILEdBQVMsRUFBRyxDQUNuQjdFLEVBQUUsZUFBZStFLFNBQVMsbUJBQzFCL0UsR0FBRSxnQkFBZ0JnRixZQUFZLG1CQUM5QmhGLEdBQUUsaUJBQWlCZ0YsWUFBWSxxQkFJdkM3RSxTQUFTSyxVQUFZLENBQ3JCTCxVQUFTTSxzQkFBd0IsRUFDakNOLFVBQVNPLG9CQUFzQixFQUMvQlAsVUFBU1Esc0JBQXdCLEVBQ2pDWCxHQUFFLHdCQUF3QndELElBQUksR0FDOUJ4RCxHQUFFLG1CQUFtQndELElBQUksR0FDekJ4RCxHQUFFLHdCQUF3QndELElBQUksR0FDOUJ4RCxHQUFFLGVBQWVzQyxLQUFLLE9BRXRCLElBQUl1QyxHQUFTLEVBQUcsQ0FDWjFFLFNBQVNJLFNBQVcsZUFDcEIwRSxTQUFRQyxhQUFhLEtBQU0sR0FBSSwwQ0FDL0IzRCxHQUFNNEQsaUJBQWlCLEtBQU0sVUFFMUIsSUFBSU4sR0FBUyxFQUFHLENBQ25CMUUsU0FBU0ksU0FBVyxjQUNwQjBFLFNBQVFDLGFBQWEsS0FBTSxHQUFJLDBDQUMvQjNELEdBQU02RCxnQkFBZ0IsS0FBTSxVQUV6QixJQUFJUCxHQUFTLEVBQUcsQ0FDbkIxRSxTQUFTSSxTQUFXLFlBQ3BCMEUsU0FBUUMsYUFBYSxLQUFNLEdBQUksMENBQy9CM0QsR0FBTThELG9CQVdsQjlELEdBQU00RCxpQkFBbUIsU0FBVUcsRUFBZUMsR0FFOUMsR0FBSUQsR0FBaUJFLFdBQWFGLEdBQWlCLEtBQU0sQ0FDckR0RixFQUFFLGFBQWF5RixPQUFPLEtBRzFCekYsRUFBRTBELEtBQUssd0JBQ0hOLEtBQU0sTUFDTk8sU0FBVSxPQUNWdEMsTUFDSXFFLE9BQVF2RixTQUFTTSxzQkFDakI2QyxNQUFPbkQsU0FBU08sb0JBQ2hCaUYsS0FBTXhGLFNBQVNLLFdBRW5Cb0QsUUFBUyxTQUFVZ0MsR0FDZjVGLEVBQUUsYUFBYTZGLFFBQVEsSUFDdkIsSUFBSUQsR0FBVUEsRUFBT0UsT0FBUyxFQUFHLENBQzdCOUYsRUFBRSxvQkFBb0IrRixLQUFLSCxFQUMzQnJFLEdBQU1JLG9CQUVOLElBQUk0RCxFQUFvQixDQUNwQnZGLEVBQUUsb0JBQW9CK0QsTUFDdEIvRCxHQUFFLHdCQUF3QmdHLE1BQzFCaEcsR0FBRSx5QkFBeUJ5RixPQUFPLFVBR25DLENBQ0huQixRQUFRQyxJQUFJLFNBQ1pULFdBQVVDLEtBQUtFLE9BQU8sZ0JBRzlCQyxNQUFPLFNBQVVDLEVBQUtDLEVBQVFDLEdBQzFCckUsRUFBRSxhQUFhNkYsUUFBUSxJQUN2QnZCLFNBQVFDLElBQUlGLEVBQ1pQLFdBQVVDLEtBQUtFLE9BQU8sa0JBVWxDMUMsR0FBTTZELGdCQUFrQixTQUFVRSxFQUFlQyxHQUU3QyxHQUFJRCxHQUFpQkUsV0FBYUYsR0FBaUIsS0FBTSxDQUNyRHRGLEVBQUUsYUFBYXlGLE9BQU8sS0FFMUIsR0FBSVEsR0FBYWpHLEVBQUUsZUFBZXNDLE1BQ2xDLElBQUkyRCxHQUFjLE9BQVEsQ0FDdEJBLEVBQWEsR0FHakJqRyxFQUFFMEQsS0FBSyx1QkFDSE4sS0FBTSxNQUNOTyxTQUFVLE9BQ1Z0QyxNQUNJcUUsT0FBUXZGLFNBQVNRLHNCQUNqQnVGLE1BQU9ELEVBQ1BOLEtBQU14RixTQUFTSyxXQUVuQm9ELFFBQVMsU0FBVWdDLEdBQ2Y1RixFQUFFLGFBQWE2RixRQUFRLElBQ3ZCLElBQUlELEdBQVVBLEVBQU9FLE9BQVMsRUFBRyxDQUM3QjlGLEVBQUUsb0JBQW9CK0YsS0FBS0gsRUFDM0JyRSxHQUFNSSxvQkFFTixJQUFJNEQsRUFBb0IsQ0FDcEJ2RixFQUFFLG9CQUFvQitELE1BQ3RCL0QsR0FBRSx5QkFBeUJnRyxNQUMzQmhHLEdBQUUsd0JBQXdCeUYsT0FBTyxVQUdsQyxDQUNIbkIsUUFBUUMsSUFBSSxTQUNaVCxXQUFVQyxLQUFLRSxPQUFPLGdCQUc5QkMsTUFBTyxTQUFVQyxFQUFLQyxFQUFRQyxHQUMxQnJFLEVBQUUsYUFBYTZGLFFBQVEsSUFDdkJ2QixTQUFRQyxJQUFJRixFQUNaUCxXQUFVQyxLQUFLRSxPQUFPLGtCQVNsQzFDLEdBQU04RCxlQUFpQixXQUVuQnJGLEVBQUUsYUFBYXlGLE9BQU8sSUFFdEJ6RixHQUFFMEQsS0FBSyxzQkFDSE4sS0FBTSxNQUNOTyxTQUFVLE9BQ1Z0QyxRQUNBdUMsUUFBUyxTQUFVZ0MsR0FDZjVGLEVBQUUsYUFBYTZGLFFBQVEsSUFDdkIsSUFBSUQsR0FBVUEsRUFBT0UsT0FBUyxFQUFHLENBQzdCOUYsRUFBRSxvQkFBb0IrRixLQUFLSCxFQUUzQjVGLEdBQUUsb0JBQW9CZ0csV0FDbkIsQ0FDSDFCLFFBQVFDLElBQUksU0FDWlQsV0FBVUMsS0FBS0UsT0FBTyxnQkFHOUJDLE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUJyRSxFQUFFLGFBQWE2RixRQUFRLElBQ3ZCdkIsU0FBUUMsSUFBSUYsRUFDWlAsV0FBVUMsS0FBS0UsT0FBTyxxQkFPbEMxQyxHQUFNTSxvQkFBc0IsV0FHeEI3QixFQUFFLG9CQUFvQjBFLEdBQUcsUUFBUyxzQ0FBdUMsV0FFckUsR0FBSXlCLEdBQWNuRyxFQUFFcUQsTUFBTWhDLEtBQUssS0FDL0IsSUFBSStFLEdBQWNwRyxFQUFFcUQsTUFBTWhDLEtBQUssWUFDL0IsSUFBSWlDLEdBQVF0RCxFQUFFcUQsTUFBTWhDLEtBQUssVUFBWSxFQUFJLEVBQUksQ0FFN0MsSUFBSStCLEdBQU9wRCxFQUFFcUQsTUFBTWhDLEtBQUssT0FDeEIsUUFBUStCLEdBQ0osSUFBSyxpQkFDRDdCLEVBQU04RSxtQkFBbUJGLEVBQVlDLEVBQ3JDLE1BQ0osS0FBSyxpQkFDRHBHLEVBQUVzRyxNQUFNLHdDQUF5QyxRQUM3Q0MsSUFBSyxFQUNMQyxLQUFNLFdBQ0ZqRixFQUFNOEUsbUJBQW1CRixFQUFZQyxLQUk3QyxNQUNKLEtBQUssZUFFRHBHLEVBQUUseUJBQXlCc0MsS0FBSyxHQUNoQ3RDLEdBQUUsc0JBQXNCK0YsS0FBSyxHQUU3QixJQUFJVSxHQUFVekcsRUFBRXFELE1BQU1oQyxLQUFLLFVBQzNCckIsR0FBRSx5QkFBeUJzQyxLQUFLbUUsRUFFaEMsSUFBSUMsR0FBYTFHLEVBQUVxRCxNQUFNaEMsS0FBSyxPQUM5QixJQUFJcUYsRUFBV1osT0FBUyxFQUFHLENBQ3ZCLEdBQUlhLEdBQVksRUFDaEJELEdBQVdFLFFBQVEsU0FBVUMsR0FDekJGLEdBQ0ksYUFBZUUsRUFBTyxNQUU5QjdHLEdBQUUsc0JBQXNCK0YsS0FBS1ksR0FHakMzRyxFQUFFLHlCQUF5QnlGLE9BQU8sSUFDbEMsTUFFSixLQUFLLHNCQUNEekYsRUFBRSxhQUFheUYsT0FBTyxJQUN0QnpGLEdBQUUwRCxLQUFLLDJCQUNITixLQUFNLE9BQ05PLFNBQVUsT0FDVnRDLE1BQ0lpQyxNQUFPQSxFQUNQNkMsWUFBYUEsR0FFakJ2QyxRQUFTLFNBQVV2QyxHQUNmLEdBQUlBLEVBQUt3QyxNQUFRLEVBQUcsQ0FDaEIsR0FBSVAsR0FBUyxFQUFHLENBQ1pRLFVBQVVDLEtBQUtDLFFBQVEsd0JBQ3BCLENBQ0hGLFVBQVVDLEtBQUtDLFFBQVEsbUJBRTNCekMsRUFBTTZELGdCQUFnQixXQUNuQixDQUNIcEYsRUFBRSxhQUFhNkYsUUFBUSxJQUN2Qi9CLFdBQVVDLEtBQUtFLE9BQU8saUJBSTlCQyxNQUFPLFNBQVVDLEVBQUtDLEVBQVFDLEdBQzFCckUsRUFBRSxhQUFhNkYsUUFBUSxJQUN2QnZCLFNBQVFDLElBQUlGLEVBQ1pQLFdBQVVDLEtBQUtFLE9BQU8saUJBSTlCLE1BQ0osU0FDSUssUUFBUUMsSUFBSSxRQUNaLFNBT1p2RSxHQUFFLG9CQUFvQm1ELE1BQU0sV0FDeEJuRCxFQUFFLG9CQUFvQm1ELFNBRzFCbkQsR0FBRSw4Q0FBOENtRCxNQUFNLFdBQ2xEbkQsRUFBRSx1QkFBdUI2RixRQUFRLE1BSXJDN0YsR0FBRSxvQkFBb0IwRSxHQUFHLFNBQVUsV0FDL0JvQyxFQUFVekQsS0FBSzBELE1BQU8sUUFBUyxTQUFVLE1BSzdDL0csR0FBRSx1QkFBdUJtRCxNQUFNLFdBQzNCLEdBQUk2RCxHQUFzQmhILEVBQUUsd0JBQXdCaUgsR0FBRyxXQUN2RCxJQUFHRCxHQUF1QixNQUN0QkEsRUFBc0IsTUFFdEJBLEdBQXNCLENBQzFCMUMsU0FBUUMsSUFBSXlDLEVBRVosSUFBSUUsR0FBaUJsSCxFQUFFLG1CQUFtQndELEtBQzFDLElBQUlqQyxFQUFNMkIsaUJBQWtCLENBQ3hCWSxVQUFVQyxLQUFLRSxPQUFPLGVBQ3RCLE9BQU8sT0FFWCxHQUFJaUQsRUFBZXBCLFFBQVUsRUFBRyxDQUM1QmhDLFVBQVVDLEtBQUtFLE9BQU8sWUFDdEIsT0FBTyxPQUVYLEdBQUkxQyxFQUFNMEIsWUFBYSxDQUNuQnFCLFFBQVFDLElBQUksZUFDWixPQUFPLE9BRVhoRCxFQUFNMEIsWUFBYyxJQUVwQmpELEdBQUUwRCxLQUFLLG9CQUNITixLQUFNLE9BQ05PLFNBQVUsT0FDVnRDLE1BQ0lrQyxHQUFJaEMsRUFBTXdCLFdBQ1ZvRSxjQUFlN0csYUFDZjhHLGdCQUFpQi9HLGdCQUNqQmdILGlCQUFrQkgsRUFDbEJGLG9CQUFvQkEsR0FFeEJwRCxRQUFTLFNBQVVnQyxHQUNmckUsRUFBTTBCLFlBQWMsS0FDcEIsSUFBSTJDLEVBQU8vQixNQUFRLEVBQUcsQ0FDbEJDLFVBQVVDLEtBQUtDLFFBQVEsWUFDdkJoRSxHQUFFLHVCQUF1QjZGLFFBQVEsSUFDakN0RSxHQUFNNkQsZ0JBQWdCLFVBQ25CLENBQ0h0QixVQUFVQyxLQUFLRSxPQUFPMkIsRUFBTzBCLElBQzdCaEQsU0FBUUMsSUFBSXFCLEVBQU8wQixPQUczQnBELE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUI5QyxFQUFNMEIsWUFBYyxLQUNwQnFCLFNBQVFDLElBQUlGLEVBQ1pQLFdBQVVDLEtBQUtFLE9BQU8sdUJBU3RDMUMsR0FBTU8scUJBQXVCLFdBRXpCOUIsRUFBRSxvQkFBb0IwRSxHQUFHLFFBQVMsdUNBQXdDLFdBS3RFLEdBQUlwQixHQUFRdEQsRUFBRXFELE1BQU1oQyxLQUFLLFFBQ3pCLElBQUlrRyxHQUFhdkgsRUFBRXFELE1BQU1oQyxLQUFLLEtBRTlCLElBQUkrQixHQUFPcEQsRUFBRXFELE1BQU1oQyxLQUFLLE9BQ3hCLFFBQVErQixHQUNKLElBQUssb0JBQ0RLLE9BQU94QyxTQUFTQyxLQUFPLGdDQUFrQ3FHLEVBQWEsVUFBWWpFLENBQ2xGLE1BRUosS0FBSyx1QkFDRHRELEVBQUUsYUFBYXlGLE9BQU8sSUFDdEJuQyxHQUFTQSxHQUFTLEVBQUksRUFBSSxDQUMxQnRELEdBQUUwRCxLQUFLLDJCQUNITixLQUFNLE9BQ05PLFNBQVUsT0FDVnRDLE1BQ0ltRyxZQUFhRCxFQUNiakUsTUFBT0EsR0FFWE0sUUFBUyxTQUFVdkMsR0FDZixHQUFJQSxFQUFLd0MsTUFBUSxFQUFHLENBQ2hCLEdBQUlQLEdBQVMsRUFBRyxDQUNaUSxVQUFVQyxLQUFLQyxRQUFRLGNBQ3BCLENBQ0hGLFVBQVVDLEtBQUtDLFFBQVEsVUFFM0J6QyxFQUFNNEQsaUJBQWlCLFdBQ3BCLElBQUc5RCxFQUFLd0MsTUFBUSxFQUFFLENBQ3JCN0QsRUFBRSxhQUFhNkYsUUFBUSxJQUN2Qi9CLFdBQVVDLEtBQUtFLE9BQU8sb0JBQ3RCLE9BQU8sV0FDSixDQUNIakUsRUFBRSxhQUFhNkYsUUFBUSxJQUN2Qi9CLFdBQVVDLEtBQUtFLE9BQU8sY0FDdEIsT0FBTyxTQUdmQyxNQUFPLFNBQVVDLEVBQUtDLEVBQVFDLEdBQzFCckUsRUFBRSxhQUFhNkYsUUFBUSxJQUN2QnZCLFNBQVFDLElBQUlGLEVBQ1pQLFdBQVVDLEtBQUtFLE9BQU8saUJBRzlCLE1BQ0osU0FDSUssUUFBUUMsSUFBSSxRQUNaLFVBT2hCaEQsR0FBTVEsbUJBQXFCLFdBRXZCL0IsRUFBRSxvQkFBb0IwRSxHQUFHLFNBQVUsb0JBQXFCLFNBQVVDLEdBRTlELEdBQUk4QyxHQUFXOUMsRUFBRStDLE9BQU9uRSxHQUNwQm9FLEVBQWUzSCxFQUFFLG9DQUFvQ3dELE1BQ3JEb0UsRUFBYzVILEVBQUUsbUNBQW1Dd0QsS0FFdkR4RCxHQUFFMEQsS0FBSyxxQkFDSE4sS0FBTSxPQUNOTyxTQUFVLE9BQ1Z0QyxNQUNJd0csUUFDSUYsYUFBY0EsRUFDZEMsWUFBYUEsSUFHckJoRSxRQUFTLFNBQVVnQyxHQUNmLEdBQUlBLEVBQU8vQixNQUFRLEVBQUcsQ0FDbEIsR0FBSWlFLEdBQWEsRUFDakIsUUFBUUwsR0FDSixJQUFLLGdCQUNESyxFQUFhLFlBQ2IsTUFDSixLQUFLLGlCQUNEQSxFQUFhLFlBQ2IsTUFDSixLQUFLLGdCQUNEQSxFQUFhLFNBQ2IsTUFDSixLQUFLLGlCQUNEQSxFQUFhLFNBQ2IsTUFDSixTQUNJeEQsUUFBUUMsSUFBSSxRQUNaLE9BRVJULFVBQVVDLEtBQUtDLFFBQVE4RCxPQUNwQixDQUNIaEUsVUFBVUMsS0FBS0UsT0FBTyxPQUN0QlIsUUFBT3hDLFNBQVM4RyxXQUd4QjdELE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUJDLFFBQVFDLElBQUlGLEVBQ1pQLFdBQVVDLEtBQUtFLE9BQU8sdUJBUXRDMUMsR0FBTVMsMkJBQTZCLFdBRy9CaEMsRUFBRSxvQkFBb0JtRCxNQUFNLFdBRXhCbkQsRUFBRSx1QkFBdUJ5RixPQUFPLE1BSXBDekYsR0FBRSw4QkFBOEJtRCxNQUFNLFdBQ2xDbkQsRUFBRSx1QkFBdUI2RixRQUFRLFFBSXJDLFdBQ0ksR0FBSXJCLEdBQVksR0FBSUMsV0FBVSxZQUM5QkQsR0FBVUUsR0FBRyxVQUFXLFNBQVNDLEdBQzdCYixVQUFVQyxLQUFLQyxRQUFRLGtCQUN2QlcsR0FBRUMsZ0JBQ0ZvRCxZQUFXLFdBQ1BoSSxFQUFFLHVCQUF1QjZGLFFBQVEsTUFDbEMsV0FLZnRFLEdBQU1VLHlCQUEyQixXQUc3QmpDLEVBQUUscURBQXFEbUQsTUFBTSxXQUN6RG5ELEVBQUUseUJBQXlCNkYsUUFBUSxNQUd2QzdGLEdBQUUsdUJBQXVCbUQsTUFBTSxTQUFVd0IsR0FDckNBLEVBQUVzRCxvQkFTVjFHLEdBQU1JLG1CQUFxQixXQUV2QjNCLEVBQUUsK0JBQStCa0ksS0FBSyxXQUNsQyxHQUFJQyxHQUFPbkksRUFBRXFELEtBQ2I4RSxHQUFLQyxLQUFLLFdBQVlELEVBQUtDLEtBQUssUUFDaENELEdBQUtFLFdBQVcsVUFLeEI5RyxHQUFNSyxvQkFBc0IsV0FFeEI1QixFQUFFLG9CQUFvQjBFLEdBQUcsUUFBUyxvQkFBcUIsU0FBU0MsR0FDNUQsR0FBSTJELEdBQU10SSxFQUFFMkUsRUFBRStDLFFBQ1ZhLEVBQU1ELEVBQUlqSCxLQUFLLE1BRW5CLElBQUltSCxHQUFRRCxFQUFJRSxRQUFRLE9BQ3hCdEksVUFBU0ssVUFBWStILEVBQUlHLFVBQVVGLEVBQVEsRUFFM0MsSUFBSXJJLFNBQVNJLFVBQVksZUFBZ0IsQ0FDckNnQixFQUFNNkQsZ0JBQWdCLFVBQ25CLElBQUlqRixTQUFTSSxVQUFZLGdCQUFpQixDQUM3Q2dCLEVBQU00RCxpQkFBaUIsU0FNbkM1RCxHQUFNQyxhQUFlLFdBS2pCLEdBQUltSCxHQUFvQixHQUFJQyxpQkFBZ0IsY0FDeENDLGFBQWUsS0FDZkMsWUFBYyxNQUNkQyxhQUFlLFdBQ2ZDLE1BQVEsS0FDUnBGLFFBQVUsU0FBU3FGLEdBQ2ZDLEVBQW1CRCxFQUNuQmpKLEdBQUUsbUJBQW1CbUQsVUFJN0JuRCxHQUFFLGdCQUFnQjBFLEdBQUcsUUFBUyxLQUFNLFdBQ2hDLEdBQUl0QixHQUFPcEQsRUFBRXFELE1BQU1oQyxLQUFLLE9BQ3hCLElBQUk4SCxJQUFhLENBQ2pCLFFBQVEvRixHQUNKLElBQUssTUFDRCtGLEdBQ0l0SSxVQUFXLEdBQUlDLFFBQVMsR0FFNUIsTUFDSixLQUFLLGdCQUNEcUksR0FDSXRJLFVBQVd1SSxjQUFldEksUUFBU3VJLFlBRXZDLE1BQ0osS0FBSyxhQUNERixHQUNJdEksVUFBV3lJLFVBQVUsR0FBSXhJLFFBQVN1SSxZQUV0QyxNQUNKLEtBQUssYUFDREYsR0FDSXRJLFVBQVd5SSxVQUFVLElBQUt4SSxRQUFTdUksWUFFdkMsT0FFUkgsRUFBbUJDLEVBQ25CbkosR0FBRSxtQkFBbUJtRCxTQUd6Qm5ELEdBQUUsYUFBYW1ELE1BQU0sV0FDakJuRCxFQUFFLG9CQUFvQnVKLFNBQVMsV0FFbkN2SixHQUFFLGVBQWV3SixJQUFJLFNBQVNsSCxLQUFLLE9BSW5DdEMsR0FBRSxtQkFBbUJtRCxNQUFNLFdBQ3ZCaEQsU0FBU0ssVUFBWSxDQUNyQkwsVUFBU1Esc0JBQXdCWCxFQUFFLHdCQUF3QndELEtBQzNEakMsR0FBTTZELGdCQUFnQixPQUUxQnBGLEdBQUUsd0JBQXdCMEUsR0FBRyxXQUFZLFNBQVVDLEdBQy9DLEdBQUlBLEVBQUU4RSxTQUFXLEdBQUksQ0FDakJ6SixFQUFFLG1CQUFtQm1ELFVBSzdCbkQsR0FBRSxtQkFBbUJtRCxNQUFNLFdBQ3ZCaEQsU0FBU0ssVUFBWSxDQUNyQkwsVUFBU00sc0JBQXdCVCxFQUFFLHdCQUF3QndELEtBQzNEckQsVUFBU08sb0JBQXNCVixFQUFFLG1CQUFtQndELEtBQ3BEakMsR0FBTTRELGlCQUFpQixPQUczQm5GLEdBQUUsbUJBQW1CMEUsR0FBRyxTQUFVLFdBQzlCMUUsRUFBRSxtQkFBbUJtRCxTQUV6Qm5ELEdBQUUsd0JBQXdCMEUsR0FBRyxXQUFZLFNBQVVDLEdBQy9DLEdBQUlBLEVBQUU4RSxTQUFXLEdBQUksQ0FDakJ6SixFQUFFLG1CQUFtQm1ELFdBTWpDNUIsR0FBTThFLG1CQUFxQixTQUFVRixFQUFZQyxHQUM3Q3BHLEVBQUUscUJBQXFCK0YsS0FBSyxHQUM1Qi9GLEdBQUUsMEJBQTBCK0YsS0FBSyxHQUNqQy9GLEdBQUUsNEJBQTRCMEosSUFBSSxRQUFTLElBQzNDMUosR0FBRSx3QkFBd0JzQyxLQUFLLEdBRS9CdEMsR0FBRSxzQkFBc0JnRyxNQUN4QmhHLEdBQUUsb0JBQW9CZ0csTUFDdEJoRyxHQUFFLG1CQUFtQndELElBQUksR0FDekJ4RCxHQUFFLHdCQUF3Qm9JLEtBQUssVUFBVSxPQUV6QzdHLEdBQU13QixXQUFhb0QsQ0FFbkJuRyxHQUFFLHVCQUF1QnlGLE9BQU8sSUFDaEMsSUFBR1csR0FBYSxFQUFFLENBQ2RwRyxFQUFFLGFBQWFnRyxNQUNmaEcsR0FBRSx3QkFBd0IrRCxXQUN2QixDQUNIL0QsRUFBRSxhQUFhK0QsTUFDZi9ELEdBQUUsd0JBQXdCZ0csUUFzT2xDLFNBQVNrRCxHQUFtQkQsR0FDeEIsR0FBSUEsRUFBSXBJLFdBQWEsSUFBTW9JLEVBQUluSSxTQUFXLEdBQUksQ0FDMUNkLEVBQUUsZUFBZXNDLEtBQUssWUFDbkIsQ0FDSHRDLEVBQUUsZUFBZXNDLEtBQUsyRyxFQUFJcEksVUFBWSxNQUFRb0ksRUFBSW5JLFNBR3REWCxTQUFTUyxhQUFhQyxVQUFZb0ksRUFBSXBJLFNBQ3RDVixVQUFTUyxhQUFhRSxRQUFVbUksRUFBSW5JLFFBUXhDLFFBQVM2SSxHQUFpQmpDLEdBQ3RCLEdBQUlrQyxHQUFXNUosRUFBRSwwQ0FBMEN3RCxLQUUzRCxJQUFLb0csR0FBWSxHQUFLbEMsR0FBVSxnQkFBb0JrQyxHQUFZLEdBQUtsQyxHQUFVLGNBQWdCLENBQzNGLE1BQU8sT0FFWCxHQUFJQSxHQUFVLGNBQWUsQ0FDekIxSCxFQUFFLGdCQUFnQitFLFNBQVMsbUJBQzNCL0UsR0FBRSxpQkFBaUJnRixZQUFZLHdCQUU1QixJQUFJMEMsR0FBVSxlQUFnQixDQUNqQzFILEVBQUUsaUJBQWlCK0UsU0FBUyxtQkFDNUIvRSxHQUFFLGdCQUFnQmdGLFlBQVkscUJBU3RDLFFBQVM2RSxHQUFhQyxHQUNsQixHQUFJdkIsR0FBTSxJQUNWLElBQUk5RSxPQUFPc0csaUJBQW1CdkUsVUFBVyxDQUNyQytDLEVBQU05RSxPQUFPc0csZ0JBQWdCRCxPQUMxQixJQUFJckcsT0FBT3VHLEtBQU94RSxVQUFXLENBQ2hDK0MsRUFBTTlFLE9BQU91RyxJQUFJRCxnQkFBZ0JELE9BQzlCLElBQUlyRyxPQUFPd0csV0FBYXpFLFVBQVcsQ0FDdEMrQyxFQUFNOUUsT0FBT3dHLFVBQVVGLGdCQUFnQkQsR0FFM0MsTUFBT3ZCLEdBR1gsUUFBUzJCLEdBQWdCM0IsR0FDckIsR0FBSTlFLE9BQU8wRyxpQkFBbUIzRSxVQUFXLENBQ3JDL0IsT0FBTzBHLGdCQUFnQjVCLE9BQ3BCLElBQUk5RSxPQUFPdUcsS0FBT3hFLFVBQVcsQ0FDaEMvQixPQUFPdUcsSUFBSUcsZ0JBQWdCNUIsT0FDeEIsSUFBSTlFLE9BQU93RyxXQUFhekUsVUFBVyxDQUN0Qy9CLE9BQU93RyxVQUFVRSxnQkFBZ0I1QixJQUt6QyxRQUFTekIsR0FBVUMsRUFBT3FELEVBQVNDLEVBQWNDLEdBQzdDLEdBQUl2RCxHQUFTQSxFQUFNakIsT0FBUyxFQUFHLENBQzNCLEdBQUlnRSxHQUFPL0MsRUFBTSxFQUVqQixJQUFJd0QsR0FBbUJWLEVBQWFDLEVBQ3BDLElBQUlVLElBQVlWLEVBQUtXLE1BQVEsS0FBTyxPQUFPQyxRQUFRLEVBQ25EcEssY0FBZWtLLENBRWYsSUFBSUgsR0FBZ0IsU0FBVSxDQUMxQk0sZUFBaUJILENBQ2pCLElBQUlJLEdBQWtCM0ssU0FBU29DLGVBQWUsZUFDOUN1SSxHQUFnQkMsSUFBTU4sQ0FDdEJLLEdBQWdCRSxPQUFTLFdBQ3JCWixFQUFnQkssSUFJeEIsR0FBSUgsR0FBVyxRQUFTLENBQ3BCOUYsUUFBUUMsSUFBSXZFLEVBQUUsWUFBWXFLLEdBQzFCckssR0FBRSxZQUFZcUssR0FBY3JFLE1BQzVCaEcsR0FBRSxhQUFhcUssR0FBYzVFLE9BQU8sSUFFcEN6RixHQUFFLFVBQVlxSyxFQUFlLFFBQVF0RSxLQUFLK0QsRUFBS2lCLEtBQy9DL0ssR0FBRSxVQUFZcUssRUFBZSxhQUFhdEUsS0FBS3lFLEVBQy9DeEssR0FBRSxlQUFpQnFLLEdBQWN0RyxPQUM1QmlILEtBQUsscUJBQXVCWCxHQUFjWCxJQUFJLFFBQVMsSUFDNUQxSixHQUFFLGlCQUFtQnFLLEdBQWN0RSxLQUFLLEdBQ3hDLElBQUdzRSxHQUFnQixTQUFTLENBQ3hCLEdBQUlZLEdBQVluQixFQUFLaUIsTUFJN0IsR0FBSUcsWUFBWUMsY0FBY3JCLEVBQU1RLEdBQWUsQ0FDL0MvSSxFQUFNMkIsaUJBQW1CLElBQ3pCZ0ksYUFBWUUsVUFBVXRCLEVBQU1NLEVBQVMsU0FBVS9JLEdBQ3ZDLEdBQUkrSSxHQUFXLFFBQVMsQ0FDcEIsR0FBSWlCLEdBQVdDLFNBQVNqSyxFQUFPLElBRS9CckIsR0FBRSxxQkFBdUJxSyxHQUFjWCxJQUFJLFFBQVMyQixFQUFXLElBQy9EckwsR0FBRSxpQkFBbUJxSyxHQUFjL0gsS0FBSytJLEVBQVcsT0FJM0QsU0FBVWhLLEdBQ05FLEVBQU0yQixpQkFBbUIsS0FDekJvQixTQUFRQyxJQUFJbEQsRUFDWnlDLFdBQVVDLEtBQUtDLFFBQVEsUUFDdkJoRSxHQUFFLGlCQUFtQnFLLEdBQWMvSCxLQUFLLE1BQ3hDLElBQUlpSixHQUFTbEssRUFBS0EsS0FBS21LLFVBQ3ZCeEwsR0FBRSxtQkFBbUJ3RCxJQUFJK0gsSUFJN0IsU0FBVWxLLEdBQ05FLEVBQU0yQixpQkFBb0IsS0FDMUJvQixTQUFRSixNQUFNLFVBQ2RJLFNBQVFDLElBQUlsRCxFQUNaeUMsV0FBVUMsS0FBS0UsT0FBTyxlQUUzQixDQUNISCxVQUFVQyxLQUFLRSxPQUFPLFVBQVlxRyxFQUFlLE9BQ2pEdEssR0FBRSxVQUFVcUssR0FBYzdHLElBQUksU0FHL0IsQ0FDSE0sVUFBVUMsS0FBS0UsT0FBTyxnQkFLOUIsTUFBTzFDIiwiZmlsZSI6InF1ZXN0aW9uQW5kQW5zd2VyRGV0YWlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIFFBRGV0YWlsLmluaXQoKTtcclxufSk7XHJcblxyXG52YXIgcmVzQXVkaW8xTGVuZ3RoID0gLTEsICAgLy8gIOWNleS9je+8muenklxyXG4gICAgcmVzQXVkaW9TaXplID0gLTE7ICAgICAgICAgIC8vICDljZXkvY3vvJpNXHJcblxyXG52YXIgUUFEZXRhaWwgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIFFBRGV0YWlsID0ge307XHJcblxyXG4gICAgUUFEZXRhaWwudGFiU3RhdGUgPSBcInF1ZXN0aW9uTGlzdFwiOyAgICAgLy8gIOm7mOiupOaYvuekuueahHRhYiAtIFwicXVlc3Rpb25MaXN0XCIgLCA8IFwicXVlc3Rpb25MaXN0XCIsIFwicmVzcG9uZGVyTGlzdFwiLCBcInNldHRpbmdUYWJcIiA+XHJcbiAgICBRQURldGFpbC5wYWdlSW5kZXggPSAxO1xyXG5cclxuICAgIFFBRGV0YWlsLnNlYXJjaEFuc3dlcmVyQ29udGVudCA9IFwiXCI7XHJcbiAgICBRQURldGFpbC5zZWFyY2hBbnN3ZXJlclN0YXRlID0gXCJcIjtcclxuXHJcbiAgICBRQURldGFpbC5zZWFyY2hRdWVzdGlvbkNvbnRlbnQgPSBcIlwiO1xyXG5cclxuICAgIFFBRGV0YWlsLnRpbWVJbnRlcnZhbCA9IHsgICAvLyAg5L+d5a2Y5pe26Ze06YCJ5oup5Zmo55qE5pe26Ze05Yy66Ze06LW35aeL5YC8XHJcbiAgICAgICAgc3RhcnREYXRlOiBcIlwiLFxyXG4gICAgICAgIGVuZERhdGU6IFwiXCJcclxuICAgIH1cclxuXHJcbiAgICBRQURldGFpbC5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZXQgPSBHZXRRdWVyeVN0cmluZyhcInNldFwiKTtcclxuICAgICAgICBpZihzZXQgPT0gJ2Fuc3dlcmVyJylcclxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvUUEvcXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWw/cGFnZV90eXBlPTEnO1xyXG5cclxuICAgICAgICB2YXIgcGFnZVR5cGUgPSBHZXRRdWVyeVN0cmluZyhcInBhZ2VfdHlwZVwiKSB8fCAxO1xyXG4gICAgICAgIGlmIChwYWdlVHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnRhYlN0YXRlID0gXCJyZXNwb25kZXJMaXN0XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgUUFEZXRhaWwudGFiU3RhdGUgPSBcInF1ZXN0aW9uTGlzdFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/nlJ/miJDkuoznu7TnoIFcclxuICAgICAgICB2YXIgY29kZVVybCA9ICQoXCIjYWRtaW5fZGF0YVwiKS5kYXRhKFwiY29kZV91cmxcIik7XHJcbiAgICAgICAgY3JlYXRlUVIoY29kZVVybCk7XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlpITnkIbmkJzntKIgKyDml7bpl7Tmj5Lku7ZcclxuICAgICAgICAgKi9cclxuICAgICAgICBtb2RhbC5oYW5kbGVTZWFyY2goKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5aSE55CG6YCA5qy+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgLy8gbW9kYWwuaGFuZGxlUmVmdW5kRXZlbnQoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6Zeu562U6K+m5oOF5pON5L2cXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kYWwuaW5pdERldGFpbE9wZXJhdGUoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogY29udGVudFRhYldyYXBwZXIgdGFi5YiH5o2iXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kYWwuaW5pdENvbnRlbnRUYWIoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Yia6L+b5YWl6aG16Z2i5aSE55CG5YiG6aG1XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kYWwuaW5pdExpc3RQYWdpbmF0aW9uKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWImui/m+WFpemhtemdouWkhOeQhuWIhumhtSDnmoQg54K55Ye75LqL5Lu2XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kYWwuaW5pdFBhZ2luYXRpb25FdmVudCgpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDpl67popjliJfooajmk43kvZxcclxuICAgICAgICAgKi9cclxuICAgICAgICBtb2RhbC5pbml0UXVlc3Rpb25PcGVyYXRlKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOetlOS4u+WIl+ihqOaTjeS9nFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZGFsLmluaXRSZXNwb25kZXJPcGVyYXRlKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOiuvue9rumhtemdouaTjeS9nFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZGFsLmluaXRTZXR0aW5nT3BlcmF0ZSgpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlpITnkIbpgoDor7fnrZTkuLvnmoTlvLnlh7rlvI/nqpflj6NcclxuICAgICAgICAgKi9cclxuICAgICAgICBtb2RhbC5oYW5kbGVJbnZpdGVBbnN3ZXJlcldpbmRvdygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWkhOeQhuafpeeci+mXrumimOeahOW8ueWHuuW8j+eql+WPo1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZGFsLmhhbmRsZVNjYW5RdWVzdGlvbldpbmRvdygpO1xyXG5cclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVRUihjb2RlX3VybCkge1xyXG4gICAgICAgIC8v55Sf5oiQ5LqM57u056CBXHJcbiAgICAgICAgdmFyIHFyY29kZSA9IG5ldyBRUkNvZGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxcl9jb2RlXCIpLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IGNvZGVfdXJsLFxyXG4gICAgICAgICAgICB3aWR0aDogMTIwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEyMCxcclxuICAgICAgICAgICAgY29sb3JEYXJrOiBcIiMwMDAwMDBcIixcclxuICAgICAgICAgICAgY29sb3JMaWdodDogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgICAgIGNvcnJlY3RMZXZlbDogUVJDb2RlLkNvcnJlY3RMZXZlbC5IXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY3JlYXRlX3FyX2ZsYWcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUUFEZXRhaWw7XHJcbn0oKTtcclxuXHJcbnZhciBtb2RhbCA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIG1vZGFsID0ge307XHJcblxyXG4gICAgbW9kYWwucXVlc3Rpb25JZCA9IC0xO1xyXG5cclxuICAgIG1vZGFsLmlzRW5hYmxlID0gLTE7ICAgICAgICAgICAgLy/mmK/lkKblhYHorrjlgbflkKxcclxuICAgIG1vZGFsLnN1Ym1pdExpbWl0ID0gZmFsc2U7ICAgICAgLy/or7fmsYLmmK/lkKbmraPlnKjov5vooYxcclxuXHJcbiAgICBtb2RhbC5pc0F1ZGlvVXBsb2FkaW5nID0gZmFsc2U7IC8v6Z+z6aKR5piv5ZCm5q2j5Zyo5LiK5Lyg5Yiw5LqRXHJcblxyXG4gICAgbW9kYWwuaW5pdERldGFpbE9wZXJhdGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQoXCIuZGV0YWlsT3BlcmF0ZUFyZWEgbGkub3BlcmF0ZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdHlwZSA9ICQodGhpcykuZGF0YShcInR5cGVcIik7XHJcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9ICQodGhpcykuZGF0YShcInN0YXRlXCIpICA9PSAxID8gMCA6IDE7XHJcbiAgICAgICAgICAgIHZhciBpZCA9ICQoJyNwcm9kdWN0X2lkJykudmFsKCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImVkaXRRQVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvUUEvZWRpdFF1ZXN0aW9uQW5kQW5zd2VyP2lkPVwiICsgaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImNoYW5nZVFBU3RhdGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoXCIvUUEvY2hhbmdlU3RhdGVRdWVQcm9kdWN0c1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKCflt7LkuIvmnrbvvIzpl67nrZTkuJPljLrlsIbkuI3lnKjpppbpobXmmL7npLonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKCflt7LkuIrmnrbvvIzpl67nrZTkuJPljLrlsIblnKjpppbpobXmmL7npLonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9RQS9xdWVzdGlvbkFuZEFuc3dlckRldGFpbFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+C5pWw6ZSZ6K+vLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gIOWkjeWItuWIsOWJqui0tOadv1xyXG4gICAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKCcuUUFfRGV0YWlsVXJsJyk7XHJcbiAgICAgICAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlpI3liLbmiJDlip/vvIHor7flnKjlvq7kv6HlhoXmiZPlvIDlk6Yg44CCXCIpO1xyXG4gICAgICAgICAgICAgICAgZS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KSgpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgbW9kYWwuaW5pdENvbnRlbnRUYWIgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQoXCIuY29udGVudFRhYldyYXBwZXIgbGlcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAkKHRoaXMpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IDEpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAg54K55Ye75YWo6YOo562U5Li7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNyZXNwb25kZXJUYWJcIikuYWRkQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcXVlc3Rpb25UYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjc2V0dGluZ1RhYlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAwKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOeCueWHu+WFqOmDqOmXrumimFxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcXVlc3Rpb25UYWJcIikuYWRkQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcmVzcG9uZGVyVGFiXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3NldHRpbmdUYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjc2V0dGluZ1RhYlwiKS5hZGRDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNxdWVzdGlvblRhYlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNyZXNwb25kZXJUYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBRQURldGFpbC5wYWdlSW5kZXggPSAxO1xyXG4gICAgICAgICAgICBRQURldGFpbC5zZWFyY2hBbnN3ZXJlckNvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgICAgICBRQURldGFpbC5zZWFyY2hBbnN3ZXJlclN0YXRlID0gXCJcIjtcclxuICAgICAgICAgICAgUUFEZXRhaWwuc2VhcmNoUXVlc3Rpb25Db250ZW50ID0gXCJcIjtcclxuICAgICAgICAgICAgJCgnI3NlYXJjaEFuc3dlcmVySW5wdXQnKS52YWwoXCJcIik7XHJcbiAgICAgICAgICAgICQoXCIjYW5zd2VyZXJJc1Nob3dcIikudmFsKFwiXCIpO1xyXG4gICAgICAgICAgICAkKCcjc2VhcmNoUXVlc3Rpb25JbnB1dCcpLnZhbChcIlwiKTtcclxuICAgICAgICAgICAgJCgnI1NlbGVjdERhdGEnKS50ZXh0KCflhajpg6jpl67popgnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBRQURldGFpbC50YWJTdGF0ZSA9IFwicmVzcG9uZGVyTGlzdFwiOyAgICAvL+iOt+WPluetlOS4u+WIl+ihqFxyXG4gICAgICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgXCIvUUEvcXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWw/cGFnZV90eXBlPTFcIik7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5nZXRSZXNwb25kZXJMaXN0KHRydWUsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBRQURldGFpbC50YWJTdGF0ZSA9IFwicXVlc3Rpb25MaXN0XCI7ICAgICAvL+iOt+WPlumXrumimOWIl+ihqFxyXG4gICAgICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgXCIvUUEvcXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWw/cGFnZV90eXBlPTBcIik7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5nZXRRdWVzdGlvbkxpc3QodHJ1ZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09IDIpIHtcclxuICAgICAgICAgICAgICAgIFFBRGV0YWlsLnRhYlN0YXRlID0gXCJzZXR0aW5nVGFiXCI7ICAgICAgIC8v6I635Y+W6K6+572u6aG16Z2iXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCBcIi9RQS9xdWVzdGlvbkFuZEFuc3dlckRldGFpbD9wYWdlX3R5cGU9MlwiKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLmdldFNldHRpbmdQYWdlKCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBpc1Nob3dMb2FkaW5nICAgICB0cnVlIC0gc2hvdyBsb2FkaW5nIHBpY3R1cmUgb3IgZG8gbm90IHNob3cgbG9hZGluZyBwaWN0dXJlXHJcbiAgICAgKiBAcGFyYW0gaXNTd2l0Y2hDb250ZW50VGFiICAgIHRydWUgLSBzd2l0Y2ggdGhlIGNvbnRlbnQgdGFicywgb3IgZG8gbm90IHN3aXRjaFxyXG4gICAgICovXHJcbiAgICBtb2RhbC5nZXRSZXNwb25kZXJMaXN0ID0gZnVuY3Rpb24gKGlzU2hvd0xvYWRpbmcsIGlzU3dpdGNoQ29udGVudFRhYikge1xyXG5cclxuICAgICAgICBpZiAoaXNTaG93TG9hZGluZyA9PSB1bmRlZmluZWQgfHwgaXNTaG93TG9hZGluZyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZUluKDMwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmFqYXgoXCIvUUEvZ2V0UmVzcG9uZGVyTGlzdFwiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoOiBRQURldGFpbC5zZWFyY2hBbnN3ZXJlckNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogUUFEZXRhaWwuc2VhcmNoQW5zd2VyZXJTdGF0ZSxcclxuICAgICAgICAgICAgICAgIHBhZ2U6IFFBRGV0YWlsLnBhZ2VJbmRleFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLm1haW5MaXN0Q29udGVudFwiKS5odG1sKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuaW5pdExpc3RQYWdpbmF0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N3aXRjaENvbnRlbnRUYWIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5saXN0T3BlcmF0ZUFyZWFcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnF1ZXN0aW9uTGlzdE9wZXJhdGVcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnJlc3BvbmRlckxpc3RPcGVyYXRlXCIpLmZhZGVJbigzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6K+35rGC5pWw5o2u5Li656m6XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmXrumimO+8jOivt+eojeWQjuWGjeivlVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBpc1Nob3dMb2FkaW5nICAgICB0cnVlIC0gc2hvdyBsb2FkaW5nIHBpY3R1cmUgb3IgZG8gbm90IHNob3cgbG9hZGluZyBwaWN0dXJlXHJcbiAgICAgKiBAcGFyYW0gaXNTd2l0Y2hDb250ZW50VGFiICAgIHRydWUgLSB0aGUgZmlyc3QgdGltZSB0byBnZXQgdGhlIHJlc3BvbmRlciBsaXN0LCBvciBub3QgdGhlIGZpcnN0IHRpbWVcclxuICAgICAqL1xyXG4gICAgbW9kYWwuZ2V0UXVlc3Rpb25MaXN0ID0gZnVuY3Rpb24gKGlzU2hvd0xvYWRpbmcsIGlzU3dpdGNoQ29udGVudFRhYikge1xyXG5cclxuICAgICAgICBpZiAoaXNTaG93TG9hZGluZyA9PSB1bmRlZmluZWQgfHwgaXNTaG93TG9hZGluZyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZUluKDMwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0aW1lU3RyaW5nID0gJCgnI1NlbGVjdERhdGEnKS50ZXh0KCk7ICAgICAgIC8vICDkvKDlhaXml7bpl7TljLrpl7TlrZfnrKbkuLLvvIwgXCIyMDE3LTA1LTAxIH4gMjAxNy0wNS0xMlwiXHJcbiAgICAgICAgaWYgKHRpbWVTdHJpbmcgPT0gXCLlhajpg6jpl67pophcIikge1xyXG4gICAgICAgICAgICB0aW1lU3RyaW5nID0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuYWpheChcIi9RQS9nZXRRdWVzdGlvbkxpc3RcIiwge1xyXG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaDogUUFEZXRhaWwuc2VhcmNoUXVlc3Rpb25Db250ZW50LFxyXG4gICAgICAgICAgICAgICAgdGltZTE6IHRpbWVTdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBwYWdlOiBRQURldGFpbC5wYWdlSW5kZXhcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tYWluTGlzdENvbnRlbnRcIikuaHRtbChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRMaXN0UGFnaW5hdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTd2l0Y2hDb250ZW50VGFiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubGlzdE9wZXJhdGVBcmVhXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5yZXNwb25kZXJMaXN0T3BlcmF0ZVwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIucXVlc3Rpb25MaXN0T3BlcmF0ZVwiKS5mYWRlSW4oMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuivt+axguaVsOaNruS4uuepulwiKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zpl67popjvvIzor7fnqI3lkI7lho3or5VcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluiuvue9rumhtemdolxyXG4gICAgICovXHJcbiAgICBtb2RhbC5nZXRTZXR0aW5nUGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlSW4oMzAwKTtcclxuXHJcbiAgICAgICAgJC5hamF4KFwiL1FBL2dldFNldHRpbmdQYWdlXCIsIHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7fSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tYWluTGlzdENvbnRlbnRcIikuaHRtbChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmxpc3RPcGVyYXRlQXJlYVwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6K+35rGC5pWw5o2u5Li656m6XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmXrumimO+8jOivt+eojeWQjuWGjeivlVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmnI3liqHlmajlh7rlsI/lt67kuobvvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH07XHJcblxyXG4gICAgbW9kYWwuaW5pdFF1ZXN0aW9uT3BlcmF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy8gIOeCueWHu+mXrumimOWIl+ihqOeahOadoeebrueahOaTjeS9nFxyXG4gICAgICAgICQoXCIubWFpbkxpc3RDb250ZW50XCIpLm9uKFwiY2xpY2tcIiwgXCIucXVlc3Rpb25MaXN0T3BlcmF0ZUFyZWEgbGkub3BlcmF0ZVwiLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcXVlc3Rpb25faWQgPSAkKHRoaXMpLmRhdGEoXCJpZFwiKTtcclxuICAgICAgICAgICAgdmFyIGlzX2VuYWJsZSAgID0gJCh0aGlzKS5kYXRhKCdpc19lbmFibGUnKTtcclxuICAgICAgICAgICAgdmFyIHN0YXRlID0gJCh0aGlzKS5kYXRhKFwic3RhdGVcIikgPT0gMSA/IDAgOiAxO1xyXG5cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmRhdGEoXCJ0eXBlXCIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhbnN3ZXJRdWVzdGlvblwiOiAgICAgIC8v5Zue562U6Zeu6aKYXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuaGFuZEFuc3dlclF1ZXN0aW9uKHF1ZXN0aW9uX2lkLGlzX2VuYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYW5zd2VyUXVlQWdhaW5cIjogICAgICAvL+mHjeaWsOWbnuetlFxyXG4gICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLnoa7orqTkuIrkvKDpn7PpopHlubbph43mlrDlm57nrZTvvIznoa7orqTlkI7mlrDnmoTlm57nrZTlhoXlrrnlsIbopobnm5bljp/lhoXlrrnvvIzkuJTor6XliqjkvZzml6Dms5XmkqTlm57jgIJcIiwgXCJpbmZvXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5oYW5kQW5zd2VyUXVlc3Rpb24ocXVlc3Rpb25faWQsaXNfZW5hYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibG9va1F1ZXN0aW9uXCI6ICAgIC8v5p+l55yL6Zeu6aKY6K+m5oOFXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjc2NhblF1ZVdpbmRvd0NvbnRlbnRcIikudGV4dChcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3NjYW5RdWVJbWdXcmFwcGVyXCIpLmh0bWwoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gJCh0aGlzKS5kYXRhKFwiY29udGVudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3NjYW5RdWVXaW5kb3dDb250ZW50XCIpLnRleHQoY29udGVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWdKc29uQXJyID0gJCh0aGlzKS5kYXRhKFwiaW1nc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1nSnNvbkFyci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWdTdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWdKc29uQXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZ1N0cmluZyArPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYz1cIicgKyBpdGVtICsgJ1wiPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3NjYW5RdWVJbWdXcmFwcGVyXCIpLmh0bWwoaW1nU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuc2NhblF1ZXN0aW9uV2luZG93QmdcIikuZmFkZUluKDMwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImNoYW5nZVF1ZXN0aW9uU3RhdGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVJbigzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICQuYWpheChcIi9RQS9jaGFuZ2VRdWVzdGlvblN0YXRlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb25faWQ6IHF1ZXN0aW9uX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKCfmk43kvZzmiJDlip/vvIzpl67popjlsIbkuI3lnKjpl67nrZTkuJPljLrlsZXnpLonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKCfmk43kvZzmiJDlip/vvIzpl67popjlsIblnKjpl67nrZTkuJPljLrlsZXnpLonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwuZ2V0UXVlc3Rpb25MaXN0KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+C5pWw6ZSZ6K+vLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIOeCueWHu+mAieaLqeaWh+S7tlxyXG4gICAgICAgICQoXCIjc2VsZWN0QXVkaW9GaWxlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChcIiN1cGxvYWRBdWRpb0ZpbGVcIikuY2xpY2soKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChcIi5jbG9zZVVwbG9hZEZpbGVXaW5kb3csICNjYW5jZWxVcGxvYWRBdWRpb1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIudXBsb2FkRmlsZVdpbmRvd0JnXCIpLmZhZGVPdXQoMzAwKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIjdXBsb2FkQXVkaW9GaWxlXCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVzVXBsb2FkKHRoaXMuZmlsZXMsIFwiYXVkaW9cIiwgXCJBdWRpbzFcIiwgMTAwMCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAg54K55Ye756Gu5a6a5LiK5Lyg6Z+z6aKR5paH5Lu2XHJcbiAgICAgICAgJChcIiNjb25maXJtVXBsb2FkQXVkaW9cIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaXNfZW5hYmxlX2VhdmVzZHJvcCA9ICQoJyNpc19lbmFibGVfZWF2ZXNkcm9wJykuaXMoJzpjaGVja2VkJyk7XHJcbiAgICAgICAgICAgIGlmKGlzX2VuYWJsZV9lYXZlc2Ryb3AgPT0gZmFsc2UpXHJcbiAgICAgICAgICAgICAgICBpc19lbmFibGVfZWF2ZXNkcm9wID0gMDtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgaXNfZW5hYmxlX2VhdmVzZHJvcCA9IDE7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGlzX2VuYWJsZV9lYXZlc2Ryb3ApO1xyXG5cclxuICAgICAgICAgICAgdmFyIHVwbG9hZEF1ZGlvVXJsID0gJChcIiN1cGxvYWRBdWRpb1VybFwiKS52YWwoKTtcclxuICAgICAgICAgICAgaWYgKG1vZGFsLmlzQXVkaW9VcGxvYWRpbmcpIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIumfs+mikeaWh+S7tuato+WcqOS4iuS8oOS4rS4uLlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodXBsb2FkQXVkaW9VcmwubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+WFiOS4iuS8oOmfs+mikeaWh+S7ti5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vZGFsLnN1Ym1pdExpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIumfs+mikeaPkOS6pOS4re+8jOivt+eojeWQjuWGjeivleOAglwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtb2RhbC5zdWJtaXRMaW1pdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoXCIvUUEvY29tbWl0QW5zd2VyXCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBtb2RhbC5xdWVzdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuc3dlcmVyX3NpemU6IHJlc0F1ZGlvU2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICBhbnN3ZXJlcl9sZW5ndGg6IHJlc0F1ZGlvMUxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBhbnN3ZXJlcl9jb250ZW50OiB1cGxvYWRBdWRpb1VybCxcclxuICAgICAgICAgICAgICAgICAgICBpc19lbmFibGVfZWF2ZXNkcm9wOmlzX2VuYWJsZV9lYXZlc2Ryb3BcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuc3VibWl0TGltaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi6Z+z6aKR5paH5Lu25o+Q5Lqk5oiQ5Yqf44CCXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZEZpbGVXaW5kb3dCZ1wiKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmdldFF1ZXN0aW9uTGlzdCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAocmVzdWx0Lm1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5tc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5zdWJtaXRMaW1pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5Ye65bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG5cclxuICAgIG1vZGFsLmluaXRSZXNwb25kZXJPcGVyYXRlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAkKFwiLm1haW5MaXN0Q29udGVudFwiKS5vbihcImNsaWNrXCIsIFwiLnJlc3BvbmRlckxpc3RPcGVyYXRlQXJlYSBsaS5vcGVyYXRlXCIsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfSAgIDAt5LiK57q/77yMMS3kuIvnur8nLDznirbmgIHlgLw+XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSAkKHRoaXMpLmRhdGEoJ3N0YXRlJyk7XHJcbiAgICAgICAgICAgIHZhciBhbnN3ZXJlcklkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmRhdGEoXCJ0eXBlXCIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlZGl0UmVzcG9uZGVySW5mb1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvUUEvZWRpdEFuc3dlcmVyP2Fuc3dlcmVyX2lkPVwiICsgYW5zd2VyZXJJZCArIFwiJnN0YXRlPVwiICsgc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImNoYW5nZVJlc3BvbmRlclN0YXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlSW4oMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IChzdGF0ZSA9PSAxID8gMCA6IDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICQuYWpheChcIi9RQS9jaGFuZ2VBbnN3ZXJlclN0YXRlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyZXJfaWQ6IGFuc3dlcmVySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoJ+etlOS4u+S4i+e6v+aIkOWKnycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoJ+etlOS4u+S4iue6v+aIkOWKnycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5nZXRSZXNwb25kZXJMaXN0KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLmNvZGUgPT0gMil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35oKo5YWI5aGr5YaZ562U5Li75L+h5oGvIOaJjeiDveS4iue6v+etlOS4u++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+C5pWw6ZSZ6K+vLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIG1vZGFsLmluaXRTZXR0aW5nT3BlcmF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgJChcIi5tYWluTGlzdENvbnRlbnRcIikub24oXCJjaGFuZ2VcIiwgXCJpbnB1dFt0eXBlPXJhZGlvXVwiLCBmdW5jdGlvbiAoZSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHRhcmdldElkID0gZS50YXJnZXQuaWQsXHJcbiAgICAgICAgICAgICAgICBpc1Nob3dMaXN0ZW4gPSAkKCdpbnB1dFtuYW1lPWlzU2hvd0xpc3Rlbl06Y2hlY2tlZCcpLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgaXNTbXNSZW1pbmQgPSAkKCdpbnB1dFtuYW1lPWlzU21zUmVtaW5kXTpjaGVja2VkJykudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoXCIvUUEvY29tbWl0U2V0dGluZ1wiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTaG93TGlzdGVuOiBpc1Nob3dMaXN0ZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU21zUmVtaW5kOiBpc1Ntc1JlbWluZFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dHB1dFRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhcmdldElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BlbkVhdmVzZHJvcFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRleHQgPSBcIumXrumimOmhteW3suaYvuekuuWBt+WQrOS6uuaVsFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsb3NlRWF2ZXNkcm9wXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VGV4dCA9IFwi6Zeu6aKY6aG15bey6ZqQ6JeP5YG35ZCs5Lq65pWwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BlblNtc1JlbWluZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRleHQgPSBcIuefreS/oeaPkOmGkuW3suW8gOWQr1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsb3NlU21zUmVtaW5kXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VGV4dCA9IFwi55+t5L+h5o+Q6YaS5bey5YWz6ZetXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+C5pWw6ZSZ6K+v44CCXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAob3V0cHV0VGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5L+d5a2Y5aSx6LSlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5Ye65bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgbW9kYWwuaGFuZGxlSW52aXRlQW5zd2VyZXJXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIC8vICDpgoDor7fnrZTkuLtcclxuICAgICAgICAkKFwiI2ludml0ZVJlc3BvbmRlclwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAkKFwiLnNjYW5RckNvZGVXaW5kb3dCZ1wiKS5mYWRlSW4oMzAwKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIuY2xvc2VTY2FuUXJDb2RlV2luZG93IGltZ1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIuc2NhblFyQ29kZVdpbmRvd0JnXCIpLmZhZGVPdXQoMzAwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gIOWkjeWItuWIsOWJqui0tOadv1xyXG4gICAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKCcuY29weUhyZWYnKTtcclxuICAgICAgICAgICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWkjeWItuaIkOWKn++8geivt+WcqOW+ruS/oeWGheaJk+W8gOWTpiDjgIJcIik7XHJcbiAgICAgICAgICAgICAgICBlLmNsZWFyU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnNjYW5RckNvZGVXaW5kb3dCZ1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkoKTtcclxuICAgIH07XHJcblxyXG4gICAgbW9kYWwuaGFuZGxlU2NhblF1ZXN0aW9uV2luZG93ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAvLyAg6ZqQ6JeP6Zeu6aKY6K+m5oOFXHJcbiAgICAgICAgJChcIi5jbG9zZVF1ZXN0aW9uRGV0YWlsV2luZG93LCAuc2NhblF1ZXN0aW9uV2luZG93QmdcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiLnNjYW5RdWVzdGlvbldpbmRvd0JnXCIpLmZhZGVPdXQoMTAwKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChcIi5zY2FuUXVlc3Rpb25XaW5kb3dcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBtb2RhbC5pbml0TGlzdFBhZ2luYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQoJy5saXN0LXBhZ2UgLnBhZ2luYXRpb24gbGkgYScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciAkZWxlID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgJGVsZS5hdHRyKCdkYXRhLXVybCcsICRlbGUuYXR0cignaHJlZicpKTtcclxuICAgICAgICAgICAgJGVsZS5yZW1vdmVBdHRyKCdocmVmJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBtb2RhbC5pbml0UGFnaW5hdGlvbkV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8v5YiG6aG16K+35rGCXHJcbiAgICAgICAgJChcIi5tYWluTGlzdENvbnRlbnRcIikub24oJ2NsaWNrJywgJyAucGFnaW5hdGlvbiBsaSBhJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgZWxlID0gJChlLnRhcmdldCksXHJcbiAgICAgICAgICAgICAgICB1cmwgPSBlbGUuZGF0YSgndXJsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB1cmwuaW5kZXhPZihcInBhZ2VcIik7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnBhZ2VJbmRleCA9IHVybC5zdWJzdHJpbmcoaW5kZXggKyA1KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChRQURldGFpbC50YWJTdGF0ZSA9PSBcInF1ZXN0aW9uTGlzdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5nZXRRdWVzdGlvbkxpc3QodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoUUFEZXRhaWwudGFiU3RhdGUgPT0gXCJyZXNwb25kZXJMaXN0XCIpIHtcclxuICAgICAgICAgICAgICAgIG1vZGFsLmdldFJlc3BvbmRlckxpc3QodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIG1vZGFsLmhhbmRsZVNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Yid5aeL5YyW5pe26Ze05o+S5Lu2XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIGRhdGFSYW5nZUluc3RhbmNlID0gbmV3IHBpY2tlckRhdGVSYW5nZSgnU2VsZWN0RGF0YScsIHtcclxuICAgICAgICAgICAgaXNUb2RheVZhbGlkIDogdHJ1ZSxcclxuICAgICAgICAgICAgZGVmYXVsdFRleHQgOiAnIH4gJyxcclxuICAgICAgICAgICAgaW5wdXRUcmlnZ2VyIDogJ29wdGlvbmFsJyxcclxuICAgICAgICAgICAgdGhlbWUgOiAndGEnLFxyXG4gICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVUaW1lSW50ZXJ2YWwob2JqKTtcclxuICAgICAgICAgICAgICAgICQoXCIjc2VhcmNoUXVlc3Rpb25cIikuY2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcjU2VsZWN0UmFuZ2UnKS5vbignY2xpY2snLCAnbGknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmRhdGEoJ3R5cGUnKTtcclxuICAgICAgICAgICAgdmFyIHRpbWVSYW5nZSA9IC0xO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhbGxcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aW1lUmFuZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogJycsIGVuZERhdGU6ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjdXJyZW50X21vbnRoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZVJhbmdlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6IGdldE5vd01vbnRoKCksIGVuZERhdGU6IGdldE5vd0RheSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJsYXN0X3NldmVuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZVJhbmdlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6IGdldE9uZURheSg2KSwgZW5kRGF0ZTogZ2V0Tm93RGF5KClcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImxhc3RfbW9udGhcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aW1lUmFuZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogZ2V0T25lRGF5KDI5KSwgZW5kRGF0ZTogZ2V0Tm93RGF5KClcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB1cGRhdGVUaW1lSW50ZXJ2YWwodGltZVJhbmdlKTtcclxuICAgICAgICAgICAgJChcIiNzZWFyY2hRdWVzdGlvblwiKS5jbGljaygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcjb3B0aW9uYWwnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJCgnI2Ryb3Bkb3duLXRvZ2dsZScpLmRyb3Bkb3duKCd0b2dnbGUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcjU2VsZWN0RGF0YScpLm9mZignY2xpY2snKS50ZXh0KCflhajpg6jpl67popgnKTsgIC8v6K6+572u5byA5aeL57uT5p2f5pe26Ze0XHJcblxyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKiog5pCc57Si6Zeu6aKY5YiX6KGoICoqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgJCgnI3NlYXJjaFF1ZXN0aW9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBRQURldGFpbC5wYWdlSW5kZXggPSAxO1xyXG4gICAgICAgICAgICBRQURldGFpbC5zZWFyY2hRdWVzdGlvbkNvbnRlbnQgPSAkKCcjc2VhcmNoUXVlc3Rpb25JbnB1dCcpLnZhbCgpO1xyXG4gICAgICAgICAgICBtb2RhbC5nZXRRdWVzdGlvbkxpc3QodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChcIiNzZWFyY2hRdWVzdGlvbklucHV0XCIpLm9uKFwia2V5cHJlc3NcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xyXG4gICAgICAgICAgICAgICAgJChcIiNzZWFyY2hRdWVzdGlvblwiKS5jbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKiDmkJzntKLnrZTkuLvliJfooaggKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICAkKCcjc2VhcmNoQW5zd2VyZXInKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnBhZ2VJbmRleCA9IDE7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnNlYXJjaEFuc3dlcmVyQ29udGVudCA9ICQoJyNzZWFyY2hBbnN3ZXJlcklucHV0JykudmFsKCk7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnNlYXJjaEFuc3dlcmVyU3RhdGUgPSAkKFwiI2Fuc3dlcmVySXNTaG93XCIpLnZhbCgpO1xyXG4gICAgICAgICAgICBtb2RhbC5nZXRSZXNwb25kZXJMaXN0KHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiI2Fuc3dlcmVySXNTaG93XCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnI3NlYXJjaEFuc3dlcmVyJykuY2xpY2soKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKFwiI3NlYXJjaEFuc3dlcmVySW5wdXRcIikub24oXCJrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3NlYXJjaEFuc3dlcmVyXCIpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIG1vZGFsLmhhbmRBbnN3ZXJRdWVzdGlvbiA9IGZ1bmN0aW9uIChxdWVzdGlvbl9pZCxpc19lbmFibGUpIHtcclxuICAgICAgICAkKFwiLnVwbG9hZEF1ZGlvMU5hbWVcIikuaHRtbChcIlwiKTtcclxuICAgICAgICAkKFwiLnVwbG9hZEF1ZGlvMVNpemUgc3BhblwiKS5odG1sKFwiXCIpO1xyXG4gICAgICAgICQoXCIudXBsb2FkUExpbmVBY3RpdmVBdWRpbzFcIikuY3NzKFwid2lkdGhcIiwgJzAnKTtcclxuICAgICAgICAkKFwiLnVwbG9hZFBlcnNlbnRBdWRpbzFcIikudGV4dChcIlwiKTtcclxuXHJcbiAgICAgICAgJChcIi51cGxvYWRQTGluZUF1ZGlvMVwiKS5oaWRlKCk7XHJcbiAgICAgICAgJChcIi51cGxvYWRCb3hBdWRpbzFcIikuaGlkZSgpO1xyXG4gICAgICAgICQoXCIjdXBsb2FkQXVkaW9VcmxcIikudmFsKFwiXCIpO1xyXG4gICAgICAgICQoJyNpc19lbmFibGVfZWF2ZXNkcm9wJykuYXR0cihcImNoZWNrZWRcIiwndHJ1ZScpO1xyXG5cclxuICAgICAgICBtb2RhbC5xdWVzdGlvbklkID0gcXVlc3Rpb25faWQ7XHJcblxyXG4gICAgICAgICQoXCIudXBsb2FkRmlsZVdpbmRvd0JnXCIpLmZhZGVJbigxMDApO1xyXG4gICAgICAgIGlmKGlzX2VuYWJsZSA9PSAxKXtcclxuICAgICAgICAgICAgJCgnLnNpbWlfdGlwJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcuaXNfZW5hYmxlX2VhdmVzZHJvcCcpLnNob3coKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcuc2ltaV90aXAnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5pc19lbmFibGVfZWF2ZXNkcm9wJykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHZhciBwYWdlSW5kZXggPSAxLFxyXG4gICAgLy8gICAgIGlzV2luZG93Q2xvc2UgPSB0cnVlLFxyXG4gICAgLy8gICAgIGlzU2Nyb2xsVG9Cb3R0b20gPSBmYWxzZSwgICAgICAgLy/mlbDmja7liqDovb3lrozmr5VcclxuICAgIC8vICAgICBzZWFyY2hSZWZ1bmRMaXN0Q29udGVudCA9IFwiXCIsXHQvL+mAgOasvuWIl+ihqOeql+WPo+aQnOe0ouWGheWuuVxyXG4gICAgLy9cclxuICAgIC8vICAgICBxdWVzdGlvbkFyciA9IG5ldyBBcnJheSgpLFxyXG4gICAgLy8gICAgIHRvdGFsUHJpY2UgPSAwO1xyXG5cclxuXHJcbiAgICAvLyBtb2RhbC5oYW5kbGVSZWZ1bmRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgJChcIiNoYW5kbGVSZWZ1bmRcIikuY2xpY2soZnVuY3Rpb24gKCkge1x0XHRcdC8vXHTngrnlh7vpgIDmrL7lpITnkIbmjInpkq5cclxuICAgIC8vICAgICAgICAgcGFnZUluZGV4ID0gMTtcclxuICAgIC8vICAgICAgICAgJChcIi5yZWZ1bmRMaXN0V2luZG93QmdcIikuZmFkZUluKDMwMCk7XHJcbiAgICAvLyAgICAgICAgICQoXCIjbG9hZGluZ1JlZnVuZFwiKS5zaG93KCk7XHJcbiAgICAvLyAgICAgICAgIGdldFJlZnVuZExpc3QoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgICAgICAgICAgJChcIiNsb2FkaW5nUmVmdW5kXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyAgICAgJChcIiNzZWxlY3RBbGxSZWZ1bmRMaXN0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1x0IC8vIOmAieS4rS/lj5bmtogg5YWo6YOoXHJcbiAgICAvLyAgICAgICAgIGlmICgkKHRoaXMpLnByb3AoXCJjaGVja2VkXCIpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBjaGFuZ2VDaGVja2VkKFwiaXNTZWxlY3RDaGVja0JveFwiLCB0cnVlKVxyXG4gICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICAgICAgY2hhbmdlQ2hlY2tlZChcImlzU2VsZWN0Q2hlY2tCb3hcIiwgZmFsc2UpXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZnVuY3Rpb24gY2hhbmdlQ2hlY2tlZChjbGFzc05hbWUsIHN0YXR1cykge1xyXG4gICAgLy8gICAgICAgICAgICAgJChcImlucHV0LlwiICsgY2xhc3NOYW1lKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAkKHRoaXMpLnByb3AoXCJjaGVja2VkXCIsIHN0YXR1cylcclxuICAgIC8vICAgICAgICAgICAgIH0pXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vICAgICAkKFwiI2NhbmNlbFJlZnVuZCwgLmNsb3NlSWNvbldyYXBwZXJcIikuY2xpY2soZnVuY3Rpb24gKCkge1x0Ly/lj5bmtojpgIDmrL4gLSDlhbPpl63pgIDmrL7nqpflj6NcclxuICAgIC8vICAgICAgICAgJChcIi5yZWZ1bmRMaXN0V2luZG93QmdcIikuZmFkZU91dCgxMDApO1xyXG4gICAgLy8gICAgICAgICBjbGVhclJlZnVuZFdpbmRvd0RhdGEoKTtcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgLy/nm5HlkKzmmK/lkKbpgInkuK3pgIDmrL7kurrlkZhcclxuICAgIC8vICAgICAkKFwiLnJlZnVuZExpc3RXaW5kb3dcIikub24oJ2NoYW5nZScsICdpbnB1dFt0eXBlPWNoZWNrYm94XScsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICAgICAgdmFyIGNvdW50ID0gJChcImlucHV0LmlzU2VsZWN0Q2hlY2tCb3g6Y2hlY2tlZFwiKS5sZW5ndGg7XHJcbiAgICAvLyAgICAgICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgIC8vICAgICAgICAgICAgICQoXCIjY29uZmlybVJlZnVuZFwiKS5hZGRDbGFzcyhcImJ0bkJsdWVcIik7XHJcbiAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICAkKFwiI2NvbmZpcm1SZWZ1bmRcIikucmVtb3ZlQ2xhc3MoXCJidG5CbHVlXCIpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICQoXCIjY29uZmlybVJlZnVuZFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHRcdC8vXHTngrnlh7vpgIDmrL5cclxuICAgIC8vICAgICAgICAgcXVlc3Rpb25BcnIgPSBuZXcgQXJyYXkoKTtcclxuICAgIC8vICAgICAgICAgdG90YWxQcmljZSA9IDA7XHJcbiAgICAvLyAgICAgICAgICQoXCJpbnB1dC5pc1NlbGVjdENoZWNrQm94OmNoZWNrZWRcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB2YXIgcXVlc3Rpb25JZCA9ICQodGhpcykuZGF0YShcInF1ZXN0aW9uX2lkXCIpO1xyXG4gICAgLy8gICAgICAgICAgICAgcXVlc3Rpb25BcnIucHVzaChxdWVzdGlvbklkKTtcclxuICAgIC8vICAgICAgICAgICAgIHRvdGFsUHJpY2UgKz0gJCh0aGlzKS5kYXRhKFwicHJpY2VcIik7XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgaWYgKHF1ZXN0aW9uQXJyLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAvLyBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7flhYjpgInmi6npgIDmrL7nlKjmiLdcIik7XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgdG90YWxQcmljZSA9IE1hdGgucm91bmQodG90YWxQcmljZSAqIDEwMCkgLyAxMDA7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAkKFwiLnJlZnVuZExpc3RXaW5kb3dCZ1wiKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAkKFwiLmNvbmZpcm1SZWZ1bmRXaW5kb3dCZyAuY29uZmlybVJlZnVuZFdpbmRvd1RleHRcIikudGV4dChcIuehruWumue7mSBcIiArIHF1ZXN0aW9uQXJyLmxlbmd0aCArIFwiIOS9jeeUqOaIt+mAgOasviBcIiArIHRvdGFsUHJpY2UgKyBcIiDlhYNcIik7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAkKFwiLmNvbmZpcm1SZWZ1bmRXaW5kb3dCZ1wiKS5mYWRlSW4oMzAwKTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyAgICAgJChcIi5jbG9zZUNvbmZpcm1SZWZ1bmRXaW5kb3cgaW1nLCAuY29uZmlybVJlZnVuZFdpbmRvd0J0bl8xXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgICAvL1x054K55Ye75Y+W5raIXHJcbiAgICAvLyAgICAgICAgICQoXCIuY29uZmlybVJlZnVuZFdpbmRvd0JnXCIpLmZhZGVPdXQoMzAwKTtcclxuICAgIC8vICAgICAgICAgJChcIi5yZWZ1bmRMaXN0V2luZG93QmdcIikuZmFkZUluKDMwMCk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyAgICAgJChcIi5jb25maXJtUmVmdW5kV2luZG93QnRuXzJcIikuY2xpY2soZnVuY3Rpb24gKCkgeyAgIC8vXHTngrnlh7vnoa7orqRcclxuICAgIC8vICAgICAgICAgY29uZmlybVJlZnVuZCgpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAkKFwiI3NlYXJjaFJlZnVuZFVzZXJcIikuY2xpY2soZnVuY3Rpb24gKCkgeyAgICAgICAgICAvLyAg5pCc57SiXHJcbiAgICAvLyAgICAgICAgIHBhZ2VJbmRleCA9IDE7XHJcbiAgICAvLyAgICAgICAgIHNlYXJjaFJlZnVuZExpc3RDb250ZW50ID0gJC50cmltKCQoXCIjc2VhcmNoUmVmdW5kVXNlcklucHV0XCIpLnZhbCgpKTtcclxuICAgIC8vICAgICAgICAgJChcIiNsb2FkaW5nUmVmdW5kXCIpLnNob3coKTtcclxuICAgIC8vICAgICAgICAgZ2V0UmVmdW5kTGlzdChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAkKFwiI2xvYWRpbmdSZWZ1bmRcIikuZmFkZU91dCgxMDApO1xyXG4gICAgLy8gICAgICAgICB9KTtcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgJChcIiNzZWFyY2hSZWZ1bmRVc2VySW5wdXRcIikub24oXCJrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgLy8gICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAkKFwiI3NlYXJjaFJlZnVuZFVzZXJcIikuY2xpY2soKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAvKioqKioqKioqKioqKioqKioqKioqKiog5aSE55CG6YCA5qy+5YiX6KGo5ruR5Yqo5LqL5Lu2ICoqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAvL1xyXG4gICAgLy8gICAgICQoJy5yZWZ1bmRMaXN0V2luZG93IC53aW5kb3dDb250ZW50V3JhcHBlcicpLnNjcm9sbChmdW5jdGlvbihlKSB7XHJcbiAgICAvLyAgICAgICAgIHZhciBEaXZIZWlnaHQgPSAkKCcud2luZG93Q29udGVudEFyZWEnKS5oZWlnaHQoKSxcclxuICAgIC8vICAgICAgICAgICAgIFNjcm9sbEhlaWdodCA9ICQodGhpcykuaGVpZ2h0KCksXHJcbiAgICAvLyAgICAgICAgICAgICBTY3JvbGxUb3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgaWYgKChTY3JvbGxUb3AgKyBTY3JvbGxIZWlnaHQgPj0gRGl2SGVpZ2h0IC0gNSkgJiYgIWlzV2luZG93Q2xvc2UgJiYgIWlzU2Nyb2xsVG9Cb3R0b20pIHtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICBpc1dpbmRvd0Nsb3NlID0gdHJ1ZTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICAkKFwiI2xvYWRpbmdSZWZ1bmRcIikuc2hvdygpO1xyXG4gICAgLy8gICAgICAgICAgICAgZ2V0UmVmdW5kTGlzdChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgJChcIiNsb2FkaW5nUmVmdW5kXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgIC8vICAgICAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvL1xyXG4gICAgLy9cclxuICAgIC8vIH07XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gZ2V0UmVmdW5kTGlzdChjYWxsYmFjaywgYXJncykge1xyXG4gICAgLy9cclxuICAgIC8vICAgICAkLmFqYXgoXCIvUUEvcmVmdW5kTGlzdFwiLCB7XHJcbiAgICAvLyAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgLy8gICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAvLyAgICAgICAgIGRhdGE6IHtcclxuICAgIC8vICAgICAgICAgICAgIHBhZ2U6IHBhZ2VJbmRleCxcclxuICAgIC8vICAgICAgICAgICAgIHNlYXJjaF9jb250ZW50OiBzZWFyY2hSZWZ1bmRMaXN0Q29udGVudFxyXG4gICAgLy8gICAgICAgICB9LFxyXG4gICAgLy8gICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YSk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHZhciAkYXJlYSA9ICQoXCIud2luZG93Q29udGVudEFyZWFcIiksXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGh0bWxTdHJpbmcgPSAnJyxcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgcGFnZU9iaiA9IHJlc3VsdC5kYXRhLnJlZnVuZF9yZWNvcmRfbGlzdDtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcGFnZU9iai5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgaHRtbFN0cmluZyArPVxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZWZ1bmRMaXN0SXRlbVwiPicgK1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJpc1NlbGVjdENoZWNrQm94XCIgZGF0YS1xdWVzdGlvbl9pZD1cIicgKyBpdGVtLmlkICsgJ1wiIGRhdGEtcHJpY2U9XCInICsgaXRlbS5wcmljZSAvIDEwMC4wMCArICdcIj4nICtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInJlZnVuZFVzZXJJbmZvXCI+JyArXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYz1cIicgKyBpdGVtLnF1ZXN0aW9uZXJfYXZhdGFyICsgJ1wiPicgK1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4+JyArIGl0ZW0ucXVlc3Rpb25lcl9uYW1lICsgJzwvc3Bhbj4nICtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZWZ1bmRUeXBlXCI+5LuY6LS56Zeu562UPC9kaXY+JyArXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZWZ1bmRHb29kTmFtZVwiPicgKyBpdGVtLmNvbnRlbnQgKyAnPC9kaXY+JyArXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZWZ1bmRQcmljZVwiPicgKyBpdGVtLnByaWNlIC8gMTAwLjAwICsgJzwvZGl2PicgK1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChodG1sU3RyaW5nLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGh0bWxTdHJpbmcgKz1cclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGVudE5vbmVUaXBcIj7mmoLml6DmlbDmja48L2Rpdj4nO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgICAgICBpc1dpbmRvd0Nsb3NlID0gZmFsc2U7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKHBhZ2VJbmRleCA9PSAxKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICRhcmVhLmh0bWwoaHRtbFN0cmluZyk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICRhcmVhLmFwcGVuZCgnPGRpdiBjbGFzcz1cImlzRG93bkFuaW1hdGlvbiBpc0Rvd25cIj7mlbDmja7liqDovb3kuK08L2Rpdj4nKTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgJGFyZWEuZmluZCgnLmlzRG93bicpLmJlZm9yZShodG1sU3RyaW5nKTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChwYWdlT2JqLnRvID49IHBhZ2VPYmoudG90YWwpIHsgICAgICAvL+aVsOaNruWKoOi9veWujOavleWQjueahOaTjeS9nFxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAocGFnZU9iai50b3RhbCA+IDEwKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAkYXJlYS5maW5kKCcuaXNEb3duJylcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dChcIuaVsOaNruW3suWKoOi9veWujOavlVwiKVxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcImlzRG93bkFuaW1hdGlvblwiKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICRhcmVhLmZpbmQoJy5pc0Rvd24nKS5oaWRlKCk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgaXNTY3JvbGxUb0JvdHRvbSA9IHRydWU7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIHBhZ2VJbmRleCArKztcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgJChcIiNzZWxlY3RBbGxSZWZ1bmRMaXN0XCIpLnByb3AoXCJjaGVja2VkXCIsIGZhbHNlKTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHdpbmRvdywgYXJncyk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc5byC5bi477yM6K+356iN5ZCO5YaN6K+VXCIpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9LFxyXG4gICAgLy8gICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgIC8vICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHdpbmRvdywgYXJncyk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgLy8gICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvL1xyXG4gICAgLy8gfTtcclxuICAgIC8vIGZ1bmN0aW9uIGNsZWFyUmVmdW5kV2luZG93RGF0YSgpIHtcclxuICAgIC8vICAgICBwYWdlSW5kZXggPSAxO1xyXG4gICAgLy8gICAgIGlzV2luZG93Q2xvc2UgPSB0cnVlO1xyXG4gICAgLy8gICAgIGlzU2Nyb2xsVG9Cb3R0b20gPSBmYWxzZTtcclxuICAgIC8vICAgICBzZWFyY2hSZWZ1bmRMaXN0Q29udGVudCA9ICcnO1xyXG4gICAgLy8gICAgICQoXCIjc2VhcmNoUmVmdW5kVXNlcklucHV0XCIpLnZhbChcIlwiKTtcclxuICAgIC8vICAgICAkKFwiLndpbmRvd0NvbnRlbnRBcmVhXCIpLmh0bWwoXCJcIik7XHJcbiAgICAvLyB9O1xyXG5cclxuICAgIC8vIGZ1bmN0aW9uIGNvbmZpcm1SZWZ1bmQoKSB7XHJcbiAgICAvLyAgICAgJC5hamF4KFwiL1FBL2NvbW1pdFJlZnVuZFwiLCB7XHJcbiAgICAvLyAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgLy8gICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAvLyAgICAgICAgIGRhdGE6IHtcclxuICAgIC8vICAgICAgICAgICAgIHF1ZV9pZF9saXN0OiBxdWVzdGlvbkFyclxyXG4gICAgLy8gICAgICAgICB9LFxyXG4gICAgLy8gICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAvLyAgICAgICAgICAgICAkKFwiLmNvbmZpcm1SZWZ1bmRXaW5kb3dCZ1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAvLyAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGNsZWFyUmVmdW5kV2luZG93RGF0YSgpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLpgIDmrL7miJDlip9cIik7XHJcbiAgICAvLyAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICQoXCIucmVmdW5kTGlzdFdpbmRvd0JnXCIpLmZhZGVJbigzMDApO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIumAgOasvumBh+WIsOmXrumimO+8jOivt+eojeWQjuWGjeivlVwiKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfSxcclxuICAgIC8vICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAkKFwiLmNvbmZpcm1SZWZ1bmRXaW5kb3dCZ1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAvLyAgICAgICAgICAgICAkKFwiLnJlZnVuZExpc3RXaW5kb3dCZ1wiKS5mYWRlSW4oMzAwKTtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAvLyAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vXHJcbiAgICAvLyB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWVJbnRlcnZhbChvYmopIHtcclxuICAgICAgICBpZiAob2JqLnN0YXJ0RGF0ZSA9PSBcIlwiICYmIG9iai5lbmREYXRlID09IFwiXCIpIHtcclxuICAgICAgICAgICAgJCgnI1NlbGVjdERhdGEnKS50ZXh0KCflhajpg6jpl67popgnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcjU2VsZWN0RGF0YScpLnRleHQob2JqLnN0YXJ0RGF0ZSArICcgfiAnICsgb2JqLmVuZERhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgUUFEZXRhaWwudGltZUludGVydmFsLnN0YXJ0RGF0ZSA9IG9iai5zdGFydERhdGU7XHJcbiAgICAgICAgUUFEZXRhaWwudGltZUludGVydmFsLmVuZERhdGUgPSBvYmouZW5kRGF0ZTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YiH5o2idGFi55qE5pi+56S6XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0KFN0cmluZykgICAgcXVlc3Rpb25UYWIgLSDliIfmjaLliLDlhajpg6jpl67popjvvJsgcmVzcG9uZGVyVGFiIC0g5YiH5o2i5Yiw5YWo6YOo562U5Li7XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHN3aXRjaENvbnRlbnRUYWIodGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIHRhYlZhbHVlID0gJChcIi5jb250ZW50VGFiV3JhcHBlcj5saS5hY3RpdmVDb250ZW50VGFiXCIpLnZhbCgpOyAvLyAgICAxLeWFqOmDqOetlOS4uyAgMC3lhajpg6jpl67pophcclxuXHJcbiAgICAgICAgaWYgKCh0YWJWYWx1ZSA9PSAxICYmIHRhcmdldCA9PSBcInJlc3BvbmRlclRhYlwiKSB8fCAodGFiVmFsdWUgPT0gMCAmJiB0YXJnZXQgPT0gXCJxdWVzdGlvblRhYlwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0YXJnZXQgPT0gXCJxdWVzdGlvblRhYlwiKSB7XHJcbiAgICAgICAgICAgICQoXCIjcXVlc3Rpb25UYWJcIikuYWRkQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG4gICAgICAgICAgICAkKFwiI3Jlc3BvbmRlclRhYlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ID09IFwicmVzcG9uZGVyVGFiXCIpIHtcclxuICAgICAgICAgICAgJChcIiNyZXNwb25kZXJUYWJcIikuYWRkQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG4gICAgICAgICAgICAkKFwiI3F1ZXN0aW9uVGFiXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8v5Y+W5raI5LiK5Lyg5Yik5pat5Y+C5pWwXHJcbiAgICAvLyB2YXIgdXBsb2FkQ2FuY2VsPTA7XHJcbiAgICBmdW5jdGlvbiBnZXRPYmplY3RVUkwoZmlsZSkge1xyXG4gICAgICAgIHZhciB1cmwgPSBudWxsO1xyXG4gICAgICAgIGlmICh3aW5kb3cuY3JlYXRlT2JqZWN0VVJMICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB1cmwgPSB3aW5kb3cuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LlVSTCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cud2Via2l0VVJMICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB1cmwgPSB3aW5kb3cud2Via2l0VVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVPYmplY3RVUkwodXJsKSB7Ly/ph4rmlL7otYTmupBVUkxcclxuICAgICAgICBpZiAod2luZG93LnJldm9rZU9iamVjdFVSTCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2luZG93LnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LlVSTCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy53ZWJraXRVUkwgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy53ZWJraXRVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v6LWE5rqQ5LiK5Lyg5Ye95pWwKOWPguaVsO+8mnJlc1R5cGU66LWE5rqQ57G75Z6LLHJlc1R5cGVDbGFzczrotYTmupDnsbvlnovkuK3nu4bliIbnmoTnp43nsbsscmVzTGltaXRTaXplOui1hOa6kOmZkOWItuWkp+WwjylcclxuICAgIGZ1bmN0aW9uIHJlc1VwbG9hZChmaWxlcywgcmVzVHlwZSwgcmVzVHlwZUNsYXNzLCByZXNMaW1pdFNpemUpIHtcclxuICAgICAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlc291cmNlTG9jYWxVcmwgPSBnZXRPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgIHZhciBmaWxlU2l6ZSA9IChmaWxlLnNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICByZXNBdWRpb1NpemUgPSBmaWxlU2l6ZTtcclxuICAgICAgICAgICAgLy/lpoLmnpzmmK/mraPlvI/pn7PpopFcclxuICAgICAgICAgICAgaWYgKHJlc1R5cGVDbGFzcyA9PSBcIkF1ZGlvMVwiKSB7XHJcbiAgICAgICAgICAgICAgICBmaWxlQXVkaW8xU2l6ZSA9IGZpbGVTaXplO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VUaW1lXCIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VFbGVtZW50LnNyYyA9IHJlc291cmNlTG9jYWxVcmw7XHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZUVsZW1lbnQub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT2JqZWN0VVJMKHJlc291cmNlTG9jYWxVcmwpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+WmguaenOaYr+mfs+mikVxyXG4gICAgICAgICAgICBpZiAocmVzVHlwZSA9PSAnYXVkaW8nKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkKCcjYXVkaW9VUkwnK3Jlc1R5cGVDbGFzcykpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2F1ZGlvVVJMJytyZXNUeXBlQ2xhc3MpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoXCIudXBsb2FkQm94XCIrcmVzVHlwZUNsYXNzKS5mYWRlSW4oMzAwKTtcclxuICAgICAgICAgICAgICAgIC8vIOWIneWni+WMluaWh+S7tuS7peWPiui/m+W6puadoVxyXG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRcIiArIHJlc1R5cGVDbGFzcyArIFwiTmFtZVwiKS5odG1sKGZpbGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZFwiICsgcmVzVHlwZUNsYXNzICsgXCJTaXplIHNwYW5cIikuaHRtbChmaWxlU2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZFBMaW5lXCIgKyByZXNUeXBlQ2xhc3MpLnNob3coKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKFwiLnVwbG9hZFBMaW5lQWN0aXZlXCIgKyByZXNUeXBlQ2xhc3MpLmNzcyhcIndpZHRoXCIsICcwJyk7XHJcbiAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZFBlcnNlbnRcIiArIHJlc1R5cGVDbGFzcykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICBpZihyZXNUeXBlQ2xhc3MgPT0gXCJBdWRpbzFcIil7Ly/mraPlvI/pn7PpopFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgQXVkaW9OYW1lID0gZmlsZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOmZkOWItui1hOa6kOWcqCpNQuWGhVxyXG4gICAgICAgICAgICBpZiAoJHVwbG9hZEZpbGUuY2hlY2tGaWxlU2l6ZShmaWxlLCByZXNMaW1pdFNpemUpKSB7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5pc0F1ZGlvVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICR1cGxvYWRGaWxlLnVwbG9hZFJlcyhmaWxlLCByZXNUeXBlLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzVHlwZSA9PSAnYXVkaW8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBwYXJzZUludChkYXRhICogMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi51cGxvYWRQTGluZUFjdGl2ZVwiICsgcmVzVHlwZUNsYXNzKS5jc3MoXCJ3aWR0aFwiLCBwcm9ncmVzcyArICclJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZFBlcnNlbnRcIiArIHJlc1R5cGVDbGFzcykudGV4dChwcm9ncmVzcyArIFwiJVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5LiK5Lyg5oiQ5Yqf5Zue6LCDXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwuaXNBdWRpb1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuS4iuS8oOaIkOWKn++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi51cGxvYWRQZXJzZW50XCIgKyByZXNUeXBlQ2xhc3MpLnRleHQoXCLlt7LkuIrkvKBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNVcmwgPSBkYXRhLmRhdGEuYWNjZXNzX3VybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiN1cGxvYWRBdWRpb1VybFwiKS52YWwocmVzVXJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyDkuIrkvKDlpLHotKXlm57osINcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5pc0F1ZGlvVXBsb2FkaW5nICA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5LiK5Lyg5aSx6LSlISEhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiK5Lyg5aSx6LSl77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiK5Lyg6LWE5rqQ6ZmQ5Yi25ZyoXCIgKyByZXNMaW1pdFNpemUgKyBcIk1C5YaF77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgJChcIi51cExvYWRcIityZXNUeXBlQ2xhc3MpLnZhbChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZpbGVzKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbW9kYWw7XHJcblxyXG59KSgpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXX0=
