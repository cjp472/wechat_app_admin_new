var width;var height;var params={};var allParams={};var pay_type;var resource_type;var resource_url;var isEditPic=false;var isEditResource=false;var isEditPatchPic=false;var cos=new InitCosCloud;var SID;var Poffset;var files=[];var transcodeNotifyUrl;var secretId;var is_single_sale=0;var prevVal;$(document).ready(function(){prevVal=+$("#serviceContent :radio:checked").val()||null;params["push_state"]=prevVal;$(".nicefile").niceFileInput({width:"300",height:"40",btnText:"选择文件",btnWidth:"100",margin:"20",left:"0"});$(".fileWrapper").css("width","500px");$(".fileInputText").css("width","500px");$(".fileInputText").val(resource_url);$(".name-progress").css("border","1px solid #ccc");var e=$("#checkbox-img").attr("checked-state");if(e=="checked"){pay_type=3;$("#serviceContent").show()}if($("#package_select").hasClass("border_blue")){$("#serviceContent").show()}$("#checkbox-img").click(function(){var e=$("#checkbox-img").attr("checked-state");if(e=="unchecked"){$("#checkbox-img").attr("checked-state","checked");$("#checkbox-img").css("backgroundPosition","-104px 0");$("#single_price_div").removeClass("hide");pay_type=3}else if(e=="checked"){$("#checkbox-img").attr("checked-state","unchecked");$("#checkbox-img").css("backgroundPosition","-78px 0");$("#single_price_div").addClass("hide")}});$(".btn_cancel").click(function(){$(this).css("display","none");$(".progress").css("display","none");$(".fileInputText").css("width","500px");$(".fileInputText").val(resource_url)});$("#resource_title").on("blur keyup change",function(){setMsgDim(this)});$("#resource_price").on("blur keyup",function(){setMsgDim(this)});$("#free_select").on("click",function(){$(this).parents(".upload_input_div").find(".upload_input_msg").css("color","")});$("#package_select").on("click",function(){$(this).parents(".upload_input_div").find(".upload_input_msg").css("color","")});datetimepickerconfig("#start_time");changeSingleAndPackage();monitorPriceChange();initUpload();isShowService();openService();$("#resource_package").on("change",function(){isShowService()})});function isShowService(){if($("#package_select").hasClass("border_blue")){var e=$("#resource_package option:selected").attr("about");if(e>0){$("#serviceContent").show();params["push_state"]=prevVal}else{$("#serviceContent").hide();delete params["push_state"]}}else{$("#serviceContent").hide();delete params["push_state"]}}function openService(){if($("#serviceContent").data("setting")==1){$("#serviceContent").on("click",":radio",function(e){var i=$(this);var s=+i.val();if(s!==prevVal&&s==1){e.preventDefault();var a="您需要到微信公众号后台将您的服务号所在行业设置为“教育/培训”，设置完成后，开启服务号通知方可正常发送模板消息。"+"<br/><a target='_blank' href='/help/instructions#hp5_wx_service' style='margin-top:10px;'>什么是模板消息？</a>";var t={title:"提示",btn:3,oktext:"我已设置",canceltext:"关闭",icon:"blue",onOk:function(){$.ajax("/is_industry",{type:"GET",dataType:"json",data:{}}).done(function(e){var a=e.ret;if(a==0){i.prop("checked",true);prevVal=s;params["push_state"]=s;$("#serviceContent").data("state",s);baseUtils.show.blueTip("模板消息推送开启")}else{baseUtils.show.redTip("无法开启消息推送，请按照提示修改设置")}}).fail(function(e,i,s){console.error(s);baseUtils.show.redTip("服务器出差啦，请稍后重试")})}};$.alert(a,"custom",t);return false}else{prevVal=s;params["push_state"]=s;$("#serviceContent").data("state",s)}})}else{$("#serviceContent").on("click",":radio",function(e){var i=$(this);var s=i.val();if(s!==prevVal&&s==1){prevVal=s;params["push_state"]=s;$("#serviceContent").data("state",s);baseUtils.show.blueTip("模板消息推送开启")}else{prevVal=s;params["push_state"]=s;$("#serviceContent").data("state",s)}})}}function getParameterByName(e,i){if(!i)i=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var s=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),a=s.exec(i);if(!a)return null;if(!a[2])return"";return decodeURIComponent(a[2].replace(/\+/g," "))}function monitorPriceChange(){inputLimitPrice("#resource_price")}function changeSingleAndPackage(){$(".upload_type").on("click",function(){$(".upload_type").removeClass("border_blue");$("#resource_price").removeAttr("readonly");$("#resource_price").val("");$(this).addClass("border_blue");isShowService();if($("#single_select").hasClass("border_blue")){$("#price_div").removeClass("hide");$(".searchSelectArea").addClass("hide");$("#resource_package").addClass("hide");if(!$(".package_side_pay").hasClass("hide")){$(".package_side_pay").addClass("hide")}pay_type=2}else if($("#package_select").hasClass("border_blue")){$("#price_div").addClass("hide");$(".searchSelectArea").removeClass("hide");$("#resource_package").removeClass("hide");if($(".package_side_pay").hasClass("hide")){$(".package_side_pay").removeClass("hide")}pay_type=3}else{$("#price_div").addClass("hide");$(".searchSelectArea").addClass("hide");$("#resource_package").addClass("hide");if(!$(".package_side_pay").hasClass("hide")){$(".package_side_pay").addClass("hide")}$("#resource_price").attr("readonly","readonly");$("#resource_price").val("0.00");pay_type=1}})}$(function(){$("#start_time").on("change",function(){setMsgDim("#start_time")});$("#resource_pic").on("change",function(){var e=getObjectURL(this.files[0]);var i=this.files[0].size;if($(this).attr("id")=="resource_pic"&&i>4*1e3*1e3){baseUtils.show.redTip("图片太大!请不要超过4M!");return}try{var s,a;if(s=this.files[0]){a=new Image;a.onload=function(){width=this.width;height=this.height};a.src=e}}catch(e){}$(this).nextAll(".pic_add").addClass("hide");$(this).nextAll(".pic_close").removeClass("hide");$(this).nextAll(".pic_show").removeClass("hide");$(this).nextAll(".pic_show").attr("src",e);$(".pic_close").on("click",function(){$(this).addClass("hide");$(this).nextAll(".pic_show").addClass("hide");$(this).nextAll(".pic_add").removeClass("hide");$(this).prevAll("#resource_pic").val("")})});$("#patch_pic").on("change",function(){var e=getObjectURL(this.files[0]);var i=this.files[0].size;if($(this).attr("id")=="patch_pic"&&i>4*1e3*1e3){baseUtils.show.redTip("图片太大!请不要超过4M!");return}try{var s,a;if(s=this.files[0]){a=new Image;a.onload=function(){width=this.width;height=this.height};a.src=e}}catch(e){}$(this).nextAll(".pic_add").addClass("hide");$(this).nextAll(".pic_close").removeClass("hide");$(this).nextAll(".pic_show").removeClass("hide");$(this).nextAll(".pic_show").attr("src",e)})});function getObjectURL(e){var i=null;if(window.createObjectURL!=undefined){i=window.createObjectURL(e)}else if(window.URL!=undefined){i=window.URL.createObjectURL(e)}else if(window.webkitURL!=undefined){i=window.webkitURL.createObjectURL(e)}return i}function saveEditResource(e){this.resource_type=e;if(!checkForm()){return}showLoading();if(isEditPic){sliceUpload("#resource_pic",get_cos_image_path(),pic_successCallBack,pic_errorCallBack,"picture")}else if(isEditPatchPic){sliceUpload("#patch_pic",get_cos_image_path(),patch_pic_successCallBack,patch_pic_errorCallBack,"picture")}else if(isEditResource){videoUpload()}else{doUpLoad()}}function checkForm(){allParams={};var e=$("#resource_title").val().trim();if(e.length!=0){params["title"]=e}var i=$("#start_time").val().trim();if(i.length!=0){params["start_at"]=i}var s=$("#resource_pic").val();if(s.length!=0){isEditPic=true}var a=$("#patch_pic").val();if(a.length!=0){isEditPatchPic=true}if(files.length<1){isEditResource=false}else{isEditResource=true;params["video_state"]=1;params["is_transcode"]=0}if(pay_type!=3){var t=$("#resource_price").val().trim();if(pay_type==2){if(t.length==0){baseUtils.show.redTip("价格不能为空!");return false}else if(t<=0){baseUtils.show.redTip("价格需高于0.00!");return false}}params["piece_price"]=t*100}else{var r=$("#resource_package").val();if(r==undefined||r.length==0){baseUtils.show.redTip("请选择产品包!");return false}params["product_id"]=r;var o=$("#resource_package").find("option:selected").text().trim();var c=$("#resource_package").find("option:selected").attr("about");params["product_name"]=o;params["piece_price"]=c;params["product_state"]=$("#resource_package").find("option:selected").attr("state");var l=$("#checkbox-img").attr("checked-state");if(l=="unchecked"){is_single_sale=0}else if(l=="checked"){is_single_sale=1;var n=/^((0)|([1-9]{1}\d*))(\.\d{1,2})?$/;var d=$("#single_price").val().trim();if(d.length>0){if(n.test(d)){if(d==0||d==0||d==0){baseUtils.show.redTip("金额不能为0!");return false}params["piece_price"]=d*100}else{baseUtils.show.redTip("请输入正确的金额！");return false}}else{baseUtils.show.redTip("请输入单价!");return false}}}var p=UE.getEditor("resource_desc");var u=p.getContent();params["org_content"]=u;var h=p.getPlainTxt();if(h.length!=0){params["descrb"]=h}params["payment_type"]=pay_type;var f=$("#data").data("id");allParams["id"]=f;allParams["resource_type"]=resource_type;allParams["params"]=params;allParams["is_single_sale"]=is_single_sale;return true}function sliceUpload(e,i,s,a,t){var r=$(e).prop("files");if(r&&r.length==1){browserMD5File(r[0],function(e,t){console.log("MD5:"+t);var o=r[0]["name"];var c=o.split(".");var l=c[c.length-1];console.log("suffix:"+l);i=i+t+"."+l;console.log("remotePath:"+i);cos.uploadFileWithoutPro(s,a,i,r[0],0)})}else{baseUtils.show.redTip("请选择一个文件")}}var pic_successCallBack=function(e){console.log("图片上传成功!");var i=e.data.access_url;console.log("图片链接!"+i);params["img_url"]=i;params["img_url_compressed"]=i;if(isEditPatchPic){sliceUpload("#patch_pic",get_cos_image_path(),patch_pic_successCallBack,patch_pic_errorCallBack,"picture")}else if(isEditResource){videoUpload()}else{doUpLoad()}};var pic_errorCallBack=function(e){hideLoading();baseUtils.show.redTip("配图上传失败!请重新上传!");uploadErrorShow(e.responseText)};var patch_pic_successCallBack=function(e){console.log("图片上传成功!");var i=e.data.access_url;console.log("贴片图链接!"+i);params["patch_img_url"]=i;params["patch_img_url_compressed"]=i;if(isEditResource){videoUpload()}else{doUpLoad()}};var patch_pic_errorCallBack=function(e){hideLoading();baseUtils.show.redTip("视频贴图上传失败!请重新上传!");uploadErrorShow(e.responseText)};function doUpLoad(){$.post("/update_video",allParams,function(e){hideLoading();var i=e.code;var s=e.msg;var a=GetQueryString("reurl");if(i==0){baseUtils.show.blueTip(s,function(){if(a){window.location.href=a}else{window.location.href="/video_list"}})}else{baseUtils.show.redTip(s)}})}function toAddPackage(){$.alert.xcConfirm("您确定要去新增专栏页面吗?","confirm",{onOk:function(){window.location.href="/package_list"}})}function initUpload(){var e=qcVideo.get("$");var i=qcVideo.get("Version");if(!qcVideo.uploader.supportBrowser()){if(i.IS_MOBILE){baseUtils.show.redTip("当前浏览器不支持上传，请升级系统版本或者下载最新的chrome浏览器")}else{getInternetExplorerVersion()}return}var s=1;var a=1;accountDone("video_file",s,a,"")}var accountDone=function(e,i,s,a){var t=qcVideo.get("$"),r=qcVideo.get("ErrorCode"),o=qcVideo.get("Log"),c=qcVideo.get("JSON"),l=qcVideo.get("util"),n=qcVideo.get("Code"),d=qcVideo.get("Version");qcVideo.uploader.init({web_upload_url:"https://vod.qcloud.com/v2/index.php",secretId:secretId,getSignature:function(e,i){t.ajax({dataType:"json",url:"/getsig?args="+encodeURIComponent(e),success:function(e){i(e["result"])}})},upBtnId:e,isTranscode:i,isWatermark:s,after_sha_start_upload:false,sha1js_path:"/calculator_worker_sha1.js",disable_multi_selection:false,transcodeNotifyUrl:transcodeNotifyUrl,classId:a,forceH5Worker:true},{onFileUpdate:function(e){var i=e.size;var s=i/(1024*1024);if(s>1024){setTimeout(function(){alert("请将视频文件压缩到 1G 以内!")},100);qcVideo.uploader.deleteFile(e.id);deleteFromFile(e.id);t("#"+e.id).remove();console.log("文件超过1G,提示重新选择视频文件:"+e.id);e="";return}if(e.code==1){if(files.length==1){if(files[0]!=undefined){var a=files[0].id;qcVideo.uploader.deleteFile(a);deleteFromFile(a);t("#"+a).remove();console.log("删除了一个文件:"+a)}}var r=t("#"+e.id);if(!r.get(0)){t("#progress_show").append("<div class='progress_div' id = '"+e.id+"'><span style='font-size: 12px'>"+e.name+":</span><div class='progress_bar' id = 'progress_bar_"+e.id+"'><div class='bar' id='bar_"+e.id+"'></div></div><span class='upload_finish' id='upload_finish_"+e.id+"'>上传完成</span><span data-act='del' data-type='0' class='delete'>删除</span></div>")}var o={id:e.id,size:e.size,state:0,file_id:"",size_text:e.size_text,type:1};files[files.length]=o;console.log("添加了一个新的文件:"+"id:"+e.id+"size:"+e.size)}if(e.code==2){files[0]["state"]=2}if(e.code==5&&e.percent>0){if(t("#progress_bar_"+e.id).is(":hidden")){t("#progress_bar_"+e.id).css("display","inline-block")}t("#bar_"+e.id).css("width",e.percent+"%")}if(e.code==6){t("#bar_"+e.id).css("width","100%");t("#upload_finish_"+e.id).show();for(var c=0;c<files.length;c++){if(e.id==files[c]["id"]){files[c]["state"]=6;files[c]["file_id"]=e.serverFileId;break}}if(isUploadFinish()){var l=generateParams();allParams["resource_params"]=l;doUpLoad()}}console.log(e)},onFileStatus:function(e){console.log("各状态总数--\x3e"+c.stringify(e))},onFilterError:function(e){var i="message:"+e.message+(e.solution?";solution=="+e.solution:"");console.log(i)}});t("#progress_show").on("click",'[data-act="del"]',function(e){var i=t(this).parent();var s=i.get(0).id;o.debug("delete",s);i.remove();qcVideo.uploader.deleteFile(s);deleteFromFile(s)})};function deleteFromFile(e){for(var i=0;i<files.length;i++){var s=files[i];if(e==s["id"]){files.splice(i,1);console.log("从files中删除了一个文件:"+e)}}}function isUploadFinish(){var e=true;for(var i=0;i<files.length;i++){if(files[i]["state"]!=6){e=false}}return e}function generateParams(){var e={};if(files.length==1){e={public_video:files[0]["file_id"],public_size_text:files[0]["size"]/(1024*1024)}}return e}function uploadServerInterval(e){setTimeout(function(){if(files.length>0&&files[0]["state"]==2){console.log("解析完成");uploadToServer(e)}else{console.log("解析还未完成");uploadServerInterval(e)}},1e3)}var try_count=0;function videoUpload(){if(try_count>=300){hideLoading();baseUtils.show.redTip("视频解析失败,请更新浏览器版本重新上传");return}setTimeout(function(){if(files.length>0&&files[0]["state"]==2){console.log("解析完成");qcVideo.uploader.startUpload()}else{try_count++;console.log("解析还未完成");videoUpload()}},1e3)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL2VkaXRWaWRlb1Jlc291cmNlLmpzIl0sIm5hbWVzIjpbIndpZHRoIiwiaGVpZ2h0IiwicGFyYW1zIiwiYWxsUGFyYW1zIiwicGF5X3R5cGUiLCJyZXNvdXJjZV90eXBlIiwicmVzb3VyY2VfdXJsIiwiaXNFZGl0UGljIiwiaXNFZGl0UmVzb3VyY2UiLCJpc0VkaXRQYXRjaFBpYyIsImNvcyIsIkluaXRDb3NDbG91ZCIsIlNJRCIsIlBvZmZzZXQiLCJmaWxlcyIsInRyYW5zY29kZU5vdGlmeVVybCIsInNlY3JldElkIiwiaXNfc2luZ2xlX3NhbGUiLCJwcmV2VmFsIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJ2YWwiLCJuaWNlRmlsZUlucHV0IiwiYnRuVGV4dCIsImJ0bldpZHRoIiwibWFyZ2luIiwibGVmdCIsImNzcyIsImNoZWNrZWRTdGF0ZSIsImF0dHIiLCJzaG93IiwiaGFzQ2xhc3MiLCJjbGljayIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJ0aGlzIiwib24iLCJzZXRNc2dEaW0iLCJwYXJlbnRzIiwiZmluZCIsImRhdGV0aW1lcGlja2VyY29uZmlnIiwiY2hhbmdlU2luZ2xlQW5kUGFja2FnZSIsIm1vbml0b3JQcmljZUNoYW5nZSIsImluaXRVcGxvYWQiLCJpc1Nob3dTZXJ2aWNlIiwib3BlblNlcnZpY2UiLCJwYWNrYWdlUHJpY2UiLCJoaWRlIiwiZGF0YSIsImUiLCJlbGUiLCJjdXJyVmFsIiwicHJldmVudERlZmF1bHQiLCJ0eHQiLCJvcHRpb24iLCJ0aXRsZSIsImJ0biIsIm9rdGV4dCIsImNhbmNlbHRleHQiLCJpY29uIiwib25PayIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJkb25lIiwiY29kZSIsInJldCIsInByb3AiLCJiYXNlVXRpbHMiLCJibHVlVGlwIiwicmVkVGlwIiwiZmFpbCIsInhociIsInRleHQiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJhbGVydCIsImdldFBhcmFtZXRlckJ5TmFtZSIsIm5hbWUiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJyZXBsYWNlIiwicmVnZXgiLCJSZWdFeHAiLCJyZXN1bHRzIiwiZXhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsImlucHV0TGltaXRQcmljZSIsInJlbW92ZUF0dHIiLCJzcmNzIiwiZ2V0T2JqZWN0VVJMIiwiZmlsZVNpemUiLCJzaXplIiwiZmlsZSIsImltZyIsIkltYWdlIiwib25sb2FkIiwic3JjIiwibmV4dEFsbCIsInByZXZBbGwiLCJjcmVhdGVPYmplY3RVUkwiLCJ1bmRlZmluZWQiLCJVUkwiLCJ3ZWJraXRVUkwiLCJzYXZlRWRpdFJlc291cmNlIiwiY2hlY2tGb3JtIiwic2hvd0xvYWRpbmciLCJzbGljZVVwbG9hZCIsImdldF9jb3NfaW1hZ2VfcGF0aCIsInBpY19zdWNjZXNzQ2FsbEJhY2siLCJwaWNfZXJyb3JDYWxsQmFjayIsInBhdGNoX3BpY19zdWNjZXNzQ2FsbEJhY2siLCJwYXRjaF9waWNfZXJyb3JDYWxsQmFjayIsInZpZGVvVXBsb2FkIiwiZG9VcExvYWQiLCJyZXNvdXJjZV90aXRsZSIsInRyaW0iLCJsZW5ndGgiLCJzdGFydF90aW1lIiwicmVzb3VyY2VfcGljIiwicGF0Y2hfcGljIiwicmVzb3VyY2VfcHJpY2UiLCJyZXNvdXJjZV9wYWNrYWdlIiwicGFja2FnZV9uYW1lIiwicGllY2VfcHJpY2UiLCJyZWciLCJzaW5nbGVfcHJpY2UiLCJ0ZXN0IiwidWUiLCJVRSIsImdldEVkaXRvciIsImh0bWwiLCJnZXRDb250ZW50IiwicmVzb3VyY2VfZGVzYyIsImdldFBsYWluVHh0IiwicmVzb3VyY2VfaWQiLCJpZGVudGl0eSIsInJlbW90ZVBhdGgiLCJzdWNjZXNzQ2FsbEJhY2siLCJlcnJvckNhbGxCYWNrIiwiZmlsZV90eXBlIiwiYnJvd3Nlck1ENUZpbGUiLCJtZDUiLCJsb2ciLCJmaWxlX25hbWUiLCJuYW1lcyIsInNwbGl0Iiwic3VmZml4IiwidXBsb2FkRmlsZVdpdGhvdXRQcm8iLCJyZXN1bHQiLCJwaWNfdXJsIiwiYWNjZXNzX3VybCIsImhpZGVMb2FkaW5nIiwidXBsb2FkRXJyb3JTaG93IiwicmVzcG9uc2VUZXh0IiwicGF0Y2hfcGljX3VybCIsInBvc3QiLCJtc2ciLCJyZV91cmwiLCJHZXRRdWVyeVN0cmluZyIsInRvQWRkUGFja2FnZSIsInhjQ29uZmlybSIsInFjVmlkZW8iLCJnZXQiLCJWZXJzaW9uIiwidXBsb2FkZXIiLCJzdXBwb3J0QnJvd3NlciIsIklTX01PQklMRSIsImdldEludGVybmV0RXhwbG9yZXJWZXJzaW9uIiwiaXNUcmFuc2NvZGUiLCJpc1dhdGVybWFyayIsImFjY291bnREb25lIiwidXBCdG5JZCIsImNsYXNzSWQiLCJFcnJvckNvZGUiLCJMb2ciLCJKU09OIiwidXRpbCIsIkNvZGUiLCJpbml0Iiwid2ViX3VwbG9hZF91cmwiLCJnZXRTaWduYXR1cmUiLCJhcmdTdHIiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzdWNjZXNzIiwiZCIsImFmdGVyX3NoYV9zdGFydF91cGxvYWQiLCJzaGExanNfcGF0aCIsImRpc2FibGVfbXVsdGlfc2VsZWN0aW9uIiwiZm9yY2VINVdvcmtlciIsIm9uRmlsZVVwZGF0ZSIsImFyZ3MiLCJ2aWRlb1NpemUiLCJ2aWRlb0dzaXplIiwic2V0VGltZW91dCIsImRlbGV0ZUZpbGUiLCJpZCIsImRlbGV0ZUZyb21GaWxlIiwicmVtb3ZlIiwib2xkX2lkIiwiJGxpbmUiLCJhcHBlbmQiLCJpbmZvX2l0ZW0iLCJzdGF0ZSIsImZpbGVfaWQiLCJzaXplX3RleHQiLCJwZXJjZW50IiwiaXMiLCJpIiwic2VydmVyRmlsZUlkIiwiaXNVcGxvYWRGaW5pc2giLCJleHRlcm5hbFBhcmFtcyIsImdlbmVyYXRlUGFyYW1zIiwib25GaWxlU3RhdHVzIiwiaW5mbyIsInN0cmluZ2lmeSIsIm9uRmlsdGVyRXJyb3IiLCJtZXNzYWdlIiwic29sdXRpb24iLCJwYXJlbnQiLCJmaWxlSWQiLCJkZWJ1ZyIsIml0ZW0iLCJzcGxpY2UiLCJpc0ZpbmlzaCIsImZpbGVfaWRfcGFyYW1zIiwicHVibGljX3ZpZGVvIiwicHVibGljX3NpemVfdGV4dCIsInVwbG9hZFNlcnZlckludGVydmFsIiwidXBsb2FkVG9TZXJ2ZXIiLCJ0cnlfY291bnQiLCJzdGFydFVwbG9hZCJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsTUFDSixJQUFJQyxPQUVKLElBQUlDLFVBQ0osSUFBSUMsYUFFSixJQUFJQyxTQUVKLElBQUlDLGNBRUosSUFBSUMsYUFHSixJQUFJQyxXQUFZLEtBRWhCLElBQUlDLGdCQUFpQixLQUVyQixJQUFJQyxnQkFBaUIsS0FNckIsSUFBSUMsS0FBTSxHQUFJQyxhQUdkLElBQUlDLElBRUosSUFBSUMsUUFHSixJQUFJQyxTQUNKLElBQUlDLG1CQUNKLElBQUlDLFNBR0osSUFBSUMsZ0JBQWlCLENBRXJCLElBQUlDLFFBRUpDLEdBQUVDLFVBQVVDLE1BQU0sV0FDZEgsU0FBV0MsRUFBRSxrQ0FBa0NHLE9BQVMsSUFDeERwQixRQUFPLGNBQWdCZ0IsT0FHdkJDLEdBQUUsYUFBYUksZUFDWHZCLE1BQVMsTUFDVEMsT0FBVSxLQUNWdUIsUUFBVyxPQUNYQyxTQUFZLE1BQ1pDLE9BQVUsS0FDVkMsS0FBTyxLQUVYUixHQUFFLGdCQUFnQlMsSUFBSSxRQUFRLFFBQzlCVCxHQUFFLGtCQUFrQlMsSUFBSSxRQUFRLFFBQ2hDVCxHQUFFLGtCQUFrQkcsSUFBSWhCLGFBQ3hCYSxHQUFFLGtCQUFrQlMsSUFBSSxTQUFTLGlCQUVqQyxJQUFJQyxHQUFlVixFQUFFLGlCQUFpQlcsS0FBSyxnQkFDM0MsSUFBSUQsR0FBZ0IsVUFBVSxDQUMxQnpCLFNBQVcsQ0FDWGUsR0FBRSxtQkFBbUJZLE9BRXpCLEdBQUlaLEVBQUUsbUJBQW1CYSxTQUFTLGVBQWdCLENBQzlDYixFQUFFLG1CQUFtQlksT0FJekJaLEVBQUUsaUJBQWlCYyxNQUFNLFdBRXJCLEdBQUlKLEdBQWVWLEVBQUUsaUJBQWlCVyxLQUFLLGdCQUMzQyxJQUFJRCxHQUFnQixZQUFhLENBQzdCVixFQUFFLGlCQUFpQlcsS0FBSyxnQkFBaUIs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LEtBQ0osSUFBSXZOLE1BQU0yRyxRQUFVLEVBQUcsQ0FFbkI0RyxHQUNJQyxhQUFnQnhOLE1BQU0sR0FBRyxXQUFZeU4saUJBQXFCek4sTUFBTSxHQUFHLFNBQVMsS0FBSyxPQUd6RixNQUFPdU4sR0FNWCxRQUFTRyxzQkFBcUJqQixHQUMxQmpCLFdBQ0ksV0FDSSxHQUFHeEwsTUFBTTJHLE9BQU8sR0FBRzNHLE1BQU0sR0FBRyxVQUFVLEVBQUUsQ0FDcEM4RCxRQUFRdUUsSUFBSSxPQUNac0YsZ0JBQWVsQixPQUNkLENBQ0QzSSxRQUFRdUUsSUFBSSxTQUNacUYsc0JBQXFCakIsS0FFM0IsS0FJVixHQUFJbUIsV0FBVSxDQUdkLFNBQVNySCxlQUNMLEdBQUlxSCxXQUFhLElBQUssQ0FDbEI5RSxhQUNBdkYsV0FBVXRDLEtBQUt3QyxPQUFPLHNCQUN0QixRQUVKK0gsV0FDSSxXQUNJLEdBQUd4TCxNQUFNMkcsT0FBTyxHQUFHM0csTUFBTSxHQUFHLFVBQVUsRUFBRSxDQUNwQzhELFFBQVF1RSxJQUFJLE9BQ1ptQixTQUFRRyxTQUFTa0Usa0JBQ2hCLENBQ0RELFdBQ0E5SixTQUFRdUUsSUFBSSxTQUNaOUIsaUJBRU4iLCJmaWxlIjoiYWRtaW4vZWRpdFZpZGVvUmVzb3VyY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgd2lkdGg7XG52YXIgaGVpZ2h0O1xuXG52YXIgcGFyYW1zID0ge307XG52YXIgYWxsUGFyYW1zID0ge307XG5cbnZhciBwYXlfdHlwZTsgLy/ku5jotLnnsbvlnossMeihqOekuuWFjei0ueOAgTLooajnpLrljZXkuKrku5jotLksM+ihqOekuuS4k+agj+OAglxuXG52YXIgcmVzb3VyY2VfdHlwZTsvL+WIm+W7uuexu+Wei1xuXG52YXIgcmVzb3VyY2VfdXJsOy8v6LWE5rqQdXJsXG5cbi8v5Yik5pat6YWN5Zu+5piv5ZCm5L+u5pS55LqGXG52YXIgaXNFZGl0UGljID0gZmFsc2U7XG4vL+WIpOaWrei1hOa6kOaYr+WQpuS/ruaUueS6hlxudmFyIGlzRWRpdFJlc291cmNlID0gZmFsc2U7XG4vL+WIpOaWrei0tOeJh+aYr+WQpuS/ruaUueS6hlxudmFyIGlzRWRpdFBhdGNoUGljID0gZmFsc2U7XG5cblxuLy/ohb7orq/kupHotYTmupBcbi8vdmFyIGJ1Y2tldE5hbWUgPSB3aW5kb3cuY29zX2J1Y2tldF9uYW1lO1xuLy92YXIgY29zID0gbmV3IENvc0Nsb3VkKHdpbmRvdy5jb3NfYXBwX2lkKTtcbnZhciBjb3MgPSBuZXcgSW5pdENvc0Nsb3VkKCk7XG5cbi8vU2V0SW50ZXJ2YWzov5Tlm55JRFxudmFyIFNJRDtcbi8v5q276L+b5bqm5p2h5q+P5qyh5Y+Y5YyW6YePXG52YXIgUG9mZnNldDtcblxuXG52YXIgZmlsZXMgPSBbXTsgLy/lrZjmlL7mlofku7ZcbnZhciB0cmFuc2NvZGVOb3RpZnlVcmw7Ly8g6L2s56CB5oiQ5Yqf5Zue6LCD5Zyw5Z2AXG52YXIgc2VjcmV0SWQ7XG5cbi8v5piv5ZCm5Y2V5Y2WXG52YXIgaXNfc2luZ2xlX3NhbGUgPSAwO1xuXG52YXIgcHJldlZhbDtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgIHByZXZWYWwgPSArJChcIiNzZXJ2aWNlQ29udGVudCA6cmFkaW86Y2hlY2tlZFwiKS52YWwoKSB8fCBudWxsOyAvL+W9k+WJjeWNlemAieahhueahOWAvFxuICAgIHBhcmFtc1sncHVzaF9zdGF0ZSddID0gcHJldlZhbDtcblxuICAgIC8v5pu/5o2i6YCJ5oup5paH5Lu25qC35byP5qGGXG4gICAgJChcIi5uaWNlZmlsZVwiKS5uaWNlRmlsZUlucHV0KHtcbiAgICAgICAgJ3dpZHRoJzogJzMwMCcsIC8vd2lkdGggb2YgYnV0dG9uIC0gbWluaW11bSAxNTBcbiAgICAgICAgJ2hlaWdodCc6ICc0MCcsICAvL2hlaWdodCBvZiB0ZXh0XG4gICAgICAgICdidG5UZXh0JzogJ+mAieaLqeaWh+S7ticsIC8vdGV4dCBvZiB0aGUgYnV0dG9uXG4gICAgICAgICdidG5XaWR0aCc6ICcxMDAnLCAgLy8gd2lkdGggb2YgYnV0dG9uXG4gICAgICAgICdtYXJnaW4nOiAnMjAnLFx0Ly8gZ2FwIGJldHdlZW4gdGV4dGJveCBhbmQgYnV0dG9uIC0gbWluaW11bSAxNFxuICAgICAgICAnbGVmdCc6JzAnXG4gICAgfSk7XG4gICAgJCgnLmZpbGVXcmFwcGVyJykuY3NzKCd3aWR0aCcsJzUwMHB4Jyk7XG4gICAgJCgnLmZpbGVJbnB1dFRleHQnKS5jc3MoJ3dpZHRoJywnNTAwcHgnKTtcbiAgICAkKCcuZmlsZUlucHV0VGV4dCcpLnZhbChyZXNvdXJjZV91cmwpO1xuICAgICQoJy5uYW1lLXByb2dyZXNzJykuY3NzKCdib3JkZXInLCcxcHggc29saWQgI2NjYycpO1xuXG4gICAgdmFyIGNoZWNrZWRTdGF0ZSA9ICQoXCIjY2hlY2tib3gtaW1nXCIpLmF0dHIoXCJjaGVja2VkLXN0YXRlXCIpO1xuICAgIGlmIChjaGVja2VkU3RhdGUgPT0gXCJjaGVja2VkXCIpe1xuICAgICAgICBwYXlfdHlwZSA9IDM7XG4gICAgICAgICQoJyNzZXJ2aWNlQ29udGVudCcpLnNob3coKTtcbiAgICB9XG4gICAgaWYoICQoJyNwYWNrYWdlX3NlbGVjdCcpLmhhc0NsYXNzKCdib3JkZXJfYmx1ZScpICl7XG4gICAgICAgICQoJyNzZXJ2aWNlQ29udGVudCcpLnNob3coKTtcbiAgICB9XG5cbiAgICAvL2NoZWNrYm94XCLkuJPmoI/lpJbljZXljZZcIlxuICAgICQoXCIjY2hlY2tib3gtaW1nXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgY2hlY2tlZFN0YXRlID0gJChcIiNjaGVja2JveC1pbWdcIikuYXR0cihcImNoZWNrZWQtc3RhdGVcIik7XG4gICAgICAgIGlmIChjaGVja2VkU3RhdGUgPT0gXCJ1bmNoZWNrZWRcIikge1xuICAgICAgICAgICAgJChcIiNjaGVja2JveC1pbWdcIikuYXR0cihcImNoZWNrZWQtc3RhdGVcIiwgXCJjaGVja2VkXCIpO1xuICAgICAgICAgICAgJChcIiNjaGVja2JveC1pbWdcIikuY3NzKFwiYmFja2dyb3VuZFBvc2l0aW9uXCIsIFwiLTEwNHB4IDBcIik7XG4gICAgICAgICAgICAkKFwiI3NpbmdsZV9wcmljZV9kaXZcIikucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgICAgIHBheV90eXBlID0gMztcblxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrZWRTdGF0ZSA9PSBcImNoZWNrZWRcIikge1xuICAgICAgICAgICAgJChcIiNjaGVja2JveC1pbWdcIikuYXR0cihcImNoZWNrZWQtc3RhdGVcIiwgXCJ1bmNoZWNrZWRcIik7XG4gICAgICAgICAgICAkKFwiI2NoZWNrYm94LWltZ1wiKS5jc3MoXCJiYWNrZ3JvdW5kUG9zaXRpb25cIiwgXCItNzhweCAwXCIpO1xuICAgICAgICAgICAgJChcIiNzaW5nbGVfcHJpY2VfZGl2XCIpLmFkZENsYXNzKCdoaWRlJyk7XG5cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy/pgInmi6nmlofku7YgLS0g5Y+W5raI5pON5L2cXG4gICAgJCgnLmJ0bl9jYW5jZWwnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuY3NzKCdkaXNwbGF5Jywnbm9uZScpO1xuICAgICAgICAkKCcucHJvZ3Jlc3MnKS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7XG4gICAgICAgICQoJy5maWxlSW5wdXRUZXh0JykuY3NzKCd3aWR0aCcsJzUwMHB4Jyk7XG4gICAgICAgICQoJy5maWxlSW5wdXRUZXh0JykudmFsKHJlc291cmNlX3VybCk7XG4gICAgfSlcblxuICAgICQoJyNyZXNvdXJjZV90aXRsZScpLm9uKCdibHVyIGtleXVwIGNoYW5nZScsZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRNc2dEaW0odGhpcyk7XG4gICAgfSk7XG4gICAgJCgnI3Jlc291cmNlX3ByaWNlJykub24oJ2JsdXIga2V5dXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldE1zZ0RpbSh0aGlzKTtcbiAgICB9KTtcbiAgICAkKCcjZnJlZV9zZWxlY3QnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy51cGxvYWRfaW5wdXRfZGl2JykuZmluZCgnLnVwbG9hZF9pbnB1dF9tc2cnKS5jc3MoJ2NvbG9yJywnJyk7XG4gICAgfSk7XG4gICAgJCgnI3BhY2thZ2Vfc2VsZWN0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy51cGxvYWRfaW5wdXRfZGl2JykuZmluZCgnLnVwbG9hZF9pbnB1dF9tc2cnKS5jc3MoJ2NvbG9yJywnJyk7XG4gICAgfSk7XG5cbiAgICBkYXRldGltZXBpY2tlcmNvbmZpZyhcIiNzdGFydF90aW1lXCIpO1xuXG4gICAgY2hhbmdlU2luZ2xlQW5kUGFja2FnZSgpO1xuXG4gICAgLy/nm5HlkKzovpPlhaXmoYbku7fmoLznmoTlj5jljJZcbiAgICBtb25pdG9yUHJpY2VDaGFuZ2UoKTtcblxuICAgIGluaXRVcGxvYWQoKTtcblxuICAgIGlzU2hvd1NlcnZpY2UoKTtcbiAgICBvcGVuU2VydmljZSgpO1xuICAgICQoXCIjcmVzb3VyY2VfcGFja2FnZVwiKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzU2hvd1NlcnZpY2UoKTtcbiAgICB9KTtcbn0pO1xuXG5cbmZ1bmN0aW9uIGlzU2hvd1NlcnZpY2UoKSB7IC8v5Yik5pat6IO95ZCm5byA5ZCv5o6o6YCBXG4gICAgaWYoICQoJyNwYWNrYWdlX3NlbGVjdCcpLmhhc0NsYXNzKCdib3JkZXJfYmx1ZScpICl7IC8v5aaC5p6c5b2T5YmN6YCJ5Lit55qE5piv5LiT5qCPXG4gICAgICAgIHZhciBwYWNrYWdlUHJpY2UgPSAkKCcjcmVzb3VyY2VfcGFja2FnZSBvcHRpb246c2VsZWN0ZWQnKS5hdHRyKCdhYm91dCcpO1xuICAgICAgICBpZiggcGFja2FnZVByaWNlID4gMCApIHsgLy/lpoLmnpzkuJPmoI/ku7fmoLzlpKfkuo4wXG4gICAgICAgICAgICAkKCcjc2VydmljZUNvbnRlbnQnKS5zaG93KCk7XG4gICAgICAgICAgICBwYXJhbXNbJ3B1c2hfc3RhdGUnXSA9IHByZXZWYWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjc2VydmljZUNvbnRlbnQnKS5oaWRlKCk7XG4gICAgICAgICAgICBkZWxldGUgcGFyYW1zWydwdXNoX3N0YXRlJ107XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAkKCcjc2VydmljZUNvbnRlbnQnKS5oaWRlKCk7XG4gICAgICAgIGRlbGV0ZSBwYXJhbXNbJ3B1c2hfc3RhdGUnXTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9wZW5TZXJ2aWNlKCkge1xuICAgIGlmKCAkKCcjc2VydmljZUNvbnRlbnQnKS5kYXRhKCdzZXR0aW5nJykgPT0gMSl7XG4gICAgICAgICQoJyNzZXJ2aWNlQ29udGVudCcpLm9uKCdjbGljaycsICc6cmFkaW8nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgZWxlID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBjdXJyVmFsID0gK2VsZS52YWwoKTtcblxuICAgICAgICAgICAgaWYoIGN1cnJWYWwgIT09IHByZXZWYWwgJiYgY3VyclZhbCA9PSAxICkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB2YXIgdHh0PSAgXCLmgqjpnIDopoHliLDlvq7kv6HlhazkvJflj7flkI7lj7DlsIbmgqjnmoTmnI3liqHlj7fmiYDlnKjooYzkuJrorr7nva7kuLrigJzmlZnogrIv5Z+56K6t4oCd77yM6K6+572u5a6M5oiQ5ZCO77yM5byA5ZCv5pyN5Yqh5Y+36YCa55+l5pa55Y+v5q2j5bi45Y+R6YCB5qih5p2/5raI5oGv44CCXCIrXG4gICAgICAgICAgICAgICAgXCI8YnIvPjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScvaGVscC9pbnN0cnVjdGlvbnMjaHA1X3d4X3NlcnZpY2UnIHN0eWxlPSdtYXJnaW4tdG9wOjEwcHg7Jz7ku4DkuYjmmK/mqKHmnb/mtojmga/vvJ88L2E+XCI7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi5o+Q56S6XCIsIC8v5by55Ye65qGG5qCH6aKYXG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMywgLy/noa7lrpomJuWPlua2iFxuICAgICAgICAgICAgICAgICAgICBva3RleHQ6ICfmiJHlt7Lorr7nva4nLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWx0ZXh0OiAn5YWz6ZetJyxcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KCcvaXNfaW5kdXN0cnknLHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9IGRhdGEucmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvZGUgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZWYWwgPSBjdXJyVmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKua2iOaBr+aOqOmAgeW8gOWQryovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1sncHVzaF9zdGF0ZSddID0gY3VyclZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NlcnZpY2VDb250ZW50JykuZGF0YSgnc3RhdGUnLGN1cnJWYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5qih5p2/5raI5oGv5o6o6YCB5byA5ZCvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaXoOazleW8gOWQr+a2iOaBr+aOqOmAge+8jOivt+aMieeFp+aPkOekuuS/ruaUueiuvue9rlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKHhociwgdGV4dCwgZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuacjeWKoeWZqOWHuuW3ruWVpu+8jOivt+eojeWQjumHjeivlVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJC5hbGVydCh0eHQsIFwiY3VzdG9tXCIsIG9wdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKuWFs+mXrea2iOaBr+aOqOmAgSovXG4gICAgICAgICAgICAgICAgcHJldlZhbCA9IGN1cnJWYWw7XG4gICAgICAgICAgICAgICAgcGFyYW1zWydwdXNoX3N0YXRlJ10gPSBjdXJyVmFsO1xuICAgICAgICAgICAgICAgICQoJyNzZXJ2aWNlQ29udGVudCcpLmRhdGEoJ3N0YXRlJyxjdXJyVmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJCgnI3NlcnZpY2VDb250ZW50Jykub24oJ2NsaWNrJywgJzpyYWRpbycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBlbGUgPSAkKHRoaXMpO1xuICAgICAgICAgICAgdmFyIGN1cnJWYWwgPSBlbGUudmFsKCk7XG5cbiAgICAgICAgICAgIGlmKCBjdXJyVmFsICE9PSBwcmV2VmFsICYmIGN1cnJWYWwgPT0gMSApIHtcbiAgICAgICAgICAgICAgICBwcmV2VmFsID0gY3VyclZhbDtcbiAgICAgICAgICAgICAgICBwYXJhbXNbJ3B1c2hfc3RhdGUnXSA9IGN1cnJWYWw7XG4gICAgICAgICAgICAgICAgJCgnI3NlcnZpY2VDb250ZW50JykuZGF0YSgnc3RhdGUnLGN1cnJWYWwpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLmqKHmnb/mtojmga/mjqjpgIHlvIDlkK9cIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXZWYWwgPSBjdXJyVmFsO1xuICAgICAgICAgICAgICAgIHBhcmFtc1sncHVzaF9zdGF0ZSddID0gY3VyclZhbDtcbiAgICAgICAgICAgICAgICAkKCcjc2VydmljZUNvbnRlbnQnKS5kYXRhKCdzdGF0ZScsY3VyclZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLyoqXG4gKiDojrflj5Z1cmnlj4LmlbBcbiAqIEBwYXJhbSBuYW1lXG4gKiBAcGFyYW0gdXJsXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUsIHVybCkge1xuICAgIGlmICghdXJsKSB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlxcXFwkJlwiKTtcbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFwiWz8mXVwiICsgbmFtZSArIFwiKD0oW14mI10qKXwmfCN8JClcIiksXG4gICAgICAgIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG4gICAgaWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXJlc3VsdHNbMl0pIHJldHVybiAnJztcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG59XG5cbi8v55uR5ZCs5Lu35qC85Y+Y5YyWLOmYsuatouWHuueOsOi0n+aVsFxuZnVuY3Rpb24gbW9uaXRvclByaWNlQ2hhbmdlKCkge1xuICAgIGlucHV0TGltaXRQcmljZShcIiNyZXNvdXJjZV9wcmljZVwiKTtcbn1cblxuLy/liIfmjaLljZXkuKrlkozkuqflk4HljIXpgInmi6lcbmZ1bmN0aW9uIGNoYW5nZVNpbmdsZUFuZFBhY2thZ2UoKSB7XG4gICAgJCgnLnVwbG9hZF90eXBlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKCcudXBsb2FkX3R5cGUnKS5yZW1vdmVDbGFzcygnYm9yZGVyX2JsdWUnKTtcbiAgICAgICAgJChcIiNyZXNvdXJjZV9wcmljZVwiKS5yZW1vdmVBdHRyKCdyZWFkb25seScpO1xuICAgICAgICAkKFwiI3Jlc291cmNlX3ByaWNlXCIpLnZhbCgnJyk7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2JvcmRlcl9ibHVlJyk7XG4gICAgICAgIGlzU2hvd1NlcnZpY2UoKTtcbiAgICAgICAgaWYgKCQoJyNzaW5nbGVfc2VsZWN0JykuaGFzQ2xhc3MoJ2JvcmRlcl9ibHVlJykpIHsgLy/ljZXkuKpcbiAgICAgICAgICAgICQoJyNwcmljZV9kaXYnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgICAgICAgJCgnLnNlYXJjaFNlbGVjdEFyZWEnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICAgICAgJCgnI3Jlc291cmNlX3BhY2thZ2UnKS5hZGRDbGFzcygnaGlkZScpO1xuXG4gICAgICAgICAgICBpZighKCQoJy5wYWNrYWdlX3NpZGVfcGF5JykuaGFzQ2xhc3MoJ2hpZGUnKSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJCgnLnBhY2thZ2Vfc2lkZV9wYXknKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXlfdHlwZSA9IDI7XG4gICAgICAgIH0gZWxzZSBpZigkKCcjcGFja2FnZV9zZWxlY3QnKS5oYXNDbGFzcygnYm9yZGVyX2JsdWUnKSl7IC8v5Lqn5ZOB5YyFXG4gICAgICAgICAgICAkKCcjcHJpY2VfZGl2JykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgICAgICQoJy5zZWFyY2hTZWxlY3RBcmVhJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgICAgICQoJyNyZXNvdXJjZV9wYWNrYWdlJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcblxuICAgICAgICAgICAgaWYoKCQoJy5wYWNrYWdlX3NpZGVfcGF5JykuaGFzQ2xhc3MoJ2hpZGUnKSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJCgnLnBhY2thZ2Vfc2lkZV9wYXknKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXlfdHlwZSA9IDM7XG4gICAgICAgIH1lbHNleyAvL+WFjei0uVxuICAgICAgICAgICAgJCgnI3ByaWNlX2RpdicpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgICAkKCcuc2VhcmNoU2VsZWN0QXJlYScpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgICAkKCcjcmVzb3VyY2VfcGFja2FnZScpLmFkZENsYXNzKCdoaWRlJyk7XG5cbiAgICAgICAgICAgIGlmKCEoJCgnLnBhY2thZ2Vfc2lkZV9wYXknKS5oYXNDbGFzcygnaGlkZScpKSlcbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgICQoJy5wYWNrYWdlX3NpZGVfcGF5JykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvL+iuvue9rlxuICAgICAgICAgICAgJChcIiNyZXNvdXJjZV9wcmljZVwiKS5hdHRyKCdyZWFkb25seScsJ3JlYWRvbmx5Jyk7XG4gICAgICAgICAgICAkKFwiI3Jlc291cmNlX3ByaWNlXCIpLnZhbCgnMC4wMCcpO1xuICAgICAgICAgICAgcGF5X3R5cGUgPSAxO1xuICAgICAgICB9XG5cbiAgICB9KTtcbn1cblxuJChmdW5jdGlvbiAoKSB7XG4gICAgJCgnI3N0YXJ0X3RpbWUnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2V0TXNnRGltKCcjc3RhcnRfdGltZScpO1xuICAgIH0pO1xuXG4gICAgJChcIiNyZXNvdXJjZV9waWNcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3JjcyA9IGdldE9iamVjdFVSTCh0aGlzLmZpbGVzWzBdKTsgICAvL+iOt+WPlui3r+W+hFxuICAgICAgICB2YXIgZmlsZVNpemUgPSB0aGlzLmZpbGVzWzBdLnNpemU7XG4gICAgICAgIGlmKCQodGhpcykuYXR0cihcImlkXCIpPT0ncmVzb3VyY2VfcGljJyYmZmlsZVNpemU+NCoxMDAwKjEwMDApe1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCflm77niYflpKrlpKch6K+35LiN6KaB6LaF6L+HNE0hJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy/ojrflj5blm77niYfnmoTlrr3pq5hcbiAgICAgICAgICAgIHZhciBmaWxlLCBpbWc7XG4gICAgICAgICAgICBpZiAoKGZpbGUgPSB0aGlzLmZpbGVzWzBdKSkge1xuICAgICAgICAgICAgICAgIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gc3JjcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuXG4gICAgICAgIH1cblxuICAgICAgICAkKHRoaXMpLm5leHRBbGwoXCIucGljX2FkZFwiKS5hZGRDbGFzcygnaGlkZScpOyAgIC8vdGhpc+aMh+eahOaYr2lucHV0XG4gICAgICAgICQodGhpcykubmV4dEFsbCgnLnBpY19jbG9zZScpLnJlbW92ZUNsYXNzKCdoaWRlJyk7ICAgLy90aGlz5oyH55qE5pivaW5wdXRcbiAgICAgICAgJCh0aGlzKS5uZXh0QWxsKFwiLnBpY19zaG93XCIpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICAgICQodGhpcykubmV4dEFsbChcIi5waWNfc2hvd1wiKS5hdHRyKFwic3JjXCIsIHNyY3MpOyAgICAvL3RoaXPmjIfnmoTmmK9pbnB1dFxuICAgICAgICAkKFwiLnBpY19jbG9zZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2hpZGUnKTsgICAgIC8vdGhpc+aMh+eahOaYr3NwYW5cbiAgICAgICAgICAgICQodGhpcykubmV4dEFsbChcIi5waWNfc2hvd1wiKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICAgICAgJCh0aGlzKS5uZXh0QWxsKFwiLnBpY19hZGRcIikucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgICAgICQodGhpcykucHJldkFsbCgnI3Jlc291cmNlX3BpYycpLnZhbCgnJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgICQoXCIjcGF0Y2hfcGljXCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNyY3MgPSBnZXRPYmplY3RVUkwodGhpcy5maWxlc1swXSk7ICAgLy/ojrflj5bot6/lvoRcbiAgICAgICAgdmFyIGZpbGVTaXplID0gdGhpcy5maWxlc1swXS5zaXplO1xuICAgICAgICBpZigkKHRoaXMpLmF0dHIoXCJpZFwiKT09J3BhdGNoX3BpYycmJmZpbGVTaXplPjQqMTAwMCoxMDAwKXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5Zu+54mH5aSq5aSnIeivt+S4jeimgei2hei/hzRNIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8v6I635Y+W5Zu+54mH55qE5a696auYXG4gICAgICAgICAgICB2YXIgZmlsZSwgaW1nO1xuICAgICAgICAgICAgaWYgKChmaWxlID0gdGhpcy5maWxlc1swXSkpIHtcbiAgICAgICAgICAgICAgICBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IHNyY3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcblxuICAgICAgICB9XG5cbiAgICAgICAgJCh0aGlzKS5uZXh0QWxsKFwiLnBpY19hZGRcIikuYWRkQ2xhc3MoJ2hpZGUnKTsgICAvL3RoaXPmjIfnmoTmmK9pbnB1dFxuICAgICAgICAkKHRoaXMpLm5leHRBbGwoJy5waWNfY2xvc2UnKS5yZW1vdmVDbGFzcygnaGlkZScpOyAgIC8vdGhpc+aMh+eahOaYr2lucHV0XG4gICAgICAgICQodGhpcykubmV4dEFsbChcIi5waWNfc2hvd1wiKS5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgICAkKHRoaXMpLm5leHRBbGwoXCIucGljX3Nob3dcIikuYXR0cihcInNyY1wiLCBzcmNzKTsgICAgLy90aGlz5oyH55qE5pivaW5wdXRcbiAgICB9KTtcbn0pXG5cbmZ1bmN0aW9uIGdldE9iamVjdFVSTChmaWxlKSB7XG4gICAgdmFyIHVybCA9IG51bGw7XG4gICAgaWYgKHdpbmRvdy5jcmVhdGVPYmplY3RVUkwgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVybCA9IHdpbmRvdy5jcmVhdGVPYmplY3RVUkwoZmlsZSlcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5VUkwgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpXG4gICAgfSBlbHNlIGlmICh3aW5kb3cud2Via2l0VVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICB1cmwgPSB3aW5kb3cud2Via2l0VVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKVxuICAgIH1cbiAgICByZXR1cm4gdXJsXG59XG5cbi8v5LiK5Lyg6LWE5rqQICByZXNvdXJjZV90eXBlOmF1ZGlv44CBdmlkZW9cbmZ1bmN0aW9uIHNhdmVFZGl0UmVzb3VyY2UocmVzb3VyY2VfdHlwZSkge1xuICAgIHRoaXMucmVzb3VyY2VfdHlwZSA9IHJlc291cmNlX3R5cGU7XG5cbiAgICBpZighY2hlY2tGb3JtKCkpe1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2hvd0xvYWRpbmcoKTtcblxuICAgIGlmKGlzRWRpdFBpYyl7XG4gICAgICAgIC8v5LiK5Lyg5Zu+54mHXG4gICAgICAgIHNsaWNlVXBsb2FkKCcjcmVzb3VyY2VfcGljJywgZ2V0X2Nvc19pbWFnZV9wYXRoKCksIHBpY19zdWNjZXNzQ2FsbEJhY2ssIHBpY19lcnJvckNhbGxCYWNrLCAncGljdHVyZScpO1xuICAgIH1lbHNlIGlmKGlzRWRpdFBhdGNoUGljKXtcbiAgICAgICAgLy/kuIrkvKDlm77niYdcbiAgICAgICAgc2xpY2VVcGxvYWQoJyNwYXRjaF9waWMnLCBnZXRfY29zX2ltYWdlX3BhdGgoKSwgcGF0Y2hfcGljX3N1Y2Nlc3NDYWxsQmFjaywgcGF0Y2hfcGljX2Vycm9yQ2FsbEJhY2ssICdwaWN0dXJlJyk7XG4gICAgfWVsc2UgaWYoaXNFZGl0UmVzb3VyY2Upe1xuICAgICAgICAvL+inpuWPkeinhumikeS4iuS8oFxuICAgICAgICAvLyBxY1ZpZGVvLnVwbG9hZGVyLnN0YXJ0VXBsb2FkKCk7XG4gICAgICAgIHZpZGVvVXBsb2FkKCk7XG4gICAgfWVsc2V7XG4gICAgICAgIC8v5LiN6ZyA6KaB5LiK5Lyg6LWE5rqQXG4gICAgICAgIGRvVXBMb2FkKCk7XG4gICAgfVxuXG59XG5cbi8v5qC45a+56KGo5Y2VXG5mdW5jdGlvbiBjaGVja0Zvcm0oKSB7XG4gICAgLy/muIXnqbrkuYvliY3nmoTmlbDmja5cbiAgICBhbGxQYXJhbXMgPSB7fTtcbiAgICAvL+i1hOa6kOWQjeensFxuICAgIHZhciByZXNvdXJjZV90aXRsZSA9ICQoJyNyZXNvdXJjZV90aXRsZScpLnZhbCgpLnRyaW0oKTtcbiAgICBpZiAocmVzb3VyY2VfdGl0bGUubGVuZ3RoICE9IDApIHtcbiAgICAgICAgcGFyYW1zWyd0aXRsZSddID0gcmVzb3VyY2VfdGl0bGU7XG4gICAgfVxuXG4gICAgLy/kuIrmnrbml7bpl7RcbiAgICB2YXIgc3RhcnRfdGltZSA9ICQoJyNzdGFydF90aW1lJykudmFsKCkudHJpbSgpO1xuICAgIGlmIChzdGFydF90aW1lLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgIHBhcmFtc1snc3RhcnRfYXQnXSA9IHN0YXJ0X3RpbWU7XG4gICAgfVxuXG4gICAgLy/otYTmupDlsIHpnaJcbiAgICB2YXIgcmVzb3VyY2VfcGljID0gJCgnI3Jlc291cmNlX3BpYycpLnZhbCgpO1xuICAgIGlmKHJlc291cmNlX3BpYy5sZW5ndGghPTApe1xuICAgICAgICBpc0VkaXRQaWMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8v6LWE5rqQ5bCB6Z2iXG4gICAgdmFyIHBhdGNoX3BpYyA9ICQoJyNwYXRjaF9waWMnKS52YWwoKTtcbiAgICBpZihwYXRjaF9waWMubGVuZ3RoIT0wKXtcbiAgICAgICAgaXNFZGl0UGF0Y2hQaWMgPSB0cnVlO1xuICAgIH1cblxuXG4gICAgLy/otYTmupDlhoXlrrlcbiAgICBpZiAoZmlsZXMubGVuZ3RoIDwgMSkge1xuICAgICAgICBpc0VkaXRSZXNvdXJjZSA9IGZhbHNlO1xuICAgIH1lbHNle1xuICAgICAgICBpc0VkaXRSZXNvdXJjZSA9IHRydWU7XG4gICAgICAgIHBhcmFtc1sndmlkZW9fc3RhdGUnXSA9IDE7XG4gICAgICAgIHBhcmFtc1snaXNfdHJhbnNjb2RlJ10gPSAwO1xuICAgIH1cblxuXG5cbiAgICBpZiAocGF5X3R5cGUgIT0gMykgeyAvL+WNleWTgVxuICAgICAgICAvL+S7t+agvFxuICAgICAgICB2YXIgcmVzb3VyY2VfcHJpY2UgPSAkKCcjcmVzb3VyY2VfcHJpY2UnKS52YWwoKS50cmltKCk7XG4gICAgICAgIGlmKHBheV90eXBlPT0yKXtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZV9wcmljZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5Lu35qC85LiN6IO95Li656m6IScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1lbHNlIGlmKHJlc291cmNlX3ByaWNlPD0wKXtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+S7t+agvOmcgOmrmOS6jjAuMDAhJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBhcmFtc1sncGllY2VfcHJpY2UnXSA9IHJlc291cmNlX3ByaWNlICogMTAwO1xuICAgIH1lbHNlIHsgLy/kuqflk4HljIVcbiAgICAgICAgdmFyIHJlc291cmNlX3BhY2thZ2UgPSAkKCcjcmVzb3VyY2VfcGFja2FnZScpLnZhbCgpO1xuICAgICAgICBpZiAocmVzb3VyY2VfcGFja2FnZSA9PSB1bmRlZmluZWQgfHwgcmVzb3VyY2VfcGFja2FnZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfor7fpgInmi6nkuqflk4HljIUhJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zWydwcm9kdWN0X2lkJ10gPSByZXNvdXJjZV9wYWNrYWdlO1xuICAgICAgICAvL+iOt+WPluS6p+WTgeWMheWQjeWtl1xuICAgICAgICB2YXIgcGFja2FnZV9uYW1lID0gJChcIiNyZXNvdXJjZV9wYWNrYWdlXCIpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgdmFyIHBpZWNlX3ByaWNlPSAkKFwiI3Jlc291cmNlX3BhY2thZ2VcIikuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS5hdHRyKFwiYWJvdXRcIik7XG4gICAgICAgIHBhcmFtc1sncHJvZHVjdF9uYW1lJ10gPSBwYWNrYWdlX25hbWU7XG4gICAgICAgIHBhcmFtc1sncGllY2VfcHJpY2UnXSA9IHBpZWNlX3ByaWNlO1xuICAgICAgICBwYXJhbXNbJ3Byb2R1Y3Rfc3RhdGUnXSA9ICQoXCIjcmVzb3VyY2VfcGFja2FnZVwiKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLmF0dHIoXCJzdGF0ZVwiKTtcblxuICAgICAgICAvL1RPRE865piv5ZCm5Y2V5Y2WXG4gICAgICAgIHZhciBjaGVja2VkU3RhdGUgPSAkKFwiI2NoZWNrYm94LWltZ1wiKS5hdHRyKFwiY2hlY2tlZC1zdGF0ZVwiKTtcbiAgICAgICAgaWYgKGNoZWNrZWRTdGF0ZSA9PSBcInVuY2hlY2tlZFwiKSB7XG4gICAgICAgICAgICBpc19zaW5nbGVfc2FsZSA9IDA7Ly/kuI3ljZXljZZcblxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrZWRTdGF0ZSA9PSBcImNoZWNrZWRcIikge1xuICAgICAgICAgICAgaXNfc2luZ2xlX3NhbGUgPSAxOy8v5Y2V5Y2WXG4gICAgICAgICAgICB2YXIgcmVnID0gL14oKDApfChbMS05XXsxfVxcZCopKShcXC5cXGR7MSwyfSk/JC87XG5cbiAgICAgICAgICAgIHZhciBzaW5nbGVfcHJpY2UgPSAkKFwiI3NpbmdsZV9wcmljZVwiKS52YWwoKS50cmltKCk7XG5cbiAgICAgICAgICAgIGlmKHNpbmdsZV9wcmljZS5sZW5ndGg+MClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZihyZWcudGVzdChzaW5nbGVfcHJpY2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpbmdsZV9wcmljZSA9PSAwIHx8IHNpbmdsZV9wcmljZSA9PSAwLjAgfHwgc2luZ2xlX3ByaWNlID09IDAuMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHV0aWwuc2hvd0Vycm9yKCcjd2l0aGRyYXdfYW1vdW50LWVycicsICfmj5DnjrDph5Hpop3kuI3og73kuLow77yBJywgJyN3aXRoZHJhd19hbW91bnQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn6YeR6aKd5LiN6IO95Li6MCEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXJhbXNbJ3BpZWNlX3ByaWNlJ10gPSBzaW5nbGVfcHJpY2UqMTAwO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoICfor7fovpPlhaXmraPnoa7nmoTph5Hpop3vvIEnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn6K+36L6T5YWl5Y2V5Lu3IScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICB2YXIgdWUgPSBVRS5nZXRFZGl0b3IoJ3Jlc291cmNlX2Rlc2MnKTtcbiAgICB2YXIgaHRtbD11ZS5nZXRDb250ZW50KCk7XG4gICAgcGFyYW1zWydvcmdfY29udGVudCddID0gaHRtbDtcblxuICAgIC8v6LWE5rqQ5o+P6L+wXG4gICAgdmFyIHJlc291cmNlX2Rlc2MgPSB1ZS5nZXRQbGFpblR4dCgpO1xuICAgIGlmIChyZXNvdXJjZV9kZXNjLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgIHBhcmFtc1snZGVzY3JiJ10gPSByZXNvdXJjZV9kZXNjO1xuICAgIH1cblxuICAgIC8v5LuY6LS557G75Z6LXG4gICAgcGFyYW1zWydwYXltZW50X3R5cGUnXT0gcGF5X3R5cGU7XG5cbiAgICAvL+i1hOa6kGlkXG4gICAgdmFyIHJlc291cmNlX2lkID0gJCgnI2RhdGEnKS5kYXRhKCdpZCcpO1xuICAgIGFsbFBhcmFtc1snaWQnXT0gcmVzb3VyY2VfaWQ7XG5cbiAgICBhbGxQYXJhbXNbJ3Jlc291cmNlX3R5cGUnXSA9IHJlc291cmNlX3R5cGU7XG5cbiAgICBhbGxQYXJhbXNbJ3BhcmFtcyddID0gcGFyYW1zO1xuICAgIGFsbFBhcmFtc1snaXNfc2luZ2xlX3NhbGUnXSA9IGlzX3NpbmdsZV9zYWxlO1xuXG5cbiAgICByZXR1cm4gdHJ1ZTtcblxufVxuXG5cbmZ1bmN0aW9uIHNsaWNlVXBsb2FkKGlkZW50aXR5LCByZW1vdGVQYXRoLCBzdWNjZXNzQ2FsbEJhY2ssIGVycm9yQ2FsbEJhY2ssIGZpbGVfdHlwZSkge1xuXG4gICAgLy/kuIrkvKAo55u05o6l6YCa6L+HanPkuIrkvKBjZG4pXG4gICAgdmFyIGZpbGVzID0gJChpZGVudGl0eSkucHJvcCgnZmlsZXMnKTtcbiAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgLy9pZiAoIWNvcy5oYXNGbGFzaFZlcnNpb25PckJldHRlcigyMCwgMCkpIHtcbiAgICAgICAgLy8gICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgLy8gICAgaWYgKGNvbmZpcm0oXCLlvZPliY3mtY/op4jlmajkuI3mlK/mjIFGbGFzaO+8jOaXoOazleS4iuS8oOaWh+S7tu+8jOimgeS4i+i9vWZsYXNo5ZCXP1wiKSkge1xuICAgICAgICAvLyAgICAgICAgd2luZG93Lm9wZW4oXCJodHRwczovL2dldC5hZG9iZS5jb20vY24vZmxhc2hwbGF5ZXIvXCIsIFwiX2JsYW5rXCIpO1xuICAgICAgICAvLyAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyAgICB9XG4gICAgICAgIC8vICAgIHJldHVybjtcbiAgICAgICAgLy99XG4gICAgICAgIC8vaWYgKCEkKCcjcXMnKS5sZW5ndGgpIHtcbiAgICAgICAgLy8gICAgJCgnYm9keScpLmFwcGVuZCgnPG9iamVjdCBpZD1cInFzXCIgd2lkdGg9XCIwXCIgaGVpZ2h0PVwiMFwiIHR5cGU9XCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiIGRhdGE9XCJzZGsvU29tZXRoaW5ndGVzdC5zd2ZcIiBzdHlsZT1cInZpc2liaWxpdHk6IHZpc2libGU7XCI+PC9vYmplY3Q+Jyk7XG4gICAgICAgIC8vfVxuXG5cbiAgICAgICAgLy/ojrflj5bmlofku7bnmoRNRDXlgLxcbiAgICAgICAgYnJvd3Nlck1ENUZpbGUoZmlsZXNbMF0sIGZ1bmN0aW9uIChlcnIsIG1kNSkge1xuICAgICAgICAgICAgLy/ojrflj5bmlofku7blhoXlrrnnmoRNRDVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNRDU6JyArIG1kNSk7XG4gICAgICAgICAgICAvL+WPluaWh+S7tuWQjeWQjue8gFxuICAgICAgICAgICAgdmFyIGZpbGVfbmFtZSA9IGZpbGVzWzBdWyduYW1lJ107XG4gICAgICAgICAgICB2YXIgbmFtZXMgPSBmaWxlX25hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHZhciBzdWZmaXggPSBuYW1lc1tuYW1lcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdWZmaXg6JyArIHN1ZmZpeCk7XG4gICAgICAgICAgICByZW1vdGVQYXRoID0gcmVtb3RlUGF0aCArIG1kNSArIFwiLlwiICsgc3VmZml4O1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlbW90ZVBhdGg6JyArIHJlbW90ZVBhdGgpO1xuICAgICAgICAgICAgY29zLnVwbG9hZEZpbGVXaXRob3V0UHJvKHN1Y2Nlc3NDYWxsQmFjaywgZXJyb3JDYWxsQmFjaywgcmVtb3RlUGF0aCwgZmlsZXNbMF0sIDApO1xuICAgICAgICB9KTtcblxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+36YCJ5oup5LiA5Liq5paH5Lu2XCIpO1xuICAgIH1cbn1cblxuLy/phY3lm77miJDlip/kuIrkvKDlm57osINcbnZhciBwaWNfc3VjY2Vzc0NhbGxCYWNrID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuXG4gICAgLy92YXIganNvblJlc3VsdCA9ICQucGFyc2VKU09OKHJlc3VsdCk7XG4gICAgY29uc29sZS5sb2coJ+WbvueJh+S4iuS8oOaIkOWKnyEnKTtcblxuICAgIC8v6I635Y+W5Yiw6LWE5rqQY2Ru6K6/6Zeu6L+e5o6lXG4gICAgdmFyIHBpY191cmwgPSByZXN1bHQuZGF0YS5hY2Nlc3NfdXJsO1xuICAgIGNvbnNvbGUubG9nKCflm77niYfpk77mjqUhJyArIHBpY191cmwpO1xuXG4gICAgcGFyYW1zWydpbWdfdXJsJ10gPSBwaWNfdXJsO1xuICAgIHBhcmFtc1snaW1nX3VybF9jb21wcmVzc2VkJ10gPSBwaWNfdXJsO1xuXG4gICAgaWYoaXNFZGl0UGF0Y2hQaWMpeyAvL+WIpOaWreaYr+WQpumcgOimgeS4iuS8oOi0tOeJh1xuICAgICAgICAvL+S4iuS8oOWbvueJh1xuICAgICAgICBzbGljZVVwbG9hZCgnI3BhdGNoX3BpYycsIGdldF9jb3NfaW1hZ2VfcGF0aCgpLCBwYXRjaF9waWNfc3VjY2Vzc0NhbGxCYWNrLCBwYXRjaF9waWNfZXJyb3JDYWxsQmFjaywgJ3BpY3R1cmUnKTtcbiAgICB9ZWxzZSBpZihpc0VkaXRSZXNvdXJjZSl7XG4gICAgICAgIC8v5ZCv5Yqo5LiK5Lyg6KeG6aKRXG4gICAgICAgIC8vIHFjVmlkZW8udXBsb2FkZXIuc3RhcnRVcGxvYWQoKTtcbiAgICAgICAgdmlkZW9VcGxvYWQoKTtcbiAgICB9ZWxzZXtcbiAgICAgICAgZG9VcExvYWQoKTtcbiAgICB9XG5cbn07XG5cbi8v6LWE5rqQ6YWN5Zu+5aSx6LSl5LiK5Lyg5Zue6LCDXG52YXIgcGljX2Vycm9yQ2FsbEJhY2sgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgLy92YXIganNvblJlc3VsdCA9ICQucGFyc2VKU09OKHJlc3VsdCk7XG4gICAgaGlkZUxvYWRpbmcoKTtcbiAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+mFjeWbvuS4iuS8oOWksei0pSHor7fph43mlrDkuIrkvKAhJyk7XG4gICAgdXBsb2FkRXJyb3JTaG93KHJlc3VsdC5yZXNwb25zZVRleHQpO1xufVxuXG5cbi8v6KeG6aKR6LS05Zu+5oiQ5Yqf5LiK5Lyg5Zue6LCDXG52YXIgcGF0Y2hfcGljX3N1Y2Nlc3NDYWxsQmFjayA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcblxuICAgIC8vdmFyIGpzb25SZXN1bHQgPSAkLnBhcnNlSlNPTihyZXN1bHQpO1xuICAgIGNvbnNvbGUubG9nKCflm77niYfkuIrkvKDmiJDlip8hJyk7XG5cbiAgICAvL+iOt+WPluWIsOi1hOa6kGNkbuiuv+mXrui/nuaOpVxuICAgIHZhciBwYXRjaF9waWNfdXJsID0gcmVzdWx0LmRhdGEuYWNjZXNzX3VybDtcbiAgICBjb25zb2xlLmxvZygn6LS054mH5Zu+6ZO+5o6lIScgKyBwYXRjaF9waWNfdXJsKTtcblxuICAgIHBhcmFtc1sncGF0Y2hfaW1nX3VybCddID0gcGF0Y2hfcGljX3VybDtcbiAgICBwYXJhbXNbJ3BhdGNoX2ltZ191cmxfY29tcHJlc3NlZCddID0gcGF0Y2hfcGljX3VybDtcblxuICAgIGlmKGlzRWRpdFJlc291cmNlKXtcbiAgICAgICAgLy/lkK/liqjkuIrkvKDop4bpopFcbiAgICAgICAgLy8gcWNWaWRlby51cGxvYWRlci5zdGFydFVwbG9hZCgpO1xuICAgICAgICB2aWRlb1VwbG9hZCgpO1xuICAgIH1lbHNle1xuICAgICAgICBkb1VwTG9hZCgpO1xuICAgIH1cbn07XG5cblxuLy/op4bpopHotLTlm77lpLHotKXkuIrkvKDlm57osINcbnZhciBwYXRjaF9waWNfZXJyb3JDYWxsQmFjayA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAvL3ZhciBqc29uUmVzdWx0ID0gJC5wYXJzZUpTT04ocmVzdWx0KTtcbiAgICBoaWRlTG9hZGluZygpO1xuICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn6KeG6aKR6LS05Zu+5LiK5Lyg5aSx6LSlIeivt+mHjeaWsOS4iuS8oCEnKTtcbiAgICB1cGxvYWRFcnJvclNob3cocmVzdWx0LnJlc3BvbnNlVGV4dCk7XG59XG5cblxuXG4vL+S4iuS8oOaVsOaNruWIsOiHquW3seWQjuWPsFxuZnVuY3Rpb24gZG9VcExvYWQoKXtcblxuICAgICQucG9zdCgnL3VwZGF0ZV92aWRlbycsIGFsbFBhcmFtcywgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICB2YXIgY29kZSA9IHJlc3VsdC5jb2RlO1xuICAgICAgICB2YXIgbXNnID0gcmVzdWx0Lm1zZztcbiAgICAgICAgdmFyIHJlX3VybCA9IEdldFF1ZXJ5U3RyaW5nKCdyZXVybCcpO1xuICAgICAgICBpZiAoY29kZSA9PSAwKSB7XG5cbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAobXNnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZihyZV91cmwpe1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlX3VybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3ZpZGVvX2xpc3QnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAobXNnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5cbi8v6LCD5Yiw5paw5aKe5LiT5qCPXG5mdW5jdGlvbiB0b0FkZFBhY2thZ2UoKVxue1xuICAgICQuYWxlcnQueGNDb25maXJtKCfmgqjnoa7lrpropoHljrvmlrDlop7kuJPmoI/pobXpnaLlkJc/JywnY29uZmlybScse29uT2s6ZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWY9Jy9wYWNrYWdlX2xpc3QnO1xuICAgIH19KTtcbn1cblxuXG5mdW5jdGlvbiBpbml0VXBsb2FkKCkge1xuICAgIHZhciAkID0gcWNWaWRlby5nZXQoJyQnKTtcbiAgICB2YXIgVmVyc2lvbiA9IHFjVmlkZW8uZ2V0KCdWZXJzaW9uJyk7XG4gICAgaWYgKCFxY1ZpZGVvLnVwbG9hZGVyLnN1cHBvcnRCcm93c2VyKCkpIHtcbiAgICAgICAgaWYgKFZlcnNpb24uSVNfTU9CSUxFKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+W9k+WJjea1j+iniOWZqOS4jeaUr+aMgeS4iuS8oO+8jOivt+WNh+e6p+ezu+e7n+eJiOacrOaIluiAheS4i+i9veacgOaWsOeahGNocm9tZea1j+iniOWZqCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0SW50ZXJuZXRFeHBsb3JlclZlcnNpb24oKTtcbiAgICAgICAgICAgIC8vIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5b2T5YmN5rWP6KeI5Zmo5LiN5pSv5oyB5LiK5Lyg77yM6K+35Y2H57qn5rWP6KeI5Zmo5oiW6ICF5LiL6L295pyA5paw55qEY2hyb21l5rWP6KeI5ZmoJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpc1RyYW5zY29kZSA9IDE7IC8v5byA5ZCv6L2s56CBXG4gICAgdmFyIGlzV2F0ZXJtYXJrID0gMTsvLyDmsLTljbBcblxuICAgIGFjY291bnREb25lKCd2aWRlb19maWxlJywgaXNUcmFuc2NvZGUsIGlzV2F0ZXJtYXJrLCAnJyk7XG59XG5cblxudmFyIGFjY291bnREb25lID0gZnVuY3Rpb24gKHVwQnRuSWQsIGlzVHJhbnNjb2RlLCBpc1dhdGVybWFyaywgY2xhc3NJZCkge1xuXG4gICAgdmFyICQgPSBxY1ZpZGVvLmdldCgnJCcpXG4gICAgICAgICwgRXJyb3JDb2RlID0gcWNWaWRlby5nZXQoJ0Vycm9yQ29kZScpXG4gICAgICAgICwgTG9nID0gcWNWaWRlby5nZXQoJ0xvZycpXG4gICAgICAgICwgSlNPTiA9IHFjVmlkZW8uZ2V0KCdKU09OJylcbiAgICAgICAgLCB1dGlsID0gcWNWaWRlby5nZXQoJ3V0aWwnKVxuICAgICAgICAsIENvZGUgPSBxY1ZpZGVvLmdldCgnQ29kZScpXG4gICAgICAgICwgVmVyc2lvbiA9IHFjVmlkZW8uZ2V0KCdWZXJzaW9uJylcbiAgICAgICAgO1xuXG4gICAgcWNWaWRlby51cGxvYWRlci5pbml0KFxuICAgICAgICB7XG4gICAgICAgICAgICB3ZWJfdXBsb2FkX3VybDogJ2h0dHBzOi8vdm9kLnFjbG91ZC5jb20vdjIvaW5kZXgucGhwJyxcbiAgICAgICAgICAgIHNlY3JldElkOiBzZWNyZXRJZCwgLy8g5LqRYXBpIHNlY3JldElkXG5cbiAgICAgICAgICAgIGdldFNpZ25hdHVyZTogZnVuY3Rpb24gKGFyZ1N0ciwgZG9uZSkge1xuICAgICAgICAgICAgICAgIC8v5rOo5oSP77ya5Ye65LqO5a6J5YWo6ICD6JmR77yMIOacjeWKoeerr+aOpeaUtmFyZ1N0cui/meS4quWPguaVsOWQju+8jOmcgOimgeagoemqjOWFtuS4reeahEFjdGlvbuWPguaVsOaYr+WQpuS4uiBcIk11bHRpcGFydFVwbG9hZFZvZEZpbGVcIiznlKjmnaXor4HmmI7or6Xlj4LmlbDmoIfor4bkuIrkvKDor7fmsYJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAnZGF0YVR5cGUnOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2dldHNpZz9hcmdzPScgKyBlbmNvZGVVUklDb21wb25lbnQoYXJnU3RyKSxcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZShkWydyZXN1bHQnXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cEJ0bklkOiB1cEJ0bklkLCAvL+S4iuS8oOaMiemSrklE77yI5Lu75oSP6aG16Z2i5YWD57SgSUTvvIlcbiAgICAgICAgICAgIGlzVHJhbnNjb2RlOiBpc1RyYW5zY29kZSwvL+aYr+WQpui9rOeggVxuICAgICAgICAgICAgaXNXYXRlcm1hcms6IGlzV2F0ZXJtYXJrLC8v5piv5ZCm6K6+572u5rC05Y2wXG4gICAgICAgICAgICBhZnRlcl9zaGFfc3RhcnRfdXBsb2FkOiBmYWxzZSwvL3NoYeiuoeeul+WujOaIkOWQju+8jOW8gOWni+S4iuS8oCAo6buY6K6k5YWz6Zet56uL5Y2z5LiK5LygKVxuICAgICAgICAgICAgc2hhMWpzX3BhdGg6ICcvY2FsY3VsYXRvcl93b3JrZXJfc2hhMS5qcycsIC8v6K6h566Xc2hhMeeahOS9jee9rlxuICAgICAgICAgICAgZGlzYWJsZV9tdWx0aV9zZWxlY3Rpb246IGZhbHNlLCAvL+emgeeUqOWkmumAiSDvvIzpu5jorqTkuLpmYWxzZVxuICAgICAgICAgICAgdHJhbnNjb2RlTm90aWZ5VXJsOiB0cmFuc2NvZGVOb3RpZnlVcmwsLy8o6L2s56CB5oiQ5Yqf5ZCO55qE5Zue6LCD5Zyw5Z2AKWlzVHJhbnNjb2RlPT10cnVlLOaXtuW8gOWQr++8myDlm57osIN1cmznmoTov5Tlm57mlbDmja7moLzlvI/lj4LogIMgIGh0dHA6Ly93d3cucWNsb3VkLmNvbS93aWtpL3YyL011bHRpcGFydFVwbG9hZFZvZEZpbGVcbiAgICAgICAgICAgIGNsYXNzSWQ6IGNsYXNzSWQsXG4gICAgICAgICAgICAvL2ZvcmNlSDVXb3JrZXI6ICEhcGFyc2VJbnQoZ2V0UGFyYW1ldGVyQnlOYW1lKCdmb3JjZUg1V29ya2VyJykpIHx8IGZhbHNlLFxuICAgICAgICAgICAgZm9yY2VINVdvcmtlcjogdHJ1ZVxuICAgICAgICB9XG4gICAgICAgICwge1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIOabtOaWsOaWh+S7tueKtuaAgeWSjOi/m+W6plxuICAgICAgICAgICAgICogY29kZTox44CB5YeG5aSH6K6h566XU0hBIDLjgIHnrYnlvoXkuIrkvKAgM+OAgVNIQeiuoeeul+S4rSA044CB5Y2z5bCG5LiK5LygIDXjgIHkuIrkvKDov5vluqbmm7TmlrAgNuOAgeS4iuS8oOWujOaIkFxuICAgICAgICAgICAgICogQHBhcmFtIGFyZ3MgeyBpZDog5paH5Lu2SUQsIHNpemU6IOaWh+S7tuWkp+WwjywgbmFtZTog5paH5Lu25ZCN56ewLCBzdGF0dXM6IOeKtuaAgSwgcGVyY2VudDog6L+b5bqmIHNwZWVkOiDpgJ/luqYsIGVycm9yQ29kZTog6ZSZ6K+v56CBLHNlcnZlckZpbGVJZDog5ZCO56uv5paH5Lu2SUQgfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvbkZpbGVVcGRhdGU6IGZ1bmN0aW9uIChhcmdzKSB7XG5cbiAgICAgICAgICAgICAgICAvL+WIpOaWreS4iuS8oOinhumikeWkp+Wwj1xuICAgICAgICAgICAgICAgIHZhciB2aWRlb1NpemUgPSBhcmdzLnNpemU7XG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvR3NpemUgPSB2aWRlb1NpemUvKDEwMjQqMTAyNCk7XG4gICAgICAgICAgICAgICAgaWYodmlkZW9Hc2l6ZT4xMDI0KXtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIuivt+WwhuinhumikeaWh+S7tuWOi+e8qeWIsCAxRyDku6XlhoUhXCIpXG4gICAgICAgICAgICAgICAgICAgIH0sMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgcWNWaWRlby51cGxvYWRlci5kZWxldGVGaWxlKGFyZ3MuaWQpO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVGcm9tRmlsZShhcmdzLmlkKTsgLy/ku47mlofku7bmlbDnu4TkuK3liKDpmaTor6Xmlofku7ZcbiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBhcmdzLmlkKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aWh+S7tui2hei/hzFHLOaPkOekuumHjeaWsOmAieaLqeinhumikeaWh+S7tjonICsgYXJncy5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmNvZGUgPT0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/liKDpmaTkuYvliY3nmoTmt7vliqDmlrDnmoRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlc1swXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkX2lkID0gZmlsZXNbMF0uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcWNWaWRlby51cGxvYWRlci5kZWxldGVGaWxlKG9sZF9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlRnJvbUZpbGUob2xkX2lkKTsgLy/ku47mlofku7bmlbDnu4TkuK3liKDpmaTor6Xmlofku7ZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjJyArIG9sZF9pZCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WIoOmZpOS6huS4gOS4quaWh+S7tjonICsgb2xkX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkbGluZSA9ICQoXCIjXCIgKyBhcmdzLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkbGluZS5nZXQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNwcm9ncmVzc19zaG93JykuYXBwZW5kKFwiPGRpdiBjbGFzcz0ncHJvZ3Jlc3NfZGl2JyBpZCA9ICdcIiArIGFyZ3MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFwiJz48c3BhbiBzdHlsZT0nZm9udC1zaXplOiAxMnB4Jz5cIiArIGFyZ3MubmFtZSArIFwiOjwvc3Bhbj48ZGl2IGNsYXNzPSdwcm9ncmVzc19iYXInIGlkID0gJ3Byb2dyZXNzX2Jhcl9cIiArIGFyZ3MuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFwiJz48ZGl2IGNsYXNzPSdiYXInIGlkPSdiYXJfXCIgKyBhcmdzLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBcIic+PC9kaXY+PC9kaXY+PHNwYW4gY2xhc3M9J3VwbG9hZF9maW5pc2gnIGlkPSd1cGxvYWRfZmluaXNoX1wiICsgYXJncy5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgXCInPuS4iuS8oOWujOaIkDwvc3Bhbj48c3BhbiBkYXRhLWFjdD0nZGVsJyBkYXRhLXR5cGU9JzAnIGNsYXNzPSdkZWxldGUnPuWIoOmZpDwvc3Bhbj48L2Rpdj5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmZvX2l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiBhcmdzLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemUnOiBhcmdzLnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhdGUnOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpbGVfaWQnOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzaXplX3RleHQnOiBhcmdzLnNpemVfdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogMVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGZpbGVzW2ZpbGVzLmxlbmd0aF0gPSBpbmZvX2l0ZW07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmt7vliqDkuobkuIDkuKrmlrDnmoTmlofku7Y6XCIgKyBcImlkOlwiICsgYXJncy5pZCArIFwic2l6ZTpcIiArIGFyZ3Muc2l6ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoYXJncy5jb2RlPT0yKXtcblxuICAgICAgICAgICAgICAgICAgICBmaWxlc1swXVsnc3RhdGUnXSA9IDI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MuY29kZSA9PSA1ICYmIGFyZ3MucGVyY2VudCA+IDApIHsgLy/kuIrkvKDov5vluqblj5HnlJ/lj5jljJZcbiAgICAgICAgICAgICAgICAgICAgaWYoJCgnI3Byb2dyZXNzX2Jhcl8nK2FyZ3MuaWQpLmlzKCc6aGlkZGVuJykpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Byb2dyZXNzX2Jhcl8nK2FyZ3MuaWQpLmNzcygnZGlzcGxheScsJ2lubGluZS1ibG9jaycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICQoJyNiYXJfJyArIGFyZ3MuaWQpLmNzcygnd2lkdGgnLCBhcmdzLnBlcmNlbnQgKyBcIiVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmNvZGUgPT0gNikgeyAvL+S4iuS8oOaIkOWKn1xuICAgICAgICAgICAgICAgICAgICAkKCcjYmFyXycgKyBhcmdzLmlkKS5jc3MoJ3dpZHRoJywgXCIxMDAlXCIpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3VwbG9hZF9maW5pc2hfXCIgKyBhcmdzLmlkKS5zaG93KCk7IC8v5LiK5Lyg5a6M5oiQXG5cbiAgICAgICAgICAgICAgICAgICAgLy/kv67mlLlmaWxlc+S4reaWh+S7tueahOeKtuaAgVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5pZCA9PSBmaWxlc1tpXVsnaWQnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzW2ldWydzdGF0ZSddID0gNjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlc1tpXVsnZmlsZV9pZCddID0gYXJncy5zZXJ2ZXJGaWxlSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNVcGxvYWRGaW5pc2goKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/mj5DkuqTmlofku7ZcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHRlcm5hbFBhcmFtcyA9IGdlbmVyYXRlUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxQYXJhbXNbJ3Jlc291cmNlX3BhcmFtcyddID0gZXh0ZXJuYWxQYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb1VwTG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmdzKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog5paH5Lu254q25oCB5Y+R55Sf5Y+Y5YyWXG4gICAgICAgICAgICAgKiBAcGFyYW0gaW5mbyAgeyBkb25lOiDlrozmiJDmlbDph48gLCBmYWlsOiDlpLHotKXmlbDph48gLCBzaGE6IOiuoeeul1NIQeaIluiAheetieW+heiuoeeul1NIQeS4reeahOaVsOmHjyAsIHdhaXQ6IOetieW+heS4iuS8oOaVsOmHjyAsIHVwbG9hZGluZzog5LiK5Lyg5Lit55qE5pWw6YePIH1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb25GaWxlU3RhdHVzOiBmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflkITnirbmgIHmgLvmlbAtLT4nICsgSlNPTi5zdHJpbmdpZnkoaW5mbykpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAg5LiK5Lyg5pe26ZSZ6K+v5paH5Lu26L+H5ruk5o+Q56S6XG4gICAgICAgICAgICAgKiBAcGFyYW0gYXJncyB7Y29kZTp7LTE6IOaWh+S7tuexu+Wei+W8guW4uCwtMjog5paH5Lu25ZCN5byC5bi4fSAsIG1lc3NhZ2U6IOmUmeivr+WOn+WboCDvvIwgc29sdXRpb246IOino+WGs+aWueazlX1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb25GaWx0ZXJFcnJvcjogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgbXNnID0gJ21lc3NhZ2U6JyArIGFyZ3MubWVzc2FnZSArIChhcmdzLnNvbHV0aW9uID8gKCc7c29sdXRpb249PScgKyBhcmdzLnNvbHV0aW9uKSA6ICcnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICB9XG4gICAgKTtcblxuXG4gICAgJCgnI3Byb2dyZXNzX3Nob3cnKS5vbignY2xpY2snLCAnW2RhdGEtYWN0PVwiZGVsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyICRsaW5lID0gJCh0aGlzKS5wYXJlbnQoKTtcbiAgICAgICAgdmFyIGZpbGVJZCA9ICRsaW5lLmdldCgwKS5pZDtcbiAgICAgICAgTG9nLmRlYnVnKCdkZWxldGUnLCBmaWxlSWQpO1xuICAgICAgICAkbGluZS5yZW1vdmUoKTtcbiAgICAgICAgLy9AYXBpIOWIoOmZpOaWh+S7tlxuICAgICAgICBxY1ZpZGVvLnVwbG9hZGVyLmRlbGV0ZUZpbGUoZmlsZUlkKTtcbiAgICAgICAgZGVsZXRlRnJvbUZpbGUoZmlsZUlkKTsgLy/ku47mlofku7bmlbDnu4TkuK3liKDpmaTor6Xmlofku7ZcblxuICAgIH0pO1xuXG59XG5cblxuLy/liKDpmaTmn5DkuKrlhYPntKBcbmZ1bmN0aW9uIGRlbGV0ZUZyb21GaWxlKGlkKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaXRlbSA9IGZpbGVzW2ldO1xuICAgICAgICBpZiAoaWQgPT0gaXRlbVsnaWQnXSkge1xuICAgICAgICAgICAgZmlsZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+S7jmZpbGVz5Lit5Yig6Zmk5LqG5LiA5Liq5paH5Lu2OicgKyBpZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLy/liKTmlq3kuKTkuKrop4bpopHmmK/lkKbpg73kuIrkvKDlrozmiJDkuoZcbmZ1bmN0aW9uIGlzVXBsb2FkRmluaXNoKCkge1xuICAgIHZhciBpc0ZpbmlzaCA9IHRydWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZmlsZXNbaV1bJ3N0YXRlJ10gIT0gNikgeyAvL+acieS4gOS4quayoeWujOaIkOOAglxuICAgICAgICAgICAgaXNGaW5pc2ggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNGaW5pc2g7XG59XG5cblxuLy/nlJ/miJDlj4LmlbBcbmZ1bmN0aW9uIGdlbmVyYXRlUGFyYW1zKCkge1xuICAgIHZhciBmaWxlX2lkX3BhcmFtcyA9IHt9O1xuICAgIGlmIChmaWxlcy5sZW5ndGggPT0gMSkge1xuXG4gICAgICAgIGZpbGVfaWRfcGFyYW1zID0ge1xuICAgICAgICAgICAgJ3B1YmxpY192aWRlbyc6IGZpbGVzWzBdWydmaWxlX2lkJ10sICdwdWJsaWNfc2l6ZV90ZXh0JzogKGZpbGVzWzBdWydzaXplJ10vKDEwMjQqMTAyNCkpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBmaWxlX2lkX3BhcmFtcztcbn1cblxuXG5cbi8v5a+55LqO5aSn5paH5Lu2LOiuoeeul3NoYXIx5YC85q+U6L6D5oWiXG5mdW5jdGlvbiB1cGxvYWRTZXJ2ZXJJbnRlcnZhbChleHRlcm5hbFBhcmFtcykge1xuICAgIHNldFRpbWVvdXQoXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmKGZpbGVzLmxlbmd0aD4wJiZmaWxlc1swXVsnc3RhdGUnXT09Mil7IC8v5aaC5p6c6Kej5p6Q5a6M5LqG55qE6K+dXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+ino+aekOWujOaIkCcpO1xuICAgICAgICAgICAgICAgIHVwbG9hZFRvU2VydmVyKGV4dGVybmFsUGFyYW1zKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfop6PmnpDov5jmnKrlrozmiJAnKTtcbiAgICAgICAgICAgICAgICB1cGxvYWRTZXJ2ZXJJbnRlcnZhbChleHRlcm5hbFBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sMTAwMFxuICAgIClcbn1cblxudmFyIHRyeV9jb3VudD0wO1xuXG4vL+WvueS6juWkp+aWh+S7tizorqHnrpdzaGFyMeWAvOavlOi+g+aFolxuZnVuY3Rpb24gdmlkZW9VcGxvYWQoKSB7XG4gICAgaWYgKHRyeV9jb3VudCA+PSAzMDApIHtcbiAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6KeG6aKR6Kej5p6Q5aSx6LSlLOivt+abtOaWsOa1j+iniOWZqOeJiOacrOmHjeaWsOS4iuS8oFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZihmaWxlcy5sZW5ndGg+MCYmZmlsZXNbMF1bJ3N0YXRlJ109PTIpeyAvL+WmguaenOino+aekOWujOS6hueahOivnVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfop6PmnpDlrozmiJAnKTtcbiAgICAgICAgICAgICAgICBxY1ZpZGVvLnVwbG9hZGVyLnN0YXJ0VXBsb2FkKCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0cnlfY291bnQrKztcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6Kej5p6Q6L+Y5pyq5a6M5oiQJyk7XG4gICAgICAgICAgICAgICAgdmlkZW9VcGxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwxMDAwXG4gICAgKVxufVxuXG4iXX0=
