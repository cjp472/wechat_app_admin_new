$(document).ready(function(){initEvent()});var JumpWhere;function JumpToClick(){window.location.href=JumpWhere}function initEvent(){$("#join_help").click(function(){if(getSaveFlag()==false){window.location.href="/help"}else{JumpWhere="/help";$("#upload_Modal").modal()}});$("#instructions").click(function(){if(getSaveFlag()==false){window.location.href="/help/instructions"}else{JumpWhere="/help/instructions";$("#upload_Modal").modal()}});$("#explainDoc").click(function(){if(getSaveFlag()==false){window.location.href="/help/explainDoc"}else{JumpWhere="/help/explainDoc";$("#upload_Modal").modal()}});$("#qs_help").click(function(){if(getSaveFlag()==false){window.location.href="/help/qs"}else{JumpWhere="/help/qs";$("#upload_Modal").modal()}});$("#index_help").click(function(){if(getSaveFlag()==false){window.location.href="/help/index"}else{JumpWhere="/help/index";$("#upload_Modal").modal()}});$("#system_update").click(function(){if(getSaveFlag()==false){window.location.href="/help/system_update"}else{JumpWhere="/help/system_update";$("#upload_Modal").modal()}})}function initBackground(e){$("#"+e).addClass("active")}function exitLogin(){$.get("/loginout",function(e){var n=e.ret;if(n=="0"){window.location="/login"}else{baseUtils.show.redTip("错误");return}})}function stopPropagation(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}function showLoading(){$("#base_loading").show();$("#login_progressImage").show();$(".progress-bar-striped").addClass("active")}function hideLoading(){$("#login_progressImage").hide();$("#base_loading").hide();$(".progress-bar-striped").attr("aria-valuenow","100");$(".progress-bar-striped").html("100%");$(".progress-bar-striped").css("width","100%");$(".progress-bar-striped").removeClass("active")}Is_Save=false;function changeSaveFlag(e){Is_Save=e}function getSaveFlag(){return Is_Save}function onlyDay(e){var n=e.split(" ");return n[0]}function onlySecond(e){if(e.indexOf('"')>0){var n=e.lastIndexOf('"');return e.substring(0,n)}else{return e}}function initTimePacker(e){$("#start_time").datetimepicker(e);$("#end_time").datetimepicker(e).on("changeDate",function(e){var n=new Date($("#start_time").val()).getTime();if(e.date.valueOf()<=n){baseUtils.show.redTip("失效时间不能小于生效时间");$("#end_time").val("");return}})}function initTimePackerCustom(e,n,i){$("#"+e).datetimepicker(i);$("#"+n).datetimepicker(i).on("changeDate",function(e){var i=new Date($("#"+i).val()).getTime();if(e.date.valueOf()<=i){baseUtils.show.redTip("失效时间不能小于生效时间");$("#"+n).val("");return}})}function initTimePackerWithId(e,n,i){$("#"+e).datetimepicker(i);$("#"+n).datetimepicker(i).on("changeDate",function(i){var t=new Date(("#"+e).val()).getTime();if(i.date.valueOf()<=t){baseUtils.show.redTip("失效时间不能小于生效时间");$("#"+n).val("");return}})}function alertMsg(e){setTimeout(function(){alert(e)},100)}function keyEnter(e){$("input").keypress(function(n){if(n.which==13){e.trigger("click")}})}function getUrlParam(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");var i=window.location.search.substr(1).match(n);if(i!=null)return decodeURI(i[2]);return null}function inputLimitPrice(e){$(e).keyup(function(){var e=$(this).val().match(/\d+\.?\d{0,2}/);var n="";if(e!=null){n=e[0]}$(this).val(n)}).change(function(){$(this).keypress();var e=$(this).val();if(/\.$/.test(e)){$(this).val(e.substr(0,e.length-1))}})}function datetimepickerconfig(e){$(e).datetimepicker({weekStart:1,minView:"day",format:"yyyy-mm-dd hh:00:00",autoclose:true})}function aliveTimeConfig(e){$(e).datetimepicker({weekStart:1,minView:"hour",format:"yyyy-mm-dd hh:ii:00",autoclose:true})}function setToolbarTitle(e){$("#toolbar_title").html(e)}function GetQueryString(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");var i=window.location.search.substr(1).match(n);if(i!=null)return decodeURIComponent(i[2]);return null}function resetUrl(e){var n=encodeURIComponent(window.location.href);window.location.href=e+"&reurl="+n}function contentDetail(e){window.location.href=e}function setTopUrlCookie(e,n){var i=window.location.href;$.cookie(e,n+"|"+i,{path:"/"})}function setTopUrlInfo(e,n){var i=$.cookie(e);n=n?n:0;if(i){var t=i.split("|");if(n==0){var a="<span><a href='"+t[1]+"'>"+t[0]+"</a></span>&nbsp;>&nbsp;";$(".base_explain").prepend(a)}else{var a="<span>&nbsp;>&nbsp;<a href='"+t[1]+"'>"+t[0]+"</a></span>";$(".base_explain").append(a)}}}function reListUrl(e,n){var i=$.cookie(e);if(i){var t=i.split("|")[1];if(t){window.location.href=t}else{window.location.href=n}}else{window.location.href=n}}function uploadErrorShow(e){var n=$.parseJSON(e);if(n.code==-96){var i="https://www.baidu.com/s?wd=%E5%90%8C%E6%AD%A5%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4";window.wxc.xcConfirm("<span>本地时间不同步&nbsp;&nbsp;<a href='"+i+"' target='_blank' style='font-size: 20px;'>立即设置</a></span>","error",{title:"上传失败",btn:parseInt("0000",2),onOk:function(e){}});$("#base_loading").hide()}}function writeObj(e){var n="";for(var i in e){var t=e[i];n+=i+" = "+t+"\n"}alert(n)}function flashChecker(){var e=0;var n=0;if(document.all){var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(i){e=1;VSwf=i.GetVariable("$version");n=parseInt(VSwf.split(" ")[1].split(",")[0])}}else{if(navigator.plugins&&navigator.plugins.length>0){var i=navigator.plugins["Shockwave Flash"];if(i){e=1;var t=i.description.split(" ");for(var a=0;a<t.length;++a){if(isNaN(parseInt(t[a])))continue;n=parseInt(t[a])}}}}return{f:e,v:n}}var fls=flashChecker();var s="";function getInternetExplorerVersion(){var e=navigator.userAgent;if(e.indexOf("MSIE")!=-1){if(e.indexOf("MSIE 9.0")!=-1||e.indexOf("MSIE 8.0")!=-1||e.indexOf("MSIE 7.0")!=-1){showWarningToast("发现您的IE浏览器版本较低，为了不影响您的使用体验，建议您使用Chrome浏览器或将IE浏览器升级为IE 10及以上版本",function(){},3600,"top-center")}}}function getParameterByName(e,n){if(!n)n=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),t=i.exec(n);if(!t)return null;if(!t[2])return"";return decodeURIComponent(t[2].replace(/\+/g," "))}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJpbml0RXZlbnQiLCJKdW1wV2hlcmUiLCJKdW1wVG9DbGljayIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImNsaWNrIiwiZ2V0U2F2ZUZsYWciLCJtb2RhbCIsImluaXRCYWNrZ3JvdW5kIiwidGFiX2lkIiwiYWRkQ2xhc3MiLCJleGl0TG9naW4iLCJnZXQiLCJyZXN1bHQiLCJjb2RlIiwicmV0IiwiYmFzZVV0aWxzIiwic2hvdyIsInJlZFRpcCIsInN0b3BQcm9wYWdhdGlvbiIsImUiLCJjYW5jZWxCdWJibGUiLCJzaG93TG9hZGluZyIsImhpZGVMb2FkaW5nIiwiaGlkZSIsImF0dHIiLCJodG1sIiwiY3NzIiwicmVtb3ZlQ2xhc3MiLCJJc19TYXZlIiwiY2hhbmdlU2F2ZUZsYWciLCJmbGFnIiwib25seURheSIsInRpbWUiLCJ0aW1lcyIsInNwbGl0Iiwib25seVNlY29uZCIsImluZGV4T2YiLCJlbmRJbmRleCIsImxhc3RJbmRleE9mIiwic3Vic3RyaW5nIiwiaW5pdFRpbWVQYWNrZXIiLCJjb25maWdKc29uIiwiZGF0ZXRpbWVwaWNrZXIiLCJvbiIsImV2Iiwic3RhcnRfdGltZSIsIkRhdGUiLCJ2YWwiLCJnZXRUaW1lIiwiZGF0ZSIsInZhbHVlT2YiLCJpbml0VGltZVBhY2tlckN1c3RvbSIsImVuZF90aW1lIiwiaW5pdFRpbWVQYWNrZXJXaXRoSWQiLCJzdGFydF9pZCIsImVuZF9pZCIsImFsZXJ0TXNnIiwibXNnIiwic2V0VGltZW91dCIsImFsZXJ0Iiwia2V5RW50ZXIiLCJ0YXJnZXQiLCJrZXlwcmVzcyIsIndoaWNoIiwidHJpZ2dlciIsImdldFVybFBhcmFtIiwibmFtZSIsInJlZyIsIlJlZ0V4cCIsInIiLCJzZWFyY2giLCJzdWJzdHIiLCJtYXRjaCIsImRlY29kZVVSSSIsImlucHV0TGltaXRQcmljZSIsImlkIiwia2V5dXAiLCJ0aGlzIiwidHh0IiwiY2hhbmdlIiwidiIsInRlc3QiLCJsZW5ndGgiLCJkYXRldGltZXBpY2tlcmNvbmZpZyIsIndlZWtTdGFydCIsIm1pblZpZXciLCJmb3JtYXQiLCJhdXRvY2xvc2UiLCJhbGl2ZVRpbWVDb25maWciLCJzZXRUb29sYmFyVGl0bGUiLCJ0aXRsZSIsIkdldFF1ZXJ5U3RyaW5nIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVzZXRVcmwiLCJvYmpVcmwiLCJyZXVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsImNvbnRlbnREZXRhaWwiLCJ1cmwiLCJzZXRUb3BVcmxDb29raWUiLCJ0b3Bjb29raWUiLCJyZXNvdXJjZUluZm8iLCJ1cmxJbmZvIiwiY29va2llIiwicGF0aCIsInNldFRvcFVybEluZm8iLCJjb29raWVfbmFtZSIsImlubmVyVG8iLCJ0b3BVcmxJbmZvcyIsImFkZEh0bWwiLCJwcmVwZW5kIiwiYXBwZW5kIiwicmVMaXN0VXJsIiwiY29va2llTmFtZSIsImxpc3RVcmwiLCJjb29raWVJbmZvIiwicmVMaXN0SW5mbyIsInVwbG9hZEVycm9yU2hvdyIsInJlc3VsdFJlc3BvbnNlVGV4dCIsImVycm9ySW5mbyIsInBhcnNlSlNPTiIsImhvd2hyZWYiLCJ3eGMiLCJ4Y0NvbmZpcm0iLCJidG4iLCJwYXJzZUludCIsIm9uT2siLCJ3cml0ZU9iaiIsIm9iaiIsImRlc2NyaXB0aW9uIiwiaSIsInByb3BlcnR5IiwiZmxhc2hDaGVja2VyIiwiaGFzRmxhc2giLCJmbGFzaFZlcnNpb24iLCJhbGwiLCJzd2YiLCJBY3RpdmVYT2JqZWN0IiwiVlN3ZiIsIkdldFZhcmlhYmxlIiwibmF2aWdhdG9yIiwicGx1Z2lucyIsIndvcmRzIiwiaXNOYU4iLCJmIiwiZmxzIiwicyIsImdldEludGVybmV0RXhwbG9yZXJWZXJzaW9uIiwidWEiLCJ1c2VyQWdlbnQiLCJzaG93V2FybmluZ1RvYXN0IiwiZ2V0UGFyYW1ldGVyQnlOYW1lIiwicmVwbGFjZSIsInJlZ2V4IiwicmVzdWx0cyIsImV4ZWMiXSwibWFwcGluZ3MiOiJBQUFB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Y2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICBpbml0RXZlbnQoKTtcclxufSk7XHJcblxyXG52YXIgSnVtcFdoZXJlO1xyXG5mdW5jdGlvbiBKdW1wVG9DbGljaygpIHtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gSnVtcFdoZXJlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0RXZlbnQoKSB7XHJcblxyXG4gICAgJChcIiNqb2luX2hlbHBcIikuY2xpY2soZnVuY3Rpb24gKCkgeyAvL+aOpeWFpeaWh+aho1xyXG4gICAgICAgIGlmKGdldFNhdmVGbGFnKCk9PWZhbHNlKXtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9oZWxwXCI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIEp1bXBXaGVyZSA9IFwiL2hlbHBcIjtcclxuICAgICAgICAgICAgJChcIiN1cGxvYWRfTW9kYWxcIikubW9kYWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiI2luc3RydWN0aW9uc1wiKS5jbGljayhmdW5jdGlvbiAoKSB7IC8v5L2/55So6K+05piOXHJcbiAgICAgICAgaWYoZ2V0U2F2ZUZsYWcoKT09ZmFsc2Upe1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2hlbHAvaW5zdHJ1Y3Rpb25zXCI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIEp1bXBXaGVyZSA9IFwiL2hlbHAvaW5zdHJ1Y3Rpb25zXCI7XHJcbiAgICAgICAgICAgICQoXCIjdXBsb2FkX01vZGFsXCIpLm1vZGFsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNleHBsYWluRG9jXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgLy/or7TmmI7mlofmoaNcclxuICAgICAgICBpZihnZXRTYXZlRmxhZygpPT1mYWxzZSl7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvaGVscC9leHBsYWluRG9jXCI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIEp1bXBXaGVyZSA9IFwiL2hlbHAvZXhwbGFpbkRvY1wiO1xyXG4gICAgICAgICAgICAkKFwiI3VwbG9hZF9Nb2RhbFwiKS5tb2RhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIjcXNfaGVscFwiKS5jbGljayhmdW5jdGlvbiAoKSB7IC8vIOi9ruaSreWbvlxyXG4gICAgICAgIGlmKGdldFNhdmVGbGFnKCk9PWZhbHNlKXtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9oZWxwL3FzXCJcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgSnVtcFdoZXJlID0gXCIvaGVscC9xc1wiO1xyXG4gICAgICAgICAgICAkKFwiI3VwbG9hZF9Nb2RhbFwiKS5tb2RhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIjaW5kZXhfaGVscFwiKS5jbGljayhmdW5jdGlvbiAoKSB7ICAgLy/mlofmoaPpppbpobVcclxuICAgICAgICBpZihnZXRTYXZlRmxhZygpPT1mYWxzZSl7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvaGVscC9pbmRleFwiXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIEp1bXBXaGVyZSA9IFwiL2hlbHAvaW5kZXhcIjtcclxuICAgICAgICAgICAgJChcIiN1cGxvYWRfTW9kYWxcIikubW9kYWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiI3N5c3RlbV91cGRhdGVcIikuY2xpY2soZnVuY3Rpb24gKCkgeyAgIC8v55+l6K+G5ZWG5ZOBXHJcbiAgICAgICAgaWYoZ2V0U2F2ZUZsYWcoKT09ZmFsc2Upe1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2hlbHAvc3lzdGVtX3VwZGF0ZVwiXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIEp1bXBXaGVyZSA9IFwiL2hlbHAvc3lzdGVtX3VwZGF0ZVwiO1xyXG4gICAgICAgICAgICAkKFwiI3VwbG9hZF9Nb2RhbFwiKS5tb2RhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0QmFja2dyb3VuZCh0YWJfaWQpIHtcclxuICAgICQoXCIjXCIgKyB0YWJfaWQpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBleGl0TG9naW4oKVxyXG57XHJcbiAgICAkLmdldCgnL2xvZ2lub3V0JywgZnVuY3Rpb24gKHJlc3VsdClcclxuICAgIHtcclxuICAgICAgICB2YXIgY29kZSA9IHJlc3VsdC5yZXQ7XHJcbiAgICAgICAgaWYgKGNvZGUgPT0gXCIwXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBcIi9sb2dpblwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLplJnor69cIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuLy/pmLvmraLkuovku7blkJHkuIrkvKDpgJJcclxuZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGUpIHtcclxuICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbikge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc2hvd0xvYWRpbmcoKSB7XHJcbiAgICAkKFwiI2Jhc2VfbG9hZGluZ1wiKS5zaG93KCk7XHJcbiAgICAkKFwiI2xvZ2luX3Byb2dyZXNzSW1hZ2VcIikuc2hvdygpO1xyXG5cclxuICAgICQoJy5wcm9ncmVzcy1iYXItc3RyaXBlZCcpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZUxvYWRpbmcoKSB7XHJcbiAgICAkKFwiI2xvZ2luX3Byb2dyZXNzSW1hZ2VcIikuaGlkZSgpO1xyXG4gICAgJChcIiNiYXNlX2xvYWRpbmdcIikuaGlkZSgpO1xyXG5cclxuICAgICQoJy5wcm9ncmVzcy1iYXItc3RyaXBlZCcpLmF0dHIoJ2FyaWEtdmFsdWVub3cnLCcxMDAnKTtcclxuICAgICQoJy5wcm9ncmVzcy1iYXItc3RyaXBlZCcpLmh0bWwoJzEwMCUnKTtcclxuICAgICQoJy5wcm9ncmVzcy1iYXItc3RyaXBlZCcpLmNzcygnd2lkdGgnLCcxMDAlJylcclxuICAgICQoJy5wcm9ncmVzcy1iYXItc3RyaXBlZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxufVxyXG5cclxuLyrmmK/lkKbkv53lrZjlvZPliY3kv67mlLkqL1xyXG5Jc19TYXZlID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGNoYW5nZVNhdmVGbGFnKGZsYWcpIHtcclxuICAgIElzX1NhdmUgPSBmbGFnO1xyXG59XHJcbmZ1bmN0aW9uIGdldFNhdmVGbGFnKCkge1xyXG4gICAgcmV0dXJuIElzX1NhdmU7XHJcbn1cclxuXHJcblxyXG4vL+WwhuaXtumXtOWOu+aXtuWIhu+8jOeyvuehruWIsOWkqVxyXG5mdW5jdGlvbiBvbmx5RGF5KHRpbWUpe1xyXG4gICAgdmFyIHRpbWVzID0gdGltZS5zcGxpdChcIiBcIik7XHJcbiAgICByZXR1cm4gdGltZXNbMF07XHJcbn1cclxuXHJcbi8v5bCG5pe26Ze05Y675q+r56eS77yM57K+56Gu5Yiw56eSXHJcbmZ1bmN0aW9uIG9ubHlTZWNvbmQodGltZSl7XHJcbiAgICBpZih0aW1lLmluZGV4T2YoXCJcXFwiXCIpID4gMCl7IC8v5aaC5p6c5YyF5ZCrXCLlj7dcclxuICAgICAgICB2YXIgZW5kSW5kZXggPSB0aW1lLmxhc3RJbmRleE9mKFwiXFxcIlwiKTtcclxuICAgICAgICByZXR1cm4gdGltZS5zdWJzdHJpbmcoMCxlbmRJbmRleCk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gdGltZTtcclxuICAgIH1cclxufVxyXG5cclxuLy/nu5lpbnB1dOa3u+WKoOaXtumXtOmAieaLqeWZqFxyXG5mdW5jdGlvbiBpbml0VGltZVBhY2tlcihjb25maWdKc29uKXtcclxuICAgICQoXCIjc3RhcnRfdGltZVwiKS5kYXRldGltZXBpY2tlcihjb25maWdKc29uKTtcclxuICAgICQoXCIjZW5kX3RpbWVcIikuZGF0ZXRpbWVwaWNrZXIoY29uZmlnSnNvbikub24oJ2NoYW5nZURhdGUnLCBmdW5jdGlvbihldil7XHJcblxyXG4gICAgICAgIHZhciBzdGFydF90aW1lID0gbmV3IERhdGUoJChcIiNzdGFydF90aW1lXCIpLnZhbCgpKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgICAgIGlmIChldi5kYXRlLnZhbHVlT2YoKSA8PSBzdGFydF90aW1lKXtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5aSx5pWI5pe26Ze05LiN6IO95bCP5LqO55Sf5pWI5pe26Ze0XCIpO1xyXG4gICAgICAgICAgICAkKFwiI2VuZF90aW1lXCIpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdFRpbWVQYWNrZXJDdXN0b20oc3RhcnRfdGltZSxlbmRfdGltZSxjb25maWdKc29uKSB7XHJcbiAgICAkKFwiI1wiK3N0YXJ0X3RpbWUpLmRhdGV0aW1lcGlja2VyKGNvbmZpZ0pzb24pO1xyXG4gICAgJChcIiNcIitlbmRfdGltZSkuZGF0ZXRpbWVwaWNrZXIoY29uZmlnSnNvbikub24oJ2NoYW5nZURhdGUnLCBmdW5jdGlvbihldil7XHJcblxyXG4gICAgICAgIHZhciBzdGFydF90aW1lID0gbmV3IERhdGUoJChcIiNcIitzdGFydF90aW1lKS52YWwoKSkuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICBpZiAoZXYuZGF0ZS52YWx1ZU9mKCkgPD0gc3RhcnRfdGltZSl7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWkseaViOaXtumXtOS4jeiDveWwj+S6jueUn+aViOaXtumXtFwiKTtcclxuICAgICAgICAgICAgJChcIiNcIitlbmRfdGltZSkudmFsKCcnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0VGltZVBhY2tlcldpdGhJZChzdGFydF9pZCxlbmRfaWQsY29uZmlnSnNvbil7XHJcbiAgICAkKFwiI1wiK3N0YXJ0X2lkKS5kYXRldGltZXBpY2tlcihjb25maWdKc29uKTtcclxuICAgICQoXCIjXCIrZW5kX2lkKS5kYXRldGltZXBpY2tlcihjb25maWdKc29uKS5vbignY2hhbmdlRGF0ZScsIGZ1bmN0aW9uKGV2KXtcclxuXHJcbiAgICAgICAgdmFyIHN0YXJ0X3RpbWUgPSBuZXcgRGF0ZSgoXCIjXCIrc3RhcnRfaWQpLnZhbCgpKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgICAgIGlmIChldi5kYXRlLnZhbHVlT2YoKSA8PSBzdGFydF90aW1lKXtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5aSx5pWI5pe26Ze05LiN6IO95bCP5LqO55Sf5pWI5pe26Ze0XCIpO1xyXG4gICAgICAgICAgICAkKFwiI1wiK2VuZF9pZCkudmFsKCcnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vL+W8ueWHuuaPkOekuuahhlxyXG5mdW5jdGlvbiBhbGVydE1zZyhtc2cpe1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYWxlcnQobXNnKTtcclxuICAgIH0sIDEwMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGtleUVudGVyKHRhcmdldCl7XHJcbiAgICAkKFwiaW5wdXRcIikua2V5cHJlc3MoZnVuY3Rpb24gKGUpIHsvL+W9k+aMieS4i+aMiemUruaXtlxyXG4gICAgICAgIGlmIChlLndoaWNoID09IDEzKSB7Ly/lm57ovabplK7nmoTplK7kvY3luo/lj7fkuLoxM1xyXG4gICAgICAgICAgICB0YXJnZXQudHJpZ2dlcihcImNsaWNrXCIpOy8v6Kem5Y+R55m75b2V5oyJ6ZKu55qE54K55Ye75LqL5Lu2XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8v6I635Y+WdXJs5Y+C5pWwXHJcbmZ1bmN0aW9uIGdldFVybFBhcmFtKG5hbWUpXHJcbntcclxuICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKFwiKF58JilcIisgbmFtZSArXCI9KFteJl0qKSgmfCQpXCIpOyAvL+aehOmAoOS4gOS4quWQq+acieebruagh+WPguaVsOeahOato+WImeihqOi+vuW8j+WvueixoVxyXG4gICAgdmFyIHIgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cigxKS5tYXRjaChyZWcpOyAgLy/ljLnphY3nm67moIflj4LmlbBcclxuICAgIGlmIChyIT1udWxsKSByZXR1cm4gZGVjb2RlVVJJKHJbMl0pOyByZXR1cm4gbnVsbDsgLy/ov5Tlm57lj4LmlbDlgLxcclxufVxyXG5cclxuLyoqXHJcbiAqIOi+k+WFpeahhumZkOWItui+k+WFpemHkeminVxyXG4gKiBAcGFyYW0gaWRcclxuICovXHJcbmZ1bmN0aW9uIGlucHV0TGltaXRQcmljZShpZCkge1xyXG4gICAgJChpZCkua2V5dXAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZWcgPSAkKHRoaXMpLnZhbCgpLm1hdGNoKC9cXGQrXFwuP1xcZHswLDJ9Lyk7XHJcbiAgICAgICAgdmFyIHR4dCA9ICcnO1xyXG4gICAgICAgIGlmIChyZWcgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0eHQgPSByZWdbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQodGhpcykudmFsKHR4dCk7XHJcbiAgICB9KS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykua2V5cHJlc3MoKTtcclxuICAgICAgICB2YXIgdiA9ICQodGhpcykudmFsKCk7XHJcbiAgICAgICAgaWYgKC9cXC4kLy50ZXN0KHYpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCh0aGlzKS52YWwodi5zdWJzdHIoMCwgdi5sZW5ndGggLSAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDml6XmnJ/pgInmi6nmjqfku7bphY3nva5cclxuICogQHBhcmFtIGlkXHJcbiAqL1xyXG5mdW5jdGlvbiBkYXRldGltZXBpY2tlcmNvbmZpZyhpZCkge1xyXG4gICAgJChpZCkuZGF0ZXRpbWVwaWNrZXIoe1xyXG4gICAgICAgIC8qc3RhcnREYXRlOm5ldyBEYXRlKCksKi9cclxuICAgICAgICB3ZWVrU3RhcnQ6IDEsXHJcbiAgICAgICAgbWluVmlldzogXCJkYXlcIixcclxuICAgICAgICBmb3JtYXQ6ICd5eXl5LW1tLWRkIGhoOjAwOjAwJyxcclxuICAgICAgICBhdXRvY2xvc2U6IHRydWUvL+mAieaLqeaXpeacn+WQjuiHquWKqOWFs+mXrVxyXG4gICAgfSk7XHJcbn1cclxuLyrnm7Tmkq3ml6XmnJ/phY3nva4qL1xyXG5mdW5jdGlvbiBhbGl2ZVRpbWVDb25maWcoaWQpIHtcclxuICAgICQoaWQpLmRhdGV0aW1lcGlja2VyKHtcclxuICAgICAgICAvKnN0YXJ0RGF0ZTpuZXcgRGF0ZSgpLCovXHJcbiAgICAgICAgd2Vla1N0YXJ0OiAxLFxyXG4gICAgICAgIG1pblZpZXc6IFwiaG91clwiLFxyXG4gICAgICAgIGZvcm1hdDogJ3l5eXktbW0tZGQgaGg6aWk6MDAnLFxyXG4gICAgICAgIGF1dG9jbG9zZTogdHJ1ZS8v6YCJ5oup5pel5pyf5ZCO6Ieq5Yqo5YWz6ZetXHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqKlxyXG4gKiDorr7nva7moIfpopjlpLRcclxuICogQHBhcmFtIHRpdGxlXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRUb29sYmFyVGl0bGUodGl0bGUpIHtcclxuICAgICQoJyN0b29sYmFyX3RpdGxlJykuaHRtbCh0aXRsZSk7XHJcbn1cclxuXHJcbi8v6YeH55So5q2j5YiZ6KGo6L6+5byP6I635Y+W5Zyw5Z2A5qCP5Y+C5pWw77yIbmFtZe+8iVxyXG5mdW5jdGlvbiBHZXRRdWVyeVN0cmluZyhuYW1lKVxyXG57XHJcbiAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cChcIihefCYpXCIrIG5hbWUgK1wiPShbXiZdKikoJnwkKVwiKTtcclxuICAgIHZhciByID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkubWF0Y2gocmVnKTtcclxuICAgIGlmKHIhPW51bGwpcmV0dXJuICBkZWNvZGVVUklDb21wb25lbnQoclsyXSk7IHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vL+iOt+WPluW9k+WJjemhteWujOaVtHVybOeUqOS6juWbnui3s1xyXG5mdW5jdGlvbiByZXNldFVybChvYmpVcmwpe1xyXG4gICAgLy/ojrflj5blvZPliY3pobV1cmxcclxuICAgIHZhciByZXVybCA9IGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZik7IC8vYWxlcnQocmV1cmwpO1xyXG4gICAgLy/ovazlkJHnm67moIflnLDlnYBcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gb2JqVXJsICsgJyZyZXVybD0nICsgcmV1cmw7XHJcbn1cclxuLy9vbmNsaWNr562J5ZON5bqU6Lez6L2sXHJcbmZ1bmN0aW9uIGNvbnRlbnREZXRhaWwodXJsKXtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG59XHJcbi8v6K6+572u5bGC57qn6aG16Z2i5pWw5o2u57yT5a2YXHJcbmZ1bmN0aW9uIHNldFRvcFVybENvb2tpZSh0b3Bjb29raWUscmVzb3VyY2VJbmZvKVxyXG57XHJcbiAgICB2YXIgdXJsSW5mbyA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgJC5jb29raWUodG9wY29va2llLCByZXNvdXJjZUluZm8rJ3wnK3VybEluZm8sIHtwYXRoOiAnLycgfSk7XHJcbn1cclxuLy/mmL7npLrkuIrkuIvot6/lvoRcclxuZnVuY3Rpb24gc2V0VG9wVXJsSW5mbyhjb29raWVfbmFtZSwgaW5uZXJUbylcclxue1xyXG4gICAgdmFyIHRvcFVybEluZm9zID0gJC5jb29raWUoY29va2llX25hbWUpO1xyXG4gICAgaW5uZXJUbyA9IGlubmVyVG8/IGlubmVyVG8gOiAwO1xyXG4gICAgaWYodG9wVXJsSW5mb3Mpe1xyXG4gICAgICAgIHZhciB0b3Bjb29raWUgPSB0b3BVcmxJbmZvcy5zcGxpdCgnfCcpO1xyXG4gICAgICAgIGlmKGlubmVyVG89PTApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgYWRkSHRtbCA9IFwiPHNwYW4+PGEgaHJlZj0nXCIrdG9wY29va2llWzFdK1wiJz5cIit0b3Bjb29raWVbMF0rXCI8L2E+PC9zcGFuPiZuYnNwOz4mbmJzcDtcIjsvL2FsZXJ0KGFwcGVuZEh0bWwpO1xyXG4gICAgICAgICAgICAkKCcuYmFzZV9leHBsYWluJykucHJlcGVuZChhZGRIdG1sKTsvL2FsZXJ0KCdhcHBvaycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgYWRkSHRtbCA9IFwiPHNwYW4+Jm5ic3A7PiZuYnNwOzxhIGhyZWY9J1wiK3RvcGNvb2tpZVsxXStcIic+XCIrdG9wY29va2llWzBdK1wiPC9hPjwvc3Bhbj5cIjsvL2FsZXJ0KGFwcGVuZEh0bWwpO1xyXG4gICAgICAgICAgICAkKCcuYmFzZV9leHBsYWluJykuYXBwZW5kKGFkZEh0bWwpOy8vYWxlcnQoJ2FwcG9rJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8v5Zue6Lez6Iez57yW6L6R5YaF5a655p2l6Lev6Lev5b6EXHJcbi8vIGNvb2tpZU5hbWUs5p2l6LevY29va2llLGxpc3RVcmws5Y6f5aeL5YiX6KGodXJsXHJcbmZ1bmN0aW9uIHJlTGlzdFVybChjb29raWVOYW1lLGxpc3RVcmwpIHtcclxuICAgIHZhciBjb29raWVJbmZvID0gJC5jb29raWUoY29va2llTmFtZSk7XHJcbiAgICBpZihjb29raWVJbmZvKXtcclxuICAgICAgICB2YXIgcmVMaXN0SW5mbyA9Y29va2llSW5mby5zcGxpdCgnfCcpWzFdO1xyXG4gICAgICAgIGlmKHJlTGlzdEluZm8pIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZUxpc3RJbmZvO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGxpc3RVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGxpc3RVcmw7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v5LiK5Lyg6ZSZ6K+v5Y+N6aaIXHJcbmZ1bmN0aW9uIHVwbG9hZEVycm9yU2hvdyhyZXN1bHRSZXNwb25zZVRleHQpIHtcclxuICAgIHZhciBlcnJvckluZm8gPSAkLnBhcnNlSlNPTihyZXN1bHRSZXNwb25zZVRleHQpO1xyXG4gICAgaWYoZXJyb3JJbmZvLmNvZGU9PS05Nil7XHJcbiAgICAgICAgdmFyIGhvd2hyZWY9J2h0dHBzOi8vd3d3LmJhaWR1LmNvbS9zP3dkPSVFNSU5MCU4QyVFNiVBRCVBNSVFNyVCMyVCQiVFNyVCQiU5RiVFNiU5NyVCNiVFOSU5NyVCNCc7XHJcbiAgICAgICAgd2luZG93Lnd4Yy54Y0NvbmZpcm0oXCI8c3Bhbj7mnKzlnLDml7bpl7TkuI3lkIzmraUmbmJzcDsmbmJzcDs8YSBocmVmPSdcIitob3docmVmK1wiJyB0YXJnZXQ9J19ibGFuaycgc3R5bGU9J2ZvbnQtc2l6ZTogMjBweDsnPueri+WNs+iuvue9rjwvYT48L3NwYW4+XCIsXCJlcnJvclwiLHt0aXRsZTon5LiK5Lyg5aSx6LSlJyxidG46IHBhcnNlSW50KFwiMDAwMFwiLDIpLG9uT2s6ZnVuY3Rpb24oZSl7fX0pO1xyXG4gICAgICAgICQoXCIjYmFzZV9sb2FkaW5nXCIpLmhpZGUoKTtcclxuICAgIH1cclxufVxyXG4vL+aJk+WNsOWvueixoVxyXG5mdW5jdGlvbiB3cml0ZU9iaihvYmope1xyXG4gICAgdmFyIGRlc2NyaXB0aW9uID0gXCJcIjtcclxuICAgIGZvcih2YXIgaSBpbiBvYmope1xyXG4gICAgICAgIHZhciBwcm9wZXJ0eT1vYmpbaV07XHJcbiAgICAgICAgZGVzY3JpcHRpb24rPWkrXCIgPSBcIitwcm9wZXJ0eStcIlxcblwiO1xyXG4gICAgfVxyXG4gICAgYWxlcnQoZGVzY3JpcHRpb24pO1xyXG59XHJcbi8vSlPmo4Dmn6XmtY/op4jlmajkuK3nmoRmbGFzaHBsYXllcueJiOacrFxyXG5mdW5jdGlvbiBmbGFzaENoZWNrZXIoKVxyXG57XHJcbiAgICB2YXIgaGFzRmxhc2g9MDvjgIDjgIDjgIDjgIAvL+aYr+WQpuWuieijheS6hmZsYXNoXHJcbiAgICB2YXIgZmxhc2hWZXJzaW9uPTA744CA44CALy9mbGFzaOeJiOacrFxyXG5cclxuICAgIGlmKGRvY3VtZW50LmFsbClcclxuICAgIHtcclxuICAgICAgICB2YXIgc3dmID0gbmV3IEFjdGl2ZVhPYmplY3QoJ1Nob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoJyk7XHJcbiAgICAgICAgaWYoc3dmKSB7XHJcbiAgICAgICAgICAgIGhhc0ZsYXNoPTE7XHJcbiAgICAgICAgICAgIFZTd2Y9c3dmLkdldFZhcmlhYmxlKFwiJHZlcnNpb25cIik7XHJcbiAgICAgICAgICAgIGZsYXNoVmVyc2lvbj1wYXJzZUludChWU3dmLnNwbGl0KFwiIFwiKVsxXS5zcGxpdChcIixcIilbMF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1lbHNle1xyXG4gICAgICAgIGlmIChuYXZpZ2F0b3IucGx1Z2lucyAmJiBuYXZpZ2F0b3IucGx1Z2lucy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHN3Zj1uYXZpZ2F0b3IucGx1Z2luc1tcIlNob2Nrd2F2ZSBGbGFzaFwiXTtcclxuICAgICAgICAgICAgaWYgKHN3ZilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaGFzRmxhc2g9MTtcclxuICAgICAgICAgICAgICAgIHZhciB3b3JkcyA9IHN3Zi5kZXNjcmlwdGlvbi5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihwYXJzZUludCh3b3Jkc1tpXSkpKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBmbGFzaFZlcnNpb24gPSBwYXJzZUludCh3b3Jkc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge2Y6aGFzRmxhc2gsdjpmbGFzaFZlcnNpb259O1xyXG59XHJcblxyXG52YXIgZmxzPWZsYXNoQ2hlY2tlcigpO1xyXG52YXIgcz1cIlwiO1xyXG4vL2lmKGZscy5mKSBkb2N1bWVudC53cml0ZShcIuaCqOWuieijheS6hmZsYXNoLOW9k+WJjWZsYXNo54mI5pys5Li6OiBcIitmbHMuditcIi54XCIpO1xyXG4vL2Vsc2UgZG9jdW1lbnQud3JpdGUoXCLmgqjmsqHmnInlronoo4VmbGFzaFwiKTtcclxuLyoqKlxyXG4gKuWwhuS4iue6p+i3r+W+hOi/veWKoOWIsGJhc2VfZXhwbGFpbuWGhXRvb2xiYXJfdGl0bGXkuYvlkI5cclxuICphcHBwZW5kXHJcbiAqLy8qXHJcbmZ1bmN0aW9uIHJlZmVycmVyc0h0bWwoKVxyXG57XHJcbiAgICB2YXIgcmVmZXJyZXJzSW5mbyA9ICQoJyNyZWZlcnJlcnNJbmZvJyk7XHJcbiAgICBpZihyZWZlcnJlcnNJbmZvLmxlbmd0aCA+IDApXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGFwcGVuZEh0bWxzID0gJyc7XHJcbiAgICAgICAgdmFyIHJlZnN0ciA9IHJlZmVycmVyc0luZm8uaHRtbCgpO1xyXG4gICAgICAgIGlmKHJlZnN0ci5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgdmFyIHJlZmFyciA9IHJlZnN0ci5zcGxpdCgnfHwnKTtcclxuICAgICAgICAgICAgZm9yKHZhciBpIGluIHJlZmFycil7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IHJlZmFycltpXTtcclxuICAgICAgICAgICAgICAgIGFwcGVuZEh0bWxzICs9IFwiPHNwYW4+Jm5ic3A7Jm5ic3A7PGEgaHJlZj0nXCIraW5mb1swXStcIic+XCIraW5mb1sxXStcIjwvYT48L3NwYW4+XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnI2Jhc2VfZXhwbGFpbicpLmFwcGVuZChhcHBlbmRIdG1scyk7XHJcbiAgICB9XHJcbn0qL1xyXG5cclxuIC8q5Yik5patSUXmtY/op4jlmajniYjmnKwqL1xyXG4gZnVuY3Rpb24gZ2V0SW50ZXJuZXRFeHBsb3JlclZlcnNpb24oKSB7XHJcbiAgICAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuICAgICAvL+aYr0lF5rWP6KeI5ZmoXHJcbiAgICAgaWYodWEuaW5kZXhPZihcIk1TSUVcIikgIT0gLTEpIHtcclxuICAgICAgICAgLy/liKTmlq3mtY/op4jlmajniYjmnKwg5L2O5LqOSUUxMCDlgZrlh7rmj5DnpLpcclxuICAgICAgICAgaWYodWEuaW5kZXhPZihcIk1TSUUgOS4wXCIpICE9IC0xIHx8IHVhLmluZGV4T2YoXCJNU0lFIDguMFwiKSAhPSAtMSB8fCB1YS5pbmRleE9mKFwiTVNJRSA3LjBcIikgIT0gLTEpe1xyXG4gICAgICAgICAgICAgc2hvd1dhcm5pbmdUb2FzdCgn5Y+R546w5oKo55qESUXmtY/op4jlmajniYjmnKzovoPkvY7vvIzkuLrkuobkuI3lvbHlk43mgqjnmoTkvb/nlKjkvZPpqozvvIzlu7rorq7mgqjkvb/nlKhDaHJvbWXmtY/op4jlmajmiJblsIZJRea1j+iniOWZqOWNh+e6p+S4uklFIDEw5Y+K5Lul5LiK54mI5pysJyxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICB9LDM2MDAsJ3RvcC1jZW50ZXInKTtcclxuICAgICAgICAgfVxyXG4gICAgIH1cclxuIH1cclxuXHJcbi8qKlxyXG4gKiDojrflj5Z1cmnlj4LmlbBcclxuICogQHBhcmFtIG5hbWVcclxuICogQHBhcmFtIHVybFxyXG4gKiBAcmV0dXJucyB7Kn1cclxuICovXHJcbmZ1bmN0aW9uIGdldFBhcmFtZXRlckJ5TmFtZShuYW1lLCB1cmwpIHtcclxuICAgIGlmICghdXJsKSB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXFxcXCQmXCIpO1xyXG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIls/Jl1cIiArIG5hbWUgKyBcIig9KFteJiNdKil8JnwjfCQpXCIpLFxyXG4gICAgICAgIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XHJcbiAgICBpZiAoIXJlc3VsdHMpIHJldHVybiBudWxsO1xyXG4gICAgaWYgKCFyZXN1bHRzWzJdKSByZXR1cm4gJyc7XHJcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XHJcbn0iXX0=
