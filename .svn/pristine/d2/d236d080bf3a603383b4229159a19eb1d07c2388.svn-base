$(document).ready(function(){initEvent()});var JumpWhere;function JumpToClick(){window.location.href=JumpWhere}function initEvent(){$("#join_help").click(function(){if(getSaveFlag()==false){window.location.href="/help"}else{JumpWhere="/help";$("#upload_Modal").modal()}});$("#instructions").click(function(){if(getSaveFlag()==false){window.location.href="/help/instructions"}else{JumpWhere="/help/instructions";$("#upload_Modal").modal()}});$("#explainDoc").click(function(){if(getSaveFlag()==false){window.location.href="/help/explainDoc"}else{JumpWhere="/help/explainDoc";$("#upload_Modal").modal()}});$("#qs_help").click(function(){if(getSaveFlag()==false){window.location.href="/help/qs"}else{JumpWhere="/help/qs";$("#upload_Modal").modal()}});$("#index_help").click(function(){if(getSaveFlag()==false){window.location.href="/help/index"}else{JumpWhere="/help/index";$("#upload_Modal").modal()}});$("#system_update").click(function(){if(getSaveFlag()==false){window.location.href="/help/system_update"}else{JumpWhere="/help/system_update";$("#upload_Modal").modal()}})}function initBackground(e){$("#"+e).addClass("active")}function exitLogin(){$.get("/loginout",function(e){var n=e.ret;if(n=="0"){window.location="/login"}else{baseUtils.show.redTip("错误");return}})}function stopPropagation(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}function showLoading(){$("#base_loading").show();$("#login_progressImage").show();$(".progress-bar-striped").addClass("active")}function hideLoading(){$("#login_progressImage").hide();$("#base_loading").hide();$(".progress-bar-striped").attr("aria-valuenow","100");$(".progress-bar-striped").html("100%");$(".progress-bar-striped").css("width","100%");$(".progress-bar-striped").removeClass("active")}Is_Save=false;function changeSaveFlag(e){Is_Save=e}function getSaveFlag(){return Is_Save}function onlyDay(e){var n=e.split(" ");return n[0]}function onlySecond(e){if(e.indexOf('"')>0){var n=e.lastIndexOf('"');return e.substring(0,n)}else{return e}}function initTimePacker(e){$("#start_time").datetimepicker(e);$("#end_time").datetimepicker(e).on("changeDate",function(e){var n=new Date($("#start_time").val()).getTime();if(e.date.valueOf()<=n){baseUtils.show.redTip("失效时间不能小于生效时间");$("#end_time").val("");return}})}function initTimePackerCustom(e,n,i){$("#"+e).datetimepicker(i);$("#"+n).datetimepicker(i).on("changeDate",function(e){var i=new Date($("#"+i).val()).getTime();if(e.date.valueOf()<=i){baseUtils.show.redTip("失效时间不能小于生效时间");$("#"+n).val("");return}})}function initTimePackerWithId(e,n,i){$("#"+e).datetimepicker(i);$("#"+n).datetimepicker(i).on("changeDate",function(i){var t=new Date(("#"+e).val()).getTime();if(i.date.valueOf()<=t){baseUtils.show.redTip("失效时间不能小于生效时间");$("#"+n).val("");return}})}function alertMsg(e){setTimeout(function(){alert(e)},100)}function keyEnter(e){$("input").keypress(function(n){if(n.which==13){e.trigger("click")}})}function getUrlParam(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");var i=window.location.search.substr(1).match(n);if(i!=null)return decodeURI(i[2]);return null}function inputLimitPrice(e){$(e).keyup(function(){var e=$(this).val().match(/\d+\.?\d{0,2}/);var n="";if(e!=null){n=e[0]}$(this).val(n)}).change(function(){$(this).keypress();var e=$(this).val();if(/\.$/.test(e)){$(this).val(e.substr(0,e.length-1))}})}function datetimepickerconfig(e){$(e).datetimepicker({weekStart:1,minView:"day",format:"yyyy-mm-dd hh:00:00",autoclose:true})}function aliveTimeConfig(e){$(e).datetimepicker({weekStart:1,minView:"hour",format:"yyyy-mm-dd hh:ii:00",autoclose:true})}function setToolbarTitle(e){$("#toolbar_title").html(e)}function GetQueryString(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");var i=window.location.search.substr(1).match(n);if(i!=null)return decodeURIComponent(i[2]);return null}function resetUrl(e){var n=encodeURIComponent(window.location.href);window.location.href=e+"&reurl="+n}function contentDetail(e){window.location.href=e}function setTopUrlCookie(e,n){var i=window.location.href;$.cookie(e,n+"|"+i,{path:"/"})}function setTopUrlInfo(e,n){var i=$.cookie(e);n=n?n:0;if(i){var t=i.split("|");if(n==0){var a="<span><a href='"+t[1]+"'>"+t[0]+"</a></span>&nbsp;>&nbsp;";$(".base_explain").prepend(a)}else{var a="<span>&nbsp;>&nbsp;<a href='"+t[1]+"'>"+t[0]+"</a></span>";$(".base_explain").append(a)}}}function reListUrl(e,n){var i=$.cookie(e);if(i){var t=i.split("|")[1];if(t){window.location.href=t}else{window.location.href=n}}else{window.location.href=n}}function uploadErrorShow(e){var n=$.parseJSON(e);if(n.code==-96){var i="https://www.baidu.com/s?wd=%E5%90%8C%E6%AD%A5%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4";window.wxc.xcConfirm("<span>本地时间不同步&nbsp;&nbsp;<a href='"+i+"' target='_blank' style='font-size: 20px;'>立即设置</a></span>","error",{title:"上传失败",btn:parseInt("0000",2),onOk:function(e){}});$("#base_loading").hide()}}function writeObj(e){var n="";for(var i in e){var t=e[i];n+=i+" = "+t+"\n"}alert(n)}function flashChecker(){var e=0;var n=0;if(document.all){var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(i){e=1;VSwf=i.GetVariable("$version");n=parseInt(VSwf.split(" ")[1].split(",")[0])}}else{if(navigator.plugins&&navigator.plugins.length>0){var i=navigator.plugins["Shockwave Flash"];if(i){e=1;var t=i.description.split(" ");for(var a=0;a<t.length;++a){if(isNaN(parseInt(t[a])))continue;n=parseInt(t[a])}}}}return{f:e,v:n}}var fls=flashChecker();var s="";function getInternetExplorerVersion(){var e=navigator.userAgent;if(e.indexOf("MSIE")!=-1){if(e.indexOf("MSIE 9.0")!=-1||e.indexOf("MSIE 8.0")!=-1||e.indexOf("MSIE 7.0")!=-1){showWarningToast("发现您的IE浏览器版本较低，为了不影响您的使用体验，建议您使用Chrome浏览器或将IE浏览器升级为IE 10及以上版本",function(){},3600,"top-center")}}}function getParameterByName(e,n){if(!n)n=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),t=i.exec(n);if(!t)return null;if(!t[2])return"";return decodeURIComponent(t[2].replace(/\+/g," "))}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHAvYmFzZS5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImluaXRFdmVudCIsIkp1bXBXaGVyZSIsIkp1bXBUb0NsaWNrIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiY2xpY2siLCJnZXRTYXZlRmxhZyIsIm1vZGFsIiwiaW5pdEJhY2tncm91bmQiLCJ0YWJfaWQiLCJhZGRDbGFzcyIsImV4aXRMb2dpbiIsImdldCIsInJlc3VsdCIsImNvZGUiLCJyZXQiLCJiYXNlVXRpbHMiLCJzaG93IiwicmVkVGlwIiwic3RvcFByb3BhZ2F0aW9uIiwiZSIsImNhbmNlbEJ1YmJsZSIsInNob3dMb2FkaW5nIiwiaGlkZUxvYWRpbmciLCJoaWRlIiwiYXR0ciIsImh0bWwiLCJjc3MiLCJyZW1vdmVDbGFzcyIsIklzX1NhdmUiLCJjaGFuZ2VTYXZlRmxhZyIsImZsYWciLCJvbmx5RGF5IiwidGltZSIsInRpbWVzIiwic3BsaXQiLCJvbmx5U2Vjb25kIiwiaW5kZXhPZiIsImVuZEluZGV4IiwibGFzdEluZGV4T2YiLCJzdWJzdHJpbmciLCJpbml0VGltZVBhY2tlciIsImNvbmZpZ0pzb24iLCJkYXRldGltZXBpY2tlciIsIm9uIiwiZXYiLCJzdGFydF90aW1lIiwiRGF0ZSIsInZhbCIsImdldFRpbWUiLCJkYXRlIiwidmFsdWVPZiIsImluaXRUaW1lUGFja2VyQ3VzdG9tIiwiZW5kX3RpbWUiLCJpbml0VGltZVBhY2tlcldpdGhJZCIsInN0YXJ0X2lkIiwiZW5kX2lkIiwiYWxlcnRNc2ciLCJtc2ciLCJzZXRUaW1lb3V0IiwiYWxlcnQiLCJrZXlFbnRlciIsInRhcmdldCIsImtleXByZXNzIiwid2hpY2giLCJ0cmlnZ2VyIiwiZ2V0VXJsUGFyYW0iLCJuYW1lIiwicmVnIiwiUmVnRXhwIiwiciIsInNlYXJjaCIsInN1YnN0ciIsIm1hdGNoIiwiZGVjb2RlVVJJIiwiaW5wdXRMaW1pdFByaWNlIiwiaWQiLCJrZXl1cCIsInRoaXMiLCJ0eHQiLCJjaGFuZ2UiLCJ2IiwidGVzdCIsImxlbmd0aCIsImRhdGV0aW1lcGlja2VyY29uZmlnIiwid2Vla1N0YXJ0IiwibWluVmlldyIsImZvcm1hdCIsImF1dG9jbG9zZSIsImFsaXZlVGltZUNvbmZpZyIsInNldFRvb2xiYXJUaXRsZSIsInRpdGxlIiwiR2V0UXVlcnlTdHJpbmciLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZXNldFVybCIsIm9ialVybCIsInJldXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiY29udGVudERldGFpbCIsInVybCIsInNldFRvcFVybENvb2tpZSIsInRvcGNvb2tpZSIsInJlc291cmNlSW5mbyIsInVybEluZm8iLCJjb29raWUiLCJwYXRoIiwic2V0VG9wVXJsSW5mbyIsImNvb2tpZV9uYW1lIiwiaW5uZXJUbyIsInRvcFVybEluZm9zIiwiYWRkSHRtbCIsInByZXBlbmQiLCJhcHBlbmQiLCJyZUxpc3RVcmwiLCJjb29raWVOYW1lIiwibGlzdFVybCIsImNvb2tpZUluZm8iLCJyZUxpc3RJbmZvIiwidXBsb2FkRXJyb3JTaG93IiwicmVzdWx0UmVzcG9uc2VUZXh0IiwiZXJyb3JJbmZvIiwicGFyc2VKU09OIiwiaG93aHJlZiIsInd4YyIsInhjQ29uZmlybSIsImJ0biIsInBhcnNlSW50Iiwib25PayIsIndyaXRlT2JqIiwib2JqIiwiZGVzY3JpcHRpb24iLCJpIiwicHJvcGVydHkiLCJmbGFzaENoZWNrZXIiLCJoYXNGbGFzaCIsImZsYXNoVmVyc2lvbiIsImFsbCIsInN3ZiIsIkFjdGl2ZVhPYmplY3QiLCJWU3dmIiwiR2V0VmFyaWFibGUiLCJuYXZpZ2F0b3IiLCJwbHVnaW5zIiwid29yZHMiLCJpc05hTiIsImYiLCJmbHMiLCJzIiwiZ2V0SW50ZXJuZXRFeHBsb3JlclZlcnNpb24iLCJ1YSIsInVzZXJBZ2VudCIsInNob3dXYXJuaW5nVG9hc3QiLCJnZXRQYXJhbWV0ZXJCeU5hbWUiLCJyZXBsYWNlIiwicmVnZXgiLCJyZXN1bHRzIiwiZXhlYyJdLCJtYXBwaW5ncyI6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LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgaW5pdEV2ZW50KCk7XHJcbn0pO1xyXG5cclxudmFyIEp1bXBXaGVyZTtcclxuZnVuY3Rpb24gSnVtcFRvQ2xpY2soKSB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IEp1bXBXaGVyZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdEV2ZW50KCkge1xyXG5cclxuICAgICQoXCIjam9pbl9oZWxwXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgLy/mjqXlhaXmlofmoaNcclxuICAgICAgICBpZihnZXRTYXZlRmxhZygpPT1mYWxzZSl7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvaGVscFwiO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBKdW1wV2hlcmUgPSBcIi9oZWxwXCI7XHJcbiAgICAgICAgICAgICQoXCIjdXBsb2FkX01vZGFsXCIpLm1vZGFsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNpbnN0cnVjdGlvbnNcIikuY2xpY2soZnVuY3Rpb24gKCkgeyAvL+S9v+eUqOivtOaYjlxyXG4gICAgICAgIGlmKGdldFNhdmVGbGFnKCk9PWZhbHNlKXtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9oZWxwL2luc3RydWN0aW9uc1wiO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBKdW1wV2hlcmUgPSBcIi9oZWxwL2luc3RydWN0aW9uc1wiO1xyXG4gICAgICAgICAgICAkKFwiI3VwbG9hZF9Nb2RhbFwiKS5tb2RhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIjZXhwbGFpbkRvY1wiKS5jbGljayhmdW5jdGlvbiAoKSB7IC8v6K+05piO5paH5qGjXHJcbiAgICAgICAgaWYoZ2V0U2F2ZUZsYWcoKT09ZmFsc2Upe1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2hlbHAvZXhwbGFpbkRvY1wiO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBKdW1wV2hlcmUgPSBcIi9oZWxwL2V4cGxhaW5Eb2NcIjtcclxuICAgICAgICAgICAgJChcIiN1cGxvYWRfTW9kYWxcIikubW9kYWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiI3FzX2hlbHBcIikuY2xpY2soZnVuY3Rpb24gKCkgeyAvLyDova7mkq3lm75cclxuICAgICAgICBpZihnZXRTYXZlRmxhZygpPT1mYWxzZSl7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvaGVscC9xc1wiXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIEp1bXBXaGVyZSA9IFwiL2hlbHAvcXNcIjtcclxuICAgICAgICAgICAgJChcIiN1cGxvYWRfTW9kYWxcIikubW9kYWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiI2luZGV4X2hlbHBcIikuY2xpY2soZnVuY3Rpb24gKCkgeyAgIC8v5paH5qGj6aaW6aG1XHJcbiAgICAgICAgaWYoZ2V0U2F2ZUZsYWcoKT09ZmFsc2Upe1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2hlbHAvaW5kZXhcIlxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBKdW1wV2hlcmUgPSBcIi9oZWxwL2luZGV4XCI7XHJcbiAgICAgICAgICAgICQoXCIjdXBsb2FkX01vZGFsXCIpLm1vZGFsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNzeXN0ZW1fdXBkYXRlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgICAvL+WVhuWTgeeuoeeQhlxyXG4gICAgICAgIGlmKGdldFNhdmVGbGFnKCk9PWZhbHNlKXtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9oZWxwL3N5c3RlbV91cGRhdGVcIlxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBKdW1wV2hlcmUgPSBcIi9oZWxwL3N5c3RlbV91cGRhdGVcIjtcclxuICAgICAgICAgICAgJChcIiN1cGxvYWRfTW9kYWxcIikubW9kYWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdEJhY2tncm91bmQodGFiX2lkKSB7XHJcbiAgICAkKFwiI1wiICsgdGFiX2lkKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZXhpdExvZ2luKClcclxue1xyXG4gICAgJC5nZXQoJy9sb2dpbm91dCcsIGZ1bmN0aW9uIChyZXN1bHQpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGNvZGUgPSByZXN1bHQucmV0O1xyXG4gICAgICAgIGlmIChjb2RlID09IFwiMFwiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gXCIvbG9naW5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6ZSZ6K+vXCIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbi8v6Zi75q2i5LqL5Lu25ZCR5LiK5Lyg6YCSXHJcbmZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihlKSB7XHJcbiAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHNob3dMb2FkaW5nKCkge1xyXG4gICAgJChcIiNiYXNlX2xvYWRpbmdcIikuc2hvdygpO1xyXG4gICAgJChcIiNsb2dpbl9wcm9ncmVzc0ltYWdlXCIpLnNob3coKTtcclxuXHJcbiAgICAkKCcucHJvZ3Jlc3MtYmFyLXN0cmlwZWQnKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVMb2FkaW5nKCkge1xyXG4gICAgJChcIiNsb2dpbl9wcm9ncmVzc0ltYWdlXCIpLmhpZGUoKTtcclxuICAgICQoXCIjYmFzZV9sb2FkaW5nXCIpLmhpZGUoKTtcclxuXHJcbiAgICAkKCcucHJvZ3Jlc3MtYmFyLXN0cmlwZWQnKS5hdHRyKCdhcmlhLXZhbHVlbm93JywnMTAwJyk7XHJcbiAgICAkKCcucHJvZ3Jlc3MtYmFyLXN0cmlwZWQnKS5odG1sKCcxMDAlJyk7XHJcbiAgICAkKCcucHJvZ3Jlc3MtYmFyLXN0cmlwZWQnKS5jc3MoJ3dpZHRoJywnMTAwJScpXHJcbiAgICAkKCcucHJvZ3Jlc3MtYmFyLXN0cmlwZWQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbn1cclxuXHJcbi8q5piv5ZCm5L+d5a2Y5b2T5YmN5L+u5pS5Ki9cclxuSXNfU2F2ZSA9IGZhbHNlO1xyXG5mdW5jdGlvbiBjaGFuZ2VTYXZlRmxhZyhmbGFnKSB7XHJcbiAgICBJc19TYXZlID0gZmxhZztcclxufVxyXG5mdW5jdGlvbiBnZXRTYXZlRmxhZygpIHtcclxuICAgIHJldHVybiBJc19TYXZlO1xyXG59XHJcblxyXG5cclxuLy/lsIbml7bpl7Tljrvml7bliIbvvIznsr7noa7liLDlpKlcclxuZnVuY3Rpb24gb25seURheSh0aW1lKXtcclxuICAgIHZhciB0aW1lcyA9IHRpbWUuc3BsaXQoXCIgXCIpO1xyXG4gICAgcmV0dXJuIHRpbWVzWzBdO1xyXG59XHJcblxyXG4vL+WwhuaXtumXtOWOu+avq+enku+8jOeyvuehruWIsOenklxyXG5mdW5jdGlvbiBvbmx5U2Vjb25kKHRpbWUpe1xyXG4gICAgaWYodGltZS5pbmRleE9mKFwiXFxcIlwiKSA+IDApeyAvL+WmguaenOWMheWQq1wi5Y+3XHJcbiAgICAgICAgdmFyIGVuZEluZGV4ID0gdGltZS5sYXN0SW5kZXhPZihcIlxcXCJcIik7XHJcbiAgICAgICAgcmV0dXJuIHRpbWUuc3Vic3RyaW5nKDAsZW5kSW5kZXgpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmV0dXJuIHRpbWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v57uZaW5wdXTmt7vliqDml7bpl7TpgInmi6nlmahcclxuZnVuY3Rpb24gaW5pdFRpbWVQYWNrZXIoY29uZmlnSnNvbil7XHJcbiAgICAkKFwiI3N0YXJ0X3RpbWVcIikuZGF0ZXRpbWVwaWNrZXIoY29uZmlnSnNvbik7XHJcbiAgICAkKFwiI2VuZF90aW1lXCIpLmRhdGV0aW1lcGlja2VyKGNvbmZpZ0pzb24pLm9uKCdjaGFuZ2VEYXRlJywgZnVuY3Rpb24oZXYpe1xyXG5cclxuICAgICAgICB2YXIgc3RhcnRfdGltZSA9IG5ldyBEYXRlKCQoXCIjc3RhcnRfdGltZVwiKS52YWwoKSkuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICBpZiAoZXYuZGF0ZS52YWx1ZU9mKCkgPD0gc3RhcnRfdGltZSl7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWkseaViOaXtumXtOS4jeiDveWwj+S6jueUn+aViOaXtumXtFwiKTtcclxuICAgICAgICAgICAgJChcIiNlbmRfdGltZVwiKS52YWwoJycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRUaW1lUGFja2VyQ3VzdG9tKHN0YXJ0X3RpbWUsZW5kX3RpbWUsY29uZmlnSnNvbikge1xyXG4gICAgJChcIiNcIitzdGFydF90aW1lKS5kYXRldGltZXBpY2tlcihjb25maWdKc29uKTtcclxuICAgICQoXCIjXCIrZW5kX3RpbWUpLmRhdGV0aW1lcGlja2VyKGNvbmZpZ0pzb24pLm9uKCdjaGFuZ2VEYXRlJywgZnVuY3Rpb24oZXYpe1xyXG5cclxuICAgICAgICB2YXIgc3RhcnRfdGltZSA9IG5ldyBEYXRlKCQoXCIjXCIrc3RhcnRfdGltZSkudmFsKCkpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgaWYgKGV2LmRhdGUudmFsdWVPZigpIDw9IHN0YXJ0X3RpbWUpe1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLlpLHmlYjml7bpl7TkuI3og73lsI/kuo7nlJ/mlYjml7bpl7RcIik7XHJcbiAgICAgICAgICAgICQoXCIjXCIrZW5kX3RpbWUpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdFRpbWVQYWNrZXJXaXRoSWQoc3RhcnRfaWQsZW5kX2lkLGNvbmZpZ0pzb24pe1xyXG4gICAgJChcIiNcIitzdGFydF9pZCkuZGF0ZXRpbWVwaWNrZXIoY29uZmlnSnNvbik7XHJcbiAgICAkKFwiI1wiK2VuZF9pZCkuZGF0ZXRpbWVwaWNrZXIoY29uZmlnSnNvbikub24oJ2NoYW5nZURhdGUnLCBmdW5jdGlvbihldil7XHJcblxyXG4gICAgICAgIHZhciBzdGFydF90aW1lID0gbmV3IERhdGUoKFwiI1wiK3N0YXJ0X2lkKS52YWwoKSkuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICBpZiAoZXYuZGF0ZS52YWx1ZU9mKCkgPD0gc3RhcnRfdGltZSl7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWkseaViOaXtumXtOS4jeiDveWwj+S6jueUn+aViOaXtumXtFwiKTtcclxuICAgICAgICAgICAgJChcIiNcIitlbmRfaWQpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy/lvLnlh7rmj5DnpLrmoYZcclxuZnVuY3Rpb24gYWxlcnRNc2cobXNnKXtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGFsZXJ0KG1zZyk7XHJcbiAgICB9LCAxMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBrZXlFbnRlcih0YXJnZXQpe1xyXG4gICAgJChcImlucHV0XCIpLmtleXByZXNzKGZ1bmN0aW9uIChlKSB7Ly/lvZPmjInkuIvmjInplK7ml7ZcclxuICAgICAgICBpZiAoZS53aGljaCA9PSAxMykgey8v5Zue6L2m6ZSu55qE6ZSu5L2N5bqP5Y+35Li6MTNcclxuICAgICAgICAgICAgdGFyZ2V0LnRyaWdnZXIoXCJjbGlja1wiKTsvL+inpuWPkeeZu+W9leaMiemSrueahOeCueWHu+S6i+S7tlxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vL+iOt+WPlnVybOWPguaVsFxyXG5mdW5jdGlvbiBnZXRVcmxQYXJhbShuYW1lKVxyXG57XHJcbiAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cChcIihefCYpXCIrIG5hbWUgK1wiPShbXiZdKikoJnwkKVwiKTsgLy/mnoTpgKDkuIDkuKrlkKvmnInnm67moIflj4LmlbDnmoTmraPliJnooajovr7lvI/lr7nosaFcclxuICAgIHZhciByID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkubWF0Y2gocmVnKTsgIC8v5Yy56YWN55uu5qCH5Y+C5pWwXHJcbiAgICBpZiAociE9bnVsbCkgcmV0dXJuIGRlY29kZVVSSShyWzJdKTsgcmV0dXJuIG51bGw7IC8v6L+U5Zue5Y+C5pWw5YC8XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDovpPlhaXmoYbpmZDliLbovpPlhaXph5Hpop1cclxuICogQHBhcmFtIGlkXHJcbiAqL1xyXG5mdW5jdGlvbiBpbnB1dExpbWl0UHJpY2UoaWQpIHtcclxuICAgICQoaWQpLmtleXVwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVnID0gJCh0aGlzKS52YWwoKS5tYXRjaCgvXFxkK1xcLj9cXGR7MCwyfS8pO1xyXG4gICAgICAgIHZhciB0eHQgPSAnJztcclxuICAgICAgICBpZiAocmVnICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdHh0ID0gcmVnWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKHRoaXMpLnZhbCh0eHQpO1xyXG4gICAgfSkuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmtleXByZXNzKCk7XHJcbiAgICAgICAgdmFyIHYgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgIGlmICgvXFwuJC8udGVzdCh2KSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICQodGhpcykudmFsKHYuc3Vic3RyKDAsIHYubGVuZ3RoIC0gMSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICog5pel5pyf6YCJ5oup5o6n5Lu26YWN572uXHJcbiAqIEBwYXJhbSBpZFxyXG4gKi9cclxuZnVuY3Rpb24gZGF0ZXRpbWVwaWNrZXJjb25maWcoaWQpIHtcclxuICAgICQoaWQpLmRhdGV0aW1lcGlja2VyKHtcclxuICAgICAgICAvKnN0YXJ0RGF0ZTpuZXcgRGF0ZSgpLCovXHJcbiAgICAgICAgd2Vla1N0YXJ0OiAxLFxyXG4gICAgICAgIG1pblZpZXc6IFwiZGF5XCIsXHJcbiAgICAgICAgZm9ybWF0OiAneXl5eS1tbS1kZCBoaDowMDowMCcsXHJcbiAgICAgICAgYXV0b2Nsb3NlOiB0cnVlLy/pgInmi6nml6XmnJ/lkI7oh6rliqjlhbPpl61cclxuICAgIH0pO1xyXG59XHJcbi8q55u05pKt5pel5pyf6YWN572uKi9cclxuZnVuY3Rpb24gYWxpdmVUaW1lQ29uZmlnKGlkKSB7XHJcbiAgICAkKGlkKS5kYXRldGltZXBpY2tlcih7XHJcbiAgICAgICAgLypzdGFydERhdGU6bmV3IERhdGUoKSwqL1xyXG4gICAgICAgIHdlZWtTdGFydDogMSxcclxuICAgICAgICBtaW5WaWV3OiBcImhvdXJcIixcclxuICAgICAgICBmb3JtYXQ6ICd5eXl5LW1tLWRkIGhoOmlpOjAwJyxcclxuICAgICAgICBhdXRvY2xvc2U6IHRydWUvL+mAieaLqeaXpeacn+WQjuiHquWKqOWFs+mXrVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKipcclxuICog6K6+572u5qCH6aKY5aS0XHJcbiAqIEBwYXJhbSB0aXRsZVxyXG4gKi9cclxuZnVuY3Rpb24gc2V0VG9vbGJhclRpdGxlKHRpdGxlKSB7XHJcbiAgICAkKCcjdG9vbGJhcl90aXRsZScpLmh0bWwodGl0bGUpO1xyXG59XHJcblxyXG4vL+mHh+eUqOato+WImeihqOi+vuW8j+iOt+WPluWcsOWdgOagj+WPguaVsO+8iG5hbWXvvIlcclxuZnVuY3Rpb24gR2V0UXVlcnlTdHJpbmcobmFtZSlcclxue1xyXG4gICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoXCIoXnwmKVwiKyBuYW1lICtcIj0oW14mXSopKCZ8JClcIik7XHJcbiAgICB2YXIgciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLm1hdGNoKHJlZyk7XHJcbiAgICBpZihyIT1udWxsKXJldHVybiAgZGVjb2RlVVJJQ29tcG9uZW50KHJbMl0pOyByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuLy/ojrflj5blvZPliY3pobXlrozmlbR1cmznlKjkuo7lm57ot7NcclxuZnVuY3Rpb24gcmVzZXRVcmwob2JqVXJsKXtcclxuICAgIC8v6I635Y+W5b2T5YmN6aG1dXJsXHJcbiAgICB2YXIgcmV1cmwgPSBlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhyZWYpOyAvL2FsZXJ0KHJldXJsKTtcclxuICAgIC8v6L2s5ZCR55uu5qCH5Zyw5Z2AXHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IG9ialVybCArICcmcmV1cmw9JyArIHJldXJsO1xyXG59XHJcbi8vb25jbGlja+etieWTjeW6lOi3s+i9rFxyXG5mdW5jdGlvbiBjb250ZW50RGV0YWlsKHVybCl7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcclxufVxyXG4vL+iuvue9ruWxgue6p+mhtemdouaVsOaNrue8k+WtmFxyXG5mdW5jdGlvbiBzZXRUb3BVcmxDb29raWUodG9wY29va2llLHJlc291cmNlSW5mbylcclxue1xyXG4gICAgdmFyIHVybEluZm8gPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICAgICQuY29va2llKHRvcGNvb2tpZSwgcmVzb3VyY2VJbmZvKyd8Jyt1cmxJbmZvLCB7cGF0aDogJy8nIH0pO1xyXG59XHJcbi8v5pi+56S65LiK5LiL6Lev5b6EXHJcbmZ1bmN0aW9uIHNldFRvcFVybEluZm8oY29va2llX25hbWUsIGlubmVyVG8pXHJcbntcclxuICAgIHZhciB0b3BVcmxJbmZvcyA9ICQuY29va2llKGNvb2tpZV9uYW1lKTtcclxuICAgIGlubmVyVG8gPSBpbm5lclRvPyBpbm5lclRvIDogMDtcclxuICAgIGlmKHRvcFVybEluZm9zKXtcclxuICAgICAgICB2YXIgdG9wY29va2llID0gdG9wVXJsSW5mb3Muc3BsaXQoJ3wnKTtcclxuICAgICAgICBpZihpbm5lclRvPT0wKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGFkZEh0bWwgPSBcIjxzcGFuPjxhIGhyZWY9J1wiK3RvcGNvb2tpZVsxXStcIic+XCIrdG9wY29va2llWzBdK1wiPC9hPjwvc3Bhbj4mbmJzcDs+Jm5ic3A7XCI7Ly9hbGVydChhcHBlbmRIdG1sKTtcclxuICAgICAgICAgICAgJCgnLmJhc2VfZXhwbGFpbicpLnByZXBlbmQoYWRkSHRtbCk7Ly9hbGVydCgnYXBwb2snKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGFkZEh0bWwgPSBcIjxzcGFuPiZuYnNwOz4mbmJzcDs8YSBocmVmPSdcIit0b3Bjb29raWVbMV0rXCInPlwiK3RvcGNvb2tpZVswXStcIjwvYT48L3NwYW4+XCI7Ly9hbGVydChhcHBlbmRIdG1sKTtcclxuICAgICAgICAgICAgJCgnLmJhc2VfZXhwbGFpbicpLmFwcGVuZChhZGRIdG1sKTsvL2FsZXJ0KCdhcHBvaycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vL+Wbnui3s+iHs+e8lui+keWGheWuueadpei3r+i3r+W+hFxyXG4vLyBjb29raWVOYW1lLOadpei3r2Nvb2tpZSxsaXN0VXJsLOWOn+Wni+WIl+ihqHVybFxyXG5mdW5jdGlvbiByZUxpc3RVcmwoY29va2llTmFtZSxsaXN0VXJsKSB7XHJcbiAgICB2YXIgY29va2llSW5mbyA9ICQuY29va2llKGNvb2tpZU5hbWUpO1xyXG4gICAgaWYoY29va2llSW5mbyl7XHJcbiAgICAgICAgdmFyIHJlTGlzdEluZm8gPWNvb2tpZUluZm8uc3BsaXQoJ3wnKVsxXTtcclxuICAgICAgICBpZihyZUxpc3RJbmZvKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVMaXN0SW5mbztcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBsaXN0VXJsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBsaXN0VXJsO1xyXG4gICAgfVxyXG59XHJcblxyXG4vL+S4iuS8oOmUmeivr+WPjemmiFxyXG5mdW5jdGlvbiB1cGxvYWRFcnJvclNob3cocmVzdWx0UmVzcG9uc2VUZXh0KSB7XHJcbiAgICB2YXIgZXJyb3JJbmZvID0gJC5wYXJzZUpTT04ocmVzdWx0UmVzcG9uc2VUZXh0KTtcclxuICAgIGlmKGVycm9ySW5mby5jb2RlPT0tOTYpe1xyXG4gICAgICAgIHZhciBob3docmVmPSdodHRwczovL3d3dy5iYWlkdS5jb20vcz93ZD0lRTUlOTAlOEMlRTYlQUQlQTUlRTclQjMlQkIlRTclQkIlOUYlRTYlOTclQjYlRTklOTclQjQnO1xyXG4gICAgICAgIHdpbmRvdy53eGMueGNDb25maXJtKFwiPHNwYW4+5pys5Zyw5pe26Ze05LiN5ZCM5q2lJm5ic3A7Jm5ic3A7PGEgaHJlZj0nXCIraG93aHJlZitcIicgdGFyZ2V0PSdfYmxhbmsnIHN0eWxlPSdmb250LXNpemU6IDIwcHg7Jz7nq4vljbPorr7nva48L2E+PC9zcGFuPlwiLFwiZXJyb3JcIix7dGl0bGU6J+S4iuS8oOWksei0pScsYnRuOiBwYXJzZUludChcIjAwMDBcIiwyKSxvbk9rOmZ1bmN0aW9uKGUpe319KTtcclxuICAgICAgICAkKFwiI2Jhc2VfbG9hZGluZ1wiKS5oaWRlKCk7XHJcbiAgICB9XHJcbn1cclxuLy/miZPljbDlr7nosaFcclxuZnVuY3Rpb24gd3JpdGVPYmoob2JqKXtcclxuICAgIHZhciBkZXNjcmlwdGlvbiA9IFwiXCI7XHJcbiAgICBmb3IodmFyIGkgaW4gb2JqKXtcclxuICAgICAgICB2YXIgcHJvcGVydHk9b2JqW2ldO1xyXG4gICAgICAgIGRlc2NyaXB0aW9uKz1pK1wiID0gXCIrcHJvcGVydHkrXCJcXG5cIjtcclxuICAgIH1cclxuICAgIGFsZXJ0KGRlc2NyaXB0aW9uKTtcclxufVxyXG4vL0pT5qOA5p+l5rWP6KeI5Zmo5Lit55qEZmxhc2hwbGF5ZXLniYjmnKxcclxuZnVuY3Rpb24gZmxhc2hDaGVja2VyKClcclxue1xyXG4gICAgdmFyIGhhc0ZsYXNoPTA744CA44CA44CA44CALy/mmK/lkKblronoo4XkuoZmbGFzaFxyXG4gICAgdmFyIGZsYXNoVmVyc2lvbj0wO+OAgOOAgC8vZmxhc2jniYjmnKxcclxuXHJcbiAgICBpZihkb2N1bWVudC5hbGwpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIHN3ZiA9IG5ldyBBY3RpdmVYT2JqZWN0KCdTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaCcpO1xyXG4gICAgICAgIGlmKHN3Zikge1xyXG4gICAgICAgICAgICBoYXNGbGFzaD0xO1xyXG4gICAgICAgICAgICBWU3dmPXN3Zi5HZXRWYXJpYWJsZShcIiR2ZXJzaW9uXCIpO1xyXG4gICAgICAgICAgICBmbGFzaFZlcnNpb249cGFyc2VJbnQoVlN3Zi5zcGxpdChcIiBcIilbMV0uc3BsaXQoXCIsXCIpWzBdKTtcclxuICAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBpZiAobmF2aWdhdG9yLnBsdWdpbnMgJiYgbmF2aWdhdG9yLnBsdWdpbnMubGVuZ3RoID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBzd2Y9bmF2aWdhdG9yLnBsdWdpbnNbXCJTaG9ja3dhdmUgRmxhc2hcIl07XHJcbiAgICAgICAgICAgIGlmIChzd2YpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGhhc0ZsYXNoPTE7XHJcbiAgICAgICAgICAgICAgICB2YXIgd29yZHMgPSBzd2YuZGVzY3JpcHRpb24uc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7ICsraSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4ocGFyc2VJbnQod29yZHNbaV0pKSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZmxhc2hWZXJzaW9uID0gcGFyc2VJbnQod29yZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtmOmhhc0ZsYXNoLHY6Zmxhc2hWZXJzaW9ufTtcclxufVxyXG5cclxudmFyIGZscz1mbGFzaENoZWNrZXIoKTtcclxudmFyIHM9XCJcIjtcclxuLy9pZihmbHMuZikgZG9jdW1lbnQud3JpdGUoXCLmgqjlronoo4XkuoZmbGFzaCzlvZPliY1mbGFzaOeJiOacrOS4ujogXCIrZmxzLnYrXCIueFwiKTtcclxuLy9lbHNlIGRvY3VtZW50LndyaXRlKFwi5oKo5rKh5pyJ5a6J6KOFZmxhc2hcIik7XHJcbi8qKipcclxuICrlsIbkuIrnuqfot6/lvoTov73liqDliLBiYXNlX2V4cGxhaW7lhoV0b29sYmFyX3RpdGxl5LmL5ZCOXHJcbiAqYXBwcGVuZFxyXG4gKi8vKlxyXG5mdW5jdGlvbiByZWZlcnJlcnNIdG1sKClcclxue1xyXG4gICAgdmFyIHJlZmVycmVyc0luZm8gPSAkKCcjcmVmZXJyZXJzSW5mbycpO1xyXG4gICAgaWYocmVmZXJyZXJzSW5mby5sZW5ndGggPiAwKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBhcHBlbmRIdG1scyA9ICcnO1xyXG4gICAgICAgIHZhciByZWZzdHIgPSByZWZlcnJlcnNJbmZvLmh0bWwoKTtcclxuICAgICAgICBpZihyZWZzdHIubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIHZhciByZWZhcnIgPSByZWZzdHIuc3BsaXQoJ3x8Jyk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSBpbiByZWZhcnIpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZm8gPSByZWZhcnJbaV07XHJcbiAgICAgICAgICAgICAgICBhcHBlbmRIdG1scyArPSBcIjxzcGFuPiZuYnNwOyZuYnNwOzxhIGhyZWY9J1wiK2luZm9bMF0rXCInPlwiK2luZm9bMV0rXCI8L2E+PC9zcGFuPlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJyNiYXNlX2V4cGxhaW4nKS5hcHBlbmQoYXBwZW5kSHRtbHMpO1xyXG4gICAgfVxyXG59Ki9cclxuXHJcbiAvKuWIpOaWrUlF5rWP6KeI5Zmo54mI5pysKi9cclxuIGZ1bmN0aW9uIGdldEludGVybmV0RXhwbG9yZXJWZXJzaW9uKCkge1xyXG4gICAgIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XHJcbiAgICAgLy/mmK9JRea1j+iniOWZqFxyXG4gICAgIGlmKHVhLmluZGV4T2YoXCJNU0lFXCIpICE9IC0xKSB7XHJcbiAgICAgICAgIC8v5Yik5pat5rWP6KeI5Zmo54mI5pysIOS9juS6jklFMTAg5YGa5Ye65o+Q56S6XHJcbiAgICAgICAgIGlmKHVhLmluZGV4T2YoXCJNU0lFIDkuMFwiKSAhPSAtMSB8fCB1YS5pbmRleE9mKFwiTVNJRSA4LjBcIikgIT0gLTEgfHwgdWEuaW5kZXhPZihcIk1TSUUgNy4wXCIpICE9IC0xKXtcclxuICAgICAgICAgICAgIHNob3dXYXJuaW5nVG9hc3QoJ+WPkeeOsOaCqOeahElF5rWP6KeI5Zmo54mI5pys6L6D5L2O77yM5Li65LqG5LiN5b2x5ZON5oKo55qE5L2/55So5L2T6aqM77yM5bu66K6u5oKo5L2/55SoQ2hyb21l5rWP6KeI5Zmo5oiW5bCGSUXmtY/op4jlmajljYfnuqfkuLpJRSAxMOWPiuS7peS4iueJiOacrCcsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgfSwzNjAwLCd0b3AtY2VudGVyJyk7XHJcbiAgICAgICAgIH1cclxuICAgICB9XHJcbiB9XHJcblxyXG4vKipcclxuICog6I635Y+WdXJp5Y+C5pWwXHJcbiAqIEBwYXJhbSBuYW1lXHJcbiAqIEBwYXJhbSB1cmxcclxuICogQHJldHVybnMgeyp9XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKSB7XHJcbiAgICBpZiAoIXVybCkgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlxcXFwkJlwiKTtcclxuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcclxuICAgICAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xyXG4gICAgaWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcclxuICAgIGlmICghcmVzdWx0c1syXSkgcmV0dXJuICcnO1xyXG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xyXG59Il19
