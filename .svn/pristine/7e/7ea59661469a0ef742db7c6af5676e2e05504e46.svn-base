$(function(){init()});function init(){e();n();o();function e(){var e=GetQueryString("version_type");try{var n=new WxLogin({id:"change_qrCode",appid:qrcode_app_id,scope:"snsapi_login",redirect_uri:encodeURI(new_redirect_url+"?version_type="+e),state:"",style:"black",href:qrcode_href});console.log(new_redirect_url+"?version_type="+e)}catch(e){console.log(e)}}function n(){var e=GetQueryString("type");var n=GetQueryString("wx_is_used");var o=GetQueryString("scan_error");console.log(e);if(e==1){$("#step_2").hide()}else if(e==2){$("#itemTwo").addClass("finStep");$(".qrCode").hide();$("#step_2").show();$("#step_3").hide()}else if(e==3){$("#itemTwo").addClass("finStep");$("#itemThree").addClass("finStep");$(".qrCode").hide();$("#step_2").hide();$("#step_3").show();t()}if(n==1){$("#hasBind").show()}}function o(){var e;var n=1;var o=0;var i;var s;function r(){var e=60;n=0;var o=setInterval(function(){if(e>0){$(".getCodeBtn").text(e+"秒");e--}else{$(".getCodeBtn").removeClass("preventClickBtn");$(".getCodeBtn").addClass("btnBlue");$(".getCodeBtn").text("再次获取");n=1;clearInterval(o)}},1e3)}$("#phone").keyup(function(){i=$("#phone").val();if(!$formCheck.checkPhone(i)){$("#phone").addClass("borderRed");$("#phoneBox").show()}else{$("#phone").removeClass("borderRed");$("#phoneBox").hide()}});$(".getCodeBtn").click(function(){i=$("#phone").val();if($formCheck.checkPhone(i)){console.log(i);if(n){$(".getCodeBtn").removeClass("btnBlue");$(this).addClass("preventClickBtn");r();$.get("/sendmsg",{phone:i},function(e){if(e.ret==0){}else{}})}}else{baseUtils.show.redTip("请输入正确的手机号")}});$(".identifyCodeInput").keyup(function(){e=$(".identifyCodeInput").val();if(e.length==0){$(".successTip,.errorTip").show();$(".identifyCodeInput").removeClass("borderRed");return}$.get("/identify",{phoneInIdentify:i,code:e},function(e){if(e.ret==0){$(".successTip").show();$(".errorTip").hide();$(".identifyCodeInput").removeClass("borderRed");o=1}else{$(".successTip").hide();$(".errorTip").show();$(".identifyCodeInput").addClass("borderRed");o=0}})});$("#save").on("click",function(){s=$("#linkman").val();i=$("#phone").val();if(o==1){$.ajax("/admin/changePhone",{type:"POST",data:{phone:i,contacts:s},success:function(e){console.log(e);if(e.code==0){$(".identifyCodeInput").val("");$("#itemTwo").addClass("finStep");$("#itemThree").addClass("finStep");$(".qrCode").hide();$("#step_2").hide();$("#step_3").show();t()}else{baseUtils.show.redTip(e.msg)}},error:function(e,n,o){console.log(e);console.error(o);console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})}else{baseUtils.show.redTip("请输入验证码")}})}function t(){var e=2;var n=setInterval(function(){if(e>=0){$(".secondJump").text(e);e--}else{o();clearInterval(n)}},1e3);$("#jumpNow").click(function(){o()});function o(){$.get("/loginout",function(e){var n=e.ret;if(n=="0"){window.location="/login"}else{baseUtils.show.redTip("错误");return}})}}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYW5nZUFkbWluLmpzIl0sIm5hbWVzIjpbIiQiLCJpbml0IiwiYmluZEluaXQiLCJzdGVwQ2hhbmdlIiwibmV3QWRtaW4iLCJ2ZXJzaW9uVHlwZSIsIkdldFF1ZXJ5U3RyaW5nIiwib2JqIiwiV3hMb2dpbiIsImlkIiwiYXBwaWQiLCJxcmNvZGVfYXBwX2lkIiwic2NvcGUiLCJyZWRpcmVjdF91cmkiLCJlbmNvZGVVUkkiLCJuZXdfcmVkaXJlY3RfdXJsIiwic3RhdGUiLCJzdHlsZSIsImhyZWYiLCJxcmNvZGVfaHJlZiIsImNvbnNvbGUiLCJsb2ciLCJleCIsInR5cGUiLCJ3eF9pc191c2VkIiwic2Nhbl9lcnJvciIsImhpZGUiLCJhZGRDbGFzcyIsInNob3ciLCJmaW5pc2hKdW1wIiwiY2hlY2tDb2RlIiwic2VuZE1zZyIsImNvZGVDb3JyZWN0IiwicGhvbmUiLCJuYW1lIiwiY291bnQiLCJzZWNvbmRzIiwicm91bmQiLCJzZXRJbnRlcnZhbCIsInRleHQiLCJyZW1vdmVDbGFzcyIsImNsZWFySW50ZXJ2YWwiLCJrZXl1cCIsInZhbCIsIiRmb3JtQ2hlY2siLCJjaGVja1Bob25lIiwiY2xpY2siLCJ0aGlzIiwiZ2V0IiwiZGF0YSIsInJldCIsImJhc2VVdGlscyIsInJlZFRpcCIsImxlbmd0aCIsInBob25lSW5JZGVudGlmeSIsImNvZGUiLCJvbiIsImFqYXgiLCJjb250YWN0cyIsInN1Y2Nlc3MiLCJtc2ciLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsImp1bXAiLCJsb2dpbk91dCIsInJlc3VsdCIsIndpbmRvdyIsImxvY2F0aW9uIl0sIm1hcHBpbmdzIjoiQUFJQUEsRUFBRSxXQUNFQyxRQUdKLFNBQVNBLFFBQ0xDLEdBQ0FDLElBQ0FDLElBS0EsU0FBU0YsS0FHTCxHQUFJRyxHQUFjQyxlQUFlLGVBQ2pDLEtBQ0ksR0FBSUMsR0FBTSxHQUFJQyxVQUNkQyxHQUFJLGdCQUNKQyxNQUFPQyxjQUNQQyxNQUFPLGVBQ1BDLGFBQWNDLFVBQVVD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QUFFeUQsS0FBSyxzQkFDSGxDLEtBQU0sT0FDTjBCLE1BQ0loQixNQUFPQSxFQUNQeUIsU0FBVXhCLEdBRWR5QixRQUFTLFNBQVVWLEdBQ2Y3QixRQUFRQyxJQUFJNEIsRUFDWixJQUFJQSxFQUFLTSxNQUFRLEVBQUcsQ0FDaEJ2RCxFQUFFLHNCQUFzQjJDLElBQUksR0FFNUIzQyxHQUFFLFlBQVkyQixTQUFTLFVBQ3ZCM0IsR0FBRSxjQUFjMkIsU0FBUyxVQUN6QjNCLEdBQUUsV0FBVzBCLE1BQ2IxQixHQUFFLFdBQVcwQixNQUNiMUIsR0FBRSxXQUFXNEIsTUFDYkMsU0FDRyxDQUNIc0IsVUFBVXZCLEtBQUt3QixPQUFPSCxFQUFLVyxPQUduQ0MsTUFBTyxTQUFVQyxFQUFLQyxFQUFRQyxHQUMxQjVDLFFBQVFDLElBQUl5QyxFQUNaMUMsU0FBUXlDLE1BQU1HLEVBQ2Q1QyxTQUFReUMsTUFBTUUsRUFDZFosV0FBVXZCLEtBQUt3QixPQUFPLHNCQUc3QixDQUNERCxVQUFVdkIsS0FBS3dCLE9BQU8sYUFLbEMsUUFBU3ZCLEtBRUwsR0FBSU8sR0FBUSxDQUNaLElBQUk2QixHQUFLM0IsWUFBWSxXQUNqQixHQUFHRixHQUFXLEVBQUUsQ0FDWnBDLEVBQUUsZUFBZXVDLEtBQUtILEVBQ3RCQSxTQUNDLENBQ0Q4QixHQUNBekIsZUFBY3dCLEtBRXBCLElBR0ZqRSxHQUFFLFlBQVk4QyxNQUFNLFdBQ2hCb0IsS0FFSixTQUFTQSxLQUNMbEUsRUFBRWdELElBQUksWUFBYSxTQUFVbUIsR0FDekIsR0FBSVosR0FBT1ksRUFBT2pCLEdBQ2xCLElBQUlLLEdBQVEsSUFBSyxDQUNiYSxPQUFPQyxTQUFXLGFBRWpCLENBQ0RsQixVQUFVdkIsS0FBS3dCLE9BQU8sS0FDdEIiLCJmaWxlIjoiY2hhbmdlQWRtaW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBKZXJ2aXMgb24gMjAxNy82LzI4LlxyXG4gKi9cclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIGluaXQoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBpbml0KCl7XHJcbiAgICBiaW5kSW5pdCgpO1xyXG4gICAgc3RlcENoYW5nZSgpO1xyXG4gICAgbmV3QWRtaW4oKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBiaW5kSW5pdCgpe1xyXG4gICAgICAgIC8v55Sf5oiQ5LqM57u056CBXHJcbiAgICAgICAgLy8gdmFyIHFyY29kZV9ocmVmPSdodHRwczovL2FkbWluLmluc2lkZS54aWFvZS10ZWNoLmNvbS9jc3MvYWRtaW4vd2VjaGF0Q29kZS5jc3MnO1xyXG4gICAgICAgIHZhciB2ZXJzaW9uVHlwZSA9IEdldFF1ZXJ5U3RyaW5nKFwidmVyc2lvbl90eXBlXCIpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgV3hMb2dpbih7XHJcbiAgICAgICAgICAgIGlkOiBcImNoYW5nZV9xckNvZGVcIixcclxuICAgICAgICAgICAgYXBwaWQ6IHFyY29kZV9hcHBfaWQsXHJcbiAgICAgICAgICAgIHNjb3BlOiBcInNuc2FwaV9sb2dpblwiLFxyXG4gICAgICAgICAgICByZWRpcmVjdF91cmk6IGVuY29kZVVSSShuZXdfcmVkaXJlY3RfdXJsICsgXCI/dmVyc2lvbl90eXBlPVwiICsgdmVyc2lvblR5cGUpLFxyXG4gICAgICAgICAgICBzdGF0ZTogXCJcIixcclxuICAgICAgICAgICAgc3R5bGU6IFwiYmxhY2tcIixcclxuICAgICAgICAgICAgaHJlZjogcXJjb2RlX2hyZWZcclxuICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobmV3X3JlZGlyZWN0X3VybCArIFwiP3ZlcnNpb25fdHlwZT1cIiArIHZlcnNpb25UeXBlKTtcclxuICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN0ZXBDaGFuZ2UoKXtcclxuICAgICAgICB2YXIgdHlwZT1HZXRRdWVyeVN0cmluZygndHlwZScpO1xyXG4gICAgICAgIHZhciB3eF9pc191c2VkPUdldFF1ZXJ5U3RyaW5nKCd3eF9pc191c2VkJyk7XHJcbiAgICAgICAgdmFyIHNjYW5fZXJyb3I9R2V0UXVlcnlTdHJpbmcoJ3NjYW5fZXJyb3InKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2codHlwZSk7XHJcbiAgICAgICAgaWYodHlwZSA9PSAxKXtcclxuICAgICAgICAgICAgJCgnI3N0ZXBfMicpLmhpZGUoKTtcclxuICAgICAgICB9ZWxzZSBpZih0eXBlID09IDIpe1xyXG4gICAgICAgICAgICAkKCcjaXRlbVR3bycpLmFkZENsYXNzKCdmaW5TdGVwJyk7XHJcbiAgICAgICAgICAgICQoJy5xckNvZGUnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNzdGVwXzInKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJyNzdGVwXzMnKS5oaWRlKCk7XHJcblxyXG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT0gMyl7XHJcbiAgICAgICAgICAgICQoJyNpdGVtVHdvJykuYWRkQ2xhc3MoJ2ZpblN0ZXAnKTtcclxuICAgICAgICAgICAgJCgnI2l0ZW1UaHJlZScpLmFkZENsYXNzKCdmaW5TdGVwJyk7XHJcbiAgICAgICAgICAgICQoJy5xckNvZGUnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNzdGVwXzInKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNzdGVwXzMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIGZpbmlzaEp1bXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYod3hfaXNfdXNlZCA9PTEpe1xyXG4gICAgICAgICAgICQoJyNoYXNCaW5kJykuc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG5ld0FkbWluKCkge1xyXG4gICAgICAgIHZhciBjaGVja0NvZGU7ICAvL+aJi+acuumqjOivgeeggVxyXG4gICAgICAgIHZhciBzZW5kTXNnID0gMTsgICAgLy/mmK/lkKblj6/ojrflj5bpqozor4HnoIFcclxuICAgICAgICB2YXIgY29kZUNvcnJlY3QgPSAwOyAvL+mqjOivgeeggeaYr+WQpuato+ehrlxyXG4gICAgICAgIHZhciBwaG9uZTsgLy/miYvmnLrlj7dcclxuICAgICAgICB2YXIgbmFtZTsgIC8v6IGU57O75Lq6XHJcbiAgICAgICAgZnVuY3Rpb24gY291bnQoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWNvbmRzID0gNjA7XHJcbiAgICAgICAgICAgIHNlbmRNc2cgPSAwO1xyXG4gICAgICAgICAgICB2YXIgcm91bmQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kcyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmdldENvZGVCdG5cIikudGV4dChzZWNvbmRzICsgJ+enkicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZHMtLTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5nZXRDb2RlQnRuXCIpLnJlbW92ZUNsYXNzKCdwcmV2ZW50Q2xpY2tCdG4nKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmdldENvZGVCdG5cIikuYWRkQ2xhc3MoJ2J0bkJsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmdldENvZGVCdG5cIikudGV4dCgn5YaN5qyh6I635Y+WJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VuZE1zZyA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChyb3VuZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMDApXHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJyNwaG9uZScpLmtleXVwKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHBob25lID0gJCgnI3Bob25lJykudmFsKCk7XHJcbiAgICAgICAgICAgIGlmKCEkZm9ybUNoZWNrLmNoZWNrUGhvbmUocGhvbmUpKXtcclxuICAgICAgICAgICAgICAgICQoXCIjcGhvbmVcIikuYWRkQ2xhc3MoJ2JvcmRlclJlZCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnI3Bob25lQm94Jykuc2hvdygpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICQoXCIjcGhvbmVcIikucmVtb3ZlQ2xhc3MoJ2JvcmRlclJlZCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnI3Bob25lQm94JykuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvL+iOt+WPlumqjOivgeeggVxyXG4gICAgICAgICQoXCIuZ2V0Q29kZUJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBob25lID0gJCgnI3Bob25lJykudmFsKCk7XHJcbiAgICAgICAgICAgIGlmKCRmb3JtQ2hlY2suY2hlY2tQaG9uZShwaG9uZSkpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGhvbmUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbmRNc2cpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmdldENvZGVCdG5cIikucmVtb3ZlQ2xhc3MoJ2J0bkJsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdwcmV2ZW50Q2xpY2tCdG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICQuZ2V0KFwiL3NlbmRtc2dcIiwge1wicGhvbmVcIjogcGhvbmV9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZXQgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfor7fovpPlhaXmraPnoa7nmoTmiYvmnLrlj7cnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8v5qCh6aqM6aqM6K+B56CBXHJcbiAgICAgICAgJChcIi5pZGVudGlmeUNvZGVJbnB1dFwiKS5rZXl1cChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNoZWNrQ29kZSA9ICQoXCIuaWRlbnRpZnlDb2RlSW5wdXRcIikudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY2hlY2tDb2RlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLnN1Y2Nlc3NUaXAsLmVycm9yVGlwXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoXCIuaWRlbnRpZnlDb2RlSW5wdXRcIikucmVtb3ZlQ2xhc3MoJ2JvcmRlclJlZCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQuZ2V0KCcvaWRlbnRpZnknLCB7XCJwaG9uZUluSWRlbnRpZnlcIjogcGhvbmUsIFwiY29kZVwiOiBjaGVja0NvZGV9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZXQgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnN1Y2Nlc3NUaXBcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmVycm9yVGlwXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5pZGVudGlmeUNvZGVJbnB1dFwiKS5yZW1vdmVDbGFzcygnYm9yZGVyUmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVDb3JyZWN0ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnN1Y2Nlc3NUaXBcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmVycm9yVGlwXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5pZGVudGlmeUNvZGVJbnB1dFwiKS5hZGRDbGFzcygnYm9yZGVyUmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVDb3JyZWN0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL+mqjOivgemqjOivgeegge+8jOehruiupOeCueWHu+S6i+S7tlxyXG5cclxuICAgICAgICAvLyAkKCcjcGhvbmVDaGVjayAuYnRuQmx1ZScpLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyAgICAgaWYoY29kZUNvcnJlY3QgPT0gMSl7XHJcbiAgICAgICAgLy8gICAgICAgICAkKFwiLmlkZW50aWZ5Q29kZUlucHV0XCIpLnZhbCgnJyk7XHJcbiAgICAgICAgLy8gICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj0nL2NoYW5nZUFkbWluJztcclxuICAgICAgICAvLyAgICAgfWVsc2UgaWYoY29kZUNvcnJlY3QgPT0gMCl7XHJcbiAgICAgICAgLy8gICAgICAgICAvLyBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aCqOmqjOivgeeggeacqumAmui/hycpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vc2F2ZSDkv53lrZjmjInpkq5hamF4XHJcbiAgICAgICAgJCgnI3NhdmUnKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIG5hbWUgPSAkKCcjbGlua21hbicpLnZhbCgpO1xyXG4gICAgICAgICAgICBwaG9uZSA9ICQoJyNwaG9uZScpLnZhbCgpO1xyXG4gICAgICAgICAgICBpZihjb2RlQ29ycmVjdCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoJy9hZG1pbi9jaGFuZ2VQaG9uZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogcGhvbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RzOiBuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmlkZW50aWZ5Q29kZUlucHV0XCIpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24uaHJlZj0nL2NoYW5nZUFkbWluP3R5cGU9Myc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaXRlbVR3bycpLmFkZENsYXNzKCdmaW5TdGVwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaXRlbVRocmVlJykuYWRkQ2xhc3MoJ2ZpblN0ZXAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5xckNvZGUnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc3RlcF8yJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3N0ZXBfMycpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaEp1bXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHhocik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+e9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfor7fovpPlhaXpqozor4HnoIEnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaW5pc2hKdW1wKCl7XHJcbiAgICAgICAgLy/mlbDlrZfot7Povazlrprml7blmahcclxuICAgICAgICB2YXIgc2Vjb25kcz0yO1xyXG4gICAgICAgIHZhciBqdW1wPXNldEludGVydmFsKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKHNlY29uZHMgPj0gMCl7XHJcbiAgICAgICAgICAgICAgICAkKCcuc2Vjb25kSnVtcCcpLnRleHQoc2Vjb25kcyk7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRzLS07XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbG9naW5PdXQoKTtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoanVtcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LDEwMDApXHJcblxyXG4gICAgICAgIC8v56uL5Y2z6Lez6L2sXHJcbiAgICAgICAgJChcIiNqdW1wTm93XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbG9naW5PdXQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBmdW5jdGlvbiBsb2dpbk91dCgpe1xyXG4gICAgICAgICAgICAkLmdldCgnL2xvZ2lub3V0JywgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSByZXN1bHQucmV0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gXCIwXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBcIi9sb2dpblwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6ZSZ6K+vXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59Il19
