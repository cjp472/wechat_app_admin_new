$(document).ready(function(){$("#searchButton").click(function(){showLoading();var e=$("select[name='ruler']").val();var o="";if(microfunc){var o=$("select[name='apptype']").val()}var n=$("input[name='search']").val();var t=getUrlParam("forbid");t=t?"&forbid=1":"";if(microfunc){var o=$("select[name='apptype']").val();window.location.href="/feedback?ruler="+e+"&search="+n+"&apptype="+o+t}else{window.location.href="/feedback?ruler="+e+"&search="+n+t}hideLoading()});keyEnter($("#searchButton"));$("select[name=apptype]").on("change",function(){$("#searchButton").click()});initMsgModel();$(".msg_glyphicon").on("mouseover",function(){$(this).find(".msg_showbox").show()}).on("mouseleave",function(){$(this).find(".msg_showbox").hide()});$("#msg_glyphicon").on("mouseover",function(){$(".msg_showbox").show()}).on("mouseleave",function(){$(".msg_showbox").hide()}).on("click",function(){$(".msg_showbox").toggle()})});function jumpDetail(e){var e=e;var o=e.split("|")[0];var n=e.split("|")[1];resetUrl("/customerdetail?appId="+o+"&userId="+n)}function forbid(e){var e=e;var o=e.split("|")[0];var n=e.split("|")[1];showLoading();$.post("/forbid",{userId:o,stat:n},function(e){hideLoading();if(e.code==0){baseUtils.show.blueTip("操作成功!",function(){window.location.reload()})}else{window.wxc.xcConfirm("系统繁忙，请稍后再试!","error")}})}function jumpMsg(e){var e=e;var o=e.split("|")[0];var n=e.split("|")[1];var t=e.split("|")[2];$("#SmsModal").modal("show");$(".modal-footer").children("button").eq(0).unbind("click").bind("click",function(){var e=$("#sms_nickname").val();var i=$("#sms_content").val();if(e.length==0){window.wxc.xcConfirm("亲，还未输入发送人昵称哦~","error");return false}if(i.length==0){window.wxc.xcConfirm("亲，还未输入消息内容哦~","error");return false}$("#SmsModal").modal("hide");showLoading();$.post("/customermsg",{appId:o,userId:n,feedbackId:t,nickname:e,content:i},function(e){hideLoading();if(e.ret==0){baseUtils.show.blueTip("发送成功!",function(){window.location.reload()})}else{window.wxc.xcConfirm("系统繁忙，请稍后再试!","error")}})})}function initMsgModel(){$(".model_type").on("click",function(){$(".model_type").removeClass("border_blue");$(this).addClass("border_blue");$("#sms_nickname").val($(this).attr("data-name"));$("#sms_content").val($(this).attr("data-content"));if($("#cancel_model").hasClass("border_blue")){$(".edit_model").addClass("hide");$(".model_type").removeClass("border_blue")}model_id=$(this).attr("data-id");sms_name=$(this).attr("data-name");sms_content=$(this).attr("data-content")});$("#sms_content").keyup(function(){if($(".border_blue").length>0){$(".edit_model").removeClass("hide")}});$("#sms_nickname").keyup(function(){if($(".border_blue").length>0){$(".edit_model").removeClass("hide")}});$(".edit_model").on("click",function(){model_id=$(".border_blue").attr("data-id");var e=$("#sms_nickname").val();var o=$("#sms_content").val();if(model_id==""){model_id=0;if(e!=""&&o!=""){console.log("新增模板："+model_id+">>"+e+">>"+o)}else{baseUtils.show.redTip("您的发送人昵称/内容为空");return}}else{if(e!=""&&o!=""){console.log("更新模板："+model_id+">>"+e+">>"+o)}else{baseUtils.show.redTip("您的发送人昵称/内容为空");return}}if(e==sms_name&&o==sms_content){baseUtils.show.redTip("您没有做任何模板修改")}else{showLoading();var n="/modelchange";$.post(n,{model_id:model_id,send_nick_name:e,content:o},function(n){hideLoading();console.log(n);var t=n.code;var i=n.msg;baseUtils.show.blueTip(i);if(t==0){$(".border_blue").attr("data-id",n.id);$(".border_blue").attr("data-name",e);$(".border_blue").attr("data-content",o);needRefresh=true}else if(t==1){console.log(n.errorMsg)}else if(t==2){$(".border_blue").attr("data-name",e);$(".border_blue").attr("data-content",o);needRefresh=true}})}})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZlZWRiYWNrLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiY2xpY2siLCJzaG93TG9hZGluZyIsInJ1bGVyIiwidmFsIiwiYXBwdHlwZSIsIm1pY3JvZnVuYyIsInNlYXJjaCIsImZvcmJpZCIsImdldFVybFBhcmFtIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiaGlkZUxvYWRpbmciLCJrZXlFbnRlciIsIm9uIiwiaW5pdE1zZ01vZGVsIiwidGhpcyIsImZpbmQiLCJzaG93IiwiaGlkZSIsInRvZ2dsZSIsImp1bXBEZXRhaWwiLCJpbmZvIiwiYXBwSWQiLCJzcGxpdCIsInVzZXJJZCIsInJlc2V0VXJsIiwic3RhdCIsInBvc3QiLCJkYXRhIiwiY29kZSIsImJhc2VVdGlscyIsImJsdWVUaXAiLCJyZWxvYWQiLCJ3eGMiLCJ4Y0NvbmZpcm0iLCJqdW1wTXNnIiwiZmRJZCIsIm1vZGFsIiwiY2hpbGRyZW4iLCJlcSIsInVuYmluZCIsImJpbmQiLCJuaWNrbmFtZSIsImNvbnRlbnQiLCJsZW5ndGgiLCJmZWVkYmFja0lkIiwicmV0IiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImF0dHIiLCJoYXNDbGFzcyIsIm1vZGVsX2lkIiwic21zX25hbWUiLCJzbXNfY29udGVudCIsImtleXVwIiwibmFtZSIsImNvbnNvbGUiLCJsb2ciLCJyZWRUaXAiLCJ1cmwiLCJzZW5kX25pY2tfbmFtZSIsInJlc3VsdCIsIlJlQ29kZSIsIm1zZyIsImlkIiwibmVlZFJlZnJlc2giLCJlcnJvck1zZyJdLCJtYXBwaW5ncyI6IkFBR0FBLEVBQUVDLFVBQVVDLE1BQU0sV0FJZEYsRUFBRSxpQkFBaUJHLE1BQU0sV0FDckJDLGFBQ0EsSUFBSUMsR0FBTUwsRUFBRSx3QkFBd0JNLEtBQ3BDLElBQUlDLEdBQVUsRUFDZCxJQUFHQyxVQUFVLENBQ1QsR0FBSUQsR0FBUVAsRUFBRSwwQkFBMEJNLE1BRTVDLEdBQUlHLEdBQU9ULEVBQUUsd0JBQXdCTSxLQUNyQyxJQUFJSSxHQUFTQyxZQUFZLFNBQ3pCRCxHQUFTQSxFQUFRLFlBQWMsRUFDL0IsSUFBR0YsVUFBVSxDQUNULEdBQUlELEdBQVFQLEVBQUUsMEJBQTBCTSxLQUN4Q00sUUFBT0MsU0FBU0MsS0FBSyxtQkFBbUJULEVBQU0sV0FBV0ksRUFBTyxZQUFZRixFQUFRRyxNQUNuRixDQUNERSxPQUFPQyxTQUFTQyxLQUFLLG1CQUFtQlQsRUFBTSxXQUFXSSxFQUFPQyxFQUVwRUssZUFJSkMsVUFBU2hCLEVBQUUsaUJBRVhBLEdBQUUsd0JBQXdCaUIsR0FBRyxTQUFVLFdBQ25DakIsRUFBRSxpQkFBaUJHLFNBSXZCZSxlQUNBbEIsR0FBRSxrQkFBa0JpQixHQUFHLFlBQWEsV0FDaENqQixFQUFFbUIsTUFBTUMsS0FBSyxnQkFBZ0JDLFNBQzlCSixHQUFHLGFBQWMsV0FDaEJqQixFQUFFbUIsTUFBTUMsS0FBSyxnQkFBZ0JFLFFBRWpDdEIsR0FBRSxrQkFBa0JpQixHQUFHLFlBQWEsV0FDaENqQixFQUFFLGdCQUFnQnFCLFNBQ25CSixHQUFHLGFBQWMsV0FDaEJqQixFQUFFLGdCQUFnQnNCLFNBQ25CTCxHQUFHLFFBQVMsV0FDWGpCLEVBQUUsZ0JBQWdCdUIsWUFLMUIsU0FBU0MsWUFBV0MsR0FFaEIsR0FBSUEsR0FBS0EsQ0FDVCxJQUFJQyxHQUFNRCxFQUFLRSxNQUFNLEtBQUssRUFDMUIsSUFBSUMsR0FBT0gsRUFBS0UsTUFBTSxLQUFLLEVBQzNCRSxVQUFTLHlCQUF5QkgsRUFBTSxXQUFXRSxHQUl2RCxRQUFTbEIsUUFBT2UsR0FFWixHQUFJQSxHQUFLQSxDQUNULElBQUlHLEdBQU9ILEVBQUtFLE1BQU0sS0FBSyxFQUMzQixJQUFJRyxHQUFLTCxFQUFLRSxNQUFNLEtBQUssRUFFekJ2QixjQUNBSixHQUFFK0IsS0FBSyxXQUFXSCxPQUFTQSxFQUFPRSxLQUFPQSxHQUFNLFNBQVNFLEdBRXBEakIsYUFDQSxJQUFHaUIsRUFBS0MsTUFBTSxFQUNkLENBQ0lDLFVBQVViLEtBQUtjLFFBQVEsUUFBUyxXQUM1QnZCLE9BQU9DLFNBQVN1QixlQUl4QixDQUNJeEIsT0FBT3lCLElBQUlDLFVBQVUsY0FBYyxZQU8vQyxRQUFTQyxTQUFRZCxHQUViLEdBQUlBLEdBQUtBLENBQ1QsSUFBSUMsR0FBTUQsRUFBS0UsTUFBTSxLQUFLLEVBQzFCLElBQUlDLEdBQU9ILEVBQUtFLE1BQU0sS0FBSyxFQUMzQixJQUFJYSxHQUFLZixFQUFLRSxNQUFNLEtBQUssRUFDekIzQixHQUFFLGFBQWF5QyxNQUFNLE9BRXJCekMsR0FBRSxpQkFBaUIwQyxTQUFTLFVBQVVDLEdBQUcsR0FBR0MsT0FBTyxTQUFTQyxLQUFLLFFBQVUsV0FFdkUsR0FBSUMsR0FBUzlDLEVBQUUsaUJBQWlCTSxLQUNoQyxJQUFJeUMsR0FBUS9DLEVBQUUsZ0JBQWdCTSxLQUM5QixJQUFHd0MsRUFBU0UsUUFBVSxFQUN0QixDQUNJcEMsT0FBT3lCLElBQUlDLFVBQVUsZ0JBQWdCLFFBQ3JDLE9BQU8sT0FFWCxHQUFHUyxFQUFRQyxRQUFVLEVBQ3JCLENBQ0lwQyxPQUFPeUIsSUFBSUMsVUFBVSxlQUFlLFFBQ3BDLE9BQU8sT0FFWHRDLEVBQUUsYUFBYXlDLE1BQU0sT0FDckJyQyxjQUNBSixHQUFFK0IsS0FBSyxnQkFBZ0JMLE1BQVFBLEVBQU1FLE9BQVNBLEVBQU9xQixXQUFhVCxFQUFLTSxTQUFXQSxFQUFTQyxRQUFVQSxHQUFTLFNBQVNmLEdBRW5IakIsYUFDQSxJQUFHaUIsRUFBS2tCLEtBQUssRUFDYixDQUtJaEIsVUFBVWIsS0FBS2MsUUFBUSxRQUFTLFdBQzVCdkIsT0FBT0MsU0FBU3VCLGVBSXhCLENBQ0l4QixPQUFPeUIsSUFBSUMsVUFBVSxjQUFjLGNBTW5ELFFBQVNwQixnQkFFTGxCLEVBQUUsZUFBZWlCLEdBQUcsUUFBUSxXQUN4QmpCLEVBQUUsZUFBZW1ELFlBQVksY0FDN0JuRCxHQUFFbUIsTUFBTWlDLFNBQVMsY0FDakJwRCxHQUFFLGlCQUFpQk0sSUFBSU4sRUFBRW1CLE1BQU1rQyxLQUFLLGFBQ3BDckQsR0FBRSxnQkFBZ0JNLElBQUlOLEVBQUVtQixNQUFNa0MsS0FBSyxnQkFDbkMsSUFBR3JELEVBQUUsaUJBQWlCc0QsU0FBUyxlQUFlLENBQzFDdEQsRUFBRSxlQUFlb0QsU0FBUyxPQUMxQnBELEdBQUUsZUFBZW1ELFlBQVksZUFFakNJLFNBQVd2RCxFQUFFbUIsTUFBTWtDLEtBQUssVUFDeEJHLFVBQVd4RCxFQUFFbUIsTUFBTWtDLEtBQUssWUFDeEJJLGFBQWN6RCxFQUFFbUIsTUFBTWtDLEtBQUssaUJBRy9CckQsR0FBRSxnQkFBZ0IwRCxNQUFNLFdBQ3BCLEdBQUcxRCxFQUFFLGdCQUFnQmdELE9BQVEsRUFBRSxDQUMzQmhELEVBQUUsZUFBZW1ELFlBQVksVUFJckNuRCxHQUFFLGlCQUFpQjBELE1BQU0sV0FDckIsR0FBRzFELEVBQUUsZ0JBQWdCZ0QsT0FBUSxFQUFFLENBQzNCaEQsRUFBRSxlQUFlbUQsWUFBWSxVQUlyQ25ELEdBQUUsZUFBZWlCLEdBQUcsUUFBUSxXQUV4QnNDLFNBQVd2RCxFQUFFLGdCQUFnQnFELEtBQUssVUFDbEMsSUFBSU0sR0FBTzNELEVBQUUsaUJBQWlCTSxLQUM5QixJQUFJeUMsR0FBUy9DLEVBQUUsZ0JBQWdCTSxLQUMvQixJQUFHaUQsVUFBVSxHQUFHLENBRVpBLFNBQVcsQ0FDWCxJQUFHSSxHQUFNLElBQU1aLEdBQVMsR0FBRyxDQUN2QmEsUUFBUUMsSUFBSSxRQUFRTixTQUFTLEtBQUtJLEVBQUssS0FBS1osT0FDM0MsQ0FDRGIsVUFBVWIsS0FBS3lDLE9BQU8sZUFDdEIsYUFFSCxDQUVELEdBQUdILEdBQU0sSUFBTVosR0FBUyxHQUFHLENBQ3ZCYSxRQUFRQyxJQUFJLFFBQVFOLFNBQVMsS0FBS0ksRUFBSyxLQUFLWixPQUMzQyxDQUNEYixVQUFVYixLQUFLeUMsT0FBTyxlQUN0QixTQUdSLEdBQUdILEdBQVFILFVBQVlULEdBQVdVLFlBQVksQ0FDMUN2QixVQUFVYixLQUFLeUMsT0FBTyxrQkFDckIsQ0FDRDFELGFBQ0EsSUFBSTJELEdBQU0sY0FDVi9ELEdBQUUrQixLQUFLZ0MsR0FBTVIsU0FBWUEsU0FBU1MsZUFBaUJMLEVBQUtaLFFBQVVBLEdBQVMsU0FBVWtCLEdBQ2pGbEQsYUFDQTZDLFNBQVFDLElBQUlJLEVBQ1osSUFBSUMsR0FBU0QsRUFBT2hDLElBQ3BCLElBQUlSLEdBQU93QyxFQUFPRSxHQUNsQmpDLFdBQVViLEtBQUtjLFFBQVFWLEVBQ3ZCLElBQUd5QyxHQUFRLEVBQUUsQ0FDVGxFLEVBQUUsZ0JBQWdCcUQsS0FBSyxVQUFVWSxFQUFPRyxHQUN4Q3BFLEdBQUUsZ0JBQWdCcUQsS0FBSyxZQUFZTSxFQUNuQzNELEdBQUUsZ0JBQWdCcUQsS0FBSyxlQUFlTixFQUN0Q3NCLGFBQWMsU0FDWixJQUFHSCxHQUFRLEVBQUUsQ0FDZk4sUUFBUUMsSUFBSUksRUFBT0ssY0FDakIsSUFBR0osR0FBUSxFQUFFLENBQ2ZsRSxFQUFFLGdCQUFnQnFELEtBQUssWUFBWU0sRUFDbkMzRCxHQUFFLGdCQUFnQnFELEtBQUssZUFBZU4sRUFDdENzQixhQUFjIiwiZmlsZSI6ImZlZWRiYWNrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgU3R1cGhpbiBvbiAyMDE2LzkvMjguXHJcbiAqL1xyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpXHJcbntcclxuXHJcbiAgICAvL+aQnOe0olxyXG4gICAgJChcIiNzZWFyY2hCdXR0b25cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICB2YXIgcnVsZXI9JChcInNlbGVjdFtuYW1lPSdydWxlciddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBhcHB0eXBlID0gJyc7XHJcbiAgICAgICAgaWYobWljcm9mdW5jKXtcclxuICAgICAgICAgICAgdmFyIGFwcHR5cGU9JChcInNlbGVjdFtuYW1lPSdhcHB0eXBlJ11cIikudmFsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzZWFyY2g9JChcImlucHV0W25hbWU9J3NlYXJjaCddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBmb3JiaWQgPSBnZXRVcmxQYXJhbSgnZm9yYmlkJyk7XHJcbiAgICAgICAgZm9yYmlkID0gZm9yYmlkPyAnJmZvcmJpZD0xJyA6ICcnO1xyXG4gICAgICAgIGlmKG1pY3JvZnVuYyl7XHJcbiAgICAgICAgICAgIHZhciBhcHB0eXBlPSQoXCJzZWxlY3RbbmFtZT0nYXBwdHlwZSddXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cIi9mZWVkYmFjaz9ydWxlcj1cIitydWxlcitcIiZzZWFyY2g9XCIrc2VhcmNoKycmYXBwdHlwZT0nK2FwcHR5cGUrZm9yYmlkO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cIi9mZWVkYmFjaz9ydWxlcj1cIitydWxlcitcIiZzZWFyY2g9XCIrc2VhcmNoK2ZvcmJpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8v5Zue6L2m5pCc57SiXHJcbiAgICBrZXlFbnRlcigkKFwiI3NlYXJjaEJ1dHRvblwiKSk7XHJcblxyXG4gICAgJChcInNlbGVjdFtuYW1lPWFwcHR5cGVdXCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiI3NlYXJjaEJ1dHRvblwiKS5jbGljaygpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGluaXRNc2dNb2RlbCgpO1xyXG4gICAgJCgnLm1zZ19nbHlwaGljb24nKS5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZmluZCgnLm1zZ19zaG93Ym94Jykuc2hvdygpO1xyXG4gICAgfSkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5maW5kKCcubXNnX3Nob3dib3gnKS5oaWRlKCk7XHJcbiAgICB9KTtcclxuICAgICQoJyNtc2dfZ2x5cGhpY29uJykub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcubXNnX3Nob3dib3gnKS5zaG93KCk7XHJcbiAgICB9KS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcubXNnX3Nob3dib3gnKS5oaWRlKCk7XHJcbiAgICB9KS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLm1zZ19zaG93Ym94JykudG9nZ2xlKCk7XHJcbiAgICB9KTtcclxuXHJcbn0pO1xyXG4vL+iwg+WIsOivpuaDhemhtVxyXG5mdW5jdGlvbiBqdW1wRGV0YWlsKGluZm8pXHJcbntcclxuICAgIHZhciBpbmZvPWluZm87XHJcbiAgICB2YXIgYXBwSWQ9aW5mby5zcGxpdChcInxcIilbMF07XHJcbiAgICB2YXIgdXNlcklkPWluZm8uc3BsaXQoXCJ8XCIpWzFdO1xyXG4gICAgcmVzZXRVcmwoJy9jdXN0b21lcmRldGFpbD9hcHBJZD0nK2FwcElkKycmdXNlcklkPScrdXNlcklkKTtcclxufVxyXG5cclxuLy91c2VyK2ZvcmJpZFxyXG5mdW5jdGlvbiBmb3JiaWQoaW5mbylcclxue1xyXG4gICAgdmFyIGluZm89aW5mbztcclxuICAgIHZhciB1c2VySWQ9aW5mby5zcGxpdChcInxcIilbMF07XHJcbiAgICB2YXIgc3RhdD1pbmZvLnNwbGl0KFwifFwiKVsxXTtcclxuXHJcbiAgICBzaG93TG9hZGluZygpO1xyXG4gICAgJC5wb3N0KFwiL2ZvcmJpZFwiLHtcInVzZXJJZFwiOnVzZXJJZCxcInN0YXRcIjpzdGF0fSxmdW5jdGlvbihkYXRhKVxyXG4gICAge1xyXG4gICAgICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgaWYoZGF0YS5jb2RlPT0wKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuaTjeS9nOaIkOWKnyFcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgd2luZG93Lnd4Yy54Y0NvbmZpcm0oXCLns7vnu5/nuYHlv5nvvIzor7fnqI3lkI7lho3or5UhXCIsXCJlcnJvclwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcbi8v5Y+R5raI5oGvLOWFiOi1sOi/meS4qmpz5YaN6LWw5by55qGGXHJcbmZ1bmN0aW9uIGp1bXBNc2coaW5mbylcclxue1xyXG4gICAgdmFyIGluZm89aW5mbztcclxuICAgIHZhciBhcHBJZD1pbmZvLnNwbGl0KFwifFwiKVswXTtcclxuICAgIHZhciB1c2VySWQ9aW5mby5zcGxpdChcInxcIilbMV07XHJcbiAgICB2YXIgZmRJZD1pbmZvLnNwbGl0KFwifFwiKVsyXTtcclxuICAgICQoXCIjU21zTW9kYWxcIikubW9kYWwoJ3Nob3cnKTtcclxuICAgIC8v56Gu6K6k5oyJ6ZKu54K55Ye7XHJcbiAgICAkKFwiLm1vZGFsLWZvb3RlclwiKS5jaGlsZHJlbihcImJ1dHRvblwiKS5lcSgwKS51bmJpbmQoXCJjbGlja1wiKS5iaW5kKFwiY2xpY2tcIiAsIGZ1bmN0aW9uICgpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIG5pY2tuYW1lPSQoXCIjc21zX25pY2tuYW1lXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBjb250ZW50PSQoXCIjc21zX2NvbnRlbnRcIikudmFsKCk7XHJcbiAgICAgICAgaWYobmlja25hbWUubGVuZ3RoID09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3aW5kb3cud3hjLnhjQ29uZmlybSgn5Lqy77yM6L+Y5pyq6L6T5YWl5Y+R6YCB5Lq65pi156ew5ZOmficsJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoY29udGVudC5sZW5ndGggPT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHdpbmRvdy53eGMueGNDb25maXJtKCfkurLvvIzov5jmnKrovpPlhaXmtojmga/lhoXlrrnlk6Z+JywnZXJyb3InKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKFwiI1Ntc01vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICAkLnBvc3QoXCIvY3VzdG9tZXJtc2dcIix7XCJhcHBJZFwiOmFwcElkLFwidXNlcklkXCI6dXNlcklkLFwiZmVlZGJhY2tJZFwiOmZkSWQsXCJuaWNrbmFtZVwiOm5pY2tuYW1lLFwiY29udGVudFwiOmNvbnRlbnR9LGZ1bmN0aW9uKGRhdGEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgICAgICBpZihkYXRhLnJldD09MClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy93aW5kb3cud3hjLnhjQ29uZmlybShcIuWPkemAgeaIkOWKn1wiLFwic3VjY2Vzc1wiLHtvbk9rOmZ1bmN0aW9uICgpXHJcbiAgICAgICAgICAgICAgICAvL3tcclxuICAgICAgICAgICAgICAgIC8vICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIC8vfX0pO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWPkemAgeaIkOWKnyFcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lnd4Yy54Y0NvbmZpcm0oXCLns7vnu5/nuYHlv5nvvIzor7fnqI3lkI7lho3or5UhXCIsXCJlcnJvclwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRNc2dNb2RlbCgpIHtcclxuXHJcbiAgICAkKCcubW9kZWxfdHlwZScpLm9uKFwiY2xpY2tcIixmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLm1vZGVsX3R5cGUnKS5yZW1vdmVDbGFzcygnYm9yZGVyX2JsdWUnKTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdib3JkZXJfYmx1ZScpO1xyXG4gICAgICAgICQoJyNzbXNfbmlja25hbWUnKS52YWwoJCh0aGlzKS5hdHRyKCdkYXRhLW5hbWUnKSk7XHJcbiAgICAgICAgJCgnI3Ntc19jb250ZW50JykudmFsKCQodGhpcykuYXR0cignZGF0YS1jb250ZW50JykpO1xyXG4gICAgICAgIGlmKCQoJyNjYW5jZWxfbW9kZWwnKS5oYXNDbGFzcygnYm9yZGVyX2JsdWUnKSl7XHJcbiAgICAgICAgICAgICQoJy5lZGl0X21vZGVsJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgJCgnLm1vZGVsX3R5cGUnKS5yZW1vdmVDbGFzcygnYm9yZGVyX2JsdWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbW9kZWxfaWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICBzbXNfbmFtZSA9ICQodGhpcykuYXR0cignZGF0YS1uYW1lJyk7XHJcbiAgICAgICAgc21zX2NvbnRlbnQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtY29udGVudCcpO1xyXG4gICAgfSlcclxuXHJcbiAgICAkKCcjc21zX2NvbnRlbnQnKS5rZXl1cChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYoJCgnLmJvcmRlcl9ibHVlJykubGVuZ3RoID4wKXtcclxuICAgICAgICAgICAgJCgnLmVkaXRfbW9kZWwnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNzbXNfbmlja25hbWUnKS5rZXl1cChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYoJCgnLmJvcmRlcl9ibHVlJykubGVuZ3RoID4wKXtcclxuICAgICAgICAgICAgJCgnLmVkaXRfbW9kZWwnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5lZGl0X21vZGVsJykub24oXCJjbGlja1wiLGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL+aVsOaNruW6k+S4jeWtmOWcqOebuOWFs+aooeadv1xyXG4gICAgICAgIG1vZGVsX2lkID0gJCgnLmJvcmRlcl9ibHVlJykuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgICAgIHZhciBuYW1lID0gJCgnI3Ntc19uaWNrbmFtZScpLnZhbCgpO1xyXG4gICAgICAgIHZhciBjb250ZW50PSAkKCcjc21zX2NvbnRlbnQnKS52YWwoKTtcclxuICAgICAgICBpZihtb2RlbF9pZD09XCJcIil7XHJcbiAgICAgICAgICAgIC8v5ZCR5ZCO5Y+w5o+S5YWl5qih5p2/XHJcbiAgICAgICAgICAgIG1vZGVsX2lkID0gMDtcclxuICAgICAgICAgICAgaWYobmFtZSE9XCJcIiAmJiBjb250ZW50IT1cIlwiKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5paw5aKe5qih5p2/77yaXCIrbW9kZWxfaWQrXCI+PlwiK25hbWUrXCI+PlwiK2NvbnRlbnQpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5oKo55qE5Y+R6YCB5Lq65pi156ewL+WGheWuueS4uuepuicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIC8v5pu05paw5Y6f5pyJ5qih5p2/XHJcbiAgICAgICAgICAgIGlmKG5hbWUhPVwiXCIgJiYgY29udGVudCE9XCJcIil7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuabtOaWsOaooeadv++8mlwiK21vZGVsX2lkK1wiPj5cIituYW1lK1wiPj5cIitjb250ZW50KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aCqOeahOWPkemAgeS6uuaYteensC/lhoXlrrnkuLrnqbonKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihuYW1lID09IHNtc19uYW1lICYmIGNvbnRlbnQgPT0gc21zX2NvbnRlbnQpe1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aCqOayoeacieWBmuS7u+S9leaooeadv+S/ruaUuScpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBzaG93TG9hZGluZygpO1xyXG4gICAgICAgICAgICB2YXIgdXJsID0gXCIvbW9kZWxjaGFuZ2VcIjtcclxuICAgICAgICAgICAgJC5wb3N0KHVybCwgeydtb2RlbF9pZCc6IG1vZGVsX2lkLCdzZW5kX25pY2tfbmFtZSc6bmFtZSwnY29udGVudCc6Y29udGVudH0sZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgUmVDb2RlID0gcmVzdWx0LmNvZGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IHJlc3VsdC5tc2c7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGluZm8pO1xyXG4gICAgICAgICAgICAgICAgaWYoUmVDb2RlPT0wKXsgLy/mlrDlu7rmqKHmnb/miJDlip8g5bm26K6+572u5b2T5YmN5pyA5paw5o+S5YWl55qE5rig6YGTaWRcclxuICAgICAgICAgICAgICAgICAgICAkKCcuYm9yZGVyX2JsdWUnKS5hdHRyKCdkYXRhLWlkJyxyZXN1bHQuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5ib3JkZXJfYmx1ZScpLmF0dHIoJ2RhdGEtbmFtZScsbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmJvcmRlcl9ibHVlJykuYXR0cignZGF0YS1jb250ZW50Jyxjb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBuZWVkUmVmcmVzaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihSZUNvZGU9PTEpeyAvL+mUmeivr1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5lcnJvck1zZyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihSZUNvZGU9PTIpeyAvL+abtOaWsOaooeadv+aIkOWKn1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5ib3JkZXJfYmx1ZScpLmF0dHIoJ2RhdGEtbmFtZScsbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmJvcmRlcl9ibHVlJykuYXR0cignZGF0YS1jb250ZW50Jyxjb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBuZWVkUmVmcmVzaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4iXX0=
