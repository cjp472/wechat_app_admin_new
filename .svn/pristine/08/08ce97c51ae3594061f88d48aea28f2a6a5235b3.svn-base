$(function(){resAdd.init()});var id;var pageType;var resourceType;var uploadChannelType=GetQueryString("upload_channel_type")||1;var resourceFree=uploadChannelType==1?2:null;var packageId=GetQueryString("package_id");var resourceParams;var packageName;var columnState=1;var show_resourcecount=1;var classArray=[];var fileAudio1Size;var resAudio1Length;var AudioName;var fileAudio2Size;var resAudio2Length;var tryAudioName;var VideoName;var aliveState;var roleParams=[];var aliveT=0;var backURL="";var prevVal;var if_push,push_ahead;var playState=0;var is_distribute=$("#is_distribute").val();var resAdd=function(){var e={};var i;function a(e){var i=null;if(window.createObjectURL!=undefined){i=window.createObjectURL(e)}else if(window.URL!=undefined){i=window.URL.createObjectURL(e)}else if(window.webkitURL!=undefined){i=window.webkitURL.createObjectURL(e)}return i}function o(e){if(window.revokeObjectURL!=undefined){window.revokeObjectURL(e)}else if(window.URL!=undefined){window.URL.revokeObjectURL(e)}else if(window.webkitURL!=undefined){window.webkitURL.revokeObjectURL(e)}}function t(e,t,n,l){if(e&&e.length>0){var r=e[0];var s=a(r);i=(r.size/(1024*1024)).toFixed(2);resAudio1Lengh=r.duration;if(n=="Audio1"){fileAudio1Size=i;var c=document.getElementById("resourceTime");c.src=s;c.onload=function(){o(s)}}if(n=="Audio2"){fileAudio2Size=i;var u=document.getElementById("tryTime");u.src=s;u.onload=function(){o(s)}}if(t=="audio"){var d=r.name;var p,f;f=d.lastIndexOf(".");if(f!=-1){p=d.substr(f+1).toUpperCase();p=p.toLowerCase();if(p!="mp3"&&p!="wav"&&p!="wma"&&p!="ogg"&&p!="ape"&&p!="acc"){baseUtils.show.blueTip("请上传音频类型的文件哦~!");return}}else{document.all.submit_upload.disabled=true;baseUtils.show.blueTip("请上传音频类型的文件哦~!");return}console.log($("#audioURL"+n));$("#audioURL"+n).hide();$(".uploadBox"+n).fadeIn(300);$(".upload"+n+"Name").html(r.name);$(".upload"+n+"Size span").html(i);$(".uploadPLine"+n).show().find(".uploadPLineActive"+n).css("width","0");$(".uploadPersent"+n).html("");if(n=="Audio1"){AudioName=r.name}else if(n=="Audio2"){tryAudioName=r.name}}if($uploadFile.checkFileSize(r,l)){$uploadFile.uploadRes(r,t,function(e){if(t=="audio"){var i=parseInt(e*100);$(".uploadPLineActive"+n).css("width",i+"%");$(".uploadPersent"+n).text(i+"%")}},function(e){console.log(e);baseUtils.show.blueTip("上传成功！");$(".uploadPersent"+n).text("完成");resUrl=e.data.access_url;console.log(resUrl);$("#"+n+"Url").val(resUrl);if(n=="Audio2"){$(".deleteTryAudio").show()}if(t=="image"){var i=r.name;var a,l;l=i.lastIndexOf(".");if(l!=-1){a=i.substr(l+1).toUpperCase();a=a.toLowerCase();if(a!="jpg"&&a!="png"&&a!="jpeg"&&a!="gif"){baseUtils.show.redTip("请上传图片类型的文件哦~");return}}else{document.all.submit_upload.disabled=true;baseUtils.show.redTip("请上传图片类型的文件哦~");return}$(".previewPic"+n+" img").load(function(){o(s)}).attr("src",s)}},function(e){console.error("上传失败!!!");console.log(e);baseUtils.show.redTip("上传失败！")})}else{baseUtils.show.redTip("上传资源限制在"+l+"MB内！");$(".upLoad"+n).val("")}}else{baseUtils.show.redTip("网络错误，请稍后再试！")}}e.init=function(){aliveTimeConfig(".dateSetInput");resourceType=GetQueryString("type");$(".upLoadImage1").on("change",function(){t(this.files,"image","Image1",5)});$(".previewPicImage1").click(function(){$(".upLoadImage1").click()});$(".upLoadImage2").on("change",function(){t(this.files,"image","Image2",5)});$(".previewPicImage2").click(function(){$(".upLoadImage2").click()});$(".upLoadImage3").on("change",function(){t(this.files,"image","Image3",5)});$(".previewPicImage3").click(function(){$(".upLoadImage3").click()});$(".upLoadImage4").on("change",function(){t(this.files,"image","Image4",5)});$(".previewPicImage4").click(function(){$(".upLoadImage4").click()});$(".upLoadAudio1").on("change",function(){console.log($("#audio_url").duration);t(this.files,"audio","Audio1",200)});$(".upLoadAudio2").on("change",function(){t(this.files,"audio","Audio2",200)});$(".deleteTryAudio").click(function(){$(".upLoadAudio2").val("");$(".uploadBoxAudio2").hide();$("#Audio2Url").val("");$(this).hide();$("#audioURLAudio2").remove()});if(is_distribute!=1){$(".notFreeSelect").click(function(){$(".resPrize").removeAttr("readonly");$(".resPrize").removeAttr("disabled");resourceFree=2;$("#courseRemind").show()});$(".FreeSelect").click(function(){$(".resPrize").attr("readonly","readonly");$(".resPrize").attr("disabled","disabled");$(".resPrize").val(0);resourceFree=1;$("#courseRemind").hide();$("#courseRemind option[value=-1]").prop("selected",true);$("#push_ahead").change()})}push_ahead=$("#push_ahead option:selected").val();if_push=$("#if_push").val()||1;function e(){if(push_ahead==-1){if_push=1}else{if_push=0}}var i=$("#push_ahead");if(i.length>0){console.log(push_ahead);e();console.log(if_push);if(i.data("setting")==1){i.on("change",function(i){var a=$(this),o=+a.val();a.find("option[value="+push_ahead+"]").prop("selected",true);if(push_ahead==-1&&o!=-1){var t="您需要到微信公众号后台将您的服务号所在行业设置为“教育/培训”，设置完成后，开启服务号通知方可正常发送模板消息。"+"<br/><a target='_blank' href='/help/instructions#hp5_wx_service' style='margin-top:10px;'>什么是模板消息？</a>";var n={title:"提示",btn:3,oktext:"我已设置",canceltext:"关闭",icon:"blue",onOk:function(){$.ajax("/has_industry",{type:"GET",dataType:"json",data:{}}).done(function(i){var t=i.ret;if(t==0){a.find("option[value="+o+"]").prop("selected",true);push_ahead=o;e();baseUtils.show.blueTip("模板消息推送开启")}else{baseUtils.show.redTip("无法开启消息推送，请按照提示修改设置")}}).fail(function(e,i,a){console.error(a);baseUtils.show.redTip("网络错误，请稍后再试")})}};$.alert(t,"custom",n);return false}else{push_ahead=o;e();a.find("option[value="+o+"]").prop("selected",true)}})}else{i.on("change",function(i){var a=$(this);push_ahead=+a.val();e()})}}$(".videosSelect").click(function(){$(".aliveVideoBox").slideDown(300);aliveT=1;console.log(aliveT);VideoName=null});$(".voiceSelect").click(function(){$(".aliveVideoBox").slideUp(300);aliveT=0;console.log(aliveT)});$(".aliveSelect").click(function(){$(".aliveVideoBox").slideUp(300);aliveT=2;console.log(aliveT)});$(".pptAliveSelect").click(function(){$(".aliveVideoBox").slideUp(300);aliveT=3;console.log(aliveT)});$(".columnShow").click(function(){columnState=0});$(".columnHide").click(function(){columnState=1});$(".countShow").click(function(){show_resourcecount=1});$(".countHide").click(function(){show_resourcecount=0});$(".lastStepBtn").click(function(){window.history.back()});var a=$("#getBack");if(uploadChannelType==1){backURL="/resource_list_page";a.attr("href",backURL)}else if(uploadChannelType==2){backURL="/package_detail_page?id="+packageId;a.attr("href",backURL)}else if(uploadChannelType==3){backURL="/member_detail_page?id="+packageId;a.attr("href",backURL)}changeSaveFlag(true);var o=$("#serviceToggle");prevVal=+$("#serviceToggle :radio:checked").val()||null;if(o.length>0){if(o.data("setting")==1){o.on("click",":radio",function(e){var i=$(this);var a=+i.val();if(a!==prevVal&&a==1){e.preventDefault();var o="您需要到微信公众号后台将您的服务号所在行业设置为“教育/培训”，设置完成后，开启服务号通知方可正常发送模板消息。"+"<br/><a target='_blank' href='/help/instructions#hp5_wx_service' style='margin-top:10px;'>什么是模板消息？</a>";var t={title:"提示",btn:3,oktext:"我已设置",canceltext:"关闭",icon:"blue",onOk:function(){$.ajax("/has_industry",{type:"GET",dataType:"json",data:{}}).done(function(e){var o=e.ret;if(o==0){i.prop("checked",true);prevVal=a;baseUtils.show.blueTip("模板消息推送开启")}else{baseUtils.show.redTip("无法开启消息推送，请按照提示修改设置")}}).fail(function(e,i,a){console.error(a);baseUtils.show.redTip("网络错误，请稍后再试！")})}};$.alert(o,"custom",t);return false}else{prevVal=a;params["push_state"]=a;$("#serviceToggle").data("state",a)}})}else{o.on("click",":radio",function(e){var i=$(this);var a=i.val();if(a!==prevVal&&a==1){prevVal=a;baseUtils.show.blueTip("模板消息推送开启")}else{prevVal=a}})}}};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc0FkZC5qcyJdLCJuYW1lcyI6WyIkIiwicmVzQWRkIiwiaW5pdCIsImlkIiwicGFnZVR5cGUiLCJyZXNvdXJjZVR5cGUiLCJ1cGxvYWRDaGFubmVsVHlwZSIsIkdldFF1ZXJ5U3RyaW5nIiwicmVzb3VyY2VGcmVlIiwicGFja2FnZUlkIiwicmVzb3VyY2VQYXJhbXMiLCJwYWNrYWdlTmFtZSIsImNvbHVtblN0YXRlIiwic2hvd19yZXNvdXJjZWNvdW50IiwiY2xhc3NBcnJheSIsImZpbGVBdWRpbzFTaXplIiwicmVzQXVkaW8xTGVuZ3RoIiwiQXVkaW9OYW1lIiwiZmlsZUF1ZGlvMlNpemUiLCJyZXNBdWRpbzJMZW5ndGgiLCJ0cnlBdWRpb05hbWUiLCJWaWRlb05hbWUiLCJhbGl2ZVN0YXRlIiwicm9sZVBhcmFtcyIsImFsaXZlVCIsImJhY2tVUkwiLCJwcmV2VmFsIiwiaWZfcHVzaCIsInB1c2hfYWhlYWQiLCJwbGF5U3RhdGUiLCJpc19kaXN0cmlidXRlIiwidmFsIiwiZmlsZVNpemUiLCJnZXRPYmplY3RVUkwiLCJmaWxlIiwidXJsIiwid2luZG93IiwiY3JlYXRlT2JqZWN0VVJMIiwidW5kZWZpbmVkIiwiVVJMIiwid2Via2l0VVJMIiwicmVtb3ZlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwicmVzVXBsb2FkIiwiZmlsZXMiLCJyZXNUeXBlIiwicmVzVHlwZUNsYXNzIiwicmVzTGltaXRTaXplIiwibGVuZ3RoIiwicmVzb3VyY2VMb2NhbFVybCIsInNpemUiLCJ0b0ZpeGVkIiwicmVzQXVkaW8xTGVuZ2giLCJkdXJhdGlvbiIsInJlc291cmNlRWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzcmMiLCJvbmxvYWQiLCJ0cnlFbGVtZW50IiwiYXVkaW9OYW1lIiwibmFtZSIsImV4dCIsImlkeCIsImxhc3RJbmRleE9mIiwic3Vic3RyIiwidG9VcHBlckNhc2UiLCJ0b0xvd2VyQ2FzZSIsImJhc2VVdGlscyIsInNob3ciLCJibHVlVGlwIiwiYWxsIiwic3VibWl0X3VwbG9hZCIsImRpc2FibGVkIiwiY29uc29sZSIsImxvZyIsImhpZGUiLCJmYWRlSW4iLCJodG1sIiwiZmluZCIsImNzcyIsIiR1cGxvYWRGaWxlIiwiY2hlY2tGaWxlU2l6ZSIsInVwbG9hZFJlcyIsImRhdGEiLCJwcm9ncmVzcyIsInBhcnNlSW50IiwidGV4dCIsInJlc1VybCIsImFjY2Vzc191cmwiLCJpbWdOYW1lIiwicmVkVGlwIiwibG9hZCIsImF0dHIiLCJlcnJvciIsImFsaXZlVGltZUNvbmZpZyIsIm9uIiwidGhpcyIsImNsaWNrIiwicmVtb3ZlIiwicmVtb3ZlQXR0ciIsInByb3AiLCJjaGFuZ2UiLCJzZXRJZlB1c2giLCIkcHVzaEFoZWFkIiwiZSIsImVsZSIsImN1clNlbGVjdGVkIiwidHh0Iiwib3B0aW9uIiwidGl0bGUiLCJidG4iLCJva3RleHQiLCJjYW5jZWx0ZXh0IiwiaWNvbiIsIm9uT2siLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwiZG9uZSIsImNvZGUiLCJyZXQiLCJmYWlsIiwieGhyIiwiZXJyIiwiYWxlcnQiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiaGlzdG9yeSIsImJhY2siLCIkZ2V0QmFjayIsImNoYW5nZVNhdmVGbGFnIiwiJHNlcnZpY2VUb2dnbGUiLCJjdXJyVmFsIiwicHJldmVudERlZmF1bHQiLCJwYXJhbXMiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFLFdBQ0VDLE9BQU9DLFFBT1gsSUFBSUMsR0FHSixJQUFJQyxTQUdKLElBQUlDLGFBR0osSUFBSUMsbUJBQW9CQyxlQUFlLHdCQUEwQixDQUdqRSxJQUFJQyxjQUFlRixtQkFBbUIsRUFBSSxFQUFJLElBRzlDLElBQUlHLFdBQVlGLGVBQWUsYUFHL0IsSUFBSUcsZUFHSixJQUFJQyxZQUdKLElBQUlDLGFBQWMsQ0FHbEIsSUFBSUMsb0JBQXFCLENBR3pCLElBQUlDLGNBSUosSUFBSUMsZUFHSixJQUFJQyxnQkFHSixJQUFJQyxVQUdKLElBQUlDLGVBR0osSUFB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QUFLQyxRQUFRLGdCQUNwQixDQUNIRixVQUFVQyxLQUFLc0IsT0FBTyx5QkFFM0IrQixLQUFLLFNBQVNDLEVBQUtwQyxFQUFNcUMsR0FDeEJsRCxRQUFRb0IsTUFBTThCLEVBQ2R4RCxXQUFVQyxLQUFLc0IsT0FBTyxrQkFJbEMzRixHQUFFNkgsTUFBTWpCLEVBQUssU0FBVUMsRUFDdkIsT0FBTyxXQUNKLENBRUhuRixRQUFVMkcsQ0FDVkUsUUFBTyxjQUFnQkYsQ0FDdkJySSxHQUFFLGtCQUFrQm9GLEtBQUssUUFBUWlELFVBR3RDLENBQ0hELEVBQWVwQyxHQUFHLFFBQVMsU0FBVSxTQUFTUyxHQUMxQyxHQUFJQyxHQUFNMUcsRUFBRWlHLEtBQ1osSUFBSW9DLEdBQVUzQixFQUFJM0UsS0FDbEIsSUFBSXNHLElBQVkzRyxTQUFXMkcsR0FBVyxFQUFJLENBQ3RDM0csUUFBVTJHLENBQ1ZqRSxXQUFVQyxLQUFLQyxRQUFRLGdCQUNwQixDQUNINUMsUUFBVTJHLE9BTTlCLE9BQU9wSSIsImZpbGUiOiJyZXNBZGQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGZ1bmN0aW9uICgpIHtcbiAgICByZXNBZGQuaW5pdCgpO1xufSk7XG5cbi8v5YWs5YWx5Y+Y6YeP5byA5aeLXG4vL+WIpOWumuaYr+e8lui+kei/mOaYr+aWsOW7ulxuXG4vL+i1hOa6kOagh+ivhlxudmFyIGlkO1xuXG4vL+e8lui+keaIluaYr+S/ruaUuVxudmFyIHBhZ2VUeXBlO1xuXG4vL+i1hOa6kOexu+Wei1xudmFyIHJlc291cmNlVHlwZTtcblxuLy/mlrDlop7nmoTmuKDpgZMgIOm7mOiupOS4uuWNleWTgVxudmFyIHVwbG9hZENoYW5uZWxUeXBlID0gR2V0UXVlcnlTdHJpbmcoXCJ1cGxvYWRfY2hhbm5lbF90eXBlXCIpIHx8IDE7XG5cbi8v5LuY6LS55b2i5byPXG52YXIgcmVzb3VyY2VGcmVlID0gdXBsb2FkQ2hhbm5lbFR5cGU9PTEgPyAyIDogbnVsbDtcblxuLy/kuJPmoI9JRFxudmFyIHBhY2thZ2VJZCA9IEdldFF1ZXJ5U3RyaW5nKFwicGFja2FnZV9pZFwiKTtcblxuLy8o5b2T6LWE5rqQ5Li66KeG6aKR44CB55u05pKt5pe2LOacieWAvClcbnZhciByZXNvdXJjZVBhcmFtcztcblxuLy/kuJPmoI/lkI3np7BcbnZhciBwYWNrYWdlTmFtZTtcblxuLy/kuJPmoI/kuIrkuIvmnrbnirbmgIFcbnZhciBjb2x1bW5TdGF0ZSA9IDE7XG5cbi8v5LiT5qCP5pyf5pWw5pi+56S6XG52YXIgc2hvd19yZXNvdXJjZWNvdW50ID0gMTtcblxuLy/kuJPmoI/liIbnsbvmlbDnu4RcbnZhciBjbGFzc0FycmF5ID0gW107XG5cbi8v6Z+z6aKR5Y+C5pWw5byA5aeLXG4vL+ato+W8j+mfs+mikeWkp+Wwj1xudmFyIGZpbGVBdWRpbzFTaXplO1xuXG4vL+ato+W8j+mfs+mikemVv+W6plxudmFyIHJlc0F1ZGlvMUxlbmd0aDtcblxuLy/mraPlvI/pn7PpopHlkI1cbnZhciBBdWRpb05hbWU7XG5cbi8v6K+V5ZCs6Z+z6aKR5aSn5bCPXG52YXIgZmlsZUF1ZGlvMlNpemU7XG5cbi8v6K+V5ZCs6Z+z6aKR6ZW/5bqmXG52YXIgcmVzQXVkaW8yTGVuZ3RoO1xuXG4vL+ivleWQrOmfs+mikeWQjVxudmFyIHRyeUF1ZGlvTmFtZTtcblxuLy/pn7PpopHlj4LmlbDnu5PmnZ9cblxuLy/lm77mloflj4LmlbDlvIDlp4tcbi8v5Zu+5paH5Y+C5pWw57uT5p2fXG5cbi8v6KeG6aKR5Y+C5pWw5byA5aeLXG4vL+inhumikeWQjeensFxudmFyIFZpZGVvTmFtZTtcbi8v6KeG6aKR5Y+C5pWw57uT5p2fXG5cbi8v55u05pKt5Y+C5pWw5byA5aeLXG4vL+ebtOaSreeKtuaAgVxudmFyIGFsaXZlU3RhdGU7XG4vLyDnm7Tmkq3orrLluIjliJfooahcbnZhciByb2xlUGFyYW1zID0gW107XG5cbi8v55u05pKt57G75Z6LKOm7mOiupOS4uumfs+mikSlcbnZhciBhbGl2ZVQgPSAwO1xuXG4vL+ebtOaSreWPguaVsOe7k+adn1xuXG5cbi8v5oiQ5Yqf5ZCO6L+U5Zue55qEVVJMXG52YXIgYmFja1VSTCA9ICcnO1xuXG4vL+aOqOmAgea2iOaBr+eahOWAvFxudmFyIHByZXZWYWw7XG5cbnZhciBpZl9wdXNoLCAvL+aYr+WQpuW8gOWQr+aOqOmAgVxuICAgIHB1c2hfYWhlYWQ7IC8v5o+Q5YmN5o6o6YCB5pe26Ze0XG5cbi8v55u05pKt55qE5pKt5pS+54q25oCB77yIMOacquW8gOWni++8jDHjgIE05bey5byA5aeL77yMMiwz57uT5p2f77yJXG52YXIgcGxheVN0YXRlPTA7XG5cbnZhciBpc19kaXN0cmlidXRlID0gJCgnI2lzX2Rpc3RyaWJ1dGUnKS52YWwoKTtcblxuLy/lhazlhbHlj5jph4/nu5PmnZ9cblxudmFyIHJlc0FkZCA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc0FkZCA9IHt9O1xuXG4gICAgLy/mlofku7blpKflsI9cbiAgICB2YXIgZmlsZVNpemU7XG5cbiAgICAvL+WPlua2iOS4iuS8oOWIpOaWreWPguaVsFxuICAgIC8vIHZhciB1cGxvYWRDYW5jZWw9MDtcbiAgICBmdW5jdGlvbiBnZXRPYmplY3RVUkwoZmlsZSkge1xuICAgICAgICB2YXIgdXJsID0gbnVsbDtcbiAgICAgICAgaWYgKHdpbmRvdy5jcmVhdGVPYmplY3RVUkwgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB1cmwgPSB3aW5kb3cuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5VUkwgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cud2Via2l0VVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdXJsID0gd2luZG93LndlYmtpdFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVPYmplY3RVUkwodXJsKSB7Ly/ph4rmlL7otYTmupBVUkxcbiAgICAgICAgaWYgKHdpbmRvdy5yZXZva2VPYmplY3RVUkwgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3aW5kb3cucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LlVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LndlYmtpdFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy53ZWJraXRVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8v6LWE5rqQ5LiK5Lyg5Ye95pWwKOWPguaVsO+8mnJlc1R5cGU66LWE5rqQ57G75Z6LLHJlc1R5cGVDbGFzczrotYTmupDnsbvlnovkuK3nu4bliIbnmoTnp43nsbsscmVzTGltaXRTaXplOui1hOa6kOmZkOWItuWkp+WwjylcbiAgICBmdW5jdGlvbiByZXNVcGxvYWQoZmlsZXMsIHJlc1R5cGUsIHJlc1R5cGVDbGFzcywgcmVzTGltaXRTaXplKSB7XG4gICAgICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhmaWxlKTtcblxuICAgICAgICAgICAgdmFyIHJlc291cmNlTG9jYWxVcmwgPSBnZXRPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgICAgICBmaWxlU2l6ZSA9IChmaWxlLnNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgcmVzQXVkaW8xTGVuZ2ggPSBmaWxlLmR1cmF0aW9uO1xuICAgICAgICAgICAgLy/lpoLmnpzmmK/mraPlvI/pn7PpopFcbiAgICAgICAgICAgIGlmIChyZXNUeXBlQ2xhc3MgPT0gXCJBdWRpbzFcIikge1xuICAgICAgICAgICAgICAgIGZpbGVBdWRpbzFTaXplID0gZmlsZVNpemU7XG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb3VyY2VUaW1lXCIpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlRWxlbWVudC5zcmMgPSByZXNvdXJjZUxvY2FsVXJsO1xuICAgICAgICAgICAgICAgIHJlc291cmNlRWxlbWVudC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT2JqZWN0VVJMKHJlc291cmNlTG9jYWxVcmwpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy/ojrflj5bpn7PpopHml7bplb9cbiAgICAgICAgICAgICAgICAvLyAgcmVzQXVkaW8xTGVuZ2g9cmVzb3VyY2VFbGVtZW50LmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhyZXNBdWRpbzFMZW5naCk7XG4gICAgICAgICAgICAgICAgLy8gIGNvbnNvbGUubG9nKCQoXCIjcmVzb3VyY2VUaW1lXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8v5aaC5p6c5piv6K+V5ZCs6Z+z6aKRXG4gICAgICAgICAgICBpZiAocmVzVHlwZUNsYXNzID09IFwiQXVkaW8yXCIpIHtcbiAgICAgICAgICAgICAgICBmaWxlQXVkaW8yU2l6ZSA9IGZpbGVTaXplO1xuICAgICAgICAgICAgICAgIHZhciB0cnlFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cnlUaW1lXCIpO1xuICAgICAgICAgICAgICAgIHRyeUVsZW1lbnQuc3JjID0gcmVzb3VyY2VMb2NhbFVybDtcbiAgICAgICAgICAgICAgICB0cnlFbGVtZW50Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVPYmplY3RVUkwocmVzb3VyY2VMb2NhbFVybCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZmlsZS5uYW1lKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZmlsZVNpemUpO1xuICAgICAgICAgICAgLy/lpoLmnpzmmK/pn7PpopFcbiAgICAgICAgICAgIGlmIChyZXNUeXBlID09ICdhdWRpbycpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXVkaW9OYW1lID0gZmlsZS5uYW1lO1xuICAgICAgICAgICAgICAgIC8vYWxlcnQoaW1nTmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIGV4dCxpZHg7XG4gICAgICAgICAgICAgICAgaWR4ID0gYXVkaW9OYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaWR4ICE9IC0xKXtcbiAgICAgICAgICAgICAgICAgICAgZXh0ID0gYXVkaW9OYW1lLnN1YnN0cihpZHgrMSkudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ID0gZXh0LnRvTG93ZXJDYXNlKCApO1xuICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwi5ZCO57yAPVwiK2V4dCtcIuS9jee9rj1cIitpZHgrXCLot6/lvoQ9XCIrcmVzb3VyY2VMb2NhbFVybCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHQgIT0gJ21wMycgJiYgZXh0ICE9ICd3YXYnICYmIGV4dCAhPSAnd21hJyAmJiBleHQgIT0gJ29nZycmJiBleHQgIT0gJ2FwZScmJiBleHQgIT0gJ2FjYycpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9kb2N1bWVudC5hbGwuc3VibWl0X3VwbG9hZC5kaXNhYmxlZD10cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuivt+S4iuS8oOmfs+mikeexu+Wei+eahOaWh+S7tuWTpn4hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChcIjIu5Y+q6IO95LiK5LygLmpwZyAgLnBuZyAgLmpwZWcgIC5naWbnsbvlnovnmoTmlofku7YhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWxsLnN1Ym1pdF91cGxvYWQuZGlzYWJsZWQ9dHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuivt+S4iuS8oOmfs+mikeexu+Wei+eahOaWh+S7tuWTpn4hXCIpO1xuICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwi5Y+q6IO95LiK5LygLmpwZyAgLnBuZyAgLmpwZWcgIC5naWbnsbvlnovnmoTmlofku7YhXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCQoJyNhdWRpb1VSTCcrcmVzVHlwZUNsYXNzKSk7XG4gICAgICAgICAgICAgICAgJCgnI2F1ZGlvVVJMJytyZXNUeXBlQ2xhc3MpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZEJveFwiK3Jlc1R5cGVDbGFzcykuZmFkZUluKDMwMCk7XG4gICAgICAgICAgICAgICAgLy8g5Yid5aeL5YyW5paH5Lu25Lul5Y+K6L+b5bqm5p2hXG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRcIiArIHJlc1R5cGVDbGFzcyArIFwiTmFtZVwiKS5odG1sKGZpbGUubmFtZSk7XG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRcIiArIHJlc1R5cGVDbGFzcyArIFwiU2l6ZSBzcGFuXCIpLmh0bWwoZmlsZVNpemUpO1xuICAgICAgICAgICAgICAgICQoXCIudXBsb2FkUExpbmVcIiArIHJlc1R5cGVDbGFzcykuc2hvdygpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKFwiLnVwbG9hZFBMaW5lQWN0aXZlXCIgKyByZXNUeXBlQ2xhc3MpLmNzcyhcIndpZHRoXCIsICcwJyk7XG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRQZXJzZW50XCIgKyByZXNUeXBlQ2xhc3MpLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgIGlmKHJlc1R5cGVDbGFzcyA9PSBcIkF1ZGlvMVwiKXsvL+ato+W8j+mfs+mikVxuICAgICAgICAgICAgICAgICAgICBBdWRpb05hbWUgPSBmaWxlLm5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKHJlc1R5cGVDbGFzcyA9PSBcIkF1ZGlvMlwiKSB7Ly/or5XlkKzpn7PpopFcbiAgICAgICAgICAgICAgICAgICAgdHJ5QXVkaW9OYW1lID0gZmlsZS5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g6ZmQ5Yi26LWE5rqQ5ZyoKk1C5YaFXG4gICAgICAgICAgICBpZiAoJHVwbG9hZEZpbGUuY2hlY2tGaWxlU2l6ZShmaWxlLCByZXNMaW1pdFNpemUpKSB7XG4gICAgICAgICAgICAgICAgJHVwbG9hZEZpbGUudXBsb2FkUmVzKGZpbGUsIHJlc1R5cGUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzVHlwZSA9PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gcGFyc2VJbnQoZGF0YSAqIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi51cGxvYWRQTGluZUFjdGl2ZVwiICsgcmVzVHlwZUNsYXNzKS5jc3MoXCJ3aWR0aFwiLCBwcm9ncmVzcyArICclJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi51cGxvYWRQZXJzZW50XCIgKyByZXNUeXBlQ2xhc3MpLnRleHQocHJvZ3Jlc3MgKyBcIiVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIOS4iuS8oOaIkOWKn+Wbnuiwg1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5LiK5Lyg5oiQ5Yqf77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi51cGxvYWRQZXJzZW50XCIgKyByZXNUeXBlQ2xhc3MpLnRleHQoXCLlrozmiJBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2RhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzVXJsID0gZGF0YS5kYXRhLmFjY2Vzc191cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNcIiArIHJlc1R5cGVDbGFzcyArIFwiVXJsXCIpLnZhbChyZXNVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc1R5cGVDbGFzcyA9PSBcIkF1ZGlvMlwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmRlbGV0ZVRyeUF1ZGlvXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr+WbvueJh+i1hOa6kO+8jOWImeWxleekuuWbvueJh+mihOiniFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gJ2ltYWdlJykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltZ05hbWUgPSBmaWxlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChpbWdOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXh0LGlkeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHggPSBpbWdOYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ICE9IC0xKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ID0gaW1nTmFtZS5zdWJzdHIoaWR4KzEpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dCA9IGV4dC50b0xvd2VyQ2FzZSggKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChcIuWQjue8gD1cIitleHQrXCLkvY3nva49XCIraWR4K1wi6Lev5b6EPVwiK3Jlc291cmNlTG9jYWxVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0ICE9ICdqcGcnICYmIGV4dCAhPSAncG5nJyAmJiBleHQgIT0gJ2pwZWcnICYmIGV4dCAhPSAnZ2lmJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmFsbC5zdWJtaXRfdXBsb2FkLmRpc2FibGVkPXRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7fkuIrkvKDlm77niYfnsbvlnovnmoTmlofku7blk6Z+XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChcIjIu5Y+q6IO95LiK5LygLmpwZyAgLnBuZyAgLmpwZWcgIC5naWbnsbvlnovnmoTmlofku7YhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWxsLnN1Ym1pdF91cGxvYWQuZGlzYWJsZWQ9dHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35LiK5Lyg5Zu+54mH57G75Z6L55qE5paH5Lu25ZOmflwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChcIuWPquiDveS4iuS8oC5qcGcgIC5wbmcgIC5qcGVnICAuZ2lm57G75Z6L55qE5paH5Lu2IVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJChcIi5wcmV2aWV3UGljXCIgKyByZXNUeXBlQ2xhc3MgKyBcIiBpbWdcIikuYXR0cihcInNyY1wiLCByZXNVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v55u05o6l5Yqg6L295pys5Zyw5Zu+54mH6L+b6KGM6aKE6KeIXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5wcmV2aWV3UGljXCIgKyByZXNUeXBlQ2xhc3MgKyBcIiBpbWdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubG9hZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT2JqZWN0VVJMKHJlc291cmNlTG9jYWxVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJzcmNcIiwgcmVzb3VyY2VMb2NhbFVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc1VybCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIOS4iuS8oOWksei0peWbnuiwg1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuS4iuS8oOWksei0pSEhIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiK5Lyg5aSx6LSl77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiK5Lyg6LWE5rqQ6ZmQ5Yi25ZyoXCIgKyByZXNMaW1pdFNpemUgKyBcIk1C5YaF77yBXCIpO1xuICAgICAgICAgICAgICAgICQoXCIudXBMb2FkXCIrcmVzVHlwZUNsYXNzKS52YWwoXCJcIik7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZpbGVzKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzQWRkLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8v6YCJ5oup57uE5Lu25qC35byPXG4gICAgICAgIC8vICQoJ3NlbGVjdCcpLm1hdGVyaWFsX3NlbGVjdCgpO1xuICAgICAgICAvL+aXtumXtOmAieaLqeWZqOWIneWni+WMllxuICAgICAgICAvLyAkKFwiI2RhdGVJbnB1dFwiKS5kYXRldGltZXBpY2tlcih7XG4gICAgICAgIC8vICAgICB3ZWVrU3RhcnQ6IDEsIC8v5LiA5ZGo5LuO5pif5pyf5LiA5byA5aeLXG4gICAgICAgIC8vICAgICBtaW5WaWV3OiBcImRheVwiLFxuICAgICAgICAvLyAgICAgZm9ybWF0OiAneXl5eS1tbS1kZCBoaDowMDowMCcsXG4gICAgICAgIC8vICAgICBhdXRvY2xvc2U6IHRydWUsIC8v6YCJ5oup5pel5pyf5ZCO6Ieq5Yqo5YWz6ZetXG4gICAgICAgIC8vICAgICBwaWNrZXJQb3NpdGlvbjondG9wLXJpZ2h0JyAgLy/lvLnnqpfmmL7npLrlnKjovpPlhaXmoYbkuIrmlrlcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vICQoXCIjZGF0ZUlucHV0MVwiKS5kYXRldGltZXBpY2tlcih7XG4gICAgICAgIC8vICAgICB3ZWVrU3RhcnQ6IDEsXG4gICAgICAgIC8vICAgICBtaW5WaWV3OiBcImRheVwiLFxuICAgICAgICAvLyAgICAgZm9ybWF0OiAneXl5eS1tbS1kZCBoaDowMDowMCcsXG4gICAgICAgIC8vICAgICBhdXRvY2xvc2U6IHRydWUsIC8v6YCJ5oup5pel5pyf5ZCO6Ieq5Yqo5YWz6ZetXG4gICAgICAgIC8vICAgICBwaWNrZXJQb3NpdGlvbjondG9wLXJpZ2h0J1xuICAgICAgICAvLyB9KTtcbiAgICAgICAgLy8gJChcIiNkYXRlSW5wdXQyXCIpLmRhdGV0aW1lcGlja2VyKHtcbiAgICAgICAgLy8gICAgIHdlZWtTdGFydDogMSxcbiAgICAgICAgLy8gICAgIG1pblZpZXc6IFwiZGF5XCIsXG4gICAgICAgIC8vICAgICBmb3JtYXQ6ICd5eXl5LW1tLWRkIGhoOjAwOjAwJyxcbiAgICAgICAgLy8gICAgIGF1dG9jbG9zZTogdHJ1ZSwgLy/pgInmi6nml6XmnJ/lkI7oh6rliqjlhbPpl61cbiAgICAgICAgLy8gICAgIHBpY2tlclBvc2l0aW9uOid0b3AtcmlnaHQnXG4gICAgICAgIC8vIH0pXG4gICAgICAgIGFsaXZlVGltZUNvbmZpZyhcIi5kYXRlU2V0SW5wdXRcIik7XG4gICAgICAgIC8v6I635Y+W6LWE5rqQ57G75Z6LXG4gICAgICAgIHJlc291cmNlVHlwZSA9IEdldFF1ZXJ5U3RyaW5nKFwidHlwZVwiKTtcblxuICAgICAgICAvL+i1hOa6kOexu+Wei++8muWbvueJh++8mmltYWdlLOmfs+mike+8mmF1ZGlvXG4gICAgICAgIC8v6LWE5rqQ57G75Z6L5a2Q57G777yaXG4gICAgICAgICAgICAvL+ato+W8j+mfs+mike+8mkF1ZGlvMSzor5XlkKzpn7PpopHvvJpBdWRpbzIsXG4gICAgICAgICAgICAvL+WwgemdojpJbWFnZTEs5pel562+77yaSW1hZ2UyLOebtOaSreWuo+S8oOWwgemdojpJbWFnZTMs6LS054mHOkltYWdlNFxuICAgICAgICAvLyDngrnlh7vmjInpkq7kuIrkvKDlm77niYdcbiAgICAgICAgJChcIi51cExvYWRJbWFnZTFcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzVXBsb2FkKHRoaXMuZmlsZXMsIFwiaW1hZ2VcIiwgXCJJbWFnZTFcIiwgNSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiLnByZXZpZXdQaWNJbWFnZTFcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi51cExvYWRJbWFnZTFcIikuY2xpY2soKTtcbiAgICAgICAgfSlcbiAgICAgICAgJChcIi51cExvYWRJbWFnZTJcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzVXBsb2FkKHRoaXMuZmlsZXMsIFwiaW1hZ2VcIiwgXCJJbWFnZTJcIiwgNSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiLnByZXZpZXdQaWNJbWFnZTJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi51cExvYWRJbWFnZTJcIikuY2xpY2soKTtcbiAgICAgICAgfSlcbiAgICAgICAgJChcIi51cExvYWRJbWFnZTNcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzVXBsb2FkKHRoaXMuZmlsZXMsIFwiaW1hZ2VcIiwgXCJJbWFnZTNcIiwgNSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiLnByZXZpZXdQaWNJbWFnZTNcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi51cExvYWRJbWFnZTNcIikuY2xpY2soKTtcbiAgICAgICAgfSlcbiAgICAgICAgJChcIi51cExvYWRJbWFnZTRcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzVXBsb2FkKHRoaXMuZmlsZXMsIFwiaW1hZ2VcIiwgXCJJbWFnZTRcIiwgNSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiLnByZXZpZXdQaWNJbWFnZTRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi51cExvYWRJbWFnZTRcIikuY2xpY2soKTtcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDngrnlh7vmjInpkq7kuIrkvKDpn7PpopFcbiAgICAgICAgLy/mraPlvI9cbiAgICAgICAgJChcIi51cExvYWRBdWRpbzFcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJChcIiNhdWRpb191cmxcIikuZHVyYXRpb24pO1xuICAgICAgICAgICAgcmVzVXBsb2FkKHRoaXMuZmlsZXMsIFwiYXVkaW9cIiwgXCJBdWRpbzFcIiwgMjAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8v6K+V5ZCsXG4gICAgICAgICQoXCIudXBMb2FkQXVkaW8yXCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc1VwbG9hZCh0aGlzLmZpbGVzLCBcImF1ZGlvXCIsIFwiQXVkaW8yXCIsIDIwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v6K+V5ZCs6Z+z6aKR572u56m6XG4gICAgICAgICQoXCIuZGVsZXRlVHJ5QXVkaW9cIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi51cExvYWRBdWRpbzJcIikudmFsKFwiXCIpO1xuICAgICAgICAgICAgJChcIi51cGxvYWRCb3hBdWRpbzJcIikuaGlkZSgpO1xuICAgICAgICAgICAgJChcIiNBdWRpbzJVcmxcIikudmFsKFwiXCIpO1xuICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgICAgICAkKFwiI2F1ZGlvVVJMQXVkaW8yXCIpLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy/lj5bmtojkuIrkvKBcbiAgICAgICAgLy8gJChcIi51cGxvYWRDYW5jZWxBMVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vICAgICAkKFwiLnVwbG9hZEJveEF1ZGlvMVwiKS5yZW1vdmUoKTtcbiAgICAgICAgLy8gICAgIHVwbG9hZENhbmNlbD0xO1xuICAgICAgICAvLyB9KVxuICAgICAgICAvLyDpgInmi6nku5jotLnkuI7lhY3otLlcbiAgICAgICAgaWYoaXNfZGlzdHJpYnV0ZSAhPSAxKXtcbiAgICAgICAgICAgICQoXCIubm90RnJlZVNlbGVjdFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJChcIi5yZXNQcml6ZVwiKS5yZW1vdmVBdHRyKFwicmVhZG9ubHlcIik7XG4gICAgICAgICAgICAgICAgJChcIi5yZXNQcml6ZVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2VGcmVlID0gMjtcbiAgICAgICAgICAgICAgICAkKCcjY291cnNlUmVtaW5kJykuc2hvdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKFwiLkZyZWVTZWxlY3RcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQoXCIucmVzUHJpemVcIikuYXR0cihcInJlYWRvbmx5XCIsIFwicmVhZG9ubHlcIik7XG4gICAgICAgICAgICAgICAgJChcIi5yZXNQcml6ZVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLnJlc1ByaXplXCIpLnZhbCgwKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZUZyZWUgPSAxO1xuICAgICAgICAgICAgICAgICQoJyNjb3Vyc2VSZW1pbmQnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnI2NvdXJzZVJlbWluZCBvcHRpb25bdmFsdWU9LTFdJykucHJvcCgnc2VsZWN0ZWQnLHRydWUpO1xuICAgICAgICAgICAgICAgICQoJyNwdXNoX2FoZWFkJykuY2hhbmdlKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cblxuICAgICAgICAvL+W8gOivvuaPkOmGklxuICAgICAgICBwdXNoX2FoZWFkID0gJCgnI3B1c2hfYWhlYWQgb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XG4gICAgICAgIGlmX3B1c2ggPSAkKCcjaWZfcHVzaCcpLnZhbCgpIHx8IDE7XG4gICAgICAgIGZ1bmN0aW9uIHNldElmUHVzaCgpIHtcbiAgICAgICAgICAgIGlmKCBwdXNoX2FoZWFkID09IC0xICkge1xuICAgICAgICAgICAgICAgIGlmX3B1c2ggPSAxO1xuICAgICAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgICAgIGlmX3B1c2ggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciAkcHVzaEFoZWFkID0gJCgnI3B1c2hfYWhlYWQnKTtcbiAgICAgICAgaWYoJHB1c2hBaGVhZC5sZW5ndGg+MCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwdXNoX2FoZWFkKTtcbiAgICAgICAgICAgIHNldElmUHVzaCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coaWZfcHVzaCk7XG4gICAgICAgICAgICBpZiggJHB1c2hBaGVhZC5kYXRhKCdzZXR0aW5nJykgPT0gMSApIHsgLy/nlKjmiLfmnKrlsIbmnI3liqHlj7forr7nva7kuLrmlZnogrLooYzkuJpcbiAgICAgICAgICAgICAgICAkcHVzaEFoZWFkLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2VsZWN0ZWQgPSArZWxlLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZS5maW5kKCdvcHRpb25bdmFsdWU9JysgcHVzaF9haGVhZCArJ10nKS5wcm9wKCdzZWxlY3RlZCcsdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHB1c2hfYWhlYWQgPT0gLTEgJiYgY3VyU2VsZWN0ZWQgIT0gLTEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHh0PSAgXCLmgqjpnIDopoHliLDlvq7kv6HlhazkvJflj7flkI7lj7DlsIbmgqjnmoTmnI3liqHlj7fmiYDlnKjooYzkuJrorr7nva7kuLrigJzmlZnogrIv5Z+56K6t4oCd77yM6K6+572u5a6M5oiQ5ZCO77yM5byA5ZCv5pyN5Yqh5Y+36YCa55+l5pa55Y+v5q2j5bi45Y+R6YCB5qih5p2/5raI5oGv44CCXCIrXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxici8+PGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9Jy9oZWxwL2luc3RydWN0aW9ucyNocDVfd3hfc2VydmljZScgc3R5bGU9J21hcmdpbi10b3A6MTBweDsnPuS7gOS5iOaYr+aooeadv+a2iOaBr++8nzwvYT5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi5o+Q56S6XCIsIC8v5by55Ye65qGG5qCH6aKYXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAzLCAvL+ehruWumiYm5Y+W5raIXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2t0ZXh0OiAn5oiR5bey6K6+572uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWx0ZXh0OiAn5YWz6ZetJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKXsvL+WPkemAgeivt+axgu+8jOWIpOaWreeUqOaIt+aYr+WQpuiuvue9ruacjeWKoeWPt+ihjOS4mlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoJy9oYXNfaW5kdXN0cnknLHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBkYXRhLnJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvZGUgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLmZpbmQoJ29wdGlvblt2YWx1ZT0nKyBjdXJTZWxlY3RlZCArJ10nKS5wcm9wKCdzZWxlY3RlZCcsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaF9haGVhZCA9IGN1clNlbGVjdGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElmUHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8q5raI5oGv5o6o6YCB5byA5ZCvKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5qih5p2/5raI5oGv5o6o6YCB5byA5ZCvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLml6Dms5XlvIDlkK/mtojmga/mjqjpgIHvvIzor7fmjInnhafmj5DnpLrkv67mlLnorr7nva5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oeGhyLCB0ZXh0LCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivlVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydCh0eHQsIFwiY3VzdG9tXCIsIG9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKuWFs+mXrea2iOaBr+aOqOmAgSovXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoX2FoZWFkID0gY3VyU2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJZlB1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5maW5kKCdvcHRpb25bdmFsdWU9JysgY3VyU2VsZWN0ZWQgKyddJykucHJvcCgnc2VsZWN0ZWQnLHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRwdXNoQWhlYWQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcHVzaF9haGVhZCA9ICtlbGUudmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0SWZQdXNoKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICAg6YCJ5oup6K+t6Z+z5oiW6ICF6Z+z6aKR77yI55u05pKt77yJXG4gICAgICAgICQoXCIudmlkZW9zU2VsZWN0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuYWxpdmVWaWRlb0JveFwiKS5zbGlkZURvd24oMzAwKTtcbiAgICAgICAgICAgIGFsaXZlVCA9IDE7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhbGl2ZVQpO1xuICAgICAgICAgICAgVmlkZW9OYW1lID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIudm9pY2VTZWxlY3RcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi5hbGl2ZVZpZGVvQm94XCIpLnNsaWRlVXAoMzAwKTtcbiAgICAgICAgICAgIGFsaXZlVCA9IDA7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhbGl2ZVQpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChcIi5hbGl2ZVNlbGVjdFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLmFsaXZlVmlkZW9Cb3hcIikuc2xpZGVVcCgzMDApO1xuICAgICAgICAgICAgYWxpdmVUID0gMjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGFsaXZlVCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiLnBwdEFsaXZlU2VsZWN0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuYWxpdmVWaWRlb0JveFwiKS5zbGlkZVVwKDMwMCk7XG4gICAgICAgICAgICBhbGl2ZVQgPSAzO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYWxpdmVUKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/pgInmi6nkuJPmoI/kuIrkuIvmnrZcbiAgICAgICAgJChcIi5jb2x1bW5TaG93XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbHVtblN0YXRlID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIuY29sdW1uSGlkZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb2x1bW5TdGF0ZSA9IDE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v6YCJ5oup5pi+56S65pyf5pWwXG4gICAgICAgICQoXCIuY291bnRTaG93XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNob3dfcmVzb3VyY2Vjb3VudCA9IDE7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiLmNvdW50SGlkZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzaG93X3Jlc291cmNlY291bnQgPSAwO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8v54K55Ye75LiK5LiA5q2l6L+U5ZueXG4gICAgICAgICQoJy5sYXN0U3RlcEJ0bicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgJGdldEJhY2sgPSAkKCcjZ2V0QmFjaycpO1xuICAgICAgICBpZih1cGxvYWRDaGFubmVsVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBiYWNrVVJMID0gJy9yZXNvdXJjZV9saXN0X3BhZ2UnO1xuICAgICAgICAgICAgJGdldEJhY2suYXR0cignaHJlZicsIGJhY2tVUkwpO1xuICAgICAgICB9IGVsc2UgaWYodXBsb2FkQ2hhbm5lbFR5cGUgPT0gMikge1xuICAgICAgICAgICAgYmFja1VSTCA9ICcvcGFja2FnZV9kZXRhaWxfcGFnZT9pZD0nICsgcGFja2FnZUlkO1xuICAgICAgICAgICAgJGdldEJhY2suYXR0cignaHJlZicsIGJhY2tVUkwpO1xuICAgICAgICB9IGVsc2UgaWYodXBsb2FkQ2hhbm5lbFR5cGUgPT0gMykge1xuICAgICAgICAgICAgYmFja1VSTCA9ICcvbWVtYmVyX2RldGFpbF9wYWdlP2lkPScgKyBwYWNrYWdlSWQ7XG4gICAgICAgICAgICAkZ2V0QmFjay5hdHRyKCdocmVmJywgYmFja1VSTCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL+eCueWHu+S+p+i+ueagj+emu+W8gOaXtueahOW8ueahhlxuICAgICAgICBjaGFuZ2VTYXZlRmxhZyh0cnVlKTtcblxuXG4gICAgICAgIC8v5pyN5Yqh5Y+36YCa55+l5by55Ye655qE6YC76L6R5Yik5patXG4gICAgICAgIHZhciAkc2VydmljZVRvZ2dsZSA9ICQoJyNzZXJ2aWNlVG9nZ2xlJyk7XG4gICAgICAgIHByZXZWYWwgPSArJChcIiNzZXJ2aWNlVG9nZ2xlIDpyYWRpbzpjaGVja2VkXCIpLnZhbCgpIHx8IG51bGw7IC8v5b2T5YmN5Y2V6YCJ5qGG55qE5YC8XG4gICAgICAgIGlmKCRzZXJ2aWNlVG9nZ2xlLmxlbmd0aD4wKXtcbiAgICAgICAgICAgIGlmKCAkc2VydmljZVRvZ2dsZS5kYXRhKCdzZXR0aW5nJykgPT0gMSApIHsgLy/nlKjmiLfmnKrlsIbmnI3liqHlj7forr7nva7kuLrmlZnogrLooYzkuJpcbiAgICAgICAgICAgICAgICAkc2VydmljZVRvZ2dsZS5vbignY2xpY2snLCAnOnJhZGlvJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJWYWwgPSArZWxlLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJyVmFsICE9PSBwcmV2VmFsICYmIGN1cnJWYWwgPT0gMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eHQ9ICBcIuaCqOmcgOimgeWIsOW+ruS/oeWFrOS8l+WPt+WQjuWPsOWwhuaCqOeahOacjeWKoeWPt+aJgOWcqOihjOS4muiuvue9ruS4uuKAnOaVmeiCsi/ln7norq3igJ3vvIzorr7nva7lrozmiJDlkI7vvIzlvIDlkK/mnI3liqHlj7fpgJrnn6Xmlrnlj6/mraPluLjlj5HpgIHmqKHmnb/mtojmga/jgIJcIitcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPGJyLz48YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nL2hlbHAvaW5zdHJ1Y3Rpb25zI2hwNV93eF9zZXJ2aWNlJyBzdHlsZT0nbWFyZ2luLXRvcDoxMHB4Oyc+5LuA5LmI5piv5qih5p2/5raI5oGv77yfPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCLmj5DnpLpcIiwgLy/lvLnlh7rmoYbmoIfpophcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDMsIC8v56Gu5a6aJiblj5bmtohcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3RleHQ6ICfmiJHlt7Lorr7nva4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbHRleHQ6ICflhbPpl60nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbigpey8v5Y+R6YCB6K+35rGC77yM5Yik5pat55So5oi35piv5ZCm6K6+572u5pyN5Yqh5Y+36KGM5LiaXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCgnL2hhc19pbmR1c3RyeScse1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9IGRhdGEucmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29kZSA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZWYWwgPSBjdXJyVmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8q5raI5oGv5o6o6YCB5byA5ZCvKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5qih5p2/5raI5oGv5o6o6YCB5byA5ZCvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLml6Dms5XlvIDlkK/mtojmga/mjqjpgIHvvIzor7fmjInnhafmj5DnpLrkv67mlLnorr7nva5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oeGhyLCB0ZXh0LCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydCh0eHQsIFwiY3VzdG9tXCIsIG9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKuWFs+mXrea2iOaBr+aOqOmAgSovXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2VmFsID0gY3VyclZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1sncHVzaF9zdGF0ZSddID0gY3VyclZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzZXJ2aWNlVG9nZ2xlJykuZGF0YSgnc3RhdGUnLGN1cnJWYWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRzZXJ2aWNlVG9nZ2xlLm9uKCdjbGljaycsICc6cmFkaW8nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGUgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyclZhbCA9IGVsZS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1cnJWYWwgIT09IHByZXZWYWwgJiYgY3VyclZhbCA9PSAxICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlZhbCA9IGN1cnJWYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5qih5p2/5raI5oGv5o6o6YCB5byA5ZCvXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlZhbCA9IGN1cnJWYWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJlc0FkZDtcbn0pKCk7XG4iXX0=
