$(document).ready(function(){$exeBookList.init()});$exeBookList=function(){var e={addUserType:0,exerciseBookId:-1};var i={userListPageIndex:1,userListSearchContent:"",isSearchUserWindowLoading:false,isSearchUserWindowToBottom:false};e.init=function(){$(".operateList > li.operate").click(function(){var i=$(this),n=i.parents(".exerciseBookOperateArea"),s=i.data("type"),o=n.data("resource_id"),t=n.data("resource_type"),r=n.data("exercise_book_id"),d=n.data("role_list");e.exerciseBookId=r;switch(s){case"role_manage":a(t,d);break;case"exercise_list":window.location.href="/exercise/exercise_list?exercise_book_id="+r;break;case"edit_exercise_book":window.location.href="/exercise/edit_exercise_book?exercise_book_id="+r;break;default:console.log("参数错误");break}});$("#windowCloseIcon1").click(function(){baseUtils.hideWindow("roleManageWindow")});$("#windowHoverBox").on("click","li",function(){var i=$(this).data("type");if(i=="add_teacher"){if(o()){baseUtils.show.redTip("一个作业本仅能设置1位老师，请先将已设置的老师改为助教");return false}e.addUserType=0}else if(i=="add_assistant"){e.addUserType=1}n()});$("#windowContent1").on("click",".roleTypeRadio",function(e){var i=$(this),a=i.children(".circleRadio").data("role_type");if(i.children(".circleRadio").hasClass("radioActive")){return false}if(a==0&&o()){baseUtils.show.redTip("一个作业本仅能设置1位老师，请先将已设置的老师改为助教");return false}i.parents(".roleTypeRadioWrapper").find(".circleRadio").removeClass("radioActive");i.children(".circleRadio").addClass("radioActive")});$("#roleManageWindow").on("click",".deleteSingleUser",function(){var e=$(this).parents(".singleUserInfo1");e.css({height:"0",padding:"0"});setTimeout(function(){e.remove();var i=$("#windowContent1").find(".singleUserInfo1").length;if(i==0){$("#windowContent1").html('<div class="windowNoData" id="windowNoData1">暂无老师和助教，请点击下方按钮快速添加人员</div>')}},300)});$("#confirmSaveRole").click(function(){var i=$("#windowContent1").find(".singleUserInfo1"),a={};i.each(function(){var e=$(this).data("user_id"),i=$(this).find(".circleRadio.radioActive").data("role_type");if(a[e]==undefined){a[e]={user_id:e,role_type:i}}});baseUtils.showLoading("roleManageLoading");$.ajax("/exercise/set_exercise_book_role",{type:"POST",dataType:"json",data:{exercise_book_roles:a,exercise_book_id:e.exerciseBookId},success:function(e){baseUtils.hideLoading("roleManageLoading");if(e.code==0){baseUtils.hideWindow("roleManageWindow");baseUtils.show.blueTip("保存成功");setTimeout(function(){window.location.reload()},1e3)}else{baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,i,a){baseUtils.hideLoading("roleManageLoading");console.log(a);alert("服务器出小差了，请稍后再试！")}})});$("#windowCloseIcon2").click(function(){baseUtils.hideWindow("searchUserWindow");baseUtils.showWindow("roleManageWindow")});$("#searchUserWindow").on("click","#windowSearchBtn",function(){i.userListPageIndex=1;i.userListSearchContent=$.trim($("#windowSearchInput").val());i.isSearchUserWindowToBottom=false;$("#searchUserWindow .windowContentWrapper2").scrollTop(0);t()});$("#windowSearchInput").on("keypress",function(e){if(e.keyCode==13){$("#windowSearchBtn").click()}});$("#searchUserWindow .windowContentWrapper2").scroll(function(e){var a=$("#windowContent2").height(),n=$(this).height(),s=$(this).scrollTop();if(s+n>=a-5&&!i.isSearchUserWindowLoading&&!i.isSearchUserWindowToBottom){t()}});$("#windowContent2").on("change",".selectSingleGuest",function(i){var a=$(i.target),n=a.prop("checked");if(n&&e.addUserType==0){var s=$("#windowContent2").find(".selectSingleGuest:checked").length;if(s>1){baseUtils.show.redTip("一个作业本仅能设置1位老师");a.prop("checked",false)}}});$("#confirmSaveAddedUser").click(function(){var i=$(".selectSingleGuest:checked"),a={};i.each(function(){var i=$(this).parents(".singleGuestInfo2"),n=i.data("user_id"),s=i.data("wx_avatar"),o=i.data("wx_nickname"),t=e.addUserType;if(a[n]==undefined){a[n]={user_id:n,wx_avatar:s,wx_nickname:o,role_type:t}}});var n=$("#windowContent1").find(".singleUserInfo1"),o=[];n.each(function(){var e=$(this).data("user_id");o.push(e)});var t="";$.each(a,function(e,i){if(o.indexOf(e)==-1){t+=s(i)}});if(t.length>0){$("#windowNoData1").remove();$("#windowContent1").append(t)}baseUtils.hideWindow("searchUserWindow");baseUtils.showWindow("roleManageWindow")})};function a(e,i){if(e==4){baseUtils.show.redTip("直播类型不支持人员管理操作");return false}baseUtils.showWindow("roleManageWindow");var a="";$.each(i,function(e,i){a+=s(i)});if(a.length==0){a='<div class="windowNoData" id="windowNoData1">暂无老师和助教，请点击下方按钮快速添加人员</div>'}$("#windowContent1").html(a)}function n(){baseUtils.hideWindow("roleManageWindow");$("#searchUserWindow").find(".headerText1").text(e.addUserType==0?"添加老师":"添加助教");baseUtils.showWindow("searchUserWindow");i.isSearchUserWindowToBottom=false;i.userListPageIndex=1;i.userListSearchContent="";t()}function s(e){var i='<div class="singleUserInfo1" data-user_id="'+e.user_id+'">'+'<img class="singleGuestAvatar1" src="'+e.wx_avatar+'">'+'<div class="singleGuestName1" title="'+e.wx_nickname+'">'+e.wx_nickname+"</div>"+'<div class="roleTypeRadioWrapper">'+'<div class="roleTypeRadio">'+'<span class="circleRadio '+(e.role_type==0?"radioActive":"")+'" data-role_type="0"></span><span>老师</span>'+"</div>"+'<div class="roleTypeRadio">'+'<span class="circleRadio '+(e.role_type==1?"radioActive":"")+'" data-role_type="1"></span><span>助教</span>'+"</div>"+"</div>"+'<div class="deleteSingleUser">删除</div>'+"</div>";return i}function o(){var e=false,i=$("#windowContent1").find(".circleRadio.radioActive");i.each(function(){var i=$(this).data("role_type");if(i==0){e=true;return false}});return e}function t(){baseUtils.showLoading("searchUserLoading");i.isSearchUserWindowLoading=true;$.ajax("/zbsearch",{type:"GET",dataType:"json",data:{page:i.userListPageIndex,search:i.userListSearchContent},success:function(e){baseUtils.hideLoading("searchUserLoading");i.isSearchUserWindowLoading=false;var a=$("#windowContent2"),n="",s=e.page_offset;$.each(e.data,function(e,i){n+='<div class="singleGuestInfo2" data-user_id="'+i.user_id+'" data-wx_avatar="'+i.wx_avatar+'" data-wx_nickname="'+i.wx_nickname+'">'+'<input type="checkbox" class="selectSingleGuest" id="'+i.user_id+'">'+'<label for="'+i.user_id+'" class="singleGuestLabel">'+'<img src="'+i.wx_avatar+'" class="singleGuestAvatar2">'+'<div class="singleGuestName2" title="'+i.wx_nickname+'">'+i.wx_nickname+"</div>"+"</label>"+"</div>"});if(n.length==0){n='<div class="windowNoData" id="windowNoData2">暂无数据</div>'}if(i.userListPageIndex==1){a.html(n);a.append('<div class="isDown">更多数据加载中</div>')}else{a.find(".isDown").before(n)}if(s.current_page>=s.total_pages){var o=0;if(s.total_count>10){a.find(".isDown").text("数据已加载完毕");o=3e3}else{o=0}setTimeout(function(){a.find(".isDown").hide()},o);i.isSearchUserWindowToBottom=true}i.userListPageIndex++},error:function(e,a,n){baseUtils.hideLoading("searchUserLoading");i.isSearchUserWindowLoading=false;console.log(n);alert("服务器出小差了，请稍后再试！")}})}return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4ZXJjaXNlQm9va0xpc3QuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCIkZXhlQm9va0xpc3QiLCJpbml0IiwiYWRkVXNlclR5cGUiLCJleGVyY2lzZUJvb2tJZCIsIiRwcml2YXRlIiwidXNlckxpc3RQYWdlSW5kZXgiLCJ1c2VyTGlzdFNlYXJjaENvbnRlbnQiLCJpc1NlYXJjaFVzZXJXaW5kb3dMb2FkaW5nIiwiaXNTZWFyY2hVc2VyV2luZG93VG9Cb3R0b20iLCJjbGljayIsIiRzZWxmIiwidGhpcyIsIiRwYXJlbnQiLCJwYXJlbnRzIiwidHlwZSIsImRhdGEiLCJyZXNJZCIsInJlc1R5cGUiLCJyb2xlTGlzdEFyciIsIm9wZW5Sb2xlTWFuYWdlV2luZG93Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiY29uc29sZSIsImxvZyIsImJhc2VVdGlscyIsImhpZGVXaW5kb3ciLCJvbiIsImhhc1NldFRlYWNoZXIiLCJzaG93IiwicmVkVGlwIiwib3BlblNlYXJjaFVzZXJXaW5kb3ciLCJlIiwiY2xpY2tSb2xlVHlwZSIsImNoaWxkcmVuIiwiaGFzQ2xhc3MiLCJmaW5kIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNzcyIsImhlaWdodCIsInBhZGRpbmciLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiY291bnQiLCJsZW5ndGgiLCJodG1sIiwiYWRkZWRVc2VyTGlzdCIsImV4ZXJjaXNlQm9va1JvbGVzIiwiZWFjaCIsInVzZXJJZCIsInJvbGVUeXBlIiwidW5kZWZpbmVkIiwidXNlcl9pZCIsInJvbGVfdHlwZSIsInNob3dMb2FkaW5nIiwiYWpheCIsImRhdGFUeXBlIiwiZXhlcmNpc2VfYm9va19yb2xlcyIsImV4ZXJjaXNlX2Jvb2tfaWQiLCJzdWNjZXNzIiwicmVzdWx0IiwiaGlkZUxvYWRpbmciLCJjb2RlIiwiYmx1ZVRpcCIsInJlbG9hZCIsImVycm9yIiwieGhyIiwic3RhdHVzIiwiZXJyIiwiYWxlcnQiLCJzaG93V2luZG93IiwidHJpbSIsInZhbCIsInNjcm9sbFRvcCIsImdldEFsbFVzZXJMaXN0Iiwia2V5Q29kZSIsInNjcm9sbCIsIkRpdkhlaWdodCIsIlNjcm9sbEhlaWdodCIsIlNjcm9sbFRvcCIsIiR0YXJnZXQiLCJ0YXJnZXQiLCJpc0NoZWNrZWQiLCJwcm9wIiwiY2hlY2tlZFVzZXIiLCJ1c2VyQXJyIiwid3hBdmF0YXIiLCJ3eE5pY2tuYW1lIiwid3hfYXZhdGFyIiwid3hfbmlja25hbWUiLCJzdG9yZWRVc2VyQXJyIiwic3RvcmVkVXNlcklkQXJyIiwicHVzaCIsImh0bWxTdHIiLCJrIiwidiIsImluZGV4T2YiLCJnZXRVc2VySW5mb0l0ZW0iLCJhcHBlbmQiLCJ0ZXh0IiwiYWN0aXZlUmFkaW9BcnIiLCJwYWdlIiwic2VhcmNoIiwiJGFyZWEiLCJvZmZzZXQiLCJwYWdlX29mZnNldCIsImJlZm9yZSIsImN1cnJlbnRfcGFnZSIsInRvdGFsX3BhZ2VzIiwidGltZVJhbmdlIiwidG90YWxfY291bnQiLCJoaWRlIl0sIm1hcHBpbmdzIjoiQUFJQUEsRUFBRUMsVUFBVUMsTUFBTSxXQUNkQyxhQUFhQyxRQUdqQkQsY0FBZSxXQUNYLEdBQUlBLElBQ0FFLFlBQWEsRUFDYkMsZ0JBQWlCLEVBRXJCLElBQUlDLElBQ0FDLGtCQUFtQixFQUNuQkMsc0JBQXVCLEdBQ3ZCQywwQkFBMkIsTUFDM0JDLDJCQUE0QixNQUdoQ1IsR0FBYUMsS0FBTyxXQUdoQkosRUFBRSw2QkFBNkJZLE1BQU0sV0FDakMsR0FBSUMsR0FBUWIsRUFBRWMsTUFDVkMsRUFBVUYsRUFBTUcsUUFBUSw0QkFDeEJDLEVBQU9KLEVBQU1LLEtBQUssUUFDbEJDLEVBQVFKLEVBQVFHLEtBQUssZUFDckJFLEVBQVVMLEVBQVFHLEtBQUssaUJBQ3ZCWixFQUFpQlMsRUFBUUcsS0FBSyxvQkFDOUJHLEVBQWNOLEVBQVFHLEtBQUssWUFFL0JmLEdBQWFHLGVBQWlCQSxDQUU5QixRQUFRVyxHQUNKLElBQUssY0FDREssRUFBcUJGLEVBQVNDLEVBQzlC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cEUsS0FBSyxXQUFXdUUsT0FBT2IsR0FFakMsR0FBSVcsRUFBT0csY0FBZ0JILEVBQU9JLFlBQWEsQ0FDM0MsR0FBSUMsR0FBWSxDQUNoQixJQUFJTCxFQUFPTSxZQUFjLEdBQUksQ0FDekJQLEVBQU1wRSxLQUFLLFdBQVdnRSxLQUFLLFVBQzNCVSxHQUFZLFFBQ1QsQ0FDSEEsRUFBWSxFQUVoQnBFLFdBQVcsV0FDUDhELEVBQU1wRSxLQUFLLFdBQVc0RSxRQUN2QkYsRUFDSDFHLEdBQVNJLDJCQUE2QixLQUUxQ0osRUFBU0MscUJBR2I2RCxNQUFPLFNBQVVDLEVBQUtDLEVBQVFDLEdBQzFCNUMsVUFBVXFDLFlBQVksb0JBQ3RCMUQsR0FBU0csMEJBQTRCLEtBQ3JDZ0IsU0FBUUMsSUFBSTZDLEVBQ1pDLE9BQU0scUJBS2xCLE1BQU90RSIsImZpbGUiOiJleGVyY2lzZUJvb2tMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQWRtaW5pc3RyYXRvciBvbiAyMDE3LzcvMzEuXHJcbiAqL1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgJGV4ZUJvb2tMaXN0LmluaXQoKTtcclxufSk7XHJcblxyXG4kZXhlQm9va0xpc3QgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyICRleGVCb29rTGlzdCA9IHtcclxuICAgICAgICBhZGRVc2VyVHlwZTogMCwgLy8wLeiAgeW4iO+8mzEt5Yqp5pWZXHJcbiAgICAgICAgZXhlcmNpc2VCb29rSWQ6IC0xLCAvL+eCueWHu+eahOS9nOS4muacrOadoeebrueahGlk5YC8XHJcbiAgICB9O1xyXG4gICAgdmFyICRwcml2YXRlID0ge1xyXG4gICAgICAgIHVzZXJMaXN0UGFnZUluZGV4OiAxLFxyXG4gICAgICAgIHVzZXJMaXN0U2VhcmNoQ29udGVudDogXCJcIixcclxuICAgICAgICBpc1NlYXJjaFVzZXJXaW5kb3dMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICBpc1NlYXJjaFVzZXJXaW5kb3dUb0JvdHRvbTogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgICRleGVCb29rTGlzdC5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAvL+S9nOS4muacrOeahOaTjeS9nFxyXG4gICAgICAgICQoXCIub3BlcmF0ZUxpc3QgPiBsaS5vcGVyYXRlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICRzZWxmID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICRwYXJlbnQgPSAkc2VsZi5wYXJlbnRzKFwiLmV4ZXJjaXNlQm9va09wZXJhdGVBcmVhXCIpLFxyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICRzZWxmLmRhdGEoXCJ0eXBlXCIpLFxyXG4gICAgICAgICAgICAgICAgcmVzSWQgPSAkcGFyZW50LmRhdGEoXCJyZXNvdXJjZV9pZFwiKSxcclxuICAgICAgICAgICAgICAgIHJlc1R5cGUgPSAkcGFyZW50LmRhdGEoXCJyZXNvdXJjZV90eXBlXCIpLFxyXG4gICAgICAgICAgICAgICAgZXhlcmNpc2VCb29rSWQgPSAkcGFyZW50LmRhdGEoXCJleGVyY2lzZV9ib29rX2lkXCIpLFxyXG4gICAgICAgICAgICAgICAgcm9sZUxpc3RBcnIgPSAkcGFyZW50LmRhdGEoXCJyb2xlX2xpc3RcIik7XHJcblxyXG4gICAgICAgICAgICAkZXhlQm9va0xpc3QuZXhlcmNpc2VCb29rSWQgPSBleGVyY2lzZUJvb2tJZDtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInJvbGVfbWFuYWdlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlblJvbGVNYW5hZ2VXaW5kb3cocmVzVHlwZSwgcm9sZUxpc3RBcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImV4ZXJjaXNlX2xpc3RcIjpcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiL2V4ZXJjaXNlL2V4ZXJjaXNlX2xpc3Q/ZXhlcmNpc2VfYm9va19pZD1cIitleGVyY2lzZUJvb2tJZDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlZGl0X2V4ZXJjaXNlX2Jvb2tcIjpcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiL2V4ZXJjaXNlL2VkaXRfZXhlcmNpc2VfYm9vaz9leGVyY2lzZV9ib29rX2lkPVwiK2V4ZXJjaXNlQm9va0lkO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPguaVsOmUmeivr1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqIOS6uuWRmOiuvue9rueql+WPoyAqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgICQoXCIjd2luZG93Q2xvc2VJY29uMVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5oaWRlV2luZG93KFwicm9sZU1hbmFnZVdpbmRvd1wiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL+a3u+WKoOS6uuWRmFxyXG4gICAgICAgICQoXCIjd2luZG93SG92ZXJCb3hcIikub24oXCJjbGlja1wiLCBcImxpXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmRhdGEoXCJ0eXBlXCIpO1xyXG4gICAgICAgICAgICBpZiAodHlwZSA9PSBcImFkZF90ZWFjaGVyXCIpIHsvL+mcgOimgeWKoOmZkOWItlxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1NldFRlYWNoZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS4gOS4quS9nOS4muacrOS7heiDveiuvue9rjHkvY3ogIHluIjvvIzor7flhYjlsIblt7Lorr7nva7nmoTogIHluIjmlLnkuLrliqnmlZlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJGV4ZUJvb2tMaXN0LmFkZFVzZXJUeXBlID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09IFwiYWRkX2Fzc2lzdGFudFwiKSB7XHJcbiAgICAgICAgICAgICAgICAkZXhlQm9va0xpc3QuYWRkVXNlclR5cGUgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wZW5TZWFyY2hVc2VyV2luZG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcmFkaW8g5oyJ6ZKu54K55Ye75YiH5o2i5pWI5p6cXHJcbiAgICAgICAgJCgnI3dpbmRvd0NvbnRlbnQxJykub24oJ2NsaWNrJywgJy5yb2xlVHlwZVJhZGlvJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgJHNlbGYgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgY2xpY2tSb2xlVHlwZSA9ICRzZWxmLmNoaWxkcmVuKFwiLmNpcmNsZVJhZGlvXCIpLmRhdGEoXCJyb2xlX3R5cGVcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAoJHNlbGYuY2hpbGRyZW4oXCIuY2lyY2xlUmFkaW9cIikuaGFzQ2xhc3MoXCJyYWRpb0FjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjbGlja1JvbGVUeXBlID09IDAgJiYgaGFzU2V0VGVhY2hlcigpKSB7ICAgLy/orr7nva7kuLrogIHluIhcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS4gOS4quS9nOS4muacrOS7heiDveiuvue9rjHkvY3ogIHluIjvvIzor7flhYjlsIblt7Lorr7nva7nmoTogIHluIjmlLnkuLrliqnmlZlcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHNlbGYucGFyZW50cyhcIi5yb2xlVHlwZVJhZGlvV3JhcHBlclwiKS5maW5kKFwiLmNpcmNsZVJhZGlvXCIpLnJlbW92ZUNsYXNzKCdyYWRpb0FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkc2VsZi5jaGlsZHJlbignLmNpcmNsZVJhZGlvJykuYWRkQ2xhc3MoJ3JhZGlvQWN0aXZlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy/np7vpmaTnlKjmiLdcclxuICAgICAgICAkKFwiI3JvbGVNYW5hZ2VXaW5kb3dcIikub24oXCJjbGlja1wiLCBcIi5kZWxldGVTaW5nbGVVc2VyXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudHMoXCIuc2luZ2xlVXNlckluZm8xXCIpO1xyXG5cclxuICAgICAgICAgICAgJHBhcmVudC5jc3Moe1wiaGVpZ2h0XCI6IFwiMFwiLCBcInBhZGRpbmdcIjogXCIwXCJ9KTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkcGFyZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gJChcIiN3aW5kb3dDb250ZW50MVwiKS5maW5kKFwiLnNpbmdsZVVzZXJJbmZvMVwiKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjd2luZG93Q29udGVudDFcIikuaHRtbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ3aW5kb3dOb0RhdGFcIiBpZD1cIndpbmRvd05vRGF0YTFcIj7mmoLml6DogIHluIjlkozliqnmlZnvvIzor7fngrnlh7vkuIvmlrnmjInpkq7lv6vpgJ/mt7vliqDkurrlkZg8L2Rpdj4nXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL+S/neWtmOS6uuWRmFxyXG4gICAgICAgICQoXCIjY29uZmlybVNhdmVSb2xlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFkZGVkVXNlckxpc3QgPSAkKFwiI3dpbmRvd0NvbnRlbnQxXCIpLmZpbmQoXCIuc2luZ2xlVXNlckluZm8xXCIpLFxyXG4gICAgICAgICAgICAgICAgZXhlcmNpc2VCb29rUm9sZXMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGFkZGVkVXNlckxpc3QuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXNlcklkID0gJCh0aGlzKS5kYXRhKFwidXNlcl9pZFwiKSxcclxuICAgICAgICAgICAgICAgICAgICByb2xlVHlwZSA9ICQodGhpcykuZmluZChcIi5jaXJjbGVSYWRpby5yYWRpb0FjdGl2ZVwiKS5kYXRhKFwicm9sZV90eXBlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4ZXJjaXNlQm9va1JvbGVzW3VzZXJJZF0gPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhlcmNpc2VCb29rUm9sZXNbdXNlcklkXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlX3R5cGU6IHJvbGVUeXBlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93TG9hZGluZyhcInJvbGVNYW5hZ2VMb2FkaW5nXCIpO1xyXG4gICAgICAgICAgICAkLmFqYXgoXCIvZXhlcmNpc2Uvc2V0X2V4ZXJjaXNlX2Jvb2tfcm9sZVwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBleGVyY2lzZV9ib29rX3JvbGVzOiBleGVyY2lzZUJvb2tSb2xlcyxcclxuICAgICAgICAgICAgICAgICAgICBleGVyY2lzZV9ib29rX2lkOiAkZXhlQm9va0xpc3QuZXhlcmNpc2VCb29rSWRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLmhpZGVMb2FkaW5nKFwicm9sZU1hbmFnZUxvYWRpbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLmhpZGVXaW5kb3coXCJyb2xlTWFuYWdlV2luZG93XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5L+d5a2Y5oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6Zeu6aKY77yM6K+356iN5ZCO5YaN6K+VXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuaGlkZUxvYWRpbmcoXCJyb2xlTWFuYWdlTG9hZGluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi5pyN5Yqh5Zmo5Ye65bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKiDkurrlkZjmkJzntKLnqpflj6MgKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICAkKFwiI3dpbmRvd0Nsb3NlSWNvbjJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuaGlkZVdpbmRvdyhcInNlYXJjaFVzZXJXaW5kb3dcIik7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93V2luZG93KFwicm9sZU1hbmFnZVdpbmRvd1wiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL+eCueWHu+aQnOe0olxyXG4gICAgICAgICQoXCIjc2VhcmNoVXNlcldpbmRvd1wiKS5vbihcImNsaWNrXCIsIFwiI3dpbmRvd1NlYXJjaEJ0blwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRwcml2YXRlLnVzZXJMaXN0UGFnZUluZGV4ID0gMTtcclxuICAgICAgICAgICAgJHByaXZhdGUudXNlckxpc3RTZWFyY2hDb250ZW50ID0gJC50cmltKCQoXCIjd2luZG93U2VhcmNoSW5wdXRcIikudmFsKCkpO1xyXG4gICAgICAgICAgICAkcHJpdmF0ZS5pc1NlYXJjaFVzZXJXaW5kb3dUb0JvdHRvbSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkKCcjc2VhcmNoVXNlcldpbmRvdyAud2luZG93Q29udGVudFdyYXBwZXIyJykuc2Nyb2xsVG9wKDApO1xyXG4gICAgICAgICAgICBnZXRBbGxVc2VyTGlzdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoXCIjd2luZG93U2VhcmNoSW5wdXRcIikub24oXCJrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3dpbmRvd1NlYXJjaEJ0blwiKS5jbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy/mu5HliqjliqDovb3mm7TlpJpcclxuICAgICAgICAkKCcjc2VhcmNoVXNlcldpbmRvdyAud2luZG93Q29udGVudFdyYXBwZXIyJykuc2Nyb2xsKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyIERpdkhlaWdodCA9ICQoJyN3aW5kb3dDb250ZW50MicpLmhlaWdodCgpLFxyXG4gICAgICAgICAgICAgICAgU2Nyb2xsSGVpZ2h0ID0gJCh0aGlzKS5oZWlnaHQoKSxcclxuICAgICAgICAgICAgICAgIFNjcm9sbFRvcCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgICAgIGlmICgoU2Nyb2xsVG9wICsgU2Nyb2xsSGVpZ2h0ID49IERpdkhlaWdodCAtIDUpICYmICEkcHJpdmF0ZS5pc1NlYXJjaFVzZXJXaW5kb3dMb2FkaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgISRwcml2YXRlLmlzU2VhcmNoVXNlcldpbmRvd1RvQm90dG9tKSB7XHJcbiAgICAgICAgICAgICAgICBnZXRBbGxVc2VyTGlzdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy/mt7vliqDogIHluIjml7bvvIzmt7vliqDpmZDliLbvvIzlj6rog73pgInkuK3kuIDkuKpcclxuICAgICAgICAkKFwiI3dpbmRvd0NvbnRlbnQyXCIpLm9uKFwiY2hhbmdlXCIsIFwiLnNlbGVjdFNpbmdsZUd1ZXN0XCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJChlLnRhcmdldCksXHJcbiAgICAgICAgICAgICAgICBpc0NoZWNrZWQgPSAkdGFyZ2V0LnByb3AoXCJjaGVja2VkXCIpO1xyXG4gICAgICAgICAgICBpZiAoaXNDaGVja2VkICYmICRleGVCb29rTGlzdC5hZGRVc2VyVHlwZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAkKFwiI3dpbmRvd0NvbnRlbnQyXCIpLmZpbmQoXCIuc2VsZWN0U2luZ2xlR3Vlc3Q6Y2hlY2tlZFwiKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiA5Liq5L2c5Lia5pys5LuF6IO96K6+572uMeS9jeiAgeW4iFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0LnByb3AoXCJjaGVja2VkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8v5re75Yqg5Lq65ZGYXHJcbiAgICAgICAgJChcIiNjb25maXJtU2F2ZUFkZGVkVXNlclwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGVja2VkVXNlciA9ICQoXCIuc2VsZWN0U2luZ2xlR3Vlc3Q6Y2hlY2tlZFwiKSxcclxuICAgICAgICAgICAgICAgIHVzZXJBcnIgPSB7fTtcclxuICAgICAgICAgICAgY2hlY2tlZFVzZXIuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50cyhcIi5zaW5nbGVHdWVzdEluZm8yXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZCA9ICRwYXJlbnQuZGF0YShcInVzZXJfaWRcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgd3hBdmF0YXIgPSAkcGFyZW50LmRhdGEoXCJ3eF9hdmF0YXJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgd3hOaWNrbmFtZSA9ICRwYXJlbnQuZGF0YShcInd4X25pY2tuYW1lXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVUeXBlID0gJGV4ZUJvb2tMaXN0LmFkZFVzZXJUeXBlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh1c2VyQXJyW3VzZXJJZF0gPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckFyclt1c2VySWRdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHd4X2F2YXRhcjogd3hBdmF0YXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHd4X25pY2tuYW1lOiB3eE5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlX3R5cGU6IHJvbGVUeXBlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBzdG9yZWRVc2VyQXJyID0gJChcIiN3aW5kb3dDb250ZW50MVwiKS5maW5kKFwiLnNpbmdsZVVzZXJJbmZvMVwiKSxcclxuICAgICAgICAgICAgICAgIHN0b3JlZFVzZXJJZEFyciA9IFtdO1xyXG4gICAgICAgICAgICBzdG9yZWRVc2VyQXJyLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXJJZCA9ICAkKHRoaXMpLmRhdGEoXCJ1c2VyX2lkXCIpO1xyXG4gICAgICAgICAgICAgICAgc3RvcmVkVXNlcklkQXJyLnB1c2godXNlcklkKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgaHRtbFN0ciA9IFwiXCI7XHJcbiAgICAgICAgICAgICQuZWFjaCh1c2VyQXJyLCBmdW5jdGlvbihrLCB2KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RvcmVkVXNlcklkQXJyLmluZGV4T2YoaykgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sU3RyICs9IGdldFVzZXJJbmZvSXRlbSh2KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChodG1sU3RyLmxlbmd0aD4wKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3dpbmRvd05vRGF0YTFcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3dpbmRvd0NvbnRlbnQxXCIpLmFwcGVuZChodG1sU3RyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiYXNlVXRpbHMuaGlkZVdpbmRvdyhcInNlYXJjaFVzZXJXaW5kb3dcIik7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93V2luZG93KFwicm9sZU1hbmFnZVdpbmRvd1wiKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gb3BlblJvbGVNYW5hZ2VXaW5kb3cocmVzVHlwZSwgcm9sZUxpc3RBcnIpIHtcclxuICAgICAgICBpZiAocmVzVHlwZSA9PSA0KSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuebtOaSreexu+Wei+S4jeaUr+aMgeS6uuWRmOeuoeeQhuaTjeS9nFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBiYXNlVXRpbHMuc2hvd1dpbmRvdyhcInJvbGVNYW5hZ2VXaW5kb3dcIik7XHJcbiAgICAgICAgdmFyIGh0bWxTdHIgPSBcIlwiO1xyXG4gICAgICAgICQuZWFjaChyb2xlTGlzdEFyciwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgICAgICAgICAgaHRtbFN0ciArPSBnZXRVc2VySW5mb0l0ZW0odik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGh0bWxTdHIubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgaHRtbFN0ciA9XHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIndpbmRvd05vRGF0YVwiIGlkPVwid2luZG93Tm9EYXRhMVwiPuaaguaXoOiAgeW4iOWSjOWKqeaVme+8jOivt+eCueWHu+S4i+aWueaMiemSruW/q+mAn+a3u+WKoOS6uuWRmDwvZGl2Pic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoXCIjd2luZG93Q29udGVudDFcIikuaHRtbChodG1sU3RyKTtcclxuXHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvcGVuU2VhcmNoVXNlcldpbmRvdygpIHtcclxuICAgICAgICBiYXNlVXRpbHMuaGlkZVdpbmRvdyhcInJvbGVNYW5hZ2VXaW5kb3dcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJChcIiNzZWFyY2hVc2VyV2luZG93XCIpLmZpbmQoXCIuaGVhZGVyVGV4dDFcIikudGV4dChcclxuICAgICAgICAgICAgKCRleGVCb29rTGlzdC5hZGRVc2VyVHlwZT09MCk/XCLmt7vliqDogIHluIhcIjpcIua3u+WKoOWKqeaVmVwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICBiYXNlVXRpbHMuc2hvd1dpbmRvdyhcInNlYXJjaFVzZXJXaW5kb3dcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHByaXZhdGUuaXNTZWFyY2hVc2VyV2luZG93VG9Cb3R0b20gPSBmYWxzZTtcclxuICAgICAgICAkcHJpdmF0ZS51c2VyTGlzdFBhZ2VJbmRleCA9IDE7XHJcbiAgICAgICAgJHByaXZhdGUudXNlckxpc3RTZWFyY2hDb250ZW50ID0gXCJcIjtcclxuICAgICAgICBnZXRBbGxVc2VyTGlzdCgpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0VXNlckluZm9JdGVtKHYpIHtcclxuICAgICAgICB2YXIgaHRtbFN0ciA9XHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2luZ2xlVXNlckluZm8xXCIgZGF0YS11c2VyX2lkPVwiJyt2LnVzZXJfaWQrJ1wiPicrXHJcbiAgICAgICAgICAgICAgICAnPGltZyBjbGFzcz1cInNpbmdsZUd1ZXN0QXZhdGFyMVwiIHNyYz1cIicrdi53eF9hdmF0YXIrJ1wiPicrXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNpbmdsZUd1ZXN0TmFtZTFcIiB0aXRsZT1cIicrdi53eF9uaWNrbmFtZSsnXCI+Jyt2Lnd4X25pY2tuYW1lKyc8L2Rpdj4nK1xyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyb2xlVHlwZVJhZGlvV3JhcHBlclwiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyb2xlVHlwZVJhZGlvXCI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiY2lyY2xlUmFkaW8gJysodi5yb2xlX3R5cGU9PTA/J3JhZGlvQWN0aXZlJzonJykrJ1wiIGRhdGEtcm9sZV90eXBlPVwiMFwiPjwvc3Bhbj48c3Bhbj7ogIHluIg8L3NwYW4+JytcclxuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JytcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInJvbGVUeXBlUmFkaW9cIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJjaXJjbGVSYWRpbyAnKyh2LnJvbGVfdHlwZT09MT8ncmFkaW9BY3RpdmUnOicnKSsnXCIgZGF0YS1yb2xlX3R5cGU9XCIxXCI+PC9zcGFuPjxzcGFuPuWKqeaVmTwvc3Bhbj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nK1xyXG4gICAgICAgICAgICAgICAgJzwvZGl2PicrXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRlbGV0ZVNpbmdsZVVzZXJcIj7liKDpmaQ8L2Rpdj4nK1xyXG4gICAgICAgICAgICAnPC9kaXY+JztcclxuICAgICAgICByZXR1cm4gaHRtbFN0cjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGhhc1NldFRlYWNoZXIoKSB7XHJcbiAgICAgICAgdmFyIGhhc1NldFRlYWNoZXIgPSBmYWxzZSxcclxuICAgICAgICAgICAgYWN0aXZlUmFkaW9BcnIgPSAkKFwiI3dpbmRvd0NvbnRlbnQxXCIpLmZpbmQoXCIuY2lyY2xlUmFkaW8ucmFkaW9BY3RpdmVcIik7XHJcblxyXG4gICAgICAgIGFjdGl2ZVJhZGlvQXJyLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcm9sZVR5cGUgPSAkKHRoaXMpLmRhdGEoXCJyb2xlX3R5cGVcIik7XHJcbiAgICAgICAgICAgIGlmIChyb2xlVHlwZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBoYXNTZXRUZWFjaGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaGFzU2V0VGVhY2hlcjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldEFsbFVzZXJMaXN0KCkge1xyXG4gICAgICAgIGJhc2VVdGlscy5zaG93TG9hZGluZyhcInNlYXJjaFVzZXJMb2FkaW5nXCIpO1xyXG4gICAgICAgICRwcml2YXRlLmlzU2VhcmNoVXNlcldpbmRvd0xvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICQuYWpheChcIi96YnNlYXJjaFwiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJHByaXZhdGUudXNlckxpc3RQYWdlSW5kZXgsXHJcbiAgICAgICAgICAgICAgICBzZWFyY2g6ICRwcml2YXRlLnVzZXJMaXN0U2VhcmNoQ29udGVudFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuaGlkZUxvYWRpbmcoXCJzZWFyY2hVc2VyTG9hZGluZ1wiKTtcclxuICAgICAgICAgICAgICAgICRwcml2YXRlLmlzU2VhcmNoVXNlcldpbmRvd0xvYWRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgJGFyZWEgPSAkKFwiI3dpbmRvd0NvbnRlbnQyXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxTdHIgPSBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHJlc3VsdC5wYWdlX29mZnNldDtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmVhY2gocmVzdWx0LmRhdGEsIGZ1bmN0aW9uIChrLCB2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbFN0ciArPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNpbmdsZUd1ZXN0SW5mbzJcIiBkYXRhLXVzZXJfaWQ9XCInK3YudXNlcl9pZCtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCIgZGF0YS13eF9hdmF0YXI9XCInK3Yud3hfYXZhdGFyKydcIiBkYXRhLXd4X25pY2tuYW1lPVwiJyt2Lnd4X25pY2tuYW1lKydcIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInNlbGVjdFNpbmdsZUd1ZXN0XCIgaWQ9XCInK3YudXNlcl9pZCsnXCI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGFiZWwgZm9yPVwiJyt2LnVzZXJfaWQrJ1wiIGNsYXNzPVwic2luZ2xlR3Vlc3RMYWJlbFwiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPVwiJyt2Lnd4X2F2YXRhcisnXCIgY2xhc3M9XCJzaW5nbGVHdWVzdEF2YXRhcjJcIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2luZ2xlR3Vlc3ROYW1lMlwiIHRpdGxlPVwiJyt2Lnd4X25pY2tuYW1lKydcIj4nK3Yud3hfbmlja25hbWUrJzwvZGl2PicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9sYWJlbD4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGh0bWxTdHIubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sU3RyID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ3aW5kb3dOb0RhdGFcIiBpZD1cIndpbmRvd05vRGF0YTJcIj7mmoLml6DmlbDmja48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCRwcml2YXRlLnVzZXJMaXN0UGFnZUluZGV4ID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkYXJlYS5odG1sKGh0bWxTdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRhcmVhLmFwcGVuZCgnPGRpdiBjbGFzcz1cImlzRG93blwiPuabtOWkmuaVsOaNruWKoOi9veS4rTwvZGl2PicpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkYXJlYS5maW5kKCcuaXNEb3duJykuYmVmb3JlKGh0bWxTdHIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9mZnNldC5jdXJyZW50X3BhZ2UgPj0gb2Zmc2V0LnRvdGFsX3BhZ2VzKSB7ICAgICAgLy/mlbDmja7liqDovb3lrozmr5XlkI7nmoTmk43kvZxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZVJhbmdlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0LnRvdGFsX2NvdW50ID4gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFyZWEuZmluZCgnLmlzRG93bicpLnRleHQoXCLmlbDmja7lt7LliqDovb3lrozmr5VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVSYW5nZSA9IDMwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZVJhbmdlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRhcmVhLmZpbmQoJy5pc0Rvd24nKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGltZVJhbmdlKTtcclxuICAgICAgICAgICAgICAgICAgICAkcHJpdmF0ZS5pc1NlYXJjaFVzZXJXaW5kb3dUb0JvdHRvbSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkcHJpdmF0ZS51c2VyTGlzdFBhZ2VJbmRleCArKztcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLmhpZGVMb2FkaW5nKFwic2VhcmNoVXNlckxvYWRpbmdcIik7XHJcbiAgICAgICAgICAgICAgICAkcHJpdmF0ZS5pc1NlYXJjaFVzZXJXaW5kb3dMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCLmnI3liqHlmajlh7rlsI/lt67kuobvvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuICRleGVCb29rTGlzdDtcclxufSkoKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl19
