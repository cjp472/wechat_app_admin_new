$(function(){resAdd.init()});var id;var pageType;var resourceType;var uploadChannelType=GetQueryString("upload_channel_type")||1;var resourceFree=uploadChannelType==1?2:null;var packageId=GetQueryString("package_id");var resourceParams;var packageName;var columnState=1;var show_resourcecount=1;var classArray=[];var fileAudio1Size;var resAudio1Length;var AudioName;var fileAudio2Size;var resAudio2Length;var tryAudioName;var VideoName;var aliveState;var roleParams=[];var aliveT=0;var backURL="";var prevVal;var if_push,push_ahead;var playState=0;var is_distribute=$("#is_distribute").val();var currentDate;var resAdd=function(){var e={};var a;function i(e){var a=null;if(window.createObjectURL!=undefined){a=window.createObjectURL(e)}else if(window.URL!=undefined){a=window.URL.createObjectURL(e)}else if(window.webkitURL!=undefined){a=window.webkitURL.createObjectURL(e)}return a}function o(e){if(window.revokeObjectURL!=undefined){window.revokeObjectURL(e)}else if(window.URL!=undefined){window.URL.revokeObjectURL(e)}else if(window.webkitURL!=undefined){window.webkitURL.revokeObjectURL(e)}}function t(e,t,n,r){if(e&&e.length>0){var l=e[0];var s=i(l);a=(l.size/(1024*1024)).toFixed(2);resAudio1Lengh=l.duration;if(n=="Audio1"){fileAudio1Size=a;var c=document.getElementById("resourceTime");c.src=s;c.onload=function(){o(s)}}if(n=="Audio2"){fileAudio2Size=a;var u=document.getElementById("tryTime");u.src=s;u.onload=function(){o(s)}}if(t=="audio"){var d=l.name;var p,v;v=d.lastIndexOf(".");if(v!=-1){p=d.substr(v+1).toUpperCase();p=p.toLowerCase();if(p!="mp3"&&p!="m4a"){baseUtils.show.blueTip("请上传音频类型的文件哦~!");if(n=="Audio1"){$(".upLoadAudio1").val("")}else{$(".upLoadAudio2").val("")}return}}else{document.all.submit_upload.disabled=true;if(n=="Audio1"){$(".upLoadAudio1").val("")}else{$(".upLoadAudio2").val("")}baseUtils.show.blueTip("请上传音频类型的文件哦~!");return}$("#audioURL"+n).hide();$(".uploadBox"+n).fadeIn(300);$(".upload"+n+"Name").html(l.name);$(".upload"+n+"Size span").html(a);$(".uploadPLine"+n).show().find(".uploadPLineActive"+n).css("width","0");$(".uploadPersent"+n).html("");if(n=="Audio1"){AudioName=l.name}else if(n=="Audio2"){tryAudioName=l.name}}if($uploadFile.checkFileSize(l,r)){$uploadFile.uploadRes(l,t,function(e){if(t=="audio"){var a=parseInt(e*100);$(".uploadPLineActive"+n).css("width",a+"%");$(".uploadPersent"+n).text(a+"%")}},function(e){console.log(e);baseUtils.show.blueTip("上传成功！");$(".uploadPersent"+n).text("完成");resUrl=e.data.access_url;console.log(resUrl);$("#"+n+"Url").val(resUrl);if(n=="Audio2"){$(".deleteTryAudio").show()}if(t=="image"){var a=l.name;var i,r;r=a.lastIndexOf(".");if(r!=-1){i=a.substr(r+1).toUpperCase();i=i.toLowerCase();if(i!="jpg"&&i!="png"&&i!="jpeg"&&i!="gif"){baseUtils.show.redTip("请上传图片类型的文件哦~");return}}else{document.all.submit_upload.disabled=true;baseUtils.show.redTip("请上传图片类型的文件哦~");return}$(".previewPic"+n+" img").load(function(){o(s)}).attr("src",s)}},function(e){console.error("上传失败!!!");console.log(e);baseUtils.show.redTip("上传失败！")})}else{baseUtils.show.redTip("上传资源限制在"+r+"MB内！");$(".upLoad"+n).val("")}}else{baseUtils.show.redTip("网络错误，请稍后再试！")}}e.init=function(){resourceType=GetQueryString("type");aliveTimeConfig(".dateSetInput");aliveTimeConfig(".dateSetInputBottom","top-right");$(".upLoadImage1").on("change",function(){t(this.files,"image","Image1",5)});$(".previewPicImage1").click(function(){$(".upLoadImage1").click()});$(".upLoadImage2").on("change",function(){t(this.files,"image","Image2",5)});$(".previewPicImage2").click(function(){$(".upLoadImage2").click()});$(".upLoadImage3").on("change",function(){t(this.files,"image","Image3",5)});$(".previewPicImage3").click(function(){$(".upLoadImage3").click()});$(".upLoadImage4").on("change",function(){t(this.files,"image","Image4",5)});$(".previewPicImage4").click(function(){$(".upLoadImage4").click()});$(".upLoadAudio1").on("change",function(){t(this.files,"audio","Audio1",200)});$(".upLoadAudio2").on("change",function(){t(this.files,"audio","Audio2",200)});$(".deleteTryAudio").click(function(){$(".upLoadAudio2").val("");$(".uploadBoxAudio2").hide();$("#Audio2Url").val("");$(this).hide();$("#audioURLAudio2").remove()});if(is_distribute!=1){$(".notFreeSelect").click(function(){$(".resPrize").removeAttr("readonly");$(".resPrize").removeAttr("disabled");resourceFree=2;$("#courseRemind").show()});$(".FreeSelect").click(function(){$(".resPrize").attr("readonly","readonly");$(".resPrize").attr("disabled","disabled");$(".resPrize").val(0);resourceFree=1;$("#courseRemind").hide();$("#courseRemind option[value=-1]").prop("selected",true);$("#push_ahead").change()})}push_ahead=$("#push_ahead option:selected").val();if_push=$("#if_push").val()||1;function e(){if(push_ahead==-1){if_push=1}else{if_push=0}}var a=$("#push_ahead");if(a.length>0){console.log(push_ahead);e();console.log(if_push);if(a.data("setting")==1){a.on("change",function(a){var i=$(this),o=+i.val();i.find("option[value="+push_ahead+"]").prop("selected",true);if(push_ahead==-1&&o!=-1){var t="您需要到微信公众号后台将您的服务号所在行业设置为“教育/培训”，设置完成后，开启服务号通知方可正常发送模板消息。"+"<br/><a target='_blank' href='/help/instructions#hp5_wx_service' style='margin-top:10px;'>什么是模板消息？</a>";var n={title:"提示",btn:3,oktext:"我已设置",canceltext:"关闭",icon:"blue",onOk:function(){$.ajax("/has_industry",{type:"GET",dataType:"json",data:{}}).done(function(a){var t=a.ret;if(t==0){i.find("option[value="+o+"]").prop("selected",true);push_ahead=o;e();baseUtils.show.blueTip("模板消息推送开启")}else{baseUtils.show.redTip("无法开启消息推送，请按照提示修改设置")}}).fail(function(e,a,i){console.error(i);baseUtils.show.redTip("网络错误，请稍后再试")})}};$.alert(t,"custom",n);return false}else{push_ahead=o;e();i.find("option[value="+o+"]").prop("selected",true)}})}else{a.on("change",function(a){var i=$(this);push_ahead=+i.val();e()})}}$("#preview").on("click",function(){var e=ue.getContent();document.getElementById("preview_content").innerHTML=e;$(".preview_con").addClass("active");$(".preview_box").addClass("active");document.documentElement.style.overflow="hidden"});$(".preview_con").on("click",function(){$(this).removeClass("active");$("#preview_content").html("");$(".preview_box").removeClass("active");document.documentElement.style.overflow="auto"});$(".videosSelect").click(function(){$(".aliveVideoBox").slideDown(300);aliveT=1;console.log(aliveT);VideoName=null});$(".voiceSelect").click(function(){$(".aliveVideoBox").slideUp(300);aliveT=0;console.log(aliveT)});$(".aliveSelect").click(function(){$(".aliveVideoBox").slideUp(300);aliveT=2;console.log(aliveT)});$(".pptAliveSelect").click(function(){$(".aliveVideoBox").slideUp(300);aliveT=3;console.log(aliveT)});$(".columnShow").click(function(){columnState=0});$(".columnHide").click(function(){columnState=1});$(".countShow").click(function(){show_resourcecount=1});$(".countHide").click(function(){show_resourcecount=0});$(".lastStepBtn").click(function(){window.history.back()});var i=$("#getBack");if(uploadChannelType==1){if(resourceType==4){backURL="/resource_list_page?resource_type=4";i.attr("href",backURL)}else{backURL="/resource_list_page";i.attr("href",backURL)}}else if(uploadChannelType==2){backURL="/package_detail_page?id="+packageId;i.attr("href",backURL)}else if(uploadChannelType==3){backURL="/member_detail_page?id="+packageId;i.attr("href",backURL)}changeSaveFlag(true);var o=$("#serviceToggle");var n=o.data("collection");prevVal=+$("#serviceToggle :radio:checked").val()||null;if(o.length>0){if(n==0&&o.data("setting")==1){o.on("click",":radio",function(e){console.log("hahaha");console.log(n);var a=$(this);var i=+a.val();if(i!==prevVal&&i==1){e.preventDefault();var o="您需要到微信公众号后台将您的服务号所在行业设置为“教育/培训”，设置完成后，开启服务号通知方可正常发送模板消息。"+"<br/><a target='_blank' href='/help/instructions#hp5_wx_service' style='margin-top:10px;'>什么是模板消息？</a>";var t={title:"提示",btn:3,oktext:"我已设置",canceltext:"关闭",icon:"blue",onOk:function(){$.ajax("/has_industry",{type:"GET",dataType:"json",data:{}}).done(function(e){var o=e.ret;if(o==0){a.prop("checked",true);prevVal=i;baseUtils.show.blueTip("模板消息推送开启")}else{baseUtils.show.redTip("无法开启消息推送，请按照提示修改设置")}}).fail(function(e,a,i){console.error(i);baseUtils.show.redTip("网络错误，请稍后再试！")})}};$.alert(o,"custom",t);return false}else{prevVal=i;params["push_state"]=i;$("#serviceToggle").data("state",i)}})}else{o.on("click",":radio",function(e){console.log("lalala");console.log(n);var a=$(this);var i=a.val();if(i!==prevVal&&i==1){prevVal=i;baseUtils.show.blueTip("模板消息推送开启")}else{prevVal=i}})}}};return e}();getNowFormatDate();function getNowFormatDate(){var e=new Date;var a="-";var i=":";var o=e.getFullYear();var t=e.getMonth()+1;var n=e.getDate();if(t>=1&&t<=9){t="0"+t}if(n>=0&&n<=9){n="0"+n}currentDate=o+a+t+a+n+" "+e.getHours()+i+e.getMinutes()+i+e.getSeconds();return currentDate}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc0FkZC5qcyJdLCJuYW1lcyI6WyIkIiwicmVzQWRkIiwiaW5pdCIsImlkIiwicGFnZVR5cGUiLCJyZXNvdXJjZVR5cGUiLCJ1cGxvYWRDaGFubmVsVHlwZSIsIkdldFF1ZXJ5U3RyaW5nIiwicmVzb3VyY2VGcmVlIiwicGFja2FnZUlkIiwicmVzb3VyY2VQYXJhbXMiLCJwYWNrYWdlTmFtZSIsImNvbHVtblN0YXRlIiwic2hvd19yZXNvdXJjZWNvdW50IiwiY2xhc3NBcnJheSIsImZpbGVBdWRpbzFTaXplIiwicmVzQXVkaW8xTGVuZ3RoIiwiQXVkaW9OYW1lIiwiZmlsZUF1ZGlvMlNpemUiLCJyZXNBdWRpbzJMZW5ndGgiLCJ0cnlBdWRpb05hbWUiLCJWaWRlb05hbWUiLCJhbGl2ZVN0YXRlIiwicm9sZVBhcmFtcyIsImFsaXZlVCIsImJhY2tVUkwiLCJwcmV2VmFsIiwiaWZfcHVzaCIsInB1c2hfYWhlYWQiLCJwbGF5U3RhdGUiLCJpc19kaXN0cmlidXRlIiwidmFsIiwiY3VycmVudERhdGUiLCJmaWxlU2l6ZSIsImdldE9iamVjdFVSTCIsImZpbGUiLCJ1cmwiLCJ3aW5kb3ciLCJjcmVhdGVPYmplY3RVUkwiLCJ1bmRlZmluZWQiLCJVUkwiLCJ3ZWJraXRVUkwiLCJyZW1vdmVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJyZXNVcGxvYWQiLCJmaWxlcyIsInJlc1R5cGUiLCJyZXNUeXBlQ2xhc3MiLCJyZXNMaW1pdFNpemUiLCJsZW5ndGgiLCJyZXNvdXJjZUxvY2FsVXJsIiwic2l6ZSIsInRvRml4ZWQiLCJyZXNBdWRpbzFMZW5naCIsImR1cmF0aW9uIiwicmVzb3VyY2VFbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNyYyIsIm9ubG9hZCIsInRyeUVsZW1lbnQiLCJhdWRpb05hbWUiLCJuYW1lIiwiZXh0IiwiaWR4IiwibGFzdEluZGV4T2YiLCJzdWJzdHIiLCJ0b1VwcGVyQ2FzZSIsInRvTG93ZXJDYXNlIiwiYmFzZVV0aWxzIiwic2hvdyIsImJsdWVUaXAiLCJhbGwiLCJzdWJtaXRfdXBsb2FkIiwiZGlzYWJsZWQiLCJoaWRlIiwiZmFkZUluIiwiaHRtbCIsImZpbmQiLCJjc3MiLCIkdXBsb2FkRmlsZSIsImNoZWNrRmlsZVNpemUiLCJ1cGxvYWRSZXMiLCJkYXRhIiwicHJvZ3Jlc3MiLCJwYXJzZUludCIsInRleHQiLCJjb25zb2xlIiwibG9nIiwicmVzVXJsIiwiYWNjZXNzX3VybCIsImltZ05hbWUiLCJyZWRUaXAiLCJsb2FkIiwiYXR0ciIsImVycm9yIiwiYWxpdmVUaW1lQ29uZmlnIiwib24iLCJ0aGlzIiwiY2xpY2siLCJyZW1vdmUiLCJyZW1vdmVBdHRyIiwicHJvcCIsImNoYW5nZSIsInNldElmUHVzaCIsIiRwdXNoQWhlYWQiLCJlIiwiZWxlIiwiY3VyU2VsZWN0ZWQiLCJ0eHQiLCJvcHRpb24iLCJ0aXRsZSIsImJ0biIsIm9rdGV4dCIsImNhbmNlbHRleHQiLCJpY29uIiwib25PayIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJkb25lIiwiY29kZSIsInJldCIsImZhaWwiLCJ4aHIiLCJlcnIiLCJhbGVydCIsInVlIiwiZ2V0Q29udGVudCIsImlubmVySFRNTCIsImFkZENsYXNzIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJvdmVyZmxvdyIsInJlbW92ZUNsYXNzIiwic2xpZGVEb3duIiwic2xpZGVVcCIsImhpc3RvcnkiLCJiYWNrIiwiJGdldEJhY2siLCJjaGFuZ2VTYXZlRmxhZyIsIiRzZXJ2aWNlVG9nZ2xlIiwiY29sbGVjdGlvbiIsImN1cnJWYWwiLCJwcmV2ZW50RGVmYXVsdCIsInBhcmFtcyIsImdldE5vd0Zvcm1hdERhdGUiLCJkYXRlIiwiRGF0ZSIsInNlcGVyYXRvcjEiLCJzZXBlcmF0b3IyIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsInN0ckRhdGUiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyJdLCJtYXBw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S3RDLEVBQU11QyxHQUN4QnRDLFFBQVFRLE1BQU04QixFQUNkeEQsV0FBVUMsS0FBS3NCLE9BQU8sa0JBSWxDNUYsR0FBRThILE1BQU1qQixFQUFLLFNBQVVDLEVBQ3ZCLE9BQU8sV0FDSixDQUVIcEYsUUFBVXFILENBQ1ZFLFFBQU8sY0FBZ0JGLENBQ3ZCL0ksR0FBRSxrQkFBa0JtRixLQUFLLFFBQVE0RCxVQUd0QyxDQUNIRixFQUFlNUMsR0FBRyxRQUFTLFNBQVUsU0FBU1MsR0FDMUNuQixRQUFRQyxJQUFJLFNBQ1pELFNBQVFDLElBQUlzRCxFQUNaLElBQUluQyxHQUFNM0csRUFBRWtHLEtBQ1osSUFBSTZDLEdBQVVwQyxFQUFJNUUsS0FDbEIsSUFBSWdILElBQVlySCxTQUFXcUgsR0FBVyxFQUFJLENBQ3RDckgsUUFBVXFILENBQ1YxRSxXQUFVQyxLQUFLQyxRQUFRLGdCQUNwQixDQUNIN0MsUUFBVXFILE9BTTlCLE9BQU85SSxLQU1YaUosbUJBQ0EsU0FBU0Esb0JBQ0wsR0FBSUMsR0FBTyxHQUFJQyxLQUNmLElBQUlDLEdBQWEsR0FDakIsSUFBSUMsR0FBYSxHQUNqQixJQUFJQyxHQUFPSixFQUFLSyxhQUNoQixJQUFJQyxHQUFRTixFQUFLTyxXQUFhLENBQzlCLElBQUlDLEdBQVVSLEVBQUtTLFNBQ25CLElBQUlILEdBQVMsR0FBS0EsR0FBUyxFQUFHLENBQzFCQSxFQUFRLElBQU1BLEVBRWxCLEdBQUlFLEdBQVcsR0FBS0EsR0FBVyxFQUFHLENBQzlCQSxFQUFVLElBQU1BLEVBRXBCM0gsWUFBY3VILEVBQU9GLEVBQWFJLEVBQVFKLEVBQWFNLEVBQ2pELElBQU1SLEVBQUtVLFdBQWFQLEVBQWFILEVBQUtXLGFBQzFDUixFQUFhSCxFQUFLWSxZQUN4QixPQUFPL0giLCJmaWxlIjoicmVzQWRkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbiAoKSB7XG4gICAgcmVzQWRkLmluaXQoKTtcbn0pO1xuXG4vL+WFrOWFseWPmOmHj+W8gOWni1xuLy/liKTlrprmmK/nvJbovpHov5jmmK/mlrDlu7pcblxuLy/otYTmupDmoIfor4ZcbnZhciBpZDtcblxuLy/nvJbovpHmiJbmmK/kv67mlLlcbnZhciBwYWdlVHlwZTtcblxuLy/otYTmupDnsbvlnotcbnZhciByZXNvdXJjZVR5cGU7XG5cbi8v5paw5aKe55qE5rig6YGTICDpu5jorqTkuLrljZXlk4FcbnZhciB1cGxvYWRDaGFubmVsVHlwZSA9IEdldFF1ZXJ5U3RyaW5nKFwidXBsb2FkX2NoYW5uZWxfdHlwZVwiKSB8fCAxO1xuXG4vL+S7mOi0ueW9ouW8j1xudmFyIHJlc291cmNlRnJlZSA9IHVwbG9hZENoYW5uZWxUeXBlPT0xID8gMiA6IG51bGw7XG5cbi8v5LiT5qCPSURcbnZhciBwYWNrYWdlSWQgPSBHZXRRdWVyeVN0cmluZyhcInBhY2thZ2VfaWRcIik7XG5cbi8vKOW9k+i1hOa6kOS4uuinhumikeOAgeebtOaSreaXtizmnInlgLwpXG52YXIgcmVzb3VyY2VQYXJhbXM7XG5cbi8v5LiT5qCP5ZCN56ewXG52YXIgcGFja2FnZU5hbWU7XG5cbi8v5LiT5qCP5LiK5LiL5p6254q25oCBXG52YXIgY29sdW1uU3RhdGUgPSAxO1xuXG4vL+S4k+agj+acn+aVsOaYvuekulxudmFyIHNob3dfcmVzb3VyY2Vjb3VudCA9IDE7XG5cbi8v5LiT5qCP5YiG57G75pWw57uEXG52YXIgY2xhc3NBcnJheSA9IFtdO1xuXG4vL+mfs+mikeWPguaVsOW8gOWni1xuLy/mraPlvI/pn7PpopHlpKflsI9cbnZhciBmaWxlQXVkaW8xU2l6ZTtcblxuLy/mraPlvI/pn7PpopHplb/luqZcbnZhciByZXNBdWRpbzFMZW5ndGg7XG5cbi8v5q2j5byP6Z+z6aKR5ZCNXG52YXIgQXVkaW9OYW1lO1xuXG4vL+ivleWQrOmfs+mikeWkp+Wwj1xudmFyIGZpbGVBdWRpbzJTaXplO1xuXG4vL+ivleWQrOmfs+mikemVv+W6plxudmFyIHJlc0F1ZGlvMkxlbmd0aDtcblxuLy/or5XlkKzpn7PpopHlkI1cbnZhciB0cnlBdWRpb05hbWU7XG5cbi8v6Z+z6aKR5Y+C5pWw57uT5p2fXG5cbi8v5Zu+5paH5Y+C5pWw5byA5aeLXG4vL+WbvuaWh+WPguaVsOe7k+adn1xuXG4vL+inhumikeWPguaVsOW8gOWni1xuLy/op4bpopHlkI3np7BcbnZhciBWaWRlb05hbWU7XG4vL+inhumikeWPguaVsOe7k+adn1xuXG4vL+ebtOaSreWPguaVsOW8gOWni1xuLy/nm7Tmkq3nirbmgIFcbnZhciBhbGl2ZVN0YXRlO1xuLy8g55u05pKt6K6y5biI5YiX6KGoXG52YXIgcm9sZVBhcmFtcyA9IFtdO1xuXG4vL+ebtOaSreexu+Weiyjpu5jorqTkuLrpn7PpopEpXG52YXIgYWxpdmVUID0gMDtcblxuLy/nm7Tmkq3lj4LmlbDnu5PmnZ9cblxuXG4vL+aIkOWKn+WQjui/lOWbnueahFVSTFxudmFyIGJhY2tVUkwgPSAnJztcblxuLy/mjqjpgIHmtojmga/nmoTlgLxcbnZhciBwcmV2VmFsO1xuXG52YXIgaWZfcHVzaCwgLy/mmK/lkKblvIDlkK/mjqjpgIFcbiAgICBwdXNoX2FoZWFkOyAvL+aPkOWJjeaOqOmAgeaXtumXtFxuXG4vL+ebtOaSreeahOaSreaUvueKtuaAge+8iDDmnKrlvIDlp4vvvIwx44CBNOW3suW8gOWni++8jDIsM+e7k+adn++8iVxudmFyIHBsYXlTdGF0ZT0wO1xuXG52YXIgaXNfZGlzdHJpYnV0ZSA9ICQoJyNpc19kaXN0cmlidXRlJykudmFsKCk7XG5cbnZhciBjdXJyZW50RGF0ZTsvL+W9k+WJjeeahOaXtumXtFxuXG4vL+WFrOWFseWPmOmHj+e7k+adn1xuXG52YXIgcmVzQWRkID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzQWRkID0ge307XG5cbiAgICAvL+aWh+S7tuWkp+Wwj1xuICAgIHZhciBmaWxlU2l6ZTtcblxuICAgIC8v5Y+W5raI5LiK5Lyg5Yik5pat5Y+C5pWwXG4gICAgLy8gdmFyIHVwbG9hZENhbmNlbD0wO1xuICAgIGZ1bmN0aW9uIGdldE9iamVjdFVSTChmaWxlKSB7XG4gICAgICAgIHZhciB1cmwgPSBudWxsO1xuICAgICAgICBpZiAod2luZG93LmNyZWF0ZU9iamVjdFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHVybCA9IHdpbmRvdy5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LlVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy53ZWJraXRVUkwgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB1cmwgPSB3aW5kb3cud2Via2l0VVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZU9iamVjdFVSTCh1cmwpIHsvL+mHiuaUvui1hOa6kFVSTFxuICAgICAgICBpZiAod2luZG93LnJldm9rZU9iamVjdFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cud2Via2l0VVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93LndlYmtpdFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy/otYTmupDkuIrkvKDlh73mlbAo5Y+C5pWw77yacmVzVHlwZTrotYTmupDnsbvlnosscmVzVHlwZUNsYXNzOui1hOa6kOexu+Wei+S4ree7huWIhueahOenjeexuyxyZXNMaW1pdFNpemU66LWE5rqQ6ZmQ5Yi25aSn5bCPKVxuICAgIGZ1bmN0aW9uIHJlc1VwbG9hZChmaWxlcywgcmVzVHlwZSwgcmVzVHlwZUNsYXNzLCByZXNMaW1pdFNpemUpIHtcbiAgICAgICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGZpbGUpO1xuXG4gICAgICAgICAgICB2YXIgcmVzb3VyY2VMb2NhbFVybCA9IGdldE9iamVjdFVSTChmaWxlKTtcbiAgICAgICAgICAgIGZpbGVTaXplID0gKGZpbGUuc2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICByZXNBdWRpbzFMZW5naCA9IGZpbGUuZHVyYXRpb247XG4gICAgICAgICAgICAvL+WmguaenOaYr+ato+W8j+mfs+mikVxuICAgICAgICAgICAgaWYgKHJlc1R5cGVDbGFzcyA9PSBcIkF1ZGlvMVwiKSB7XG4gICAgICAgICAgICAgICAgZmlsZUF1ZGlvMVNpemUgPSBmaWxlU2l6ZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZVRpbWVcIik7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2VFbGVtZW50LnNyYyA9IHJlc291cmNlTG9jYWxVcmw7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2VFbGVtZW50Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVPYmplY3RVUkwocmVzb3VyY2VMb2NhbFVybCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvL+iOt+WPlumfs+mikeaXtumVv1xuICAgICAgICAgICAgICAgIC8vICByZXNBdWRpbzFMZW5naD1yZXNvdXJjZUVsZW1lbnQuZHVyYXRpb247XG4gICAgICAgICAgICAgICAgLy8gIGNvbnNvbGUubG9nKHJlc0F1ZGlvMUxlbmdoKTtcbiAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coJChcIiNyZXNvdXJjZVRpbWVcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/lpoLmnpzmmK/or5XlkKzpn7PpopFcbiAgICAgICAgICAgIGlmIChyZXNUeXBlQ2xhc3MgPT0gXCJBdWRpbzJcIikge1xuICAgICAgICAgICAgICAgIGZpbGVBdWRpbzJTaXplID0gZmlsZVNpemU7XG4gICAgICAgICAgICAgICAgdmFyIHRyeUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyeVRpbWVcIik7XG4gICAgICAgICAgICAgICAgdHJ5RWxlbWVudC5zcmMgPSByZXNvdXJjZUxvY2FsVXJsO1xuICAgICAgICAgICAgICAgIHRyeUVsZW1lbnQub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU9iamVjdFVSTChyZXNvdXJjZUxvY2FsVXJsKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhmaWxlLm5hbWUpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhmaWxlU2l6ZSk7XG4gICAgICAgICAgICAvL+WmguaenOaYr+mfs+mikVxuICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgICAgIHZhciBhdWRpb05hbWUgPSBmaWxlLm5hbWU7XG4gICAgICAgICAgICAgICAgLy9hbGVydChpbWdOYW1lKTtcbiAgICAgICAgICAgICAgICB2YXIgZXh0LGlkeDtcbiAgICAgICAgICAgICAgICBpZHggPSBhdWRpb05hbWUubGFzdEluZGV4T2YoXCIuXCIpO1xuICAgICAgICAgICAgICAgIGlmIChpZHggIT0gLTEpe1xuICAgICAgICAgICAgICAgICAgICBleHQgPSBhdWRpb05hbWUuc3Vic3RyKGlkeCsxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBleHQgPSBleHQudG9Mb3dlckNhc2UoICk7XG4gICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoXCLlkI7nvIA9XCIrZXh0K1wi5L2N572uPVwiK2lkeCtcIui3r+W+hD1cIityZXNvdXJjZUxvY2FsVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dCAhPSAnbXAzJyAmJiBleHQgIT0gJ200YScpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9kb2N1bWVudC5hbGwuc3VibWl0X3VwbG9hZC5kaXNhYmxlZD10cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuivt+S4iuS8oOmfs+mikeexu+Wei+eahOaWh+S7tuWTpn4hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzVHlwZUNsYXNzID09ICdBdWRpbzEnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcudXBMb2FkQXVkaW8xJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcudXBMb2FkQXVkaW8yJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChcIjIu5Y+q6IO95LiK5LygLmpwZyAgLnBuZyAgLmpwZWcgIC5naWbnsbvlnovnmoTmlofku7YhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWxsLnN1Ym1pdF91cGxvYWQuZGlzYWJsZWQ9dHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzVHlwZUNsYXNzID09ICdBdWRpbzEnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy51cExvYWRBdWRpbzEnKS52YWwoJycpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcudXBMb2FkQXVkaW8yJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi6K+35LiK5Lyg6Z+z6aKR57G75Z6L55qE5paH5Lu25ZOmfiFcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoXCLlj6rog73kuIrkvKAuanBnICAucG5nICAuanBlZyAgLmdpZuexu+Wei+eahOaWh+S7tiFcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJCgnI2F1ZGlvVVJMJytyZXNUeXBlQ2xhc3MpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZEJveFwiK3Jlc1R5cGVDbGFzcykuZmFkZUluKDMwMCk7XG4gICAgICAgICAgICAgICAgLy8g5Yid5aeL5YyW5paH5Lu25Lul5Y+K6L+b5bqm5p2hXG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRcIiArIHJlc1R5cGVDbGFzcyArIFwiTmFtZVwiKS5odG1sKGZpbGUubmFtZSk7XG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRcIiArIHJlc1R5cGVDbGFzcyArIFwiU2l6ZSBzcGFuXCIpLmh0bWwoZmlsZVNpemUpO1xuICAgICAgICAgICAgICAgICQoXCIudXBsb2FkUExpbmVcIiArIHJlc1R5cGVDbGFzcykuc2hvdygpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKFwiLnVwbG9hZFBMaW5lQWN0aXZlXCIgKyByZXNUeXBlQ2xhc3MpLmNzcyhcIndpZHRoXCIsICcwJyk7XG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRQZXJzZW50XCIgKyByZXNUeXBlQ2xhc3MpLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgIGlmKHJlc1R5cGVDbGFzcyA9PSBcIkF1ZGlvMVwiKXsvL+ato+W8j+mfs+mikVxuICAgICAgICAgICAgICAgICAgICBBdWRpb05hbWUgPSBmaWxlLm5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKHJlc1R5cGVDbGFzcyA9PSBcIkF1ZGlvMlwiKSB7Ly/or5XlkKzpn7PpopFcbiAgICAgICAgICAgICAgICAgICAgdHJ5QXVkaW9OYW1lID0gZmlsZS5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g6ZmQ5Yi26LWE5rqQ5ZyoKk1C5YaFXG4gICAgICAgICAgICBpZiAoJHVwbG9hZEZpbGUuY2hlY2tGaWxlU2l6ZShmaWxlLCByZXNMaW1pdFNpemUpKSB7XG4gICAgICAgICAgICAgICAgJHVwbG9hZEZpbGUudXBsb2FkUmVzKGZpbGUsIHJlc1R5cGUsIGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNUeXBlID09ICdhdWRpbycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBwYXJzZUludChkYXRhICogMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZFBMaW5lQWN0aXZlXCIgKyByZXNUeXBlQ2xhc3MpLmNzcyhcIndpZHRoXCIsIHByb2dyZXNzICsgJyUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZFBlcnNlbnRcIiArIHJlc1R5cGVDbGFzcykudGV4dChwcm9ncmVzcyArIFwiJVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8g5LiK5Lyg5oiQ5Yqf5Zue6LCDXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLkuIrkvKDmiJDlip/vvIFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZFBlcnNlbnRcIiArIHJlc1R5cGVDbGFzcykudGV4dChcIuWujOaIkFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNVcmwgPSBkYXRhLmRhdGEuYWNjZXNzX3VybDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc1VybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI1wiICsgcmVzVHlwZUNsYXNzICsgXCJVcmxcIikudmFsKHJlc1VybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzVHlwZUNsYXNzID09IFwiQXVkaW8yXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuZGVsZXRlVHJ5QXVkaW9cIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5piv5Zu+54mH6LWE5rqQ77yM5YiZ5bGV56S65Zu+54mH6aKE6KeIXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzVHlwZSA9PSAnaW1hZ2UnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1nTmFtZSA9IGZpbGUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KGltZ05hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHQsaWR4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeCA9IGltZ05hbWUubGFzdEluZGV4T2YoXCIuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHggIT0gLTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHQgPSBpbWdOYW1lLnN1YnN0cihpZHgrMSkudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ID0gZXh0LnRvTG93ZXJDYXNlKCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwi5ZCO57yAPVwiK2V4dCtcIuS9jee9rj1cIitpZHgrXCLot6/lvoQ9XCIrcmVzb3VyY2VMb2NhbFVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHQgIT0gJ2pwZycgJiYgZXh0ICE9ICdwbmcnICYmIGV4dCAhPSAnanBlZycgJiYgZXh0ICE9ICdnaWYnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYWxsLnN1Ym1pdF91cGxvYWQuZGlzYWJsZWQ9dHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+S4iuS8oOWbvueJh+exu+Wei+eahOaWh+S7tuWTpn5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwiMi7lj6rog73kuIrkvKAuanBnICAucG5nICAuanBlZyAgLmdpZuexu+Wei+eahOaWh+S7tiFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hbGwuc3VibWl0X3VwbG9hZC5kaXNhYmxlZD10cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7fkuIrkvKDlm77niYfnsbvlnovnmoTmlofku7blk6Z+XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwi5Y+q6IO95LiK5LygLmpwZyAgLnBuZyAgLmpwZWcgIC5naWbnsbvlnovnmoTmlofku7YhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kKFwiLnByZXZpZXdQaWNcIiArIHJlc1R5cGVDbGFzcyArIFwiIGltZ1wiKS5hdHRyKFwic3JjXCIsIHJlc1VybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/nm7TmjqXliqDovb3mnKzlnLDlm77niYfov5vooYzpooTop4hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnByZXZpZXdQaWNcIiArIHJlc1R5cGVDbGFzcyArIFwiIGltZ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5sb2FkKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVPYmplY3RVUkwocmVzb3VyY2VMb2NhbFVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInNyY1wiLCByZXNvdXJjZUxvY2FsVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8g5LiK5Lyg5aSx6LSl5Zue6LCDXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5LiK5Lyg5aSx6LSlISEhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkuIrkvKDlpLHotKXvvIFcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkuIrkvKDotYTmupDpmZDliLblnKhcIiArIHJlc0xpbWl0U2l6ZSArIFwiTULlhoXvvIFcIik7XG4gICAgICAgICAgICAgICAgJChcIi51cExvYWRcIityZXNUeXBlQ2xhc3MpLnZhbChcIlwiKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmlsZXMpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNBZGQuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy/pgInmi6nnu4Tku7bmoLflvI9cbiAgICAgICAgLy8gJCgnc2VsZWN0JykubWF0ZXJpYWxfc2VsZWN0KCk7XG4gICAgICAgIC8v5pe26Ze06YCJ5oup5Zmo5Yid5aeL5YyWXG4gICAgICAgIC8vICQoXCIjZGF0ZUlucHV0XCIpLmRhdGV0aW1lcGlja2VyKHtcbiAgICAgICAgLy8gICAgIHdlZWtTdGFydDogMSwgLy/kuIDlkajku47mmJ/mnJ/kuIDlvIDlp4tcbiAgICAgICAgLy8gICAgIG1pblZpZXc6IFwiZGF5XCIsXG4gICAgICAgIC8vICAgICBmb3JtYXQ6ICd5eXl5LW1tLWRkIGhoOjAwOjAwJyxcbiAgICAgICAgLy8gICAgIGF1dG9jbG9zZTogdHJ1ZSwgLy/pgInmi6nml6XmnJ/lkI7oh6rliqjlhbPpl61cbiAgICAgICAgLy8gICAgIHBpY2tlclBvc2l0aW9uOid0b3AtcmlnaHQnICAvL+W8ueeql+aYvuekuuWcqOi+k+WFpeahhuS4iuaWuVxuICAgICAgICAvLyB9KTtcbiAgICAgICAgLy8gJChcIiNkYXRlSW5wdXQxXCIpLmRhdGV0aW1lcGlja2VyKHtcbiAgICAgICAgLy8gICAgIHdlZWtTdGFydDogMSxcbiAgICAgICAgLy8gICAgIG1pblZpZXc6IFwiZGF5XCIsXG4gICAgICAgIC8vICAgICBmb3JtYXQ6ICd5eXl5LW1tLWRkIGhoOjAwOjAwJyxcbiAgICAgICAgLy8gICAgIGF1dG9jbG9zZTogdHJ1ZSwgLy/pgInmi6nml6XmnJ/lkI7oh6rliqjlhbPpl61cbiAgICAgICAgLy8gICAgIHBpY2tlclBvc2l0aW9uOid0b3AtcmlnaHQnXG4gICAgICAgIC8vIH0pO1xuICAgICAgICAvLyAkKFwiI2RhdGVJbnB1dDJcIikuZGF0ZXRpbWVwaWNrZXIoe1xuICAgICAgICAvLyAgICAgd2Vla1N0YXJ0OiAxLFxuICAgICAgICAvLyAgICAgbWluVmlldzogXCJkYXlcIixcbiAgICAgICAgLy8gICAgIGZvcm1hdDogJ3l5eXktbW0tZGQgaGg6MDA6MDAnLFxuICAgICAgICAvLyAgICAgYXV0b2Nsb3NlOiB0cnVlLCAvL+mAieaLqeaXpeacn+WQjuiHquWKqOWFs+mXrVxuICAgICAgICAvLyAgICAgcGlja2VyUG9zaXRpb246J3RvcC1yaWdodCdcbiAgICAgICAgLy8gfSlcbiAgICAgICAgcmVzb3VyY2VUeXBlID0gR2V0UXVlcnlTdHJpbmcoXCJ0eXBlXCIpO1xuICAgICAgICBhbGl2ZVRpbWVDb25maWcoXCIuZGF0ZVNldElucHV0XCIpO1xuICAgICAgICBhbGl2ZVRpbWVDb25maWcoXCIuZGF0ZVNldElucHV0Qm90dG9tXCIsIFwidG9wLXJpZ2h0XCIpO1xuICAgICAgICAvL+iOt+WPlui1hOa6kOexu+Wei1xuXG4gICAgICAgIC8v6LWE5rqQ57G75Z6L77ya5Zu+54mH77yaaW1hZ2Us6Z+z6aKR77yaYXVkaW9cbiAgICAgICAgLy/otYTmupDnsbvlnovlrZDnsbvvvJpcbiAgICAgICAgICAgIC8v5q2j5byP6Z+z6aKR77yaQXVkaW8xLOivleWQrOmfs+mike+8mkF1ZGlvMixcbiAgICAgICAgICAgIC8v5bCB6Z2iOkltYWdlMSzml6Xnrb7vvJpJbWFnZTIs55u05pKt5a6j5Lyg5bCB6Z2iOkltYWdlMyzotLTniYc6SW1hZ2U0XG4gICAgICAgIC8vIOeCueWHu+aMiemSruS4iuS8oOWbvueJh1xuICAgICAgICAkKFwiLnVwTG9hZEltYWdlMVwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNVcGxvYWQodGhpcy5maWxlcywgXCJpbWFnZVwiLCBcIkltYWdlMVwiLCA1KTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIucHJldmlld1BpY0ltYWdlMVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLnVwTG9hZEltYWdlMVwiKS5jbGljaygpO1xuICAgICAgICB9KVxuICAgICAgICAkKFwiLnVwTG9hZEltYWdlMlwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNVcGxvYWQodGhpcy5maWxlcywgXCJpbWFnZVwiLCBcIkltYWdlMlwiLCA1KTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIucHJldmlld1BpY0ltYWdlMlwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLnVwTG9hZEltYWdlMlwiKS5jbGljaygpO1xuICAgICAgICB9KVxuICAgICAgICAkKFwiLnVwTG9hZEltYWdlM1wiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNVcGxvYWQodGhpcy5maWxlcywgXCJpbWFnZVwiLCBcIkltYWdlM1wiLCA1KTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIucHJldmlld1BpY0ltYWdlM1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLnVwTG9hZEltYWdlM1wiKS5jbGljaygpO1xuICAgICAgICB9KVxuICAgICAgICAkKFwiLnVwTG9hZEltYWdlNFwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNVcGxvYWQodGhpcy5maWxlcywgXCJpbWFnZVwiLCBcIkltYWdlNFwiLCA1KTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIucHJldmlld1BpY0ltYWdlNFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLnVwTG9hZEltYWdlNFwiKS5jbGljaygpO1xuICAgICAgICB9KVxuXG4gICAgICAgIC8vIOeCueWHu+aMiemSruS4iuS8oOmfs+mikVxuICAgICAgICAvL+ato+W8j1xuICAgICAgICAkKFwiLnVwTG9hZEF1ZGlvMVwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNVcGxvYWQodGhpcy5maWxlcywgXCJhdWRpb1wiLCBcIkF1ZGlvMVwiLCAyMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgLy/or5XlkKxcbiAgICAgICAgJChcIi51cExvYWRBdWRpbzJcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzVXBsb2FkKHRoaXMuZmlsZXMsIFwiYXVkaW9cIiwgXCJBdWRpbzJcIiwgMjAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/or5XlkKzpn7PpopHnva7nqbpcbiAgICAgICAgJChcIi5kZWxldGVUcnlBdWRpb1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLnVwTG9hZEF1ZGlvMlwiKS52YWwoXCJcIik7XG4gICAgICAgICAgICAkKFwiLnVwbG9hZEJveEF1ZGlvMlwiKS5oaWRlKCk7XG4gICAgICAgICAgICAkKFwiI0F1ZGlvMlVybFwiKS52YWwoXCJcIik7XG4gICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICAgICQoXCIjYXVkaW9VUkxBdWRpbzJcIikucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvL+WPlua2iOS4iuS8oFxuICAgICAgICAvLyAkKFwiLnVwbG9hZENhbmNlbEExXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICAgICQoXCIudXBsb2FkQm94QXVkaW8xXCIpLnJlbW92ZSgpO1xuICAgICAgICAvLyAgICAgdXBsb2FkQ2FuY2VsPTE7XG4gICAgICAgIC8vIH0pXG4gICAgICAgIC8vIOmAieaLqeS7mOi0ueS4juWFjei0uVxuICAgICAgICBpZihpc19kaXN0cmlidXRlICE9IDEpe1xuICAgICAgICAgICAgJChcIi5ub3RGcmVlU2VsZWN0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKFwiLnJlc1ByaXplXCIpLnJlbW92ZUF0dHIoXCJyZWFkb25seVwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLnJlc1ByaXplXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZUZyZWUgPSAyO1xuICAgICAgICAgICAgICAgICQoJyNjb3Vyc2VSZW1pbmQnKS5zaG93KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoXCIuRnJlZVNlbGVjdFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJChcIi5yZXNQcml6ZVwiKS5hdHRyKFwicmVhZG9ubHlcIiwgXCJyZWFkb25seVwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLnJlc1ByaXplXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgICQoXCIucmVzUHJpemVcIikudmFsKDApO1xuICAgICAgICAgICAgICAgIHJlc291cmNlRnJlZSA9IDE7XG4gICAgICAgICAgICAgICAgJCgnI2NvdXJzZVJlbWluZCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcjY291cnNlUmVtaW5kIG9wdGlvblt2YWx1ZT0tMV0nKS5wcm9wKCdzZWxlY3RlZCcsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgJCgnI3B1c2hfYWhlYWQnKS5jaGFuZ2UoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuXG4gICAgICAgIC8v5byA6K++5o+Q6YaSXG4gICAgICAgIHB1c2hfYWhlYWQgPSAkKCcjcHVzaF9haGVhZCBvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcbiAgICAgICAgaWZfcHVzaCA9ICQoJyNpZl9wdXNoJykudmFsKCkgfHwgMTtcbiAgICAgICAgZnVuY3Rpb24gc2V0SWZQdXNoKCkge1xuICAgICAgICAgICAgaWYoIHB1c2hfYWhlYWQgPT0gLTEgKSB7XG4gICAgICAgICAgICAgICAgaWZfcHVzaCA9IDE7XG4gICAgICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICAgICAgaWZfcHVzaCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyICRwdXNoQWhlYWQgPSAkKCcjcHVzaF9haGVhZCcpO1xuICAgICAgICBpZigkcHVzaEFoZWFkLmxlbmd0aD4wKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHB1c2hfYWhlYWQpO1xuICAgICAgICAgICAgc2V0SWZQdXNoKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpZl9wdXNoKTtcbiAgICAgICAgICAgIGlmKCAkcHVzaEFoZWFkLmRhdGEoJ3NldHRpbmcnKSA9PSAxICkgeyAvL+eUqOaIt+acquWwhuacjeWKoeWPt+iuvue9ruS4uuaVmeiCsuihjOS4mlxuICAgICAgICAgICAgICAgICRwdXNoQWhlYWQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJTZWxlY3RlZCA9ICtlbGUudmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlLmZpbmQoJ29wdGlvblt2YWx1ZT0nKyBwdXNoX2FoZWFkICsnXScpLnByb3AoJ3NlbGVjdGVkJyx0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggcHVzaF9haGVhZCA9PSAtMSAmJiBjdXJTZWxlY3RlZCAhPSAtMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eHQ9ICBcIuaCqOmcgOimgeWIsOW+ruS/oeWFrOS8l+WPt+WQjuWPsOWwhuaCqOeahOacjeWKoeWPt+aJgOWcqOihjOS4muiuvue9ruS4uuKAnOaVmeiCsi/ln7norq3igJ3vvIzorr7nva7lrozmiJDlkI7vvIzlvIDlkK/mnI3liqHlj7fpgJrnn6Xmlrnlj6/mraPluLjlj5HpgIHmqKHmnb/mtojmga/jgIJcIitcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPGJyLz48YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nL2hlbHAvaW5zdHJ1Y3Rpb25zI2hwNV93eF9zZXJ2aWNlJyBzdHlsZT0nbWFyZ2luLXRvcDoxMHB4Oyc+5LuA5LmI5piv5qih5p2/5raI5oGv77yfPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCLmj5DnpLpcIiwgLy/lvLnlh7rmoYbmoIfpophcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDMsIC8v56Gu5a6aJiblj5bmtohcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3RleHQ6ICfmiJHlt7Lorr7nva4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbHRleHQ6ICflhbPpl60nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbigpey8v5Y+R6YCB6K+35rGC77yM5Yik5pat55So5oi35piv5ZCm6K6+572u5pyN5Yqh5Y+36KGM5LiaXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCgnL2hhc19pbmR1c3RyeScse1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9IGRhdGEucmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29kZSA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUuZmluZCgnb3B0aW9uW3ZhbHVlPScrIGN1clNlbGVjdGVkICsnXScpLnByb3AoJ3NlbGVjdGVkJyx0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXNoX2FoZWFkID0gY3VyU2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SWZQdXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyrmtojmga/mjqjpgIHlvIDlkK8qL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLmqKHmnb/mtojmga/mjqjpgIHlvIDlkK9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaXoOazleW8gOWQr+a2iOaBr+aOqOmAge+8jOivt+aMieeFp+aPkOekuuS/ruaUueiuvue9rlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbih4aHIsIHRleHQsIGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+VXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KHR4dCwgXCJjdXN0b21cIiwgb3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8q5YWz6Zet5raI5oGv5o6o6YCBKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hfYWhlYWQgPSBjdXJTZWxlY3RlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldElmUHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlLmZpbmQoJ29wdGlvblt2YWx1ZT0nKyBjdXJTZWxlY3RlZCArJ10nKS5wcm9wKCdzZWxlY3RlZCcsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJHB1c2hBaGVhZC5vbignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICBwdXNoX2FoZWFkID0gK2VsZS52YWwoKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRJZlB1c2goKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8v57yW6L6R5Zmo6aKE6KeIXG4gICAgICAgICQoJyNwcmV2aWV3Jykub24oJ2NsaWNrJyxmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIGh0bWwgPSB1ZS5nZXRDb250ZW50KCk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlld19jb250ZW50JykuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICAgICQoJy5wcmV2aWV3X2NvbicpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICQoJy5wcmV2aWV3X2JveCcpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5wcmV2aWV3X2NvbicpLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCgnI3ByZXZpZXdfY29udGVudCcpLmh0bWwoJycpO1xuICAgICAgICAgICAgJCgnLnByZXZpZXdfYm94JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICAg6YCJ5oup6K+t6Z+z5oiW6ICF6Z+z6aKR77yI55u05pKt77yJXG4gICAgICAgICQoXCIudmlkZW9zU2VsZWN0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuYWxpdmVWaWRlb0JveFwiKS5zbGlkZURvd24oMzAwKTtcbiAgICAgICAgICAgIGFsaXZlVCA9IDE7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhbGl2ZVQpO1xuICAgICAgICAgICAgVmlkZW9OYW1lID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIudm9pY2VTZWxlY3RcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi5hbGl2ZVZpZGVvQm94XCIpLnNsaWRlVXAoMzAwKTtcbiAgICAgICAgICAgIGFsaXZlVCA9IDA7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhbGl2ZVQpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChcIi5hbGl2ZVNlbGVjdFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLmFsaXZlVmlkZW9Cb3hcIikuc2xpZGVVcCgzMDApO1xuICAgICAgICAgICAgYWxpdmVUID0gMjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGFsaXZlVCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiLnBwdEFsaXZlU2VsZWN0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuYWxpdmVWaWRlb0JveFwiKS5zbGlkZVVwKDMwMCk7XG4gICAgICAgICAgICBhbGl2ZVQgPSAzO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYWxpdmVUKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/pgInmi6nkuJPmoI/kuIrkuIvmnrZcbiAgICAgICAgJChcIi5jb2x1bW5TaG93XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbHVtblN0YXRlID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgICQoXCIuY29sdW1uSGlkZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb2x1bW5TdGF0ZSA9IDE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v6YCJ5oup5pi+56S65pyf5pWwXG4gICAgICAgICQoXCIuY291bnRTaG93XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNob3dfcmVzb3VyY2Vjb3VudCA9IDE7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiLmNvdW50SGlkZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzaG93X3Jlc291cmNlY291bnQgPSAwO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8v54K55Ye75LiK5LiA5q2l6L+U5ZueXG4gICAgICAgICQoJy5sYXN0U3RlcEJ0bicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgJGdldEJhY2sgPSAkKCcjZ2V0QmFjaycpO1xuICAgICAgICBpZih1cGxvYWRDaGFubmVsVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBpZihyZXNvdXJjZVR5cGUgPT0gNCl7XG4gICAgICAgICAgICAgICAgYmFja1VSTCA9ICcvcmVzb3VyY2VfbGlzdF9wYWdlP3Jlc291cmNlX3R5cGU9NCc7XG4gICAgICAgICAgICAgICAgJGdldEJhY2suYXR0cignaHJlZicsIGJhY2tVUkwpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgYmFja1VSTCA9ICcvcmVzb3VyY2VfbGlzdF9wYWdlJztcbiAgICAgICAgICAgICAgICAkZ2V0QmFjay5hdHRyKCdocmVmJywgYmFja1VSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZih1cGxvYWRDaGFubmVsVHlwZSA9PSAyKSB7XG4gICAgICAgICAgICBiYWNrVVJMID0gJy9wYWNrYWdlX2RldGFpbF9wYWdlP2lkPScgKyBwYWNrYWdlSWQ7XG4gICAgICAgICAgICAkZ2V0QmFjay5hdHRyKCdocmVmJywgYmFja1VSTCk7XG4gICAgICAgIH0gZWxzZSBpZih1cGxvYWRDaGFubmVsVHlwZSA9PSAzKSB7XG4gICAgICAgICAgICBiYWNrVVJMID0gJy9tZW1iZXJfZGV0YWlsX3BhZ2U/aWQ9JyArIHBhY2thZ2VJZDtcbiAgICAgICAgICAgICRnZXRCYWNrLmF0dHIoJ2hyZWYnLCBiYWNrVVJMKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8v54K55Ye75L6n6L655qCP56a75byA5pe255qE5by55qGGXG4gICAgICAgIGNoYW5nZVNhdmVGbGFnKHRydWUpO1xuXG5cbiAgICAgICAgLy/mnI3liqHlj7fpgJrnn6XlvLnlh7rnmoTpgLvovpHliKTmlq1cbiAgICAgICAgdmFyICRzZXJ2aWNlVG9nZ2xlID0gJCgnI3NlcnZpY2VUb2dnbGUnKTtcbiAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSRzZXJ2aWNlVG9nZ2xlLmRhdGEoJ2NvbGxlY3Rpb24nKTsvLyAw5LyB5Lia5qih5byPICAx5Liq5Lq65qih5byP44CBXG4gICAgICAgIHByZXZWYWwgPSArJChcIiNzZXJ2aWNlVG9nZ2xlIDpyYWRpbzpjaGVja2VkXCIpLnZhbCgpIHx8IG51bGw7IC8v5b2T5YmN5Y2V6YCJ5qGG55qE5YC8XG4gICAgICAgIGlmKCRzZXJ2aWNlVG9nZ2xlLmxlbmd0aD4wICl7XG4gICAgICAgICAgICBpZiggY29sbGVjdGlvbiA9PSAwICYmICRzZXJ2aWNlVG9nZ2xlLmRhdGEoJ3NldHRpbmcnKSA9PSAxKSB7IC8v55So5oi35pyq5bCG5pyN5Yqh5Y+36K6+572u5Li65pWZ6IKy6KGM5LiaLOiAjOS4lOaooeW8j+S4uuS8geS4muaooeW8j+aJjeS8muaYvuekulxuICAgICAgICAgICAgICAgICRzZXJ2aWNlVG9nZ2xlLm9uKCdjbGljaycsICc6cmFkaW8nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdoYWhhaGEnKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZSA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyVmFsID0gK2VsZS52YWwoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggY3VyclZhbCAhPT0gcHJldlZhbCAmJiBjdXJyVmFsID09IDEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHh0PSAgXCLmgqjpnIDopoHliLDlvq7kv6HlhazkvJflj7flkI7lj7DlsIbmgqjnmoTmnI3liqHlj7fmiYDlnKjooYzkuJrorr7nva7kuLrigJzmlZnogrIv5Z+56K6t4oCd77yM6K6+572u5a6M5oiQ5ZCO77yM5byA5ZCv5pyN5Yqh5Y+36YCa55+l5pa55Y+v5q2j5bi45Y+R6YCB5qih5p2/5raI5oGv44CCXCIrXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxici8+PGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9Jy9oZWxwL2luc3RydWN0aW9ucyNocDVfd3hfc2VydmljZScgc3R5bGU9J21hcmdpbi10b3A6MTBweDsnPuS7gOS5iOaYr+aooeadv+a2iOaBr++8nzwvYT5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi5o+Q56S6XCIsIC8v5by55Ye65qGG5qCH6aKYXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAzLCAvL+ehruWumiYm5Y+W5raIXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2t0ZXh0OiAn5oiR5bey6K6+572uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWx0ZXh0OiAn5YWz6ZetJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKXsvL+WPkemAgeivt+axgu+8jOWIpOaWreeUqOaIt+aYr+WQpuiuvue9ruacjeWKoeWPt+ihjOS4mlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoJy9oYXNfaW5kdXN0cnknLHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBkYXRhLnJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvZGUgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2VmFsID0gY3VyclZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKua2iOaBr+aOqOmAgeW8gOWQryovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuaooeadv+a2iOaBr+aOqOmAgeW8gOWQr1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5peg5rOV5byA5ZCv5raI5oGv5o6o6YCB77yM6K+35oyJ54Wn5o+Q56S65L+u5pS56K6+572uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKHhociwgdGV4dCwgZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQodHh0LCBcImN1c3RvbVwiLCBvcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyrlhbPpl63mtojmga/mjqjpgIEqL1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlZhbCA9IGN1cnJWYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNbJ3B1c2hfc3RhdGUnXSA9IGN1cnJWYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2VydmljZVRvZ2dsZScpLmRhdGEoJ3N0YXRlJyxjdXJyVmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkc2VydmljZVRvZ2dsZS5vbignY2xpY2snLCAnOnJhZGlvJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbGFsYWxhJylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29sbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGUgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyclZhbCA9IGVsZS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1cnJWYWwgIT09IHByZXZWYWwgJiYgY3VyclZhbCA9PSAxICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlZhbCA9IGN1cnJWYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5qih5p2/5raI5oGv5o6o6YCB5byA5ZCvXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlZhbCA9IGN1cnJWYWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJlc0FkZDtcbn0pKCk7XG5cbi8v5YWs5YWx5pa55rOVXG5cbi8v6I635Y+W5b2T5YmN5pel5pyf5qC85byPXG5nZXROb3dGb3JtYXREYXRlKCk7XG5mdW5jdGlvbiBnZXROb3dGb3JtYXREYXRlKCkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICB2YXIgc2VwZXJhdG9yMSA9IFwiLVwiO1xuICAgIHZhciBzZXBlcmF0b3IyID0gXCI6XCI7XG4gICAgdmFyIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICB2YXIgc3RyRGF0ZSA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIGlmIChtb250aCA+PSAxICYmIG1vbnRoIDw9IDkpIHtcbiAgICAgICAgbW9udGggPSBcIjBcIiArIG1vbnRoO1xuICAgIH1cbiAgICBpZiAoc3RyRGF0ZSA+PSAwICYmIHN0ckRhdGUgPD0gOSkge1xuICAgICAgICBzdHJEYXRlID0gXCIwXCIgKyBzdHJEYXRlO1xuICAgIH1cbiAgICBjdXJyZW50RGF0ZSA9IHllYXIgKyBzZXBlcmF0b3IxICsgbW9udGggKyBzZXBlcmF0b3IxICsgc3RyRGF0ZVxuICAgICAgICArIFwiIFwiICsgZGF0ZS5nZXRIb3VycygpICsgc2VwZXJhdG9yMiArIGRhdGUuZ2V0TWludXRlcygpXG4gICAgICAgICsgc2VwZXJhdG9yMiArIGRhdGUuZ2V0U2Vjb25kcygpO1xuICAgIHJldHVybiBjdXJyZW50RGF0ZTtcbn1cbiJdfQ==
