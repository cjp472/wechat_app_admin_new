var business;$(function(){var e=$("#mainToolBox").data("id");business=new Business(e);business.init()});function Business(e){this.id=e;this.hasDown=false;this.hasClose=true;this.page=1;this.searchContent="";this.btnState=true;this.toolBoxBtn=true;this.searchResourceType=0;this.searchResourceName=""}Business.prototype={init:function(){var e=this;e.searchResourceType=GetQueryString("resource_type");e.searchResourceName=GetQueryString("search_content");this.initSearchPart();this.initCopy("copyHref");$("#mainToolBox").on("click","li[data-type]",function(t){var s=$(t.target),a=s.data("type"),o=e.id;a&&e.btnState&&e.maintool(a,o)});$("");$(".singleToolBox").on("click","li[data-type]",function(t){var s=$(t.target),a=s.data("type"),o=e.id,i=s.parentsUntil(".singleToolBox",".toolUl").data("type"),n=s.parentsUntil(".singleToolBox",".toolUl").data("id");var r=s.parentsUntil(".singleToolBox",".toolUl").data("res_title"),c=s.parentsUntil(".singleToolBox",".toolUl").data("is_try"),l=s.parentsUntil(".singleToolBox",".toolUl").data("show_time"),d=s.parentsUntil(".singleToolBox",".toolUl").data("img_url"),u=s.parentsUntil(".singleToolBox",".toolUl").data("payment_type");a&&e.btnState&&e.singleTool(a,o,i,n,r,c,l,d,u)});$("#addSingle").on("click",function(){showLoading();e.page=1;e.hasDown=false;e.hasClose=false;e.getSelectData()});$("#selectWindow #selctClose, #selectWindow #selectCancelBtn").on("click",function(){var t=$("#selectWindow");t.fadeOut("normal",function(){$(this).find("#selectAreaList").html("")});t.find(".inputSearchPart").val("");e.page=1;e.hasClose=true;e.searchContent=""});$("#selectWindow #selectSearchBtn").on("click",function(){var t=$.trim($(this).prev().val());showLoading();e.searchContent=t;e.page=1;e.hasClose=true;e.getSelectData()}).prev().on("keypress",function(e){if(e.keyCode=="13"){$("#selectWindow #selectSearchBtn").click()}});$("#selectWindow .select_content_area").scroll(function(t){var s=$("#selectAreaList").height(),a=$(this).height(),o=$(this).scrollTop();if(o+a>=s-5&&!e.hasDown&&!e.hasClose){e.hasClose=true;e.getSelectData()}});$("#selectWindow #selectOkBtn").on("click",function(t){var s=$("#selectWindow .select_content_area"),a=[];showLoading();s.find(":checkbox:checked").each(function(e,t){var s={resource_id:t.getAttribute("id"),resource_type:t.getAttribute("value")};a[a.length]=s});$.ajax("/submit_choice_resource",{type:"POST",dataType:"json",data:{channel_type:2,resource_list:a,package_id:e.id},success:function(e){console.log(e);if(e.code==0){$("#selectWindow #selctClose").click();baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{baseUtils.show.redTip(e.msg);hideLoading()}},error:function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试");hideLoading()}})})},setSingleSale:function(e,t,s,a,o,i){if(s==1){if(e==2){$.alert("该单品已设为试听，取消试听后方可设为单卖","info",{btn:2})}else if(e==1||e==3||e==4){$.alert("该单品已设为试看，取消试看后方可设为单卖","info",{btn:2})}}else{this.initSetSingleSaleWindow(o,t,e,a,i);$(".set_price_window").fadeIn(300)}},cancelSingleSale:function(e,t,s){if(s==1){var a="取消单卖后，未开通专栏的用户将不可单独查看该单品!"}else if(s==2){var a="取消单卖后，未开通专栏的用户将不可单独付费购买该单品!"}$.alert(a,"info",{onOk:function(){showLoading();var s={};s["resource_id"]=t;s["resource_type"]=e;var a=[s];$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:a,submit_type:1},success:function(e){hideLoading();if(e.code==0){baseUtils.show.blueTip("取消单卖成功！");setTimeout(function(){window.location.reload()},1500)}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,t,s){hideLoading();console.log(s);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})}})},initSetSingleSaleWindow:function(e,t,s,a,o){$(".resource_icon_3").attr("src",e);$(".resource_title").html(t);switch(s){case 1:$(".resource_type_3").html("图文");break;case 2:$(".resource_type_3").html("音频");break;case 3:$(".resource_type_3").html("视频");break;case 4:$(".resource_type_3").html("直播");break;default:break}$(".resource_time_3").html(a);$(".close_icon_wrapper_2, .cancel_set_price").click(function(){$(".set_price_window").fadeOut(300)});$(".confirm_price_btn").click(function(){var e=$.trim($(".input_setting_price").val());var t=/^([1-9][\d]*|0)([\/.][\d]{1,2})?$/;if(!t.test(e)){baseUtils.show.redTip("价格输入有误");$(".input_setting_price").val("");return false}if(e<=0){baseUtils.show.redTip("价格不能为0 或 负数!");return false}if(e>baseUtils.maxInputPrice){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}var a={};a["resource_id"]=o;a["resource_type"]=s;var i=[a];$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:i,piece_price:e*100,submit_type:0},success:function(e){if(e.code==0){$(".set_price_window").fadeOut(300);baseUtils.show.blueTip("设为单卖成功");setTimeout(function(){window.location.reload()},1500)}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,t,s){console.log(s);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})})},initSearchPart:function(){var e=this;$(".searchAllBtn").click(function(){var e=GetQueryString("id");var t=$(".selector_resource_type").val();var s=$.trim($(".inputSearchAll").val());window.location.href="/package_detail_page?id="+e+"&search_content="+s+"&resource_type="+t});$(".inputSearchAll").focusin(function(){$(document).keypress(function(e){if(e.which==13){$(".searchAllBtn").click()}})}).focusout(function(){$(document).off("keypress")});$(".selector_resource_type").on("change",function(){$(".searchAllBtn").click()});if(e.searchResourceName!=""){$(".inputSearchAll").val(e.searchResourceName)}var t=$(".selector_resource_type").children("option").length;if(t>0){for(var s=0;s<t;s++){if($(".selector_resource_type").children("option").eq(s).attr("value")==e.searchResourceType){$(".selector_resource_type").children("option").eq(s).attr("selected","selected");return}}}},initCopy:function(e){var t=new Clipboard("."+e);t.on("success",function(e){if(e.trigger.id=="copy_app_href"){baseUtils.show.blueTip("复制成功！")}else{baseUtils.show.blueTip("复制成功！请在微信内打开哦 。")}e.clearSelection()})},maintool:function(e,t){self.btnState=false;switch(e){case"newListShow":this.newListShow(t,false);break;case"newListHide":this.newListShow(t,true);break;case"stopupdate":this.packageUpdate(t,false);break;case"startupdate":this.packageUpdate(t,true);break;case"soldout":this.packageisShow(t,false);break;case"putaway":this.packageisShow(t,true);break;case"openForm":this.packageForm(t,false);break;case"closeForm":this.packageForm(t,true);break;default:console.error("参数错误");break}},newListShow:function(e,t){var s=t?1:0;console.log(s);console.log(e);showLoading();$.ajax("/set_h5_newest_hide",{type:"POST",dataType:"json",data:{id:e,h5_newest_hide:t?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();baseUtils.show.redTip(e.msg);self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},packageUpdate:function(e,t){showLoading();$.ajax("/save_package_finished_state",{type:"POST",dataType:"json",data:{package_id:e,finished_state:t?0:1},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();baseUtils.show.redTip(e.msg);self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},packageForm:function(e,t){var s=$(".user_version_num").data("version_type");if(s&&s==3){$.alert(t?"关闭资料填写后，用户在付费购买本专栏前将不再填写个人信息，您确认要关闭么？":"开启资料填写后，用户在付费购买本专栏前将填写个人信息，您确认要开启么？","info",{icon:"blue",onOk:function(){showLoading();$.ajax("/set_is_complete_info",{type:"POST",dataType:"json",data:{id:e,is_complete_info:t},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},200)}else{baseUtils.show.redTip(e.msg);hideLoading()}}})}})}else{baseUtils.show.redTip("当前版本不支持开启资料填写，如需开启请升级至专业版")}},packageisShow:function(e,t){$.alert(t?"上架后该专栏将对外显示":"下架后该专栏将不对外显示","info",{onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:0,operate_type:t?0:1},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{baseUtils.show.redTip(e.msg);hideLoading();self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}})},singleTool:function(e,t,s,a,o,i,n,r,c){self.btnState=false;switch(e){case"totop":this.setTop(t,s,a,true);break;case"canceltop":this.setTop(t,s,a,false);break;case"showComment":if(s==4){contentDetail("/alivecomment?alive_id="+a)}else{contentDetail("/comment_admin?type="+(s-1)+"&record_id="+a)}break;case"setTry":this.setTry(t,s,a,c,true);break;case"cancelTry":this.setTry(t,s,a,c,false);break;case"set_single_sale":this.setSingleSale(s,o,i,n,r,a);break;case"cancel_single_sale":this.cancelSingleSale(s,a,c);break;case"soldout":this.singleisShow(t,s,a,true);break;case"putaway":this.singleisShow(t,s,a,false);break;case"del":this.querySingle(t,s,a);break;case"enable_copy":this.changeCanSelectState(a,true);break;case"forbid_copy":var l=this;$.alert("禁止复制后，该篇图文的图片点击放大和长按识别二维码功能将被禁用","info",{btn:3,onOk:function(){l.changeCanSelectState(a,false)}});break;case"export_audio":this.exportAudio(a);break;case"copy_app_href":break;default:console.error("参数错误");break}},exportAudio:function(e){$.ajax("/async_download_alive_voice",{type:"POST",dataType:"json",data:{alive_id:e},success:function(e){switch(e.code){case 0:window.location.href=e.data["url"];break;case 1:$.alert("语音正在合成中，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 2:$.alert("开始进行语音合成，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 3:$.alert("服务器正在维护，直播音频导出功能受到影响，请稍后再试。","info",{btn:2});break;case 4:$.alert("该直播没有音频。","info",{btn:2});break;case 5:$.alert("这个直播不是语音类型的，不支持音频导出。","info",{btn:2});break;case 6:$.alert("这个直播还没结束，暂不支持音频导出。","info",{btn:2});break;default:console.log("参数错误");baseUtils.show.redTip(e.msg);break}console.log(e.msg)},error:function(e,t,s){console.log(s);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})},changeCanSelectState:function(e,t){$.ajax("/set_resource_select_can",{type:"POST",dataType:"json",data:{id:e,resource_type:1,can_select:t?1:0},success:function(e){if(e.code==0){if(t){baseUtils.show.blueTip("已经允许复制")}else{baseUtils.show.blueTip("已经禁止复制")}window.location.reload()}else{baseUtils.show.redTip("操作失败，请稍后再试")}},error:function(e,t,s){console.log(s);baseUtils.show.redTip("网络错误，请稍后再试！")}})},setTop:function(e,t,s,a){showLoading();$.ajax("/set_package_resource_top",{type:"POST",dataType:"json",data:{package_id:e,resource_type:t,resource_id:s,top_state:a?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},setTry:function(e,t,s,a,o){if(a==1||a==2){if(t==2){$.alert("该单品已设为单卖，取消单卖后方可设为试听","info",{btn:2})}else if(t==1||t==3||t==4){$.alert("该单品已设为单卖，取消单卖后方可设为试看","info",{btn:2})}return false}showLoading();$.ajax("/set_package_resource_try",{type:"POST",dataType:"json",data:{package_id:e,resource_type:t,resource_id:s,try_state:o?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},singleisShow:function(e,t,s,a){var o=this,i=a?"下架后该单品将不对外显示":"上架后该单品将对外显示";$.alert(i,"info",{title:"",onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,operate_type:a?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();o.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();o.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}})},querySingle:function(e,t,s){var a=this,o="";$.ajax("/query_goods_state",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,channel_type:1,package_id:e}}).then(function(e){if(e.code==0){var t=e.data.records_list,s=Object.keys(t).length;if(e.data.is_exist==0){o='确认移除该内容，移除后所有用户将无法查看此内容且<spa style="color: red;">不可恢复</spa>'}else if(t[0]==undefined){$.each(t,function(e,t){o+="《"+t.title+"》"});o="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容仍存在于"+o+"中"}else{if(s==1){o="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容仍在单品列表且单独售卖"}else{$.each(t,function(e,t){if(e!=0){o+="《"+t.title+"》"}});o="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容单独售卖且仍存在于"+o+"中"}}return o}else{baseUtils.show.redTip(e.msg);return false}},function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试")}).then(function(o){if(o){$.alert(o,"info",{oktext:"确认移除",onOk:function(){a.deleteSingle(e,t,s)}})}})},deleteSingle:function(e,t,s){showLoading();$.ajax("/move_goods",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,channel_type:1,package_id:e},success:function(e){console.log(e);if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},getSelectData:function(){var e=this;$.ajax("/choice_resource_list",{type:"POST",dataType:"json",data:{search_content:e.searchContent||"",channel_type:2,resource_type:0,package_id:e.id,page:e.page},success:function(t){console.log(t);if(t.code==0){var s=$("#selectAreaList"),a="",o=JSON.parse(t.data.page_offset);$.each(t.data.resource_list,function(e,t){var s="";switch(+this.resource_type){case 1:s="图文";break;case 2:s="音频";break;case 3:s="视频";break;case 4:s="直播";break;default:s="无";break}a+='<div class="resourceItemWrapper">'+'<input value="'+this.resource_type+'" id="'+this.id+'" class="with-gap resource_radio" name="select_resource" type="checkbox">'+'<label for="'+this.id+'" class="radio_desc">'+'<div class="resource_icon_wrapper">'+'<img class="resource_icon" src="'+this.img_url+'">'+"</div>"+this.title+"</label>"+'<span class="resource_type">'+s+"</span>"+'<span class="resource_time">'+this.start_at+"</span>"+"</div>"});if(a.length==0){a+='<div class="contentNoneTip">暂无数据</div>'}if(e.page==1||!e.page){s.html(a);s.append('<div class="isDown">资源加载中</div>');e.hasClose=false;hideLoading();if(!e.searchContent){$("#selectWindow").fadeIn()}}else if(e.page>1){s.find(".isDown").before(a);e.hasClose=false}if(o.current_page>=o.total_pages){s.find(".isDown").hide();e.hasDown=true}e.page++}else{hideLoading();baseUtils.show.redTip("拉取已有单品失败！")}},error:function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试");hideLoading()}})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL3Jlc01hbmFnZS9wYWNrYWdlRGV0YWlsLmpzIl0sIm5hbWVzIjpbImJ1c2luZXNzIiwiJCIsImlkIiwiZGF0YSIsIkJ1c2luZXNzIiwiaW5pdCIsInRoaXMiLCJoYXNEb3duIiwiaGFzQ2xvc2UiLCJwYWdlIiwic2VhcmNoQ29udGVudCIsImJ0blN0YXRlIiwidG9vbEJveEJ0biIsInNlYXJjaFJlc291cmNlVHlwZSIsInNlYXJjaFJlc291cmNlTmFtZSIsInByb3RvdHlwZSIsInNlbGYiLCJHZXRRdWVyeVN0cmluZyIsImluaXRTZWFyY2hQYXJ0IiwiaW5pdENvcHkiLCJvbiIsImUiLCIkZWxlIiwidGFyZ2V0IiwidHlwZSIsIm1haW50b29sIiwicGFja2FnZWlkIiwicmVzVHlwZSIsInBhcmVudHNVbnRpbCIsInJlc2lkIiwicmVzVGl0bGUiLCJpc1RyeSIsInNob3dUaW1lIiwicmVzSW1nVXJsIiwicGF5bWVudFR5cGUiLCJzaW5nbGVUb29sIiwic2hvd0xvYWRpbmciLCJnZXRTZWxlY3REYXRhIiwiJHNlbGVjdFdpbiIsImZhZGVPdXQiLCJmaW5kIiwiaHRtbCIsInZhbCIsInNlYXJjaFZhbCIsInRyaW0iLCJwcmV2Iiwia2V5Q29kZSIsImNsaWNrIiwic2Nyb2xsIiwiRGl2SGVpZ2h0IiwiaGVpZ2h0IiwiU2Nyb2xsSGVpZ2h0IiwiU2Nyb2xsVG9wIiwic2Nyb2xsVG9wIiwiJHNlbGVjdEFyZWEiLCJyZXNMaXN0IiwiZWFjaCIsImkiLCJpdGVtIiwicmVzT2JqIiwicmVzb3VyY2VfaWQiLCJnZXRBdHRyaWJ1dGUiLCJyZXNvdXJjZV90eXBlIiwibGVuZ3RoIiwiYWpheCIsImRhdGFUeXBlIiwiY2hhbm5lbF90eXBlIiwicmVzb3VyY2VfbGlzdCIsInBhY2thZ2VfaWQiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsImNvZGUiLCJiYXNlVXRpbHMiLCJzaG93IiwiYmx1ZVRpcCIsIm1zZyIsInNldFRpbWVvdXQiLCJyZWxvYWRQYWdlIiwicmVkVGlwIiwiaGlkZUxvYWRpbmciLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsInNldFNpbmdsZVNhbGUiLCJyZXNJZCIsImFsZXJ0IiwiYnRuIiwiaW5pdFNldFNpbmdsZVNhbGVXaW5kb3ciLCJmYWRlSW4iLCJjYW5jZWxTaW5nbGVTYWxlIiwidGV4dCIsIm9uT2siLCJhcnIiLCJyZXNvdXJjZUxpc3RBcnIiLCJzdWJtaXRfdHlwZSIsInJlc3VsdCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiYXR0ciIsInByaWNlIiwicmVnIiwidGVzdCIsIm1heElucHV0UHJpY2UiLCJwaWVjZV9wcmljZSIsInBhY2thZ2VJZCIsInNlYXJjaF9jb250ZW50IiwiaHJlZiIsImZvY3VzaW4iLCJkb2N1bWVudCIsImtleXByZXNzIiwid2hpY2giLCJmb2N1c291dCIsIm9mZiIsIm51bSIsImNoaWxkcmVuIiwiZXEiLCJjbGFzc05hbWUiLCJjbGlwYm9hcmQiLCJDbGlwYm9hcmQiLCJ0cmlnZ2VyIiwiY2xlYXJTZWxlY3Rpb24iLCJuZXdMaXN0U2hvdyIsInBhY2thZ2VVcGRhdGUiLCJwYWNrYWdlaXNTaG93IiwicGFja2FnZUZvcm0iLCJzaG93VHlwZSIsImg1X25ld2VzdF9oaWRlIiwic3RhdGVUeXBlIiwiZmluaXNoZWRfc3RhdGUiLCJmb3JtVHlwZSIsInZlcnNpb24iLCJpY29uIiwiaXNfY29tcGxldGVfaW5mbyIsImNoYW5nZVR5cGUiLCJnb29kc19pZCIsImdvb2RzX3R5cGUiLCJvcGVyYXRlX3R5cGUiLCJzZXRUb3AiLCJjb250ZW50RGV0YWlsIiwic2V0VHJ5Iiwic2luZ2xlaXNTaG93IiwicXVlcnlTaW5nbGUiLCJjaGFuZ2VDYW5TZWxlY3RTdGF0ZSIsImV4cG9ydEF1ZGlvIiwiYWxpdmVJZCIsImFsaXZlX2lkIiwiY2FuU2VsZWN0IiwiY2FuX3NlbGVjdCIsInRvcCIsInRvcF9zdGF0ZSIsInRyeVN0YXRlIiwidHJ5X3N0YXRlIiwic2hvd1N0YXRlIiwidGl0bGUiLCJ0aGVuIiwicmVjb3Jkc0xpc3QiLCJyZWNvcmRzX2xpc3QiLCJhcnJMZW5ndGgiLCJPYmplY3QiLCJrZXlzIiwiaXNfZXhpc3QiLCJ1bmRlZmluZWQiLCJrZXkiLCJ2YWx1ZSIsIm9rdGV4dCIsImRlbGV0ZVNpbmdsZSIsInNlbGVjdFN0ciIsInBhZ2VPYmoiLCJKU09OIiwicGFyc2UiLCJwYWdlX29mZnNldCIsImltZ191cmwiLCJzdGFydF9hdCIsImFwcGVuZCIsImJlZm9yZSIsImN1cnJlbnRfcGFnZSIsInRvdGFsX3BhZ2VzIiwiaGlkZSJdLCJtYXBwaW5ncyI6IkFBR0EsR0FBSUEsU0FDSkMsR0FBRSxXQUNFLEdBQUlDLEdBQUtELEVBQUUsZ0JBQWdCRSxLQUFLLEtBQ2hDSCxVQUFXLEdBQUlJLFVBQVNGLEVBQ3hCRixVQUFTSyxRQUliLFNBQVNELFVBQVNGLEdBQ2RJLEtBQUtKLEdBQUtBLENBQ1ZJLE1BQUtDLFFBQVUsS0FDZkQsTUFBS0UsU0FBVyxJQUNoQkYsTUFBS0csS0FBTyxDQUNaSCxNQUFLSSxjQUFnQixFQUNyQkosTUFBS0ssU0FBVyxJQUVoQkwsTUFBS00sV0FBYSxJQUVsQk4sTUFBS08sbUJBQXFCLENBQzFCUCxNQUFLUSxtQkFBcUIsR0FFOUJWLFNBQVNXLFdBQ0xWLEtBQU0sV0FDRixHQUFJVyxHQUFPVixJQUVYVSxHQUFLSCxtQkFBcUJJLGVBQWUsZ0JBQ3pDRCxHQUFLRixtQkFBcUJHLGVBQWUsaUJBR3pDWCxNQUFLWSxnQkFFTFosTUFBS2EsU0FBUyxXQUVkbEIsR0FBRSxnQkFDR21CLEdBQUcsUUFBUyxnQkFBaUIsU0FBU0MsR0FDbkMsR0FBSUMsR0FBT3JCLEVBQUVvQixFQUFFRSxRQUNYQyxFQUFPRixFQUFLbkIsS0FBSyxRQUNqQkQsRUFBS2MsRUFBS2QsRUFDZHNCLElBQVFSLEVBQUtMLFVBQWFLLEVBQUtTLFNBQVNELEVBQU10QixJQUV0REQsR0FBRSxHQUNGQSxHQUFFLGtCQUNHbUIsR0FBRyxRQUFTLGdCQUFpQixTQUFTQyxHQUNuQyxHQUFJQyxHQUFPckIsRUFBRW9CLEVB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QU9SLEVBQ25DekosR0FBS1IsU0FBVyxNQUlwQixHQUFJa0ssRUFBUVEsY0FBZ0JSLEVBQVFTLFlBQWEsQ0FDN0M3SCxFQUFZZCxLQUFLLFdBQVc0SSxNQUM1QnBLLEdBQUtULFFBQVUsS0FFbkJTLEVBQUtQLFdBRUYsQ0FDSHVFLGFBQ0FQLFdBQVVDLEtBQUtLLE9BQU8sZUFHOUJFLE1BQU8sU0FBU0MsRUFBS0MsRUFBUUMsR0FDekJkLFFBQVFXLE1BQU1HLEVBQ2RYLFdBQVVDLEtBQUtLLE9BQU8sYUFDdEJDIiwiZmlsZSI6ImFkbWluL3Jlc01hbmFnZS9wYWNrYWdlRGV0YWlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IEZyYW5rIG9uIDIwMTcvMy8yMS5cbiAqL1xudmFyIGJ1c2luZXNzO1xuJChmdW5jdGlvbigpIHtcbiAgICB2YXIgaWQgPSAkKCcjbWFpblRvb2xCb3gnKS5kYXRhKCdpZCcpO1xuICAgIGJ1c2luZXNzID0gbmV3IEJ1c2luZXNzKGlkKTtcbiAgICBidXNpbmVzcy5pbml0KCk7XG59KTtcblxuXG5mdW5jdGlvbiBCdXNpbmVzcyhpZCkgeyAvL+WumuS5ieS4gOS6m+WFrOWFseWxnuaAp1xuICAgIHRoaXMuaWQgPSBpZDsgLy/lvZPliY3kuJPmoI/nmoRpZFxuICAgIHRoaXMuaGFzRG93biA9IGZhbHNlO1xuICAgIHRoaXMuaGFzQ2xvc2UgPSB0cnVlO1xuICAgIHRoaXMucGFnZSA9IDE7IC8v5bey5pyJ5Y2V5ZOB55qE6aG156CBXG4gICAgdGhpcy5zZWFyY2hDb250ZW50ID0gJyc7XG4gICAgdGhpcy5idG5TdGF0ZSA9IHRydWU7XG5cbiAgICB0aGlzLnRvb2xCb3hCdG4gPSB0cnVlOyAvL+W3peWFt+aMiemSrueahOeCueWHu+eKtuaAgVxuXG4gICAgdGhpcy5zZWFyY2hSZXNvdXJjZVR5cGUgPSAwO1xuICAgIHRoaXMuc2VhcmNoUmVzb3VyY2VOYW1lID0gXCJcIjtcbn1cbkJ1c2luZXNzLnByb3RvdHlwZSA9IHtcbiAgICBpbml0OiBmdW5jdGlvbigpIHsgLy/pobXpnaLnmoTliJ3lp4vljJbmk43kvZzvvIznu5Hlrprkuovku7ZcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHNlbGYuc2VhcmNoUmVzb3VyY2VUeXBlID0gR2V0UXVlcnlTdHJpbmcoXCJyZXNvdXJjZV90eXBlXCIpO1xuICAgICAgICBzZWxmLnNlYXJjaFJlc291cmNlTmFtZSA9IEdldFF1ZXJ5U3RyaW5nKFwic2VhcmNoX2NvbnRlbnRcIik7XG5cbiAgICAgICAgLy8gIOWIneWni+WMluaQnOe0ouetm+mAiVxuICAgICAgICB0aGlzLmluaXRTZWFyY2hQYXJ0KCk7XG5cbiAgICAgICAgdGhpcy5pbml0Q29weSgnY29weUhyZWYnKTsgLy/liqDovb3lpI3liLbpk77mjqXmj5Lku7ZcblxuICAgICAgICAkKCcjbWFpblRvb2xCb3gnKVxuICAgICAgICAgICAgLm9uKCdjbGljaycsICdsaVtkYXRhLXR5cGVdJywgZnVuY3Rpb24oZSkgeyAvL+S4k+agj+eahOWKn+iDvVxuICAgICAgICAgICAgICAgIHZhciAkZWxlID0gJChlLnRhcmdldCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAkZWxlLmRhdGEoJ3R5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBzZWxmLmlkO1xuICAgICAgICAgICAgICAgIHR5cGUgJiYgc2VsZi5idG5TdGF0ZSAmJiAoc2VsZi5tYWludG9vbCh0eXBlLCBpZCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICQoJycpXG4gICAgICAgICQoJy5zaW5nbGVUb29sQm94JylcbiAgICAgICAgICAgIC5vbignY2xpY2snLCAnbGlbZGF0YS10eXBlXScsIGZ1bmN0aW9uKGUpIHsgLy/kuJPmoI/lhoXljZXlk4HnmoTlip/og71cbiAgICAgICAgICAgICAgICB2YXIgJGVsZSA9ICQoZS50YXJnZXQpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJGVsZS5kYXRhKCd0eXBlJyksXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VpZCA9IHNlbGYuaWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc1R5cGUgPSAkZWxlLnBhcmVudHNVbnRpbCgnLnNpbmdsZVRvb2xCb3gnLCAnLnRvb2xVbCcpLmRhdGEoJ3R5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaWQgPSAkZWxlLnBhcmVudHNVbnRpbCgnLnNpbmdsZVRvb2xCb3gnLCAnLnRvb2xVbCcpLmRhdGEoJ2lkJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVzVGl0bGUgPSAkZWxlLnBhcmVudHNVbnRpbCgnLnNpbmdsZVRvb2xCb3gnLCAnLnRvb2xVbCcpLmRhdGEoJ3Jlc190aXRsZScpLFxuICAgICAgICAgICAgICAgICAgICBpc1RyeSA9ICRlbGUucGFyZW50c1VudGlsKCcuc2luZ2xlVG9vbEJveCcsICcudG9vbFVsJykuZGF0YSgnaXNfdHJ5JyksXG4gICAgICAgICAgICAgICAgICAgIHNob3dUaW1lID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCdzaG93X3RpbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzSW1nVXJsID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCdpbWdfdXJsJyksXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRUeXBlID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCdwYXltZW50X3R5cGUnKTtcblxuICAgICAgICAgICAgICAgIHR5cGUgJiYgc2VsZi5idG5TdGF0ZSAmJiAoc2VsZi5zaW5nbGVUb29sKHR5cGUsIHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHJlc1RpdGxlLCBpc1RyeSwgc2hvd1RpbWUsIHJlc0ltZ1VybCwgcGF5bWVudFR5cGUpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNhZGRTaW5nbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsgLy/lvLnlh7rpgInmi6nmoYZcbiAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICBzZWxmLnBhZ2UgPSAxO1xuICAgICAgICAgICAgc2VsZi5oYXNEb3duID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmdldFNlbGVjdERhdGEoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnI3NlbGVjdFdpbmRvdyAjc2VsY3RDbG9zZSwgI3NlbGVjdFdpbmRvdyAjc2VsZWN0Q2FuY2VsQnRuJylcbiAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbigpIHsgLy/lhbPpl63pgInmi6nlvLnnqpdcbiAgICAgICAgICAgICAgICB2YXIgJHNlbGVjdFdpbiA9ICQoJyNzZWxlY3RXaW5kb3cnKTtcbiAgICAgICAgICAgICAgICAkc2VsZWN0V2luLmZhZGVPdXQoJ25vcm1hbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJyNzZWxlY3RBcmVhTGlzdCcpLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRzZWxlY3RXaW4uZmluZCgnLmlucHV0U2VhcmNoUGFydCcpLnZhbCgnJyk7IC8v5riF56m65pCc57Si5qGGXG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlID0gMTtcbiAgICAgICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxmLnNlYXJjaENvbnRlbnQgPSAnJztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGVjdFNlYXJjaEJ0bicpXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7IC8v6YCJ5oup5qGG55qE5Y2V5ZOB5pCc57SiXG4gICAgICAgICAgICAgICAgdmFyIHNlYXJjaFZhbCA9ICQudHJpbSgkKHRoaXMpLnByZXYoKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnNlYXJjaENvbnRlbnQgPSBzZWFyY2hWYWw7XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlID0gMTtcbiAgICAgICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxmLmdldFNlbGVjdERhdGEoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAucHJldigpLm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IFwiMTNcIikge1xuICAgICAgICAgICAgICAgICAgICAkKCcjc2VsZWN0V2luZG93ICNzZWxlY3RTZWFyY2hCdG4nKS5jbGljaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNzZWxlY3RXaW5kb3cgLnNlbGVjdF9jb250ZW50X2FyZWEnKS5zY3JvbGwoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIERpdkhlaWdodCA9ICQoJyNzZWxlY3RBcmVhTGlzdCcpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgIFNjcm9sbEhlaWdodCA9ICQodGhpcykuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgU2Nyb2xsVG9wID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcblxuICAgICAgICAgICAgaWYgKChTY3JvbGxUb3AgKyBTY3JvbGxIZWlnaHQgPj0gRGl2SGVpZ2h0IC0gNSkgJiZcbiAgICAgICAgICAgICAgICAhc2VsZi5oYXNEb3duIC8v5Yik5pat5piv5ZCm5Yiw6L6+5bqV6YOoXG4gICAgICAgICAgICAgICAgJiZcbiAgICAgICAgICAgICAgICAhc2VsZi5oYXNDbG9zZSAvL+WIpOaWreW8ueahhuaYr+WQpuWFs+mXrVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi5nZXRTZWxlY3REYXRhKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v5o+Q5Lqk6KaB5re75Yqg55qE5Y2V5ZOBXG4gICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGVjdE9rQnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyICRzZWxlY3RBcmVhID0gJCgnI3NlbGVjdFdpbmRvdyAuc2VsZWN0X2NvbnRlbnRfYXJlYScpLFxuICAgICAgICAgICAgICAgIHJlc0xpc3QgPSBbXTtcblxuICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICRzZWxlY3RBcmVhLmZpbmQoJzpjaGVja2JveDpjaGVja2VkJykuZWFjaChmdW5jdGlvbihpLCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc09iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfaWQ6IGl0ZW0uZ2V0QXR0cmlidXRlKCdpZCcpLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlOiBpdGVtLmdldEF0dHJpYnV0ZSgndmFsdWUnKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVzTGlzdFtyZXNMaXN0Lmxlbmd0aF0gPSByZXNPYmo7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8q5Y+C5pWwOlxuICAgICAgICAgICAgMS1jaGFubmVsX3R5cGUoMS3ljZXlk4EsMi3kuJPmoI8sMy3kvJrlkZgpO1xuICAgICAgICAgICAgMi1yZXNvdXJjZV9saXN0KOmAieS4reeahOi1hOa6kOmbhuWQiCjmlbDnu4QpLFxuICAgICAgICAgICAg6ZSu5YC85a+555qE5qC85byP5aaCOnJlc291cmNlX2lkOmFfa2pqYWszNDUscmVzb3VyY2VfdHlwZToxKTtcbiAgICAgICAgICAgIDMtcGFja2FnZV9pZCjlvZNjaGFubmVsX3R5cGU9MuOAgTPml7Ys5pyJ5YC8KTtcbiAgICAgICAgICAgIDQtcGllY2VfcHJpY2Uo5L2GY2hhbm5lbF90eXBlPTHml7bmnInlgLwpKi9cbiAgICAgICAgICAgICQuYWpheCgnL3N1Ym1pdF9jaG9pY2VfcmVzb3VyY2UnLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG5cbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxfdHlwZTogMixcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfbGlzdDogcmVzTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgcGFja2FnZV9pZDogc2VsZi5pZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/pgInmi6nmiJDlip/vvIzkuLvliqjlhbPpl63pgInmi6nlvLnnqpdcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGN0Q2xvc2UnKS5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL+WIt+aWsOmhtemdolxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cblxuICAgIH0sXG4gICAgc2V0U2luZ2xlU2FsZTogZnVuY3Rpb24ocmVzVHlwZSwgcmVzVGl0bGUsIGlzVHJ5LCBzaG93VGltZSwgcmVzSW1nVXJsLCByZXNJZCkge1xuICAgICAgICAvL1x06K6+572u5Y2V5Y2WXG4gICAgICAgIC8vXHQx44CB5Yik5pat5Y2V5ZOB5piv5ZCm5Li66K+V5ZCsLyDor5XnnIsgLS0+XG4gICAgICAgIC8vICAy44CB6Iul5Li66K+V5ZCs77yaIOW8ueeqlyDmj5DnpLpcbiAgICAgICAgLy8gIDPjgIHoi6XkuI3kuLror5XlkKzvvJog5by556qXIOiuvue9ruWNleWTgeWUruS7t1xuXG4gICAgICAgIGlmIChpc1RyeSA9PSAxKSB7IC8v5pivXG4gICAgICAgICAgICBpZiAocmVzVHlwZSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeWNleWTgeW3suiuvuS4uuivleWQrO+8jOWPlua2iOivleWQrOWQjuaWueWPr+iuvuS4uuWNleWNllwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc1R5cGUgPT0gMSB8fCByZXNUeXBlID09IDMgfHwgcmVzVHlwZSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeWNleWTgeW3suiuvuS4uuivleeci++8jOWPlua2iOivleeci+WQjuaWueWPr+iuvuS4uuWNleWNllwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdFNldFNpbmdsZVNhbGVXaW5kb3cocmVzSW1nVXJsLCByZXNUaXRsZSwgcmVzVHlwZSwgc2hvd1RpbWUsIHJlc0lkKTtcbiAgICAgICAgICAgICQoXCIuc2V0X3ByaWNlX3dpbmRvd1wiKS5mYWRlSW4oMzAwKTtcbiAgICAgICAgfVxuXG4gICAgfSxcbiAgICBjYW5jZWxTaW5nbGVTYWxlOiBmdW5jdGlvbihyZXNUeXBlLCByZXNJZCwgcGF5bWVudFR5cGUpIHtcbiAgICAgICAgLy8gXHTlj5bmtojljZXljZZcbiAgICAgICAgLy9cdDHjgIHlvLnnqpfmj5DnpLpcbiAgICAgICAgaWYgKHBheW1lbnRUeXBlID09IDEpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gXCLlj5bmtojljZXljZblkI7vvIzmnKrlvIDpgJrkuJPmoI/nmoTnlKjmiLflsIbkuI3lj6/ljZXni6zmn6XnnIvor6XljZXlk4EhXCI7XG4gICAgICAgIH0gZWxzZSBpZiAocGF5bWVudFR5cGUgPT0gMikge1xuICAgICAgICAgICAgdmFyIHRleHQgPSBcIuWPlua2iOWNleWNluWQju+8jOacquW8gOmAmuS4k+agj+eahOeUqOaIt+WwhuS4jeWPr+WNleeLrOS7mOi0uei0reS5sOivpeWNleWTgSFcIjtcbiAgICAgICAgfVxuICAgICAgICAkLmFsZXJ0KHRleHQsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICBvbk9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgICAgIHZhciBhcnIgPSB7fTtcbiAgICAgICAgICAgICAgICBhcnJbXCJyZXNvdXJjZV9pZFwiXSA9IHJlc0lkO1xuICAgICAgICAgICAgICAgIGFycltcInJlc291cmNlX3R5cGVcIl0gPSByZXNUeXBlO1xuICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZUxpc3RBcnIgPSBbYXJyXTtcblxuICAgICAgICAgICAgICAgICQuYWpheChcIi9zdWJtaXRfY2hvaWNlX3Jlc291cmNlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hhbm5lbF90eXBlXCI6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlc291cmNlX2xpc3RcIjogcmVzb3VyY2VMaXN0QXJyLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJtaXRfdHlwZVwiOiAxXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWPlua2iOWNleWNluaIkOWKn++8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlSFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuacjeWKoeWZqOW8gOWwj+W3ruWVpu+8jOivt+eojeWQjuWGjeaQnOe0ou+8gVwiKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvL1x0MuOAgeehruWumuWPlua2iFxuXG5cbiAgICB9LFxuICAgIC8vXHTliJ3lp4vljJborr7nva7kuJPmoI/lpJbljZXljZZcbiAgICBpbml0U2V0U2luZ2xlU2FsZVdpbmRvdzogZnVuY3Rpb24ocmVzSW1nVXJsLCByZXNUaXRsZSwgcmVzVHlwZSwgc2hvd1RpbWUsIHJlc0lkKSB7XG5cbiAgICAgICAgLy8gIOe7meiuvue9ruS7t+agvOWhq+WFheaVsOaNrlxuICAgICAgICAkKFwiLnJlc291cmNlX2ljb25fM1wiKS5hdHRyKFwic3JjXCIsIHJlc0ltZ1VybCk7XG4gICAgICAgICQoXCIucmVzb3VyY2VfdGl0bGVcIikuaHRtbChyZXNUaXRsZSk7XG4gICAgICAgIHN3aXRjaCAocmVzVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICQoXCIucmVzb3VyY2VfdHlwZV8zXCIpLmh0bWwoXCLlm77mlodcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgJChcIi5yZXNvdXJjZV90eXBlXzNcIikuaHRtbChcIumfs+mikVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAkKFwiLnJlc291cmNlX3R5cGVfM1wiKS5odG1sKFwi6KeG6aKRXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICQoXCIucmVzb3VyY2VfdHlwZV8zXCIpLmh0bWwoXCLnm7Tmkq1cIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgICQoXCIucmVzb3VyY2VfdGltZV8zXCIpLmh0bWwoc2hvd1RpbWUpO1xuXG4gICAgICAgIC8vICQoXCJpbnB1dFtuYW1lPSdzZXRfc2FsZV9wcmljZSddW3ZhbHVlPScxJ11cIikuYXR0cihcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAvLyBcdOiuvue9ruWNleWTgeWUruS7t+e7keWumuS6i+S7tlxuICAgICAgICAvLyAkKFwiaW5wdXRbbmFtZT0nc2V0X3NhbGVfcHJpY2UnXVwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vICAgICB2YXIgc2FsZVR5cGUgPSAkKFwiaW5wdXRbbmFtZT0nc2V0X3NhbGVfcHJpY2UnXTpjaGVja2VkXCIpLnZhbCgpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgaWYgKHNhbGVUeXBlID09IDEpIHtcdC8vXHTku5jotLlcbiAgICAgICAgLy8gICAgICAgICAkKFwiLmlucHV0X3NldHRpbmdfcHJpY2VcIikucmVtb3ZlQXR0cihcInJlYWRvbmx5XCIpO1xuICAgICAgICAvLyAgICAgICAgICQoXCIuaW5wdXRfc2V0dGluZ19wcmljZVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIC8vICAgICB9IGVsc2UgaWYgKHNhbGVUeXBlID09IDApIHtcdFx0Ly8g5YWN6LS5XG4gICAgICAgIC8vICAgICAgICAgJChcIi5pbnB1dF9zZXR0aW5nX3ByaWNlXCIpLmF0dHIoXCJyZWFkb25seVwiLCBcInJlYWRvbmx5XCIpO1xuICAgICAgICAvLyAgICAgICAgICQoXCIuaW5wdXRfc2V0dGluZ19wcmljZVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgLy8gXHTlj5bmtohcbiAgICAgICAgJChcIi5jbG9zZV9pY29uX3dyYXBwZXJfMiwgLmNhbmNlbF9zZXRfcHJpY2VcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKFwiLnNldF9wcmljZV93aW5kb3dcIikuZmFkZU91dCgzMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgLy9cdOehruWumlxuICAgICAgICAkKFwiLmNvbmZpcm1fcHJpY2VfYnRuXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgcHJpY2UgPSAkLnRyaW0oJChcIi5pbnB1dF9zZXR0aW5nX3ByaWNlXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgdmFyIHJlZyA9IC9eKFsxLTldW1xcZF0qfDApKFsvLl1bXFxkXXsxLDJ9KT8kLztcbiAgICAgICAgICAgIGlmICghcmVnLnRlc3QocHJpY2UpKSB7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfku7fmoLzovpPlhaXmnInor68nKTtcbiAgICAgICAgICAgICAgICAkKCcuaW5wdXRfc2V0dGluZ19wcmljZScpLnZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJpY2UgPD0gMCkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS7t+agvOS4jeiDveS4ujAg5oiWIOi0n+aVsCFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByaWNlID4gYmFzZVV0aWxzLm1heElucHV0UHJpY2UpIHtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLku7fmoLzkuI3og73lpKfkuo4gXCIgKyBiYXNlVXRpbHMubWF4SW5wdXRQcmljZSArIFwiIOWFg1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgdmFyIGFyciA9IHt9O1xuICAgICAgICAgICAgYXJyW1wicmVzb3VyY2VfaWRcIl0gPSByZXNJZDtcbiAgICAgICAgICAgIGFycltcInJlc291cmNlX3R5cGVcIl0gPSByZXNUeXBlO1xuICAgICAgICAgICAgdmFyIHJlc291cmNlTGlzdEFyciA9IFthcnJdO1xuXG4gICAgICAgICAgICAkLmFqYXgoXCIvc3VibWl0X2Nob2ljZV9yZXNvdXJjZVwiLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBcImNoYW5uZWxfdHlwZVwiOiAxLFxuICAgICAgICAgICAgICAgICAgICBcInJlc291cmNlX2xpc3RcIjogcmVzb3VyY2VMaXN0QXJyLFxuICAgICAgICAgICAgICAgICAgICBcInBpZWNlX3ByaWNlXCI6IHByaWNlICogMTAwLCAvLyDljZXkvY3vvJog5YiGXG4gICAgICAgICAgICAgICAgICAgIFwic3VibWl0X3R5cGVcIjogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnNldF9wcmljZV93aW5kb3dcIikuZmFkZU91dCgzMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuiuvuS4uuWNleWNluaIkOWKn1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UhXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmnI3liqHlmajlvIDlsI/lt67llabvvIzor7fnqI3lkI7lho3mkJzntKLvvIFcIik7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICB9LFxuICAgIGluaXRTZWFyY2hQYXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAvLyAgMeOAgeW8gOWni+aQnOe0oiAtIOWFqOmDqOWNleWTgVxuICAgICAgICAkKFwiLnNlYXJjaEFsbEJ0blwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwYWNrYWdlSWQgPSBHZXRRdWVyeVN0cmluZyhcImlkXCIpO1xuICAgICAgICAgICAgdmFyIHJlc291cmNlX3R5cGUgPSAkKFwiLnNlbGVjdG9yX3Jlc291cmNlX3R5cGVcIikudmFsKCk7XG4gICAgICAgICAgICB2YXIgc2VhcmNoX2NvbnRlbnQgPSAkLnRyaW0oJChcIi5pbnB1dFNlYXJjaEFsbFwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvcGFja2FnZV9kZXRhaWxfcGFnZT9pZD1cIiArIHBhY2thZ2VJZCArIFwiJnNlYXJjaF9jb250ZW50PVwiICsgc2VhcmNoX2NvbnRlbnQgKyBcIiZyZXNvdXJjZV90eXBlPVwiICsgcmVzb3VyY2VfdHlwZTtcblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAy44CB6L6T5YWl5a6M5oiQ5ZCO77yM5Zue6L2m5byA5aeL5pCc57SiIC0g5YWo6YOo5Y2V5ZOBXG4gICAgICAgICQoXCIuaW5wdXRTZWFyY2hBbGxcIikuZm9jdXNpbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmtleXByZXNzKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS53aGljaCA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAkKCcuc2VhcmNoQWxsQnRuJykuY2xpY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkuZm9jdXNvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYoJ2tleXByZXNzJyk7IC8vICDmuIXpmaTkuovku7ZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIOebkeWQrOetm+mAieahhumAieaLqeS6i+S7tlxuICAgICAgICAkKFwiLnNlbGVjdG9yX3Jlc291cmNlX3R5cGVcIikub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJy5zZWFyY2hBbGxCdG4nKS5jbGljaygpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyAz44CB5Zue5pi+5pCc57SiXG4gICAgICAgIGlmIChzZWxmLnNlYXJjaFJlc291cmNlTmFtZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAkKFwiLmlucHV0U2VhcmNoQWxsXCIpLnZhbChzZWxmLnNlYXJjaFJlc291cmNlTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbnVtID0gJChcIi5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlXCIpLmNoaWxkcmVuKFwib3B0aW9uXCIpLmxlbmd0aDtcbiAgICAgICAgaWYgKG51bSA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoJCgnLnNlbGVjdG9yX3Jlc291cmNlX3R5cGUnKS5jaGlsZHJlbihcIm9wdGlvblwiKS5lcShpKS5hdHRyKFwidmFsdWVcIikgPT0gc2VsZi5zZWFyY2hSZXNvdXJjZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNlbGVjdG9yX3Jlc291cmNlX3R5cGUnKS5jaGlsZHJlbihcIm9wdGlvblwiKS5lcShpKS5hdHRyKFwic2VsZWN0ZWRcIiwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgaW5pdENvcHk6IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICB2YXIgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCgnLicgKyBjbGFzc05hbWUpOyAvL+WKoOi9veWkjeWItumTvuaOpeaPkuS7tlxuICAgICAgICBjbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZihlLnRyaWdnZXIuaWQ9PSdjb3B5X2FwcF9ocmVmJyl7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWkjeWItuaIkOWKn++8gVwiKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlpI3liLbmiJDlip/vvIHor7flnKjlvq7kv6HlhoXmiZPlvIDlk6Yg44CCXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgbWFpbnRvb2w6IGZ1bmN0aW9uKHR5cGUsIGlkKSB7IC8v5LiT5qCP5bel5YW36ZuGXG4gICAgICAgIHNlbGYuYnRuU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICduZXdMaXN0U2hvdyc6XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdMaXN0U2hvdyhpZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbmV3TGlzdEhpZGUnOlxuICAgICAgICAgICAgICAgIHRoaXMubmV3TGlzdFNob3coaWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3RvcHVwZGF0ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5wYWNrYWdlVXBkYXRlKGlkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzdGFydHVwZGF0ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5wYWNrYWdlVXBkYXRlKGlkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NvbGRvdXQnOlxuICAgICAgICAgICAgICAgIHRoaXMucGFja2FnZWlzU2hvdyhpZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncHV0YXdheSc6XG4gICAgICAgICAgICAgICAgdGhpcy5wYWNrYWdlaXNTaG93KGlkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ29wZW5Gb3JtJzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhY2thZ2VGb3JtKGlkLCBmYWxzZSk7Ly/kvKDlhaXlvZPliY3lhbPpl63nirbmgIHnmoRmYWxzZeWAvFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2xvc2VGb3JtJzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhY2thZ2VGb3JtKGlkLCB0cnVlKTsvL+S8oOWFpeW9k+WJjeW8gOWQr+eKtuaAgeeahOecn+WAvFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCflj4LmlbDplJnor68nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbmV3TGlzdFNob3c6IGZ1bmN0aW9uKGlkLCBzaG93VHlwZSkge1xuICAgICAgICB2YXIgaDVfbmV3ZXN0X2hpZGUgPSBzaG93VHlwZSA/IDEgOiAwO1xuICAgICAgICBjb25zb2xlLmxvZyhoNV9uZXdlc3RfaGlkZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGlkKTtcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgJC5hamF4KCcvc2V0X2g1X25ld2VzdF9oaWRlJywge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAvL+WPguaVsDoxLXBhY2thZ2VfaWQ7Mi1oNV9uZXdlc3RfaGlkZSgwLeacgOaWsOWIl+ihqOS4reaYvuekuiwxLeacgOaWsOWIl+ihqOS4reS4jeaYvuekulxuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAvLzDvvIwgMeS4i1xuICAgICAgICAgICAgICAgIGg1X25ld2VzdF9oaWRlOiBzaG93VHlwZSA/IDEgOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBwYWNrYWdlVXBkYXRlOiBmdW5jdGlvbihpZCwgc3RhdGVUeXBlKSB7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheCgnL3NhdmVfcGFja2FnZV9maW5pc2hlZF9zdGF0ZScsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgLy/lj4LmlbA6MS1wYWNrYWdlX2lkOzItZmluaXNoZWRfc3RhdGUoMC3mnKrlroznu5MsMS3lt7Llroznu5NcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBpZCxcbiAgICAgICAgICAgICAgICAvLzDkuIrnp7vvvIwgMeS4i+enu1xuICAgICAgICAgICAgICAgIGZpbmlzaGVkX3N0YXRlOiBzdGF0ZVR5cGUgPyAwIDogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcGFja2FnZUZvcm06IGZ1bmN0aW9uKGlkLGZvcm1UeXBlKXtcbiAgICAgICAgLy8gaWQ65LiT5qCP5piv5ZCm6KaB6K6+572u5pSv5LuY5pe25aGr5YaZ5L+h5oGv55qE5LiT5qCPaWTvvIxmb3JtVHlwZSDvvJp0cnVlLeWFgeiuuCBmYWxzZS3npoHmraJcbiAgICAgICAgdmFyIHZlcnNpb249JChcIi51c2VyX3ZlcnNpb25fbnVtXCIpLmRhdGEoXCJ2ZXJzaW9uX3R5cGVcIik7XG4gICAgICAgIGlmKHZlcnNpb24gJiYgdmVyc2lvbj09Mykge1xuICAgICAgICAgICAgJC5hbGVydChmb3JtVHlwZSA/IFwi5YWz6Zet6LWE5paZ5aGr5YaZ5ZCO77yM55So5oi35Zyo5LuY6LS56LSt5Lmw5pys5LiT5qCP5YmN5bCG5LiN5YaN5aGr5YaZ5Liq5Lq65L+h5oGv77yM5oKo56Gu6K6k6KaB5YWz6Zet5LmI77yfXCIgOlxuICAgICAgICAgICAgICAgIFwi5byA5ZCv6LWE5paZ5aGr5YaZ5ZCO77yM55So5oi35Zyo5LuY6LS56LSt5Lmw5pys5LiT5qCP5YmN5bCG5aGr5YaZ5Liq5Lq65L+h5oGv77yM5oKo56Gu6K6k6KaB5byA5ZCv5LmI77yfXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJibHVlXCIsXG4gICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoJy9zZXRfaXNfY29tcGxldGVfaW5mbycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX2NvbXBsZXRlX2luZm86IGZvcm1UeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuW9k+WJjeeJiOacrOS4jeaUr+aMgeW8gOWQr+i1hOaWmeWhq+WGme+8jOWmgumcgOW8gOWQr+ivt+WNh+e6p+iHs+S4k+S4mueJiFwiKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcGFja2FnZWlzU2hvdzogZnVuY3Rpb24oaWQsIGNoYW5nZVR5cGUpIHsgLy/kuJPmoI/kuIrkuIvmnrZcbiAgICAgICAgLyppZDog6KaB5LiK5LiL5p6255qE5LiT5qCPaWTvvIwgY2hhbmdlVHlwZe+8miB0cnVlLeS4iuaetu+8jCBmYWxzZS3kuIvmnrYqL1xuXG4gICAgICAgICQuYWxlcnQoY2hhbmdlVHlwZSA/IFwi5LiK5p625ZCO6K+l5LiT5qCP5bCG5a+55aSW5pi+56S6XCIgOiBcIuS4i+aetuWQjuivpeS4k+agj+WwhuS4jeWvueWkluaYvuekulwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAkLmFqYXgoJy9jaGFuZ2VfZ29vZHNfc3RhdGUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgIDEtZ29vZHNfaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAyLWdvb2RzX3R5cGUoMC3kuJPmoI8sMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgMy1vcGVyYXRlX3R5cGUoMC3kuIrmnrYsMS3kuIvmnrYpXG4gICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZHNfaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGVfdHlwZTogY2hhbmdlVHlwZSA/IDAgOiAxLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgc2luZ2xlVG9vbDogZnVuY3Rpb24odHlwZSwgcGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgcmVzVGl0bGUsIGlzVHJ5LCBzaG93VGltZSwgcmVzSW1nVXJsLCBwYXltZW50VHlwZSkgeyAvL+WNleWTgeW3peWFt+mbhlxuICAgICAgICBzZWxmLmJ0blN0YXRlID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAndG90b3AnOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VG9wKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2FuY2VsdG9wJzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRvcChwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ3Nob3dDb21tZW50JzpcbiAgICAgICAgICAgICAgICBpZiAocmVzVHlwZSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnREZXRhaWwoXCIvYWxpdmVjb21tZW50P2FsaXZlX2lkPVwiICsgcmVzaWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnREZXRhaWwoXCIvY29tbWVudF9hZG1pbj90eXBlPVwiICsgKHJlc1R5cGUgLSAxKSArIFwiJnJlY29yZF9pZD1cIiArIHJlc2lkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZXRUcnknOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJ5KHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHBheW1lbnRUeXBlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NhbmNlbFRyeSc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUcnkocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgcGF5bWVudFR5cGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NldF9zaW5nbGVfc2FsZSc6XG4gICAgICAgICAgICAgICAgLy9cdOiuvue9ruWNleWNllxuICAgICAgICAgICAgICAgIC8vXHQx44CB5Yik5pat5Y2V5ZOB5piv5ZCm5Li66K+V5ZCsLyDor5XnnIsgLS0+XG4gICAgICAgICAgICAgICAgLy8gIDLjgIHoi6XkuLror5XlkKzvvJog5by556qXIOaPkOekulxuICAgICAgICAgICAgICAgIC8vICAz44CB6Iul5LiN5Li66K+V5ZCs77yaIOW8ueeqlyDorr7nva7ljZXlk4HllK7ku7dcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNpbmdsZVNhbGUocmVzVHlwZSwgcmVzVGl0bGUsIGlzVHJ5LCBzaG93VGltZSwgcmVzSW1nVXJsLCByZXNpZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjYW5jZWxfc2luZ2xlX3NhbGUnOlxuICAgICAgICAgICAgICAgIC8vIFx05Y+W5raI5Y2V5Y2WXG4gICAgICAgICAgICAgICAgLy9cdDHjgIHlvLnnqpfmj5DnpLpcbiAgICAgICAgICAgICAgICAvL1x0MuOAgeehruWumuWPlua2iFxuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsU2luZ2xlU2FsZShyZXNUeXBlLCByZXNpZCwgcGF5bWVudFR5cGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc29sZG91dCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zaW5nbGVpc1Nob3cocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwdXRhd2F5JzpcbiAgICAgICAgICAgICAgICB0aGlzLnNpbmdsZWlzU2hvdyhwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZWwnOlxuICAgICAgICAgICAgICAgIHRoaXMucXVlcnlTaW5nbGUocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdlbmFibGVfY29weSc6Ly/lhYHorrjlpI3liLZcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUNhblNlbGVjdFN0YXRlKHJlc2lkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2ZvcmJpZF9jb3B5JzovL+emgeatouWkjeWItlxuICAgICAgICAgICAgICAgIHZhciAkZWxlID0gdGhpcztcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi56aB5q2i5aSN5Yi25ZCO77yM6K+l56+H5Zu+5paH55qE5Zu+54mH54K55Ye75pS+5aSn5ZKM6ZW/5oyJ6K+G5Yir5LqM57u056CB5Yqf6IO95bCG6KKr56aB55SoXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMyxcbiAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGVsZS5jaGFuZ2VDYW5TZWxlY3RTdGF0ZShyZXNpZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdleHBvcnRfYXVkaW8nOi8v5a+85Ye66Z+z6aKRXG4gICAgICAgICAgICAgICAgdGhpcy5leHBvcnRBdWRpbyhyZXNpZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb3B5X2FwcF9ocmVmJzogLy/lpI3liLblsI/nqIvluo/pk77mjqVcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCflj4LmlbDplJnor68nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZXhwb3J0QXVkaW86IGZ1bmN0aW9uIChhbGl2ZUlkKSB7XG5cbiAgICAgICAgJC5hamF4KFwiL2FzeW5jX2Rvd25sb2FkX2FsaXZlX3ZvaWNlXCIsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGFsaXZlX2lkOiBhbGl2ZUlkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocmVzdWx0LmNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXN1bHQuZGF0YVsndXJsJ107ICAgICAgLy/nm7TmjqXlvIDlp4vkuIvovb3pn7PpopHmlofku7ZcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+t6Z+z5q2j5Zyo5ZCI5oiQ5Lit77yM5qC55o2u5oKo55u05pKt6Ze05YaF55qE6Z+z6aKR5pWw6YeP6ZyA6KaBMTDliIbpkp/liLA05Liq5bCP5pe25LiN562J77yM6K+356iN5YCZ6K6/6Zeu44CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuW8gOWni+i/m+ihjOivremfs+WQiOaIkO+8jOagueaNruaCqOebtOaSremXtOWGheeahOmfs+mikeaVsOmHj+mcgOimgTEw5YiG6ZKf5YiwNOS4quWwj+aXtuS4jeetie+8jOivt+eojeWAmeiuv+mXruOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLmnI3liqHlmajmraPlnKjnu7TmiqTvvIznm7Tmkq3pn7PpopHlr7zlh7rlip/og73lj5fliLDlvbHlk43vvIzor7fnqI3lkI7lho3or5XjgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+l55u05pKt5rKh5pyJ6Z+z6aKR44CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIui/meS4quebtOaSreS4jeaYr+ivremfs+exu+Wei+eahO+8jOS4jeaUr+aMgemfs+mikeWvvOWHuuOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLov5nkuKrnm7Tmkq3ov5jmsqHnu5PmnZ/vvIzmmoLkuI3mlK/mjIHpn7PpopHlr7zlh7rjgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlj4LmlbDplJnor69cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAocmVzdWx0Lm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0Lm1zZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmnI3liqHlmajlh7rlsI/lt67kuobvvIzor7fnqI3lkI7lho3or5XvvIFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSxcbiAgICBjaGFuZ2VDYW5TZWxlY3RTdGF0ZTogZnVuY3Rpb24gKHJlc0lkLCBjYW5TZWxlY3QpIHtcblxuICAgICAgICAkLmFqYXgoXCIvc2V0X3Jlc291cmNlX3NlbGVjdF9jYW5cIiwge1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlc0lkLFxuICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IDEsXG4gICAgICAgICAgICAgICAgY2FuX3NlbGVjdDogY2FuU2VsZWN0ID8gMSA6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlt7Lnu4/lhYHorrjlpI3liLZcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5bey57uP56aB5q2i5aSN5Yi2XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSxcbiAgICBzZXRUb3A6IGZ1bmN0aW9uKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHRvcCkgeyAvL+e9rumhtuaTjeS9nFxuICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAvKjEtcGFja2FnZV9pZDtcbiAgICAgICAgMi1yZXNvdXJjZV90eXBlKDAt5LiT5qCPLDEt5Zu+5paHLDIt6Z+z6aKRLDMt6KeG6aKRLDQt55u05pKtKTtcbiAgICAgICAgMy1yZXNvdXJjZV9pZDtcbiAgICAgICAgNC10b3Bfc3RhdGUoMC3lj5bmtojnva7pobYsMS3orr7nva7nva7pobYpKi9cbiAgICAgICAgJC5hamF4KCcvc2V0X3BhY2thZ2VfcmVzb3VyY2VfdG9wJywge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBwYWNrYWdlaWQsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogcmVzVHlwZSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZV9pZDogcmVzaWQsXG4gICAgICAgICAgICAgICAgdG9wX3N0YXRlOiB0b3AgPyAxIDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzZXRUcnk6IGZ1bmN0aW9uKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHBheW1lbnRUeXBlLCB0cnlTdGF0ZSkgeyAvL+ivleWQrFxuXG4gICAgICAgIC8vIGlmIChyZXNUeXBlID09IDQpIHtcbiAgICAgICAgLy8gICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaaguS4jeaUr+aMgeWwhuebtOaSreiuvuS4uuivleeciyFcIik7XG4gICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIH1cbiAgICAgICAgaWYgKHBheW1lbnRUeXBlID09IDEgfHwgcGF5bWVudFR5cGUgPT0gMikge1xuICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gMikge1xuICAgICAgICAgICAgICAgICQuYWxlcnQoXCLor6XljZXlk4Hlt7Lorr7kuLrljZXljZbvvIzlj5bmtojljZXljZblkI7mlrnlj6/orr7kuLror5XlkKxcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNUeXBlID09IDEgfHwgcmVzVHlwZSA9PSAzIHx8IHJlc1R5cGUgPT0gNCkge1xuICAgICAgICAgICAgICAgICQuYWxlcnQoXCLor6XljZXlk4Hlt7Lorr7kuLrljZXljZbvvIzlj5bmtojljZXljZblkI7mlrnlj6/orr7kuLror5XnnItcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgJC5hamF4KCcvc2V0X3BhY2thZ2VfcmVzb3VyY2VfdHJ5Jywge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIC8q5Y+C5pWwOlxuICAgICAgICAgICAgMS1wYWNrYWdlX2lkO1xuICAgICAgICAgICAgMi1yZXNvdXJjZV90eXBlKDIt6Z+z6aKRKTtcbiAgICAgICAgICAgIDMtcmVzb3VyY2VfaWQ7XG4gICAgICAgICAgICA0LXRyeV9zdGF0ZSgwLeWPlua2iOivleWQrCwxLeiuvuS4uuivleWQrCkqL1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHBhY2thZ2VpZCxcbiAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlOiByZXNUeXBlLFxuICAgICAgICAgICAgICAgIHJlc291cmNlX2lkOiByZXNpZCxcbiAgICAgICAgICAgICAgICB0cnlfc3RhdGU6IHRyeVN0YXRlID8gMSA6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBzaW5nbGVpc1Nob3c6IGZ1bmN0aW9uKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHNob3dTdGF0ZSkgeyAvL+WNleWTgeS4iuS4i+aetlxuICAgICAgICAvKnNob3dTdGF0ZTogdHJ1ZS3kuIvmnrYgIGZhbHNlLeS4iuaetiovXG4gICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgIHRleHQgPSBzaG93U3RhdGUgPyAn5LiL5p625ZCO6K+l5Y2V5ZOB5bCG5LiN5a+55aSW5pi+56S6JyA6ICfkuIrmnrblkI7or6XljZXlk4HlsIblr7nlpJbmmL7npLonO1xuICAgICAgICAkLmFsZXJ0KHRleHQsICdpbmZvJywge1xuICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAkLmFqYXgoJy9jaGFuZ2VfZ29vZHNfc3RhdGUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgIDEtZ29vZHNfaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAyLWdvb2RzX3R5cGUoMC3kuJPmoI8sMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgMy1vcGVyYXRlX3R5cGUoMC3kuIrmnrYsMS3kuIvmnrYpXG4gICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZHNfaWQ6IHJlc2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogcmVzVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGVfdHlwZTogc2hvd1N0YXRlID8gMSA6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qc2VsZi50b29sQm94QnRuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRvRGV0YWlsID0gdHJ1ZTsqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKnNlbGYudG9vbEJveEJ0biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRvRGV0YWlsID0gdHJ1ZTsqL1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHF1ZXJ5U2luZ2xlOiBmdW5jdGlvbihwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkKSB7XG4gICAgICAgIC8qc2hvd1N0YXRlOiB0cnVlLeS4i+aetiAgZmFsc2Ut5LiK5p62Ki9cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgdGV4dCA9ICcnO1xuICAgICAgICAkLmFqYXgoJy9xdWVyeV9nb29kc19zdGF0ZScsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgICAgICAxLWdvb2RzX2lkO1xuICAgICAgICAgICAgICAgIDItZ29vZHNfdHlwZSgxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XG4gICAgICAgICAgICAgICAgMy1jaGFubmVsX3R5cGUoMC3ljZXlk4EsMS3kuJPmoI/lhoXotYTmupApO1xuICAgICAgICAgICAgICAgIDQtcGFja2FnZV9pZCjlvZNjaGFubmVsX3R5cGU9MeaXtuacieWAvCkqL1xuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZHNfaWQ6IHJlc2lkLFxuICAgICAgICAgICAgICAgICAgICBnb29kc190eXBlOiByZXNUeXBlLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDEsXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHBhY2thZ2VpZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWNvcmRzTGlzdCA9IHJlc3VsdC5kYXRhLnJlY29yZHNfbGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyckxlbmd0aCA9IE9iamVjdC5rZXlzKHJlY29yZHNMaXN0KS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmlzX2V4aXN0ID09IDApIHsgICAgICAgICAgICAvLyAg5Y+q5bGe5LqO5p+Q5Liq5LiT5qCP55qE5Y2V5ZOBXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gJ+ehruiupOenu+mZpOivpeWGheWuue+8jOenu+mZpOWQjuaJgOacieeUqOaIt+WwhuaXoOazleafpeeci+atpOWGheWuueS4lDxzcGEgc3R5bGU9XCJjb2xvcjogcmVkO1wiPuS4jeWPr+aBouWkjTwvc3BhPic7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVjb3Jkc0xpc3RbMF0gPT0gdW5kZWZpbmVkKSB7ICAgICAgLy8gIOWPquWxnuS6juWkmuS4quS4k+agj+eahOWNleWTgVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2gocmVjb3Jkc0xpc3QsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBcIuOAilwiICsgdmFsdWUudGl0bGUgKyBcIuOAi1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBcIuehruiupOenu+mZpOivpeWGheWuue+8jOenu+mZpOWQjuivpeS4k+agj+eUqOaIt+WwhuaXoOazleafpeeci+atpOWGheWuueOAguatpOWGheWuueS7jeWtmOWcqOS6jlwiICsgdGV4dCArIFwi5LitXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgfSAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyTGVuZ3RoID09IDEpIHsgICAgICAgICAgICAgICAgICAgLy8gIOWNleWTgeWNleWNluS4lOWxnuS6juS4gOS4quS4k+agj1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBcIuehruiupOenu+mZpOivpeWGheWuue+8jOenu+mZpOWQjuivpeS4k+agj+eUqOaIt+WwhuaXoOazleafpeeci+atpOWGheWuueOAguatpOWGheWuueS7jeWcqOWNleWTgeWIl+ihqOS4lOWNleeLrOWUruWNllwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOWNleWTgeWNleWNluS4lOWxnuS6juWkmuS4quS4k+agj1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlY29yZHNMaXN0LCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gXCLjgIpcIiArIHZhbHVlLnRpdGxlICsgXCLjgItcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFwi56Gu6K6k56e76Zmk6K+l5YaF5a6577yM56e76Zmk5ZCO6K+l5LiT5qCP55So5oi35bCG5peg5rOV5p+l55yL5q2k5YaF5a6544CC5q2k5YaF5a655Y2V54us5ZSu5Y2W5LiU5LuN5a2Y5Zyo5LqOXCIgKyB0ZXh0ICsgXCLkuK1cIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChyZXN1bHQubXNnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KHRleHQsICdpbmZvJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2t0ZXh0OiAn56Gu6K6k56e76ZmkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGVsZXRlU2luZ2xlKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9LFxuICAgIGRlbGV0ZVNpbmdsZTogZnVuY3Rpb24ocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCkge1xuICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAkLmFqYXgoJy9tb3ZlX2dvb2RzJywge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgICAgICAxLWdvb2RzX2lkO1xuICAgICAgICAgICAgICAgIDItZ29vZHNfdHlwZSgxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XG4gICAgICAgICAgICAgICAgMy1jaGFubmVsX3R5cGUoMC3ljZXlk4EsMS3kuJPmoI/lhoXotYTmupApO1xuICAgICAgICAgICAgICAgIDQtcGFja2FnZV9pZCjlvZNjaGFubmVsX3R5cGU9MeaXtuacieWAvClcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGdvb2RzX2lkOiByZXNpZCxcbiAgICAgICAgICAgICAgICBnb29kc190eXBlOiByZXNUeXBlLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxfdHlwZTogMSxcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBwYWNrYWdlaWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIGdldFNlbGVjdERhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICQuYWpheCgnL2Nob2ljZV9yZXNvdXJjZV9saXN0Jywge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIC8q5Y+C5pWwOlxuICAgICAgICAgICAgMS1jaGFubmVsX3R5cGUoMS3ljZXlk4EsMi3kuJPmoI8sMy3kvJrlkZgpXG4gICAgICAgICAgICAyLeaQnOe0ouWGheWuuS1zZWFyY2hfY29udGVudDtcbiAgICAgICAgICAgIDMtcmVzb3VyY2VfdHlwZSgwLeWFqOmDqCwxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XG4gICAgICAgICAgICA0LXBhZ2Uo5YiG6aG16aG156CBKTtcbiAgICAgICAgICAgIDUtcGFja2FnZV9pZCjlvZNjaGFubmVsX3R5cGU9MuOAgTPml7Ys5pyJ5YC8KVxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBzZWFyY2hfY29udGVudDogc2VsZi5zZWFyY2hDb250ZW50IHx8ICcnLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxfdHlwZTogMixcbiAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlOiAwLFxuICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHNlbGYuaWQsXG4gICAgICAgICAgICAgICAgcGFnZTogc2VsZi5wYWdlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHNlbGVjdEFyZWEgPSAkKCcjc2VsZWN0QXJlYUxpc3QnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFN0ciA9ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZU9iaiA9IEpTT04ucGFyc2UocmVzdWx0LmRhdGEucGFnZV9vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2gocmVzdWx0LmRhdGEucmVzb3VyY2VfbGlzdCwgZnVuY3Rpb24oaSwgaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc291cmNlX3R5cGUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoK3RoaXMucmVzb3VyY2VfdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZSA9ICflm77mlocnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGUgPSAn6Z+z6aKRJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlID0gJ+inhumikSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZSA9ICfnm7Tmkq0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlID0gJ+aXoCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RTdHIgKz0gJzxkaXYgY2xhc3M9XCJyZXNvdXJjZUl0ZW1XcmFwcGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB2YWx1ZT1cIicgKyB0aGlzLnJlc291cmNlX3R5cGUgKyAnXCIgaWQ9XCInICsgdGhpcy5pZCArICdcIiBjbGFzcz1cIndpdGgtZ2FwIHJlc291cmNlX3JhZGlvXCIgbmFtZT1cInNlbGVjdF9yZXNvdXJjZVwiIHR5cGU9XCJjaGVja2JveFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGFiZWwgZm9yPVwiJyArIHRoaXMuaWQgKyAnXCIgY2xhc3M9XCJyYWRpb19kZXNjXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZXNvdXJjZV9pY29uX3dyYXBwZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBjbGFzcz1cInJlc291cmNlX2ljb25cIiBzcmM9XCInICsgdGhpcy5pbWdfdXJsICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpdGxlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJyZXNvdXJjZV90eXBlXCI+JyArIHJlc291cmNlX3R5cGUgKyAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInJlc291cmNlX3RpbWVcIj4nICsgdGhpcy5zdGFydF9hdCArICc8L3NwYW4+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0U3RyLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RTdHIgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRlbnROb25lVGlwXCI+5pqC5peg5pWw5o2uPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5wYWdlID09IDEgfHwgIXNlbGYucGFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdEFyZWEuaHRtbChzZWxlY3RTdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdEFyZWEuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiaXNEb3duXCI+6LWE5rqQ5Yqg6L295LitPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/pppbmrKHliqDovb3vvIzmmL7npLpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5zZWFyY2hDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NlbGVjdFdpbmRvdycpLmZhZGVJbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYucGFnZSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3RBcmVhLmZpbmQoJy5pc0Rvd24nKS5iZWZvcmUoc2VsZWN0U3RyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8v5pWw5o2u5Yqg6L295a6M5q+V5ZCO55qE5pON5L2cXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYWdlT2JqLmN1cnJlbnRfcGFnZSA+PSBwYWdlT2JqLnRvdGFsX3BhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0QXJlYS5maW5kKCcuaXNEb3duJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oYXNEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2UrKztcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaLieWPluW3suacieWNleWTgeWksei0pe+8gVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iXX0=
