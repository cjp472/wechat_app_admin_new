$(function(){business.initCommon()});var business=function(){var e={};var t=[];var a=false;var i;var n;var c="enrollment";e.activity_id="";e.activity_state="";e.pageIndex=1;e.initCommon=function(){e.activity_id=$("#activity_id").val();e.activity_state=$("#activity_state").val();e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state},e.initEnrollment);$(".baseManageTab li.attendanceManage").click(function(){if($(".enrollmentManage").hasClass("baseActiveTab")){c="attendance";$("#businessType").html("签到");$(".enrollmentManage").removeClass("baseActiveTab");$(".attendanceManage").addClass("baseActiveTab")}e.getActivityPage("get_attendance_page",{activity_id:e.activity_id},e.initAttendance)});$(".baseManageTab li.enrollmentManage").click(function(){if($(".attendanceManage").hasClass("baseActiveTab")){c="enrollment";$("#businessType").html("报名");$(".attendanceManage").removeClass("baseActiveTab");$(".enrollmentManage").addClass("baseActiveTab")}e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state},e.initEnrollment)});var t=$("#activity_link").val();createQrCode("qrCodeWrapper",t,110,110);$(".downloadQRCode").click(function(){var e=$(".qrCodeWrapper img").attr("src");v(e);return false});$(".close_icon_wrapper").click(function(){$(".show_qrCode_window").fadeOut(300)});$(document).on("click",".allowUser",function(){var e=$(this).data("userid");if(e){var t=[e];l(1,t)}});$(document).on("click",".refuseUser",function(){var e=$(this).data("userid");if(e){var t=[e];f(t)}});$(document).on("click",".ejectUser",function(){var t=$("#activity_id").val();var a=$(this).data("userid");$.alert("作废后该用户将不可参与本次活动","info",{icon:"red",btn:3,onOk:function(){if(a){$.post("/change_sign_state",{activity_id:t,user_id:a,state:4},function(t){if(t.code==0){baseUtils.show.blueTip("作废成功!");e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state},e.initEnrollment)}else{baseUtils.show.redTip(t.msg)}})}}})});$(".contentArea").on("click"," .pagination a",function(t){var a=$(t.target),i=a.data("url");e.pageIndex=a.text();if($(".enrollmentManage").hasClass("baseActiveTab")){e.getActivityPage(i,null,e.initEnrollment)}else{e.getActivityPage(i,null,e.initAttendance)}});$(document).on("click",function(e){var t=$(e.target);var a=t.closest(".memberInfoBox");var i=t.closest(".userInfoWrapper");if(!a.length&&!i.length){$(".memberInfoBox").css("right","-400px");infoShow=false}});$(".memberInfoBoxClose").click(function(){$(".memberInfoBox").css("right","-400px")});$("#sendMsg").on("click",function(){var e=$("#activity_id").val();var t=[];$(".sendMethod").each(function(){if($(this).prop("checked")){t.push(parseInt($(this).val()))}});if(t&&t.length===0){baseUtils.show.redTip("没有选择发送方式！");return}var i=parseInt($("#sendRange").children(":selected").val());var n=[];if(i==2){n=d();if(n&&n.length===0){baseUtils.show.redTip("没有选择用户！");return}}var c=$.trim($("#sendContent").val());if(!c){baseUtils.show.redTip("没有填写通知内容！");return}var r={activity_id:e,activity_state:i,notify_type:"",user_id_list:n,notify_content:c};if(!a){a=true;o(t,r,function(e){baseUtils.show.blueTip(e.msg);$(".massageBox,.darkScreen").hide();a=false},function(e){baseUtils.show.redTip(e.msg);$(".massageBox,.darkScreen").hide();a=false})}else{baseUtils.show.redTip("请勿重复操作！")}})};e.getActivityPage=function(e,t,a,i){$(".loadingS").fadeIn(300);$.ajax({type:"GET",url:e,dataType:"html",data:t,success:function(e){$(".loadingS").fadeOut(100);console.log(e.msg);if(e&&e.length>0){$(".contentArea").html(e);if(a){a.apply(window,i)}}else{baseUtils.show.redTip("获取信息失败！")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}})};function r(e,a,i){var n=$("#activity_id").val();if(!arrUtils.inArr(t,e)){arrUtils.addArr(t,e);$.post("/passActivity",{activity_id:n,user_id_list:e},function(n){if(n.code==0){if(a){a(n)}}else{arrUtils.deleteArr(t,e);if(i){i(n)}}})}else{baseUtils.show.redTip("不能重复操作")}}function s(e,a,i){var n=$("#activity_id").val();var c=$("#refuseReasonInput").val();if(!c){baseUtils.show.redTip("请输入拒绝理由！");return}if(!arrUtils.inArr(t,e)){arrUtils.addArr(t,e);$.post("/denyActivity",{activity_id:n,user_id_list:e,refuse_reason:c},function(n){if(n.code==0){if(a){a(n)}}else{arrUtils.deleteArr(t,e);if(i){i(n)}}})}else{baseUtils.show.redTip("不能重复操作")}}function o(e,t,a,i){for(var n=0,c=e.length;n<c;n++){var r={};r=$.extend(r,t,true);r.notify_type=e[n];$.post("/activityNotify",r,function(e){if(e.code===0){if(a){a(e)}}else{if(i){i(e)}}})}}function l(t,a){var i=$.trim($("#searchContent").val());if(a&&a.length>0){if(t===1){r(a,function(t){baseUtils.show.blueTip(t.msg);setTimeout(function(){e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state,searchContent:i,page:e.pageIndex},e.initEnrollment)},500)},function(e){baseUtils.show.redTip(e.msg)})}else if(t===2){s(a,function(t){$(".memberRefuseBox,.darkScreen").fadeOut(300);baseUtils.show.blueTip(t.msg);setTimeout(function(){e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state,searchContent:i,page:e.pageIndex},e.initEnrollment)},500)},function(e){$(".memberRefuseBox,.darkScreen").fadeOut(300);baseUtils.show.redTip(e.msg)})}}else{baseUtils.show.redTip("请选择用户！")}}function d(){var e=[];$(".chooseUser").each(function(){var t=$(this).prop("checked");var a=$(this).data("userid");if(t&&a){e.push(a)}});return e}function f(e){if(e.length<1){baseUtils.show.redTip("请选择用户！");return}else if(e.length==1){i=$("."+e[0]).data("realname");n=$("."+e[0]).data("phone");$(".refuseMContent").html(i+"&nbsp&nbsp|&nbsp&nbsp"+n);$(".memberRefuseBox,.darkScreen").fadeIn(300);$(".rRefuse").off("click").on("click",function(){l(2,e)})}else{$(".memberRefuseBox,.darkScreen").fadeIn(300);$(".refuseMContent").html("共"+e.length+"人");$(".rRefuse").off("click").on("click",function(){l(2,e)})}}function v(e){var t=$("<a></a>").attr("href",e).attr("download","活动签到用二维码.png");t[0].click()}function u(e,t,a,i,n){$.ajax("/change_sign_state",{type:"POST",dataType:"json",data:{activity_id:e,user_id:t,state:a},success:function(e){if(e.code==0){console.log(e.msg);if(a==5){baseUtils.show.blueTip("签到成功")}else if(a==1){baseUtils.show.blueTip("取消签到成功")}if(i){i.apply(window,n)}}else{console.log(e.msg);baseUtils.show.redTip("操作失败，请重试")}},error:function(e,t,a){console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}})}e.initEnrollment=function(){$(".activeNavPart").click(function(){var t=$.trim($("#searchContent").val());if($(".activeNavPart").hasClass("activeNavPartActive")){e.activity_state=$(this).data("activity_state");e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state,searchContent:t},e.initEnrollment)}});$("#batchAllow").on("click",function(){var e=d();l(1,e)});$("#batchRefuse").on("click",function(){var e=d();f(e)});$("#allChoose").on("click",function(){if($(this).prop("checked")){e("chooseUser",true)}else{e("chooseUser",false)}function e(e,t){$("."+e).each(function(){$(this).prop("checked",t)})}});$(".activeSearchBtn").click(function(){var t=$.trim($("#searchContent").val());e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state,searchContent:t},e.initEnrollment)});$(".SearchInput").on("keypress",function(e){if(e.keyCode==13){$(".activeSearchBtn").click()}});$(".messageBtn").click(function(){$(".massageBox,.darkScreen").fadeIn(300)});$(".msgClose").click(function(){$(".massageBox,.darkScreen").fadeOut(300)});$(".rCancel,.RefuseBoxClose").click(function(){$(".memberRefuseBox,.darkScreen").fadeOut(300)});var t=false;var a="";$(".infoTbody").on("click","td",function(){if(!$(this).hasClass("notShowInfo")){var e=$(this).closest(".userInfoWrapper");var i=e.data("avatar");var n=e.data("nickname");var c=e.data("realname");var r=e.data("phone");var s=e.data("info");var o=e.data("state");var l=e.data("userid");if(s&&s.length>2){s=s.slice(2)}else{s=[]}if(l===a&&t){$(".memberInfoBox").css("right","-400px");a=""}else{var d={imgSrc:i,memberName:n,realName:c,memberPhone:r,moreInfo:s,state:o,userId:l};var f=template("peopleInfo",d);$("#enrollPersonInfo").html(f);$(".memberInfoBox").css("right","0");t=true;a=l}}});$(".contentAreaWrapper").on("click",".excelBtn",function(){$("#ExportModal").fadeIn()});$("#applyExcel").on("click",function(){var e=$("#activity_id").val();var t=null;var a=0;var i=$("[name='selectOffice']");for(var n=0;n<i.length;n++){if(i[n].checked){t=i[n].value;if(t==1){a=2003}}}if(c=="enrollment"){window.location.href="/excel/activity"+"?activity_id="+e+"&version="+a}else{window.location.href="/excel/attendance"+"?activity_id="+e+"&version="+a}});$(".closePop").click(function(){$("#ExportModal").fadeOut()});$(document).ajaxError(function(){baseUtils.show.redTip("网络错误，操作失败!")});$(".contentArea .list-page .pagination li a").each(function(){var e=$(this);e.attr("data-url",e.attr("href"));e.removeAttr("href")})};e.initAttendance=function(){$(".qrCodeAttend").click(function(){$(".show_qrCode_window").fadeIn(300)});$(".changeSignState").on("click",".confirmSign",function(){var t=$(this).parent(".changeSignState");var a=t.data("user_id");var i=t.data("ticket_type");var n=t.data("real_name");var c=t.data("phone");$.alert('<span class="alert_real_name">姓名：'+n+'</span><span class="alert_phone">手机号：'+c+"</span>","success",{title:i==0?"免费票":"收费票",btn:3,oktext:"签到",canceltext:"关闭",onOk:function(){u(e.activity_id,a,5,function(){e.getActivityPage("get_attendance_page",{activity_id:e.activity_id,page:e.pageIndex},e.initAttendance)})}})});$(".changeSignState").on("click",".cancelSign",function(){var t=$(this).parent(".changeSignState");var a=t.data("user_id");var i=t.data("ticket_type");var n=t.data("real_name");var c=t.data("phone");$.alert('<span class="alert_real_name">姓名：'+n+'</span><span class="alert_phone">手机号：'+c+"</span>","success",{title:i==0?"免费票":"收费票",btn:3,oktext:"取消签到",canceltext:"关闭",onOk:function(){u(e.activity_id,a,1,function(){e.getActivityPage("get_attendance_page",{activity_id:e.activity_id,page:e.pageIndex},e.initAttendance)})}})});$(".searchAttendanceList").click(function(){var t=$(".phoneNumSearch").val();e.getActivityPage("get_attendance_page",{activity_id:e.activity_id,searchContent:t||""},e.initAttendance)});$(".phoneNumSearch").on("keypress",function(e){if(e.keyCode==13){$(".searchAttendanceList").click()}});$(".contentArea .list-page .pagination li a").each(function(){var e=$(this);e.attr("data-url",e.attr("href"));e.removeAttr("href")})};return e}();var arrUtils=function(){var e={};e.removeByValue=function(e,t){for(var a=0;a<e.length;a++){if(e[a]==t){e.splice(a,1);break}}return e};e.addArr=function(e,t){for(var a=0,i=t.length;a<i;a++){if(e.indexOf(t[a])===-1){e.push(t[a])}}return e};e.deleteArr=function(e,t){for(var a=0,i=t.length;a<i;a++){if(e.indexOf(t[a])!==-1){this.removeByValue(e,t[a])}}return e};e.inArr=function(e,t){for(var a=0,i=t.length;a<i;a++){if(e.indexOf(t[a])!==-1){return true}}return false};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjdGl2aXR5RW5yb2xsbWVudC5qcyJdLCJuYW1lcyI6WyIkIiwiYnVzaW5lc3MiLCJpbml0Q29tbW9uIiwib3BlcmF0ZUxpc3QiLCJzZW5kTXNnTGltaXQiLCJ1c2VyUmVhbE5hbWUiLCJ1c2VyUGhvbmUiLCJidXNpbmVzc1R5cGUiLCJhY3Rpdml0eV9pZCIsImFjdGl2aXR5X3N0YXRlIiwicGFnZUluZGV4IiwidmFsIiwiZ2V0QWN0aXZpdHlQYWdlIiwiaW5pdEVucm9sbG1lbnQiLCJjbGljayIsImhhc0NsYXNzIiwiaHRtbCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJpbml0QXR0ZW5kYW5jZSIsImFjdGl2aXR5X2xpbmsiLCJjcmVhdGVRckNvZGUiLCJpbWdVcmwiLCJhdHRyIiwiZG93bmxvYWQiLCJmYWRlT3V0IiwiZG9jdW1lbnQiLCJvbiIsInVzZXJJZCIsInRoaXMiLCJkYXRhIiwidXNlcklkQXJyIiwib3BlcmF0ZUFjdGlvbiIsImNsaWNrUmVmdXNlIiwiYWN0aXZpdHlJZCIsImFsZXJ0IiwiaWNvbiIsImJ0biIsIm9uT2siLCJwb3N0IiwidXNlcl9pZCIsInN0YXRlIiwiY29kZSIsImJhc2VVdGlscyIsInNob3ciLCJibHVlVGlwIiwicmVkVGlwIiwibXNnIiwiZSIsImVsZSIsInRhcmdldCIsInVybCIsInRleHQiLCJldmVudCIsIm1lbWJlckluZm9Cb3giLCJjbG9zZXN0IiwidXNlckluZm9XcmFwcGVyIiwibGVuZ3RoIiwiY3NzIiwiaW5mb1Nob3ciLCJtZXRob2RBcnIiLCJlYWNoIiwicHJvcCIsInB1c2giLCJwYXJzZUludCIsImNoaWxkcmVuIiwiZ2V0Q2hvb3NlZFVzZXIiLCJub3RpZnlfY29udGVudCIsInRyaW0iLCJub3RpZnlQYXJtIiwibm90aWZ5X3R5cGUiLCJ1c2VyX2lkX2xpc3QiLCJzZW5kTXNnIiwiaGlkZSIsInNlbmREYXRhIiwiY2FsbGJhY2siLCJhcmdzIiwiZmFkZUluIiwiYWpheCIsInR5cGUiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiYXBwbHkiLCJ3aW5kb3ciLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsImFsbG93VXNlciIsImZhaWwiLCJhcnJVdGlscyIsImluQXJyIiwiYWRkQXJyIiwiZGVsZXRlQXJyIiwicmVmdXNlVXNlciIsInJlYXNvbiIsInJlZnVzZV9yZWFzb24iLCJpIiwiaiIsInBhcm1Db3B5IiwiZXh0ZW5kIiwic2VhcmNoQ29udGVudCIsInNldFRpbWVvdXQiLCJwYWdlIiwiY2hlY2tlZFN0YXR1cyIsIm9mZiIsInNyYyIsIiRhIiwiY2hhbmdlQWN0aXZpdHlTaWduU3RhdGUiLCJzaWduU3RhdGUiLCJjaGFuZ2VDaGVja2VkIiwiY2xhc3NOYW1lIiwia2V5Q29kZSIsImluZm9DbGlja0lkIiwidHIiLCJpbWdTcmMiLCJtZW1iZXJOYW1lIiwicmVhbE5hbWUiLCJtZW1iZXJQaG9uZSIsIm1vcmVJbmZvIiwic2xpY2UiLCJjb250ZW50IiwidGVtcGxhdGUiLCJjaGtPYmpzIiwiT2ZmaWNlMjAwMyIsIm9iaiIsImNoZWNrZWQiLCJ2YWx1ZSIsImxvY2F0aW9uIiwiaHJlZiIsImFqYXhFcnJvciIsIiRlbGUiLCJyZW1vdmVBdHRyIiwiJHBhcmVudCIsInBhcmVudCIsInRpY2tldF90eXBlIiwicmVhbF9uYW1lIiwicGhvbmUiLCJ0aXRsZSIsIm9rdGV4dCIsImNhbmNlbHRleHQiLCJzZWFyY2hfY29udGVudCIsInJlbW92ZUJ5VmFsdWUiLCJhcnIiLCJzcGxpY2UiLCJhcnJBIiwiYXJyQiIsImluZGV4T2YiXSwibWFwcGluZ3MiOiJBQUdBQSxFQUFFLFdBQ0VDLFNBQVNDLGNBS2IsSUFBSUQsVUFBVyxXQUVYLEdBQUlBLEtBR0osSUFBSUUsS0FHSixJQUFJQyxHQUFlLEtBR25CLElBQUlDLEVBR0osSUFBSUMsRUFHSixJQUFJQyxHQUFlLFlBRW5CTixHQUFTTyxZQUFjLEVBQ3ZCUCxHQUFTUSxlQUFpQixFQUMxQlIsR0FBU1MsVUFBWSxDQUVy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QUssUUFDaEMrRyxHQUFLQyxXQUFXLFVBTXhCLE9BQU90SSxLQUtYLElBQUk0RixVQUFXLFdBQ1gsR0FBSUEsS0FJSkEsR0FBU29ELGNBQWdCLFNBQVVDLEVBQUt2SSxHQUNwQyxJQUFLLEdBQUl5RixHQUFJLEVBQUdBLEVBQUk4QyxFQUFJekYsT0FBUTJDLElBQUssQ0FDakMsR0FBSThDLEVBQUk5QyxJQUFNekYsRUFBSyxDQUNmdUksRUFBSUMsT0FBTy9DLEVBQUcsRUFDZCxRQUdSLE1BQU84QyxHQUlYckQsR0FBU0UsT0FBUyxTQUFVcUQsRUFBTUMsR0FDOUIsSUFBSyxHQUFJakQsR0FBSSxFQUFHQyxFQUFJZ0QsRUFBSzVGLE9BQVEyQyxFQUFJQyxFQUFHRCxJQUFLLENBQ3pDLEdBQUlnRCxFQUFLRSxRQUFRRCxFQUFLakQsT0FBUyxFQUFHLENBQzlCZ0QsRUFBS3JGLEtBQUtzRixFQUFLakQsS0FHdkIsTUFBT2dELEdBSVh2RCxHQUFTRyxVQUFZLFNBQVVvRCxFQUFNQyxHQUNqQyxJQUFLLEdBQUlqRCxHQUFJLEVBQUdDLEVBQUlnRCxFQUFLNUYsT0FBUTJDLEVBQUlDLEVBQUdELElBQUssQ0FDekMsR0FBSWdELEVBQUtFLFFBQVFELEVBQUtqRCxPQUFTLEVBQUcsQ0FDOUJ2RSxLQUFLb0gsY0FBY0csRUFBTUMsRUFBS2pELEtBR3RDLE1BQU9nRCxHQUlYdkQsR0FBU0MsTUFBUSxTQUFVc0QsRUFBTUMsR0FDN0IsSUFBSyxHQUFJakQsR0FBSSxFQUFHQyxFQUFJZ0QsRUFBSzVGLE9BQVEyQyxFQUFJQyxFQUFHRCxJQUFLLENBQ3pDLEdBQUlnRCxFQUFLRSxRQUFRRCxFQUFLakQsT0FBUyxFQUFHLENBQzlCLE1BQU8sT0FHZixNQUFPLE9BSVgsT0FBT1AiLCJmaWxlIjoiYWN0aXZpdHlFbnJvbGxtZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IE5lbyBvbiAyMDE3LzMvOC5cbiAqL1xuJChmdW5jdGlvbiAoKSB7XG4gICAgYnVzaW5lc3MuaW5pdENvbW1vbigpO1xuXG59KTtcblxuLy/kuJrliqHnsbtcbnZhciBidXNpbmVzcyA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgYnVzaW5lc3MgPSB7fTtcblxuICAgIC8vIOaTjeS9nOeUqOaIt+WQjeWNle+8iOmYsuatoumHjeWkjeWPkemAge+8iVxuICAgIHZhciBvcGVyYXRlTGlzdCA9IFtdO1xuXG4gICAgLy8g6Ziy5q2i6YeN5aSN5Y+R6YCB5raI5oGv5qCH5b+XXG4gICAgdmFyIHNlbmRNc2dMaW1pdCA9IGZhbHNlO1xuXG4gICAgLy/pgInkuK3nlKjmiLfnmoTnnJ/lrp7lp5PlkI1cbiAgICB2YXIgdXNlclJlYWxOYW1lXG5cbiAgICAvL+mAieS4reeUqOaIt+eahOaJi+acuuWPt1xuICAgIHZhciB1c2VyUGhvbmVcblxuICAgIC8v5b2T5YmN5Lia5Yqh57G75Z6LICDpu5jorqTkuLplbnJvbGxtZW50LOWIh+aNouWQjuS4umF0dGVuZGFuY2VcbiAgICB2YXIgYnVzaW5lc3NUeXBlID0gJ2Vucm9sbG1lbnQnO1xuXG4gICAgYnVzaW5lc3MuYWN0aXZpdHlfaWQgPSBcIlwiOyAgICAgIC8vICDmtLvliqhpZFxuICAgIGJ1c2luZXNzLmFjdGl2aXR5X3N0YXRlID0gXCJcIjsgICAgICAvLyAg5rS75Yqo54q25oCBXG4gICAgYnVzaW5lc3MucGFnZUluZGV4ID0gMTsgICAgICAgICAgICAgLy8gIOW9k+WJjeaJgOWcqOmhtemdolxuXG4gICAgYnVzaW5lc3MuaW5pdENvbW1vbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYnVzaW5lc3MuYWN0aXZpdHlfaWQgPSAkKFwiI2FjdGl2aXR5X2lkXCIpLnZhbCgpO1xuICAgICAgICBidXNpbmVzcy5hY3Rpdml0eV9zdGF0ZSA9ICQoXCIjYWN0aXZpdHlfc3RhdGVcIikudmFsKCk7XG5cbiAgICAgICAgYnVzaW5lc3MuZ2V0QWN0aXZpdHlQYWdlKFwiZ2V0X2Vucm9sbG1lbnRfcGFnZVwiLCB7XG4gICAgICAgICAgICBhY3Rpdml0eV9pZDogYnVzaW5lc3MuYWN0aXZpdHlfaWQsXG4gICAgICAgICAgICBhY3Rpdml0eV9zdGF0ZTogYnVzaW5lc3MuYWN0aXZpdHlfc3RhdGVcbiAgICAgICAgfSwgYnVzaW5lc3MuaW5pdEVucm9sbG1lbnQpO1xuXG4gICAgICAgIC8vICBUQUIg5YiH5o2iXG4gICAgICAgICQoXCIuYmFzZU1hbmFnZVRhYiBsaS5hdHRlbmRhbmNlTWFuYWdlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCQoXCIuZW5yb2xsbWVudE1hbmFnZVwiKS5oYXNDbGFzcyhcImJhc2VBY3RpdmVUYWJcIikpIHsgICAgIC8vICDliIfmjaLliLDlj7PovrkgLSDnrb7liLDnrqHnkIZcbiAgICAgICAgICAgICAgICBidXNpbmVzc1R5cGUgPSAnYXR0ZW5kYW5jZSc7XG4gICAgICAgICAgICAgICAgJCgnI2J1c2luZXNzVHlwZScpLmh0bWwoJ+etvuWIsCcpO1xuICAgICAgICAgICAgICAgICQoXCIuZW5yb2xsbWVudE1hbmFnZVwiKS5yZW1vdmVDbGFzcyhcImJhc2VBY3RpdmVUYWJcIik7XG4gICAgICAgICAgICAgICAgJChcIi5hdHRlbmRhbmNlTWFuYWdlXCIpLmFkZENsYXNzKFwiYmFzZUFjdGl2ZVRhYlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZShcImdldF9hdHRlbmRhbmNlX3BhZ2VcIiwge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBidXNpbmVzcy5hY3Rpdml0eV9pZFxuICAgICAgICAgICAgfSwgYnVzaW5lc3MuaW5pdEF0dGVuZGFuY2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiLmJhc2VNYW5hZ2VUYWIgbGkuZW5yb2xsbWVudE1hbmFnZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICgkKFwiLmF0dGVuZGFuY2VNYW5hZ2VcIikuaGFzQ2xhc3MoXCJiYXNlQWN0aXZlVGFiXCIpKSB7ICAgICAgICAgLy8gIOWIh+aNouWIsOW3pui+uSAtIOaKpeWQjeeuoeeQhlxuICAgICAgICAgICAgICAgIGJ1c2luZXNzVHlwZSA9ICdlbnJvbGxtZW50JztcbiAgICAgICAgICAgICAgICAkKCcjYnVzaW5lc3NUeXBlJykuaHRtbCgn5oql5ZCNJyk7XG4gICAgICAgICAgICAgICAgJChcIi5hdHRlbmRhbmNlTWFuYWdlXCIpLnJlbW92ZUNsYXNzKFwiYmFzZUFjdGl2ZVRhYlwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLmVucm9sbG1lbnRNYW5hZ2VcIikuYWRkQ2xhc3MoXCJiYXNlQWN0aXZlVGFiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVzaW5lc3MuZ2V0QWN0aXZpdHlQYWdlKFwiZ2V0X2Vucm9sbG1lbnRfcGFnZVwiLCB7XG4gICAgICAgICAgICAgICAgYWN0aXZpdHlfaWQ6IGJ1c2luZXNzLmFjdGl2aXR5X2lkLFxuICAgICAgICAgICAgICAgIGFjdGl2aXR5X3N0YXRlOiBidXNpbmVzcy5hY3Rpdml0eV9zdGF0ZVxuICAgICAgICAgICAgfSwgYnVzaW5lc3MuaW5pdEVucm9sbG1lbnQpO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v5Yid5aeL5YyW5LqM57u056CB5Zu+54mHXG4gICAgICAgIHZhciBhY3Rpdml0eV9saW5rID0gJChcIiNhY3Rpdml0eV9saW5rXCIpLnZhbCgpO1xuICAgICAgICBjcmVhdGVRckNvZGUoXCJxckNvZGVXcmFwcGVyXCIsIGFjdGl2aXR5X2xpbmssIDExMCwgMTEwKTtcblxuICAgICAgICAvL+eCueWHu+S4i+i9vVxuICAgICAgICAkKFwiLmRvd25sb2FkUVJDb2RlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbWdVcmwgPSAkKFwiLnFyQ29kZVdyYXBwZXIgaW1nXCIpLmF0dHIoXCJzcmNcIik7XG4gICAgICAgICAgICBkb3dubG9hZChpbWdVcmwpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL+WFs+mXreS6jOe7tOeggeetvuWIsOeql+WPo1xuICAgICAgICAkKFwiLmNsb3NlX2ljb25fd3JhcHBlclwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLnNob3dfcXJDb2RlX3dpbmRvd1wiKS5mYWRlT3V0KDMwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v6YCa6L+H55So5oi35a6h5qC45pON5L2cKOWNleS4qu+8iVxuICAgICAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmFsbG93VXNlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdXNlcklkID0gJCh0aGlzKS5kYXRhKFwidXNlcmlkXCIpO1xuICAgICAgICAgICAgaWYgKHVzZXJJZCkge1xuICAgICAgICAgICAgICAgIHZhciB1c2VySWRBcnIgPSBbdXNlcklkXTtcbiAgICAgICAgICAgICAgICBvcGVyYXRlQWN0aW9uKDEsIHVzZXJJZEFycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v5ouS57ud55So5oi35a6h5qC45pON5L2cKOWNleS4qu+8iVxuICAgICAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLnJlZnVzZVVzZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHVzZXJJZCA9ICQodGhpcykuZGF0YShcInVzZXJpZFwiKTtcbiAgICAgICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXNlcklkQXJyID0gW3VzZXJJZF07XG4gICAgICAgICAgICAgICAgY2xpY2tSZWZ1c2UodXNlcklkQXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/kvZzlup/ljZXkuKrnlKjmiLfnmoTnpajliLjmk43kvZxcbiAgICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5lamVjdFVzZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFjdGl2aXR5SWQgPSAkKFwiI2FjdGl2aXR5X2lkXCIpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIHVzZXJJZCA9ICQodGhpcykuZGF0YShcInVzZXJpZFwiKTtcbiAgICAgICAgICAgICQuYWxlcnQoJ+S9nOW6n+WQjuivpeeUqOaIt+WwhuS4jeWPr+WPguS4juacrOasoea0u+WKqCcsICdpbmZvJywge2ljb246J3JlZCcsYnRuOjMsb25PazpmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICAkLnBvc3QoJy9jaGFuZ2Vfc2lnbl9zdGF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlfaWQ6YWN0aXZpdHlJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyX2lkOnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTo0XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmNvZGU9PTApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5L2c5bqf5oiQ5YqfIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzaW5lc3MuZ2V0QWN0aXZpdHlQYWdlKFwiZ2V0X2Vucm9sbG1lbnRfcGFnZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eV9pZDogYnVzaW5lc3MuYWN0aXZpdHlfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eV9zdGF0ZTogYnVzaW5lc3MuYWN0aXZpdHlfc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgYnVzaW5lc3MuaW5pdEVucm9sbG1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/liIbpobXor7fmsYJcbiAgICAgICAgJChcIi5jb250ZW50QXJlYVwiKS5vbignY2xpY2snLCAnIC5wYWdpbmF0aW9uIGEnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgZWxlID0gJChlLnRhcmdldCksXG4gICAgICAgICAgICAgICAgdXJsID0gZWxlLmRhdGEoJ3VybCcpO1xuICAgICAgICAgICAgYnVzaW5lc3MucGFnZUluZGV4ID0gZWxlLnRleHQoKTtcbiAgICAgICAgICAgIGlmICgkKFwiLmVucm9sbG1lbnRNYW5hZ2VcIikuaGFzQ2xhc3MoXCJiYXNlQWN0aXZlVGFiXCIpKSB7ICAgICAvLyAg5Zyo5bem6L65IC0g5oql5ZCN566h55CGXG4gICAgICAgICAgICAgICAgYnVzaW5lc3MuZ2V0QWN0aXZpdHlQYWdlKHVybCwgbnVsbCwgYnVzaW5lc3MuaW5pdEVucm9sbG1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOWcqOWPs+i+uSAtIOetvuWQjeeuoeeQhlxuICAgICAgICAgICAgICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZSh1cmwsIG51bGwsIGJ1c2luZXNzLmluaXRBdHRlbmRhbmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyDpmpDol4/nlKjmiLfkv6Hmga/moI9cbiAgICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciBtZW1iZXJJbmZvQm94ID0gdGFyZ2V0LmNsb3Nlc3QoXCIubWVtYmVySW5mb0JveFwiKTtcbiAgICAgICAgICAgIHZhciB1c2VySW5mb1dyYXBwZXIgPSB0YXJnZXQuY2xvc2VzdChcIi51c2VySW5mb1dyYXBwZXJcIik7XG4gICAgICAgICAgICBpZighbWVtYmVySW5mb0JveC5sZW5ndGggJiYgIXVzZXJJbmZvV3JhcHBlci5sZW5ndGgpe1xuICAgICAgICAgICAgICAgICQoXCIubWVtYmVySW5mb0JveFwiKS5jc3MoXCJyaWdodFwiLCBcIi00MDBweFwiKTtcbiAgICAgICAgICAgICAgICBpbmZvU2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvL+WFs+mXreS4quS6uuS/oeaBr+ahhlxuICAgICAgICAkKFwiLm1lbWJlckluZm9Cb3hDbG9zZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLm1lbWJlckluZm9Cb3hcIikuY3NzKFwicmlnaHRcIiwgXCItNDAwcHhcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOWPkemAgea2iOaBr+mAmuefpVxuICAgICAgICAkKFwiI3NlbmRNc2dcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIOa0u+WKqGlkXG4gICAgICAgICAgICB2YXIgYWN0aXZpdHlfaWQgPSAkKFwiI2FjdGl2aXR5X2lkXCIpLnZhbCgpO1xuXG4gICAgICAgICAgICAvLyDlj5HpgIHmlrnlvI9cbiAgICAgICAgICAgIHZhciBtZXRob2RBcnIgPSBbXTtcbiAgICAgICAgICAgICQoXCIuc2VuZE1ldGhvZFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZigkKHRoaXMpLnByb3AoXCJjaGVja2VkXCIpKXtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kQXJyLnB1c2gocGFyc2VJbnQoJCh0aGlzKS52YWwoKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZihtZXRob2RBcnIgJiYgbWV0aG9kQXJyLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5rKh5pyJ6YCJ5oup5Y+R6YCB5pa55byP77yBXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvLyDlj5HpgIHojIPlm7RcbiAgICAgICAgICAgIHZhciBhY3Rpdml0eV9zdGF0ZSA9IHBhcnNlSW50KCQoXCIjc2VuZFJhbmdlXCIpLmNoaWxkcmVuKFwiOnNlbGVjdGVkXCIpLnZhbCgpKTtcbiAgICAgICAgICAgIC8vIOWPkemAgeeUqOaIt1xuICAgICAgICAgICAgdmFyIHVzZXJJZEFyciA9IFtdO1xuICAgICAgICAgICAgaWYoYWN0aXZpdHlfc3RhdGUgPT0gMil7XG4gICAgICAgICAgICAgICAgdXNlcklkQXJyID0gZ2V0Q2hvb3NlZFVzZXIoKTtcbiAgICAgICAgICAgICAgICBpZih1c2VySWRBcnIgJiYgdXNlcklkQXJyLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuayoeaciemAieaLqeeUqOaIt++8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIOWPkemAgeWGheWuuVxuICAgICAgICAgICAgdmFyIG5vdGlmeV9jb250ZW50ID0gJC50cmltKCQoXCIjc2VuZENvbnRlbnRcIikudmFsKCkpO1xuXG4gICAgICAgICAgICBpZighbm90aWZ5X2NvbnRlbnQpe1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuayoeacieWhq+WGmemAmuefpeWGheWuue+8gVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBub3RpZnlQYXJtID0ge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBhY3Rpdml0eV9pZCxcbiAgICAgICAgICAgICAgICBhY3Rpdml0eV9zdGF0ZTogYWN0aXZpdHlfc3RhdGUsXG4gICAgICAgICAgICAgICAgbm90aWZ5X3R5cGU6IFwiXCIsXG4gICAgICAgICAgICAgICAgdXNlcl9pZF9saXN0OiB1c2VySWRBcnIsXG4gICAgICAgICAgICAgICAgbm90aWZ5X2NvbnRlbnQ6IG5vdGlmeV9jb250ZW50XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZighc2VuZE1zZ0xpbWl0KXtcbiAgICAgICAgICAgICAgICBzZW5kTXNnTGltaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIOWPkemAgeS/oeaBr+ivt+axglxuICAgICAgICAgICAgICAgIHNlbmRNc2coXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZEFycixcbiAgICAgICAgICAgICAgICAgICAgbm90aWZ5UGFybSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1hc3NhZ2VCb3gsLmRhcmtTY3JlZW4nKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTXNnTGltaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcubWFzc2FnZUJveCwuZGFya1NjcmVlbicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRNc2dMaW1pdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7fli7/ph43lpI3mk43kvZzvvIFcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgYnVzaW5lc3MuZ2V0QWN0aXZpdHlQYWdlID0gZnVuY3Rpb24gKHVybCwgc2VuZERhdGEsIGNhbGxiYWNrLCBhcmdzKSB7XG4gICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZUluKDMwMCk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICAgICAgICBkYXRhOiBzZW5kRGF0YSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMTAwKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQubXNnKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIuY29udGVudEFyZWFcIikuaHRtbChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHdpbmRvdywgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLojrflj5bkv6Hmga/lpLHotKXvvIFcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIC8vIOmAmui/h+eUqOaIt+ivt+axglxuICAgIGZ1bmN0aW9uIGFsbG93VXNlcih1c2VySWRBcnIsIHN1Y2Nlc3MsIGZhaWwpIHtcbiAgICAgICAgdmFyIGFjdGl2aXR5X2lkID0gJChcIiNhY3Rpdml0eV9pZFwiKS52YWwoKTtcbiAgICAgICAgaWYgKCFhcnJVdGlscy5pbkFycihvcGVyYXRlTGlzdCwgdXNlcklkQXJyKSkge1xuICAgICAgICAgICAgYXJyVXRpbHMuYWRkQXJyKG9wZXJhdGVMaXN0LCB1c2VySWRBcnIpO1xuXG4gICAgICAgICAgICAkLnBvc3QoJy9wYXNzQWN0aXZpdHknLCB7YWN0aXZpdHlfaWQ6IGFjdGl2aXR5X2lkLCB1c2VyX2lkX2xpc3Q6IHVzZXJJZEFycn0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcnJVdGlscy5kZWxldGVBcnIob3BlcmF0ZUxpc3QsIHVzZXJJZEFycik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkuI3og73ph43lpI3mk43kvZxcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmi5Lnu53nlKjmiLfor7fmsYJcbiAgICBmdW5jdGlvbiByZWZ1c2VVc2VyKHVzZXJJZEFyciwgc3VjY2VzcywgZmFpbCkge1xuICAgICAgICB2YXIgYWN0aXZpdHlfaWQgPSAkKFwiI2FjdGl2aXR5X2lkXCIpLnZhbCgpO1xuICAgICAgICAgLy/ojrflj5bmi5Lnu53lvLnlh7rmoYbnmoTmi5Lnu53nkIbnlLFcbiAgICAgICAgdmFyIHJlYXNvbj0kKFwiI3JlZnVzZVJlYXNvbklucHV0XCIpLnZhbCgpO1xuXG4gICAgICAgIGlmKCFyZWFzb24pe1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+36L6T5YWl5ouS57ud55CG55Sx77yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhcnJVdGlscy5pbkFycihvcGVyYXRlTGlzdCwgdXNlcklkQXJyKSkge1xuICAgICAgICAgICAgYXJyVXRpbHMuYWRkQXJyKG9wZXJhdGVMaXN0LCB1c2VySWRBcnIpO1xuXG4gICAgICAgICAgICAkLnBvc3QoJy9kZW55QWN0aXZpdHknLCB7YWN0aXZpdHlfaWQ6IGFjdGl2aXR5X2lkLCB1c2VyX2lkX2xpc3Q6IHVzZXJJZEFycixyZWZ1c2VfcmVhc29uOnJlYXNvbn0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcnJVdGlscy5kZWxldGVBcnIob3BlcmF0ZUxpc3QsIHVzZXJJZEFycik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkuI3og73ph43lpI3mk43kvZxcIik7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG4gICAgLy8g5Y+R6YCB5raI5oGv6YCa55+l6K+35rGCXG4gICAgZnVuY3Rpb24gc2VuZE1zZyhtZXRob2RBcnIsbm90aWZ5UGFybSxzdWNjZXNzLGZhaWwpIHtcbiAgICAgICAgZm9yKHZhciBpPTAsaj1tZXRob2RBcnIubGVuZ3RoO2k8ajtpKyspe1xuICAgICAgICAgICAgdmFyIHBhcm1Db3B5ID17fTtcbiAgICAgICAgICAgIHBhcm1Db3B5ID0kLmV4dGVuZChwYXJtQ29weSxub3RpZnlQYXJtLHRydWUpO1xuICAgICAgICAgICAgcGFybUNvcHkubm90aWZ5X3R5cGUgPSBtZXRob2RBcnJbaV07XG4gICAgICAgICAgICAkLnBvc3QoJy9hY3Rpdml0eU5vdGlmeScscGFybUNvcHksZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZihkYXRhLmNvZGUgPT09IDApe1xuICAgICAgICAgICAgICAgICAgICBpZihzdWNjZXNzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgaWYoZmFpbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsKGRhdGEpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g6YCa6L+HL+aLkue7neaTjeS9nOWwgeijhSB0eXBlIDHkuLrpgJrov4fvvIwy5Li65ouS57udXG4gICAgZnVuY3Rpb24gb3BlcmF0ZUFjdGlvbih0eXBlLCB1c2VySWRBcnIpIHtcbiAgICAgICAgdmFyIHNlYXJjaENvbnRlbnQgPSAkLnRyaW0oJCgnI3NlYXJjaENvbnRlbnQnKS52YWwoKSk7XG4gICAgICAgIGlmKHVzZXJJZEFyciAmJiB1c2VySWRBcnIubGVuZ3RoID4wKXtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgYWxsb3dVc2VyKFxuICAgICAgICAgICAgICAgICAgICB1c2VySWRBcnIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZShcImdldF9lbnJvbGxtZW50X3BhZ2VcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eV9pZDogYnVzaW5lc3MuYWN0aXZpdHlfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5X3N0YXRlOiBidXNpbmVzcy5hY3Rpdml0eV9zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoQ29udGVudDogc2VhcmNoQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogYnVzaW5lc3MucGFnZUluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgYnVzaW5lc3MuaW5pdEVucm9sbG1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSAyKSB7XG4gICAgICAgICAgICAgICAgcmVmdXNlVXNlcihcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkQXJyLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5tZW1iZXJSZWZ1c2VCb3gsLmRhcmtTY3JlZW5cIikuZmFkZU91dCgzMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXNpbmVzcy5nZXRBY3Rpdml0eVBhZ2UoXCJnZXRfZW5yb2xsbWVudF9wYWdlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlfaWQ6IGJ1c2luZXNzLmFjdGl2aXR5X2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eV9zdGF0ZTogYnVzaW5lc3MuYWN0aXZpdHlfc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaENvbnRlbnQ6IHNlYXJjaENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IGJ1c2luZXNzLnBhZ2VJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGJ1c2luZXNzLmluaXRFbnJvbGxtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubWVtYmVyUmVmdXNlQm94LC5kYXJrU2NyZWVuXCIpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7fpgInmi6nnlKjmiLfvvIFcIik7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG4gICAgLy8g6I635Y+W5omA5pyJ6YCJ5Lit55qE55So5oi3aWRcbiAgICBmdW5jdGlvbiBnZXRDaG9vc2VkVXNlcigpIHtcbiAgICAgICAgdmFyIHVzZXJJZEFyciA9IFtdO1xuICAgICAgICAkKFwiLmNob29zZVVzZXJcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZFN0YXR1cyA9ICQodGhpcykucHJvcChcImNoZWNrZWRcIik7XG4gICAgICAgICAgICB2YXIgdXNlcklkID0gJCh0aGlzKS5kYXRhKFwidXNlcmlkXCIpO1xuICAgICAgICAgICAgaWYgKGNoZWNrZWRTdGF0dXMgJiYgdXNlcklkKSB7XG4gICAgICAgICAgICAgICAgdXNlcklkQXJyLnB1c2godXNlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1c2VySWRBcnI7XG4gICAgfVxuXG4gICAgLy8g54K55Ye75ouS57ud55CG55Sx5rWu5bGC6YeM55qE5ouS57ud5oyJ6ZKuXG4gICAgZnVuY3Rpb24gY2xpY2tSZWZ1c2UodXNlcklkQXJyKSB7XG4gICAgICAgIGlmKHVzZXJJZEFyci5sZW5ndGggPCAxKXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+mAieaLqeeUqOaIt++8gVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHVzZXJJZEFyci5sZW5ndGggPT0xKXtcbiAgICAgICAgICAgIHVzZXJSZWFsTmFtZT0kKFwiLlwiK3VzZXJJZEFyclswXSkuZGF0YShcInJlYWxuYW1lXCIpO1xuICAgICAgICAgICAgdXNlclBob25lPSQoXCIuXCIrdXNlcklkQXJyWzBdKS5kYXRhKFwicGhvbmVcIik7XG4gICAgICAgICAgICAkKFwiLnJlZnVzZU1Db250ZW50XCIpLmh0bWwodXNlclJlYWxOYW1lK1wiJm5ic3AmbmJzcHwmbmJzcCZuYnNwXCIrdXNlclBob25lKTtcbiAgICAgICAgICAgICQoXCIubWVtYmVyUmVmdXNlQm94LC5kYXJrU2NyZWVuXCIpLmZhZGVJbigzMDApO1xuICAgICAgICAgICAgJChcIi5yUmVmdXNlXCIpLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIixmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgb3BlcmF0ZUFjdGlvbigyLCB1c2VySWRBcnIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkKFwiLm1lbWJlclJlZnVzZUJveCwuZGFya1NjcmVlblwiKS5mYWRlSW4oMzAwKTtcbiAgICAgICAgICAgICQoXCIucmVmdXNlTUNvbnRlbnRcIikuaHRtbChcIuWFsVwiK3VzZXJJZEFyci5sZW5ndGgrXCLkurpcIik7XG4gICAgICAgICAgICAkKFwiLnJSZWZ1c2VcIikub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBvcGVyYXRlQWN0aW9uKDIsIHVzZXJJZEFycik7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG93bmxvYWQoc3JjKSB7XG4gICAgICAgIHZhciAkYSA9ICQoXCI8YT48L2E+XCIpLmF0dHIoXCJocmVmXCIsIHNyYykuYXR0cihcImRvd25sb2FkXCIsIFwi5rS75Yqo562+5Yiw55So5LqM57u056CBLnBuZ1wiKTtcbiAgICAgICAgJGFbMF0uY2xpY2soKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VBY3Rpdml0eVNpZ25TdGF0ZShhY3Rpdml0eUlkLCB1c2VySWQsIHNpZ25TdGF0ZSwgY2FsbGJhY2ssIGFyZ3MpIHtcblxuICAgICAgICAkLmFqYXgoXCIvY2hhbmdlX3NpZ25fc3RhdGVcIiwge1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgYWN0aXZpdHlfaWQ6IGFjdGl2aXR5SWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBzaWduU3RhdGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0Lm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWduU3RhdGUgPT0gNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuetvuWIsOaIkOWKn1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKHNpZ25TdGF0ZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5Y+W5raI562+5Yiw5oiQ5YqfXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkod2luZG93LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIzor7fph43or5VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog5Yid5aeL5YyW5oql5ZCN566h55CG6aG16Z2ianNcbiAgICAgKi9cbiAgICBidXNpbmVzcy5pbml0RW5yb2xsbWVudCA9IGZ1bmN0aW9uICgpIHtcblxuXG4gICAgICAgIC8vICDmiqXlkI3nrqHnkIblhoXpg6ggdGFiIOWIh+aNolxuICAgICAgICAkKFwiLmFjdGl2ZU5hdlBhcnRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNlYXJjaENvbnRlbnQgPSAkLnRyaW0oJCgnI3NlYXJjaENvbnRlbnQnKS52YWwoKSk7XG4gICAgICAgICAgICBpZiAoJChcIi5hY3RpdmVOYXZQYXJ0XCIpLmhhc0NsYXNzKFwiYWN0aXZlTmF2UGFydEFjdGl2ZVwiKSkge1xuICAgICAgICAgICAgICAgIGJ1c2luZXNzLmFjdGl2aXR5X3N0YXRlID0gJCh0aGlzKS5kYXRhKFwiYWN0aXZpdHlfc3RhdGVcIik7XG4gICAgICAgICAgICAgICAgYnVzaW5lc3MuZ2V0QWN0aXZpdHlQYWdlKFwiZ2V0X2Vucm9sbG1lbnRfcGFnZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBidXNpbmVzcy5hY3Rpdml0eV9pZCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlfc3RhdGU6IGJ1c2luZXNzLmFjdGl2aXR5X3N0YXRlLFxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hDb250ZW50OiBzZWFyY2hDb250ZW50XG4gICAgICAgICAgICAgICAgfSwgYnVzaW5lc3MuaW5pdEVucm9sbG1lbnQpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyDmibnph4/pgJrov4fnlKjmiLflrqHmoLhcbiAgICAgICAgJChcIiNiYXRjaEFsbG93XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHVzZXJJZEFyciA9IGdldENob29zZWRVc2VyKCk7XG4gICAgICAgICAgICBvcGVyYXRlQWN0aW9uKDEsIHVzZXJJZEFycik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOaJuemHj+aLkue7neeUqOaIt+WuoeaguFxuICAgICAgICAkKFwiI2JhdGNoUmVmdXNlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHVzZXJJZEFyciA9IGdldENob29zZWRVc2VyKCk7XG4gICAgICAgICAgICBjbGlja1JlZnVzZSh1c2VySWRBcnIpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vIOmAieS4rS/lj5bmtojpgInkuK0g5YWo6YOo55So5oi3XG4gICAgICAgICQoXCIjYWxsQ2hvb3NlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykucHJvcChcImNoZWNrZWRcIikpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VDaGVja2VkKFwiY2hvb3NlVXNlclwiLCB0cnVlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlQ2hlY2tlZChcImNob29zZVVzZXJcIiwgZmFsc2UpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBjaGFuZ2VDaGVja2VkKGNsYXNzTmFtZSwgc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgJChcIi5cIiArIGNsYXNzTmFtZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucHJvcChcImNoZWNrZWRcIiwgc3RhdHVzKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy/moLnmja7mkJzntKLlhoXlrrnmkJzntKLkurrlkZhcbiAgICAgICAgJCgnLmFjdGl2ZVNlYXJjaEJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZWFyY2hDb250ZW50ID0gJC50cmltKCQoJyNzZWFyY2hDb250ZW50JykudmFsKCkpO1xuICAgICAgICAgICAgYnVzaW5lc3MuZ2V0QWN0aXZpdHlQYWdlKFwiZ2V0X2Vucm9sbG1lbnRfcGFnZVwiLCB7XG4gICAgICAgICAgICAgICAgYWN0aXZpdHlfaWQ6IGJ1c2luZXNzLmFjdGl2aXR5X2lkLFxuICAgICAgICAgICAgICAgIGFjdGl2aXR5X3N0YXRlOiBidXNpbmVzcy5hY3Rpdml0eV9zdGF0ZSxcbiAgICAgICAgICAgICAgICBzZWFyY2hDb250ZW50OiBzZWFyY2hDb250ZW50XG4gICAgICAgICAgICB9LCBidXNpbmVzcy5pbml0RW5yb2xsbWVudCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICDlm57ovabmkJzntKJcbiAgICAgICAgJChcIi5TZWFyY2hJbnB1dFwiKS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgICAgICQoJy5hY3RpdmVTZWFyY2hCdG4nKS5jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyDngrnlh7vmtojmga/pgJrnn6VcbiAgICAgICAgJChcIi5tZXNzYWdlQnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJy5tYXNzYWdlQm94LC5kYXJrU2NyZWVuJykuZmFkZUluKDMwMCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvL+WFs+mXrea2iOaBr+mAmuefpeeahOa1ruWxglxuICAgICAgICAkKFwiLm1zZ0Nsb3NlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJy5tYXNzYWdlQm94LC5kYXJrU2NyZWVuJykuZmFkZU91dCgzMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgLy/lhbPpl63mi5Lnu53lvLnlh7rmoYZcbiAgICAgICAgJChcIi5yQ2FuY2VsLC5SZWZ1c2VCb3hDbG9zZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLm1lbWJlclJlZnVzZUJveCwuZGFya1NjcmVlblwiKS5mYWRlT3V0KDMwMCk7XG4gICAgICAgIH0pXG5cblxuXG4gICAgICAgIC8vIOeUqOaIt+S/oeaBr+agj+eahOaYvuekuueKtuaAgVxuICAgICAgICB2YXIgaW5mb1Nob3cgPSBmYWxzZTtcbiAgICAgICAgLy8g54K55Ye755qE5p2h55uu5qCH6K6wXG4gICAgICAgIHZhciBpbmZvQ2xpY2tJZCA9IFwiXCI7XG4gICAgICAgIC8vIOaYvuekuueUqOaIt+S/oeaBr+agj1xuICAgICAgICAkKFwiLmluZm9UYm9keVwiKS5vbihcImNsaWNrXCIsXCJ0ZFwiLGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmKCEkKHRoaXMpLmhhc0NsYXNzKFwibm90U2hvd0luZm9cIikpe1xuICAgICAgICAgICAgICAgIHZhciB0ciA9ICQodGhpcykuY2xvc2VzdChcIi51c2VySW5mb1dyYXBwZXJcIik7XG4gICAgICAgICAgICAgICAgdmFyIGltZ1NyYyA9IHRyLmRhdGEoXCJhdmF0YXJcIik7XG4gICAgICAgICAgICAgICAgdmFyIG1lbWJlck5hbWUgPSB0ci5kYXRhKFwibmlja25hbWVcIik7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWxOYW1lID0gdHIuZGF0YShcInJlYWxuYW1lXCIpO1xuICAgICAgICAgICAgICAgIHZhciBtZW1iZXJQaG9uZSA9IHRyLmRhdGEoXCJwaG9uZVwiKTtcbiAgICAgICAgICAgICAgICB2YXIgbW9yZUluZm8gPSB0ci5kYXRhKFwiaW5mb1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0ci5kYXRhKFwic3RhdGVcIik7XG4gICAgICAgICAgICAgICAgdmFyIHVzZXJJZCA9IHRyLmRhdGEoXCJ1c2VyaWRcIik7XG4gICAgICAgICAgICAgICAgLy/lpoLmnpznlKjmiLfkuI3mmK/lvoXlrqHmoLjnirbmgIHvvIzliJnpmpDol4/pgJrov4fmi5Lnu53mjInpkq5cbiAgICAgICAgICAgICAgICBpZiAobW9yZUluZm8gJiYgbW9yZUluZm8ubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICBtb3JlSW5mbyA9IG1vcmVJbmZvLnNsaWNlKDIpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBtb3JlSW5mbz1bXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZih1c2VySWQgPT09IGluZm9DbGlja0lkICYmIGluZm9TaG93KXtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tZW1iZXJJbmZvQm94XCIpLmNzcyhcInJpZ2h0XCIsIFwiLTQwMHB4XCIpO1xuICAgICAgICAgICAgICAgICAgICBpbmZvQ2xpY2tJZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nU3JjOiBpbWdTcmMsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXJOYW1lOiBtZW1iZXJOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhbE5hbWU6IHJlYWxOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVtYmVyUGhvbmU6IG1lbWJlclBob25lLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9yZUluZm86IG1vcmVJbmZvLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSB0ZW1wbGF0ZSgncGVvcGxlSW5mbycsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI2Vucm9sbFBlcnNvbkluZm9cIikuaHRtbChjb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tZW1iZXJJbmZvQm94XCIpLmNzcyhcInJpZ2h0XCIsIFwiMFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaW5mb1Nob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpbmZvQ2xpY2tJZCA9IHVzZXJJZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIOWvvOWHukV4Y2VsIOihqOagvCAgLSAgIOaaguaXtuS4jeWBmumAieaLqe+8jOWvvOWHuuWFqOmDqOeUqOaIt1xuICAgICAgICAkKCcuY29udGVudEFyZWFXcmFwcGVyJykub24oJ2NsaWNrJywnLmV4Y2VsQnRuJyxmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiI0V4cG9ydE1vZGFsXCIpLmZhZGVJbigpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgICQoXCIjYXBwbHlFeGNlbFwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBhY3Rpdml0eV9pZCA9ICQoXCIjYWN0aXZpdHlfaWRcIikudmFsKCk7XG4gICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWN0aXZpdHlFeHBvcnRFeGNsZT9hY3Rpdml0eV9pZD0nICsgYWN0aXZpdHlfaWQ7XG4gICAgICAgICAgICB2YXIgY2hrT2Jqcz1udWxsOyBcbiAgICAgICAgICAgIHZhciBPZmZpY2UyMDAzPTA7XG4gICAgICAgICAgICB2YXIgb2JqPSQoXCJbbmFtZT0nc2VsZWN0T2ZmaWNlJ11cIik7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaT0wO2k8b2JqLmxlbmd0aDtpKyspeyAvL+mBjeWOhlJhZGlvIFxuICAgICAgICAgICAgICAgIGlmKG9ialtpXS5jaGVja2VkKXsgXG4gICAgICAgICAgICAgICAgICAgIGNoa09ianM9b2JqW2ldLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2hrT2Jqcz09MSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2ZmaWNlMjAwMz0yMDAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgfSBcblxuICAgICAgICAgICAgaWYoYnVzaW5lc3NUeXBlPT0nZW5yb2xsbWVudCcpe1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvZXhjZWwvYWN0aXZpdHlcIiArICc/YWN0aXZpdHlfaWQ9JyArIGFjdGl2aXR5X2lkICsgXCImdmVyc2lvbj1cIiArIE9mZmljZTIwMDM7XG4gICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9leGNlbC9hdHRlbmRhbmNlXCIgKyAnP2FjdGl2aXR5X2lkPScgKyBhY3Rpdml0eV9pZCArIFwiJnZlcnNpb249XCIgKyBPZmZpY2UyMDAzO1xuICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICB9KVxuICAgICAgICAkKFwiLmNsb3NlUG9wXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIjRXhwb3J0TW9kYWxcIikuZmFkZU91dCgpO1xuICAgICAgICB9KVxuXG5cbiAgICAgICAgLy8g5o+Q5Lqk6ZSZ6K+v5aSE55CGXG4gICAgICAgICQoZG9jdW1lbnQpLmFqYXhFcnJvcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOaTjeS9nOWksei0pSFcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v5Yid5aeL5YyW5YiG6aG1XG4gICAgICAgICQoJy5jb250ZW50QXJlYSAubGlzdC1wYWdlIC5wYWdpbmF0aW9uIGxpIGEnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICRlbGUgPSAkKHRoaXMpO1xuICAgICAgICAgICAgJGVsZS5hdHRyKCdkYXRhLXVybCcsICRlbGUuYXR0cignaHJlZicpKTtcbiAgICAgICAgICAgICRlbGUucmVtb3ZlQXR0cignaHJlZicpO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJbnrb7liLDnrqHnkIbpobXpnaJqc1xuICAgICAqL1xuICAgIGJ1c2luZXNzLmluaXRBdHRlbmRhbmNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8v5omT5byA5LqM57u056CB562+5Yiw56qX5Y+jXG4gICAgICAgICQoXCIucXJDb2RlQXR0ZW5kXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuc2hvd19xckNvZGVfd2luZG93XCIpLmZhZGVJbigzMDApO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyAg562+5YiwXG4gICAgICAgICQoXCIuY2hhbmdlU2lnblN0YXRlXCIpLm9uKFwiY2xpY2tcIiwgXCIuY29uZmlybVNpZ25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudChcIi5jaGFuZ2VTaWduU3RhdGVcIik7XG4gICAgICAgICAgICB2YXIgdXNlcl9pZCA9ICRwYXJlbnQuZGF0YSgndXNlcl9pZCcpO1xuICAgICAgICAgICAgdmFyIHRpY2tldF90eXBlID0gJHBhcmVudC5kYXRhKCd0aWNrZXRfdHlwZScpO1xuICAgICAgICAgICAgdmFyIHJlYWxfbmFtZSA9ICRwYXJlbnQuZGF0YSgncmVhbF9uYW1lJyk7XG4gICAgICAgICAgICB2YXIgcGhvbmUgPSAkcGFyZW50LmRhdGEoJ3Bob25lJyk7XG5cbiAgICAgICAgICAgICQuYWxlcnQoJzxzcGFuIGNsYXNzPVwiYWxlcnRfcmVhbF9uYW1lXCI+5aeT5ZCN77yaJyArIHJlYWxfbmFtZSArICc8L3NwYW4+PHNwYW4gY2xhc3M9XCJhbGVydF9waG9uZVwiPuaJi+acuuWPt++8micgKyBwaG9uZSArICc8L3NwYW4+JywgXCJzdWNjZXNzXCIsIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogdGlja2V0X3R5cGUgPT0gMCA/IFwi5YWN6LS556WoXCIgOiBcIuaUtui0ueelqFwiLFxuICAgICAgICAgICAgICAgIGJ0bjogMyxcbiAgICAgICAgICAgICAgICBva3RleHQ6IFwi562+5YiwXCIsXG4gICAgICAgICAgICAgICAgY2FuY2VsdGV4dDogXCLlhbPpl61cIixcbiAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUFjdGl2aXR5U2lnblN0YXRlKGJ1c2luZXNzLmFjdGl2aXR5X2lkLCB1c2VyX2lkLCA1LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXNpbmVzcy5nZXRBY3Rpdml0eVBhZ2UoXCJnZXRfYXR0ZW5kYW5jZV9wYWdlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eV9pZDogYnVzaW5lc3MuYWN0aXZpdHlfaWQsIHBhZ2U6IGJ1c2luZXNzLnBhZ2VJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgYnVzaW5lc3MuaW5pdEF0dGVuZGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAg5Y+W5raI562+5YiwXG4gICAgICAgICQoXCIuY2hhbmdlU2lnblN0YXRlXCIpLm9uKFwiY2xpY2tcIiwgXCIuY2FuY2VsU2lnblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50KFwiLmNoYW5nZVNpZ25TdGF0ZVwiKTtcbiAgICAgICAgICAgIHZhciB1c2VyX2lkID0gJHBhcmVudC5kYXRhKCd1c2VyX2lkJyk7XG4gICAgICAgICAgICB2YXIgdGlja2V0X3R5cGUgPSAkcGFyZW50LmRhdGEoJ3RpY2tldF90eXBlJyk7XG4gICAgICAgICAgICB2YXIgcmVhbF9uYW1lID0gJHBhcmVudC5kYXRhKCdyZWFsX25hbWUnKTtcbiAgICAgICAgICAgIHZhciBwaG9uZSA9ICRwYXJlbnQuZGF0YSgncGhvbmUnKTtcblxuICAgICAgICAgICAgJC5hbGVydCgnPHNwYW4gY2xhc3M9XCJhbGVydF9yZWFsX25hbWVcIj7lp5PlkI3vvJonICsgcmVhbF9uYW1lICsgJzwvc3Bhbj48c3BhbiBjbGFzcz1cImFsZXJ0X3Bob25lXCI+5omL5py65Y+377yaJyArIHBob25lICsgJzwvc3Bhbj4nLCBcInN1Y2Nlc3NcIiwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiB0aWNrZXRfdHlwZSA9PSAwID8gXCLlhY3otLnnpahcIiA6IFwi5pS26LS556WoXCIsXG4gICAgICAgICAgICAgICAgYnRuOiAzLFxuICAgICAgICAgICAgICAgIG9rdGV4dDogXCLlj5bmtojnrb7liLBcIixcbiAgICAgICAgICAgICAgICBjYW5jZWx0ZXh0OiBcIuWFs+mXrVwiLFxuICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlQWN0aXZpdHlTaWduU3RhdGUoYnVzaW5lc3MuYWN0aXZpdHlfaWQsIHVzZXJfaWQsIDEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZShcImdldF9hdHRlbmRhbmNlX3BhZ2VcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBidXNpbmVzcy5hY3Rpdml0eV9pZCwgcGFnZTogYnVzaW5lc3MucGFnZUluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBidXNpbmVzcy5pbml0QXR0ZW5kYW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICDmkJzntKJcbiAgICAgICAgJChcIi5zZWFyY2hBdHRlbmRhbmNlTGlzdFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoX2NvbnRlbnQgPSAkKFwiLnBob25lTnVtU2VhcmNoXCIpLnZhbCgpO1xuICAgICAgICAgICAgYnVzaW5lc3MuZ2V0QWN0aXZpdHlQYWdlKFwiZ2V0X2F0dGVuZGFuY2VfcGFnZVwiLCB7XG4gICAgICAgICAgICAgICAgYWN0aXZpdHlfaWQ6IGJ1c2luZXNzLmFjdGl2aXR5X2lkLFxuICAgICAgICAgICAgICAgIHNlYXJjaENvbnRlbnQ6IHNlYXJjaF9jb250ZW50IHx8IFwiXCIsXG4gICAgICAgICAgICB9LCBidXNpbmVzcy5pbml0QXR0ZW5kYW5jZSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIOWbnui9puaQnOe0olxuICAgICAgICAkKFwiLnBob25lTnVtU2VhcmNoXCIpLm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICAgICAgJCgnLnNlYXJjaEF0dGVuZGFuY2VMaXN0JykuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/liJ3lp4vljJbliIbpobVcbiAgICAgICAgJCgnLmNvbnRlbnRBcmVhIC5saXN0LXBhZ2UgLnBhZ2luYXRpb24gbGkgYScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJGVsZSA9ICQodGhpcyk7XG4gICAgICAgICAgICAkZWxlLmF0dHIoJ2RhdGEtdXJsJywgJGVsZS5hdHRyKCdocmVmJykpO1xuICAgICAgICAgICAgJGVsZS5yZW1vdmVBdHRyKCdocmVmJyk7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuXG4gICAgcmV0dXJuIGJ1c2luZXNzO1xufSkoKTtcblxuXG4vLyDmlbDnu4Tlt6Xlhbflh73mlbDvvIjlj6/nlKjkuo7pmLLmraLkv6Hmga/ph43lpI3mj5DkuqTvvIlcbnZhciBhcnJVdGlscyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyclV0aWxzID0ge307XG5cblxuICAgIC8vIOS7juaVsOe7hOS4reWIoOmZpOaMh+WumuWFg+e0oFxuICAgIGFyclV0aWxzLnJlbW92ZUJ5VmFsdWUgPSBmdW5jdGlvbiAoYXJyLCB2YWwpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJbaV0gPT0gdmFsKSB7XG4gICAgICAgICAgICAgICAgYXJyLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH07XG5cbiAgICAvLyDlsIZC5pWw57uE5YWD57Sg5re75Yqg5YiwQeaVsOe7hOS4re+8iOaXoOmHjeWkjeWFg+e0oO+8iVxuICAgIGFyclV0aWxzLmFkZEFyciA9IGZ1bmN0aW9uIChhcnJBLCBhcnJCKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gYXJyQi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJBLmluZGV4T2YoYXJyQltpXSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYXJyQS5wdXNoKGFyckJbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJBO1xuICAgIH07XG5cbiAgICAvLyDlsIZC5pWw57uE5YWD57Sg5LuOQeaVsOe7hOS4reWJlOmZpFxuICAgIGFyclV0aWxzLmRlbGV0ZUFyciA9IGZ1bmN0aW9uIChhcnJBLCBhcnJCKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gYXJyQi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJBLmluZGV4T2YoYXJyQltpXSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVCeVZhbHVlKGFyckEsIGFyckJbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJBO1xuICAgIH07XG5cbiAgICAvLyBC5Lit5YWD57Sg5piv5ZCm5a2Y5ZyoQeaVsOe7hOS4rVxuICAgIGFyclV0aWxzLmluQXJyID0gZnVuY3Rpb24gKGFyckEsIGFyckIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBhcnJCLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFyckEuaW5kZXhPZihhcnJCW2ldKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuXG4gICAgcmV0dXJuIGFyclV0aWxzO1xuXG59KSgpO1xuXG4iXX0=
