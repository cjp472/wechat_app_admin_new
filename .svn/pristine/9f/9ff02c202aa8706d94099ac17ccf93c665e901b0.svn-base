<template>
    <div class="app-design">
        <div class="app-preview">
            <index_part_drag :index_sort="index_sort" :index_data="index_data" :index_local_data="index_local_data"></index_part_drag>
        </div>
        <div class="app-sidebar">
            <sidebar_part :index_sort="index_sort" :index_data="index_data"></sidebar_part>
        </div>
        <div class="app-actions"></div>
    </div>
</template>

<script>
    import NetWork from '../../libs/network';
    import EventBus from '../../libs/eventbus';
    import index_part_drag from './index_part_drag.vue';
    import sidebar_part from './sidebar_part.vue';

    export default{
        data: function () {
            return {
                index_sort:[1, 2, 3, 4, 5, 6, 7, 8],
                index_data:[
                    {
                        list:[
                            {
                                id:"1",
                                title:"1",
                                image_url:"",
                                img_url_compressed:"",
                                //跳转类型，0-不跳转， 1-图文，2-音频，3-视频，4-圈子贴子，5-url, 6-专栏
                                skip_type:"",
                                //跳转目的地,如果不是直接跳转的链接，就都是相应资源id
                                skip_target:"",
                                skip_title:""
                            },
                            {
                                id:"2",
                                title:"2",
                                image_url:"",
                                img_url_compressed:"",
                                //跳转类型，0-不跳转， 1-图文，2-音频，3-视频，4-圈子贴子，5-url, 6-专栏
                                skip_type:"",
                                //跳转目的地,如果不是直接跳转的链接，就都是相应资源id
                                skip_target:"",
                                skip_title:""
                            },
                            {
                                id:"3",
                                title:"3",
                                image_url:"",
                                img_url_compressed:"",
                                //跳转类型，0-不跳转， 1-图文，2-音频，3-视频，4-圈子贴子，5-url, 6-专栏
                                skip_type:"",
                                //跳转目的地,如果不是直接跳转的链接，就都是相应资源id
                                skip_target:"",
                                skip_title:""
                            }
                        ]
                    },
                    {
                        list:[]
                    },
                    {
                        part_title:"小社群",
                        //0则使用默认配置
                        status:1,
                        list:[
                            {
                                id:"",
                                img_url_compressed:"",
                                title:""
                            }
                        ]
                    },
                    {
                        part_title:"会员",
                        //0则使用默认配置
                        status:1,
                        list:[
                            {
                                id:"",
                                img_url_compressed:"",
                                title:""
                            }
                        ]
                    },
                    {
                        list:[]
                    },
                    {
                        part_title:"直播",
                        //0则使用默认配置
                        status:1,
                        list:[
                            {
                                id:"1",
                                img_url_compressed:"http://wechatapppro-1252524126.file.myqcloud.com/image/5f901770e1d8b9d71ca9003dd2a66b77.jpg",
                                title:"直播一"
                            },
                            {
                                id:"2",
                                img_url_compressed:"http://wechatapppro-1252524126.file.myqcloud.com/image/5f901770e1d8b9d71ca9003dd2a66b77.jpg",
                                title:"直播二"
                            },
                            {
                                id:"3",
                                img_url_compressed:"http://wechatapppro-1252524126.file.myqcloud.com/image/5f901770e1d8b9d71ca9003dd2a66b77.jpg",
                                title:"直播三"
                            }
                        ]
                    },
                    {
                        list:[]
                    },
                    {
                        list:[]
                    }
                ],
                index_local_data: {
                    category_part:{
                        list:[
                            {
                                icon_url:"/images/admin/shopDiy/icon-1@2x.png",
                                category_name:"分类一",
                            },
                            {
                                icon_url:"/images/admin/shopDiy/icon-2@2x.png",
                                category_name:"分类二",
                            },
                            {
                                icon_url:"/images/admin/shopDiy/icon-3@2x.png",
                                category_name:"分类三",
                            },
                            {
                                icon_url:"/images/admin/shopDiy/icon-4@2x.png",
                                category_name:"分类四",
                            }
                        ]
                    },
                    community_part:{
                        part_title:"小社群",
                        show_all:true,
                        list:[
                            {
                                feeds_count: 'XX',
                                member_count: 'XX',
                                img_url:"",
                                joinStatus:false,
                                title:"此处显示小社群名称"
                            },
                            {
                                feeds_count: 'XX',
                                member_count: 'XX',
                                img_url:"",
                                joinStatus:false,
                                title:"此处显示小社群名称"
                            }
                        ]
                    },
                    member_part:{
                        part_title: "频道",
                        show_all: true,
                        list: [
                            {
                                img_url_compressed: "/images/admin/shopDiy/icon-pic@2x.png",
                                //标题
                                name: "此处显示专栏/会员名称",
                                //简介
                                summary: "此处显示专栏/会员简介",
                                //是否是会员
                                is_member: 0,
                                //是否更新完
                                finished_state: 0,
                                //资源个数（0时不显示）
                                resource_count: 'X',
                                //购买人数（0时不显示）
                                purchase_count: "XX",
                                //会员未购买图标
                                member_icon_default: "http://wxresource-10011692.file.myqcloud.com/manual/icon_member_diamond_gray.png",
                                //会员购买图标
                                member_icon_highlight: "http://wxresource-10011692.file.myqcloud.com/manual/icon_member_diamond.png",
                                //购买相关信息
                                availableInfo: {
                                    //是否已购买
                                    available: false,
                                    //原价（元）
                                    raw_price: '',
                                    //最终购买价(元)显示价格，0时不显示
                                    price: '价格',
                                    //有效期
                                    period: "",
                                    //福利标签
                                    bonus_price_hint: ""
                                }
                            },
                            {
                                img_url_compressed: "/images/admin/shopDiy/icon-pic@2x.png",
                                //标题
                                name: "此处显示专栏/会员名称",
                                //简介
                                summary: "此处显示专栏/会员简介",
                                //是否是会员
                                is_member: 0,
                                //是否更新完
                                finished_state: 0,
                                //资源个数（0时不显示）
                                resource_count: 'X',
                                //购买人数（0时不显示）
                                purchase_count: "XX",
                                //会员未购买图标
                                member_icon_default: "http://wxresource-10011692.file.myqcloud.com/manual/icon_member_diamond_gray.png",
                                //会员购买图标
                                member_icon_highlight: "http://wxresource-10011692.file.myqcloud.com/manual/icon_member_diamond.png",
                                //购买相关信息
                                availableInfo: {
                                    //是否已购买
                                    available: false,
                                    //原价（元）
                                    raw_price: '',
                                    //最终购买价(元)显示价格，0时不显示
                                    price: '价格',
                                    //有效期
                                    period: "",
                                    //福利标签
                                    bonus_price_hint: ""
                                }
                            },
                            {
                                img_url_compressed: "/images/admin/shopDiy/icon-pic@2x.png",
                                //标题
                                name: "此处显示专栏/会员名称",
                                //简介
                                summary: "此处显示专栏/会员简介",
                                //是否是会员
                                is_member: 0,
                                //是否更新完
                                finished_state: 0,
                                //资源个数（0时不显示）
                                resource_count: 'X',
                                //购买人数（0时不显示）
                                purchase_count: "XX",
                                //会员未购买图标
                                member_icon_default: "http://wxresource-10011692.file.myqcloud.com/manual/icon_member_diamond_gray.png",
                                //会员购买图标
                                member_icon_highlight: "http://wxresource-10011692.file.myqcloud.com/manual/icon_member_diamond.png",
                                //购买相关信息
                                availableInfo: {
                                    //是否已购买
                                    available: false,
                                    //原价（元）
                                    raw_price: '',
                                    //最终购买价(元)显示价格，0时不显示
                                    price: '价格',
                                    //有效期
                                    period: "",
                                    //福利标签
                                    bonus_price_hint: ""
                                }
                            }
                        ]
                    },
                    alive_part:{
                        part_title:"直播",
                        show_all:true,
                        list:[
                            {
                                title: '此处显示直播名称',
                                alive_img_url:"",
                                //显示标签
                                start_tag:"直播时间",
                                //价格（元），为0则不显示
                                piece_price: '价格',
                                //是否已购买，true则不显示价格出来
                                available: false
                            },
                            {
                                title: '此处显示直播名称',
                                alive_img_url:"",
                                //显示标签
                                start_tag:"直播时间",
                                //价格（元），为0则不显示
                                piece_price: '价格',
                                //是否已购买，true则不显示价格出来
                                available: false
                            }
                        ]
                    },
                    question_part:{
                        part_title:"问答",
                        list:[
                            {
                                img_url_compressed: "",
                                title: "此处显示问答专区名称",
                                desc: "此处显示问答区简介",
                                total_num: "问题数量"
                            }
                        ]
                    },
                    recommend_part:{
                        part_title:"最新",
                        show_all:false,
                        list:[
                            {
                                //资源类型，1-图文，2-音频 3-视频 4-直播 5-活动（活动暂时不显示在首页）
                                srcType: 1,
                                //标题
                                title: "此处显示内容名称",
                                //略缩图
                                img_url_compressed: "",
                                //查看人数
                                view_count: "查看数量",
                                //评论人数
                                comment_count: "评论数量"
                            },
                            {
                                //资源类型，1-图文，2-音频 3-视频 4-直播 5-活动（活动暂时不显示在首页）
                                srcType: 2,
                                //标题
                                title: "此处显示内容名称",
                                //略缩图
                                img_url_compressed: "",
                                //查看人数
                                view_count: "查看数量",
                                //评论人数
                                comment_count: "评论数量"
                            },
                            {
                                //资源类型，1-图文，2-音频 3-视频 4-直播 5-活动（活动暂时不显示在首页）
                                srcType: 3,
                                //标题
                                title: "此处显示内容名称",
                                //略缩图
                                img_url_compressed: "",
                                //查看人数
                                view_count: "查看数量",
                                //评论人数
                                comment_count: "评论数量"
                            }
                        ]
                    },
                    activity_part:{
                        part_title:"活动",
                        show_all:true,
                        list:[
                            {
                                img_url_compressed:"",
                                start_at:"此处显示活动时间",
                                title:"此处显示活动名称"
                            }
                        ]
                    }
                }
            }
        },
        created:function () {
//            let that = this;
//            NetWork.request("load_diy_setting",{},function (data) {
//                if(parseInt(data.code) === 0){
//                    that.index_sort = data.data.index_sort;
//                    that.index_data = data.data.index_data;
//                }else{
//                    alert('load_diy_setting:请求错误！');
//                }
//            });
        },
        components: {
            index_part_drag,
            sidebar_part
        }
    }
</script>

<style>
    .app-design {
        width: 100%;
        background-color: #fff;
        overflow: hidden;
        padding-top: 30px;
        padding-left: 60px;
        padding-bottom: 70px;
    }
    .app-preview {
        position: relative;
        float: left;
        width: 375px;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        background: #fff;
    }
    .app-sidebar {
        position: relative;
        float: left;
        width: 580px;
        margin-left: 10px;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        background: #fff;
    }
</style>