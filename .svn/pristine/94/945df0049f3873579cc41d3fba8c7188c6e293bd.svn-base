var cos=new InitCosCloud;var params={};var file=null,imgUrl=null;$(document).ready(function(){picHandle();$("#save").click(function(){params["wx_share_title"]=$.trim($("#wx_share_title").val());if(params["wx_share_title"].length==0){baseUtils.show.redTip("亲,请输入分享标题哦");return false}params["wx_share_content"]=$.trim($("#wx_share_content").val());if(params["wx_share_content"].length==0){baseUtils.show.redTip("亲,请输入分享描述哦");return false}if($("#reBackImg").attr("src")==undefined){baseUtils.show.redTip("亲,请设置分享配图哦");return false}showLoading();uploadShareImage()})});function picHandle(){$("#uploadImage").change(function(){var e=this.files[0];if(e){file=e;imgUrl=getObjectURL(e);$("#reBackImg").prop("src",imgUrl)}})}function getObjectURL(e){var i=null;if(window.createObjectURL!=undefined){i=window.createObjectURL(e)}else if(window.URL!=undefined){i=window.URL.createObjectURL(e)}else if(window.webkitURL!=undefined){i=window.webkitURL.createObjectURL(e)}return i}function removeObjectURL(e){if(window.revokeObjectURL!=undefined){window.revokeObjectURL(e)}else if(window.URL!=undefined){window.URL.revokeObjectURL(e)}else if(window.webkitURL!=undefined){window.webkitURL.revokeObjectURL(e)}}function getSuffix(e){var i=e.split(".");return i[i.length-1]}function uploadShareImage(){if(imgUrl){removeObjectURL(imgUrl);imgUrl=null;browserMD5File(file,function(e,i){var n=get_cos_image_path()+i+"."+getSuffix(file["name"]);cos.uploadFileWithoutPro(function(e){params["wx_share_image"]=e.data.access_url;updateShareInfo()},function(e){baseUtils.show.redTip("上传失败!")},n,file,0)})}else{updateShareInfo()}}function updateShareInfo(){$.post("/updateshareinfo",{params:params},function(e){hideLoading();if(e.code==0){baseUtils.show.blueTip(e.msg,function(){window.location.reload()})}else{baseUtils.show.redTip(e.msg)}})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL3NoYXJlU2V0dGluZy5qcyJdLCJuYW1lcyI6WyJjb3MiLCJJbml0Q29zQ2xvdWQiLCJwYXJhbXMiLCJmaWxlIiwiaW1nVXJsIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJwaWNIYW5kbGUiLCJjbGljayIsInRyaW0iLCJ2YWwiLCJsZW5ndGgiLCJiYXNlVXRpbHMiLCJzaG93IiwicmVkVGlwIiwiYXR0ciIsInVuZGVmaW5lZCIsInNob3dMb2FkaW5nIiwidXBsb2FkU2hhcmVJbWFnZSIsImNoYW5nZSIsIm5ld0ZpbGUiLCJ0aGlzIiwiZmlsZXMiLCJnZXRPYmplY3RVUkwiLCJwcm9wIiwidXJsIiwid2luZG93IiwiY3JlYXRlT2JqZWN0VVJMIiwiVVJMIiwid2Via2l0VVJMIiwicmVtb3ZlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiZ2V0U3VmZml4IiwiZmlsZW5hbWUiLCJuYW1lcyIsInNwbGl0IiwiYnJvd3Nlck1ENUZpbGUiLCJlcnIiLCJtZDUiLCJyZW1vdGVQYXRoIiwiZ2V0X2Nvc19pbWFnZV9wYXRoIiwidXBsb2FkRmlsZVdpdGhvdXRQcm8iLCJyZXN1bHQiLCJkYXRhIiwiYWNjZXNzX3VybCIsInVwZGF0ZVNoYXJlSW5mbyIsInBvc3QiLCJoaWRlTG9hZGluZyIsImNvZGUiLCJibHVlVGlwIiwibXNnIiwibG9jYXRpb24iLCJyZWxvYWQiXSwibWFwcGluZ3MiOiJBQU1BLEdBQUlBLEtBQU0sR0FBSUMsYUFDZCxJQUFJQyxVQUNKLElBQUlDLE1BQU8sS0FBTUMsT0FBUyxJQUMxQkMsR0FBRUMsVUFBVUMsTUFBTSxXQUNkQyxXQUdBSCxHQUFFLFNBQVNJLE1BQU0sV0FHYlAsT0FBTyxrQkFBa0JHLEVBQUVLLEtBQU1MLEVBQUUsbUJBQW1CTSxNQUN0RCxJQUFHVCxPQUFPLGtCQUFrQlUsUUFBUSxFQUNwQyxDQUNJQyxVQUFVQyxLQUFLQyxPQUFPLGFBQ3RCLE9BQU8sT0FJWGIsT0FBTyxvQkFBb0JHLEVBQUVLLEtBQU1MLEVBQUUscUJBQXFCTSxNQUMxRCxJQUFHVCxPQUFPLG9CQUFvQlUsUUFBUSxFQUN0QyxDQUNJQyxVQUFVQyxLQUFLQyxPQUFPLGFBQ3RCLE9BQU8sT0FJWCxHQUFJVixFQUFFLGNBQWNXLEtBQUssUUFBUUMsVUFDakMsQ0FDSUosVUFBVUMsS0FBS0MsT0FBTyxhQUN0QixPQUFPLE9BVVhHLGFBQ0FDLHVCQU1SLFNBQVNYLGFBRUxILEVBQUUsZ0JBQWdCZSxPQUFPLFdBSXJCLEdBQUlDLEdBQVVDLEtBQUtDLE1BQU0sRUFDekIsSUFBR0YsRUFBUSxDQUNQbEIsS0FBT2tCLENBQ1BqQixRQUFTb0IsYUFBYUgsRUFDdEJoQixHQUFFLGNBQWNvQixLQUFLLE1BQU9yQixXQTBCeEMsUUFBU29CLGNBQWFyQixHQUNsQixHQUFJdUIsR0FBTSxJQUNWLElBQUlDLE9BQU9DLGlCQUFtQlgsVUFDOUIsQ0FDSVMsRUFBTUMsT0FBT0MsZ0JBQWdCekIsT0FFNUIsSUFBSXdCLE9BQU9FLEtBQU9aLFVBQ3ZCLENBQ0lTLEVBQU1DLE9BQU9FLElBQUlELGdCQUFnQnpCLE9BRWhDLElBQUl3QixPQUFPRyxXQUFhYixVQUM3QixDQUNJUyxFQUFNQyxPQUFPRyxVQUFVRixnQkFBZ0J6QixHQUUzQyxNQUFPdUIsR0FFWCxRQUFTSyxpQkFBZ0JMLEdBQ3JCLEdBQUlDLE9BQU9LLGlCQUFtQmYsVUFBVyxDQUNyQ1UsT0FBT0ssZ0JBQWdCTixPQUNwQixJQUFJQyxPQUFPRSxLQUFPWixVQUFXLENBQ2hDVSxPQUFPRSxJQUFJRyxnQkFBZ0JOLE9BQ3hCLElBQUlDLE9BQU9HLFdBQWFiLFVBQVcsQ0FDdENVLE9BQU9HLFVBQVVFLGdCQUFnQk4sSUFLekMsUUFBU08sV0FBVUMsR0FDZixHQUFJQyxHQUFRRCxFQUFTRSxNQUFNLElBQzNCLE9BQU9ELEdBQU1BLEVBQU12QixPQUFTLEdBSWhDLFFBQVNPLG9CQW1CTCxHQUFJZixPQUFTLENBQ1QyQixnQkFBZ0IzQixPQUNoQkEsUUFBUyxJQUNUaUMsZ0JBQWVsQyxLQUFLLFNBQVNtQyxFQUFJQyxHQUM3QixHQUFJQyxHQUFhQyxxQkFBdUJGLEVBQU0sSUFBTU4sVUFBVTlCLEtBQUssUUFDbkVILEtBQUkwQyxxQkFBcUIsU0FBVUMsR0FDL0J6QyxPQUFPLGtCQUFrQnlDLEVBQU9DLEtBQUtDLFVBQ3JDQyxvQkFDRixTQUFVSCxHQUNSOUIsVUFBVUMsS0FBS0MsT0FBTyxVQUN2QnlCLEVBQVlyQyxLQUFNLFNBRXRCLENBQ0gyQyxtQkErQlIsUUFBU0EsbUJBQ0x6QyxFQUFFMEMsS0FBSyxvQkFBb0I3QyxPQUFTQSxRQUFRLFNBQVMwQyxHQUNqREksYUFDQSxJQUFHSixFQUFLSyxNQUFNLEVBQUcsQ0FDYnBDLFVBQVVDLEtBQUtvQyxRQUFRTixFQUFLTyxJQUFJLFdBRTVCeEIsT0FBT3lCLFNBQVNDLGVBRWpCLENBQ0h4QyxVQUFVQyxLQUFLQyxPQUFPNkIsRUFBS08iLCJmaWxlIjoiYWRtaW4vc2hhcmVTZXR0aW5nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgU3R1cGhpbiBvbiAyMDE2LzkvMjYuXHJcbiAqL1xyXG4vL+iFvuiur+S6kei1hOa6kFxyXG4vL3ZhciBidWNrZXROYW1lID0gd2luZG93LmNvc19idWNrZXRfbmFtZTtcclxuLy92YXIgY29zID0gbmV3IENvc0Nsb3VkKHdpbmRvdy5jb3NfYXBwX2lkKTtcclxudmFyIGNvcyA9IG5ldyBJbml0Q29zQ2xvdWQoKTtcclxudmFyIHBhcmFtcz17fTtcclxudmFyIGZpbGUgPSBudWxsLCBpbWdVcmwgPSBudWxsO1xyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgIHBpY0hhbmRsZSgpO1xyXG5cclxuICAgIC8v54K55Ye75L+d5a2YXHJcbiAgICAkKFwiI3NhdmVcIikuY2xpY2soZnVuY3Rpb24oKVxyXG4gICAge1xyXG4gICAgICAgIC8v5qCH6aKYXHJcbiAgICAgICAgcGFyYW1zWyd3eF9zaGFyZV90aXRsZSddPSQudHJpbSggJChcIiN3eF9zaGFyZV90aXRsZVwiKS52YWwoKSApO1xyXG4gICAgICAgIGlmKHBhcmFtc1snd3hfc2hhcmVfdGl0bGUnXS5sZW5ndGg9PTApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkurIs6K+36L6T5YWl5YiG5Lqr5qCH6aKY5ZOmXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+aPj+i/sFxyXG4gICAgICAgIHBhcmFtc1snd3hfc2hhcmVfY29udGVudCddPSQudHJpbSggJChcIiN3eF9zaGFyZV9jb250ZW50XCIpLnZhbCgpICk7XHJcbiAgICAgICAgaWYocGFyYW1zWyd3eF9zaGFyZV9jb250ZW50J10ubGVuZ3RoPT0wKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LqyLOivt+i+k+WFpeWIhuS6q+aPj+i/sOWTplwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/mmK/lkKblrZjlnKjliIbkuqvphY3lm75cclxuICAgICAgICBpZiggJChcIiNyZUJhY2tJbWdcIikuYXR0cihcInNyY1wiKT09dW5kZWZpbmVkIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS6sizor7forr7nva7liIbkuqvphY3lm77lk6ZcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5piv5ZCm5a2Y5Zyo5YiG5Lqr5LqM57u056CBXHJcbiAgICAgICAgLy9pZiggJChcIi5waWNTaG93XCIpLmVxKDEpLmF0dHIoXCJzcmNcIik9PXVuZGVmaW5lZCB8fCAkKFwiLnBpY1Nob3dcIikuZXEoMSkuYXR0cihcInNyY1wiKS5sZW5ndGg9PTAgKVxyXG4gICAgICAgIC8ve1xyXG4gICAgICAgIC8vICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS6sizor7forr7nva7liIbkuqvkuoznu7TnoIHlk6ZcIik7XHJcbiAgICAgICAgLy8gICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vfVxyXG5cclxuICAgICAgICBzaG93TG9hZGluZygpO1xyXG4gICAgICAgIHVwbG9hZFNoYXJlSW1hZ2UoKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcblxyXG4vL+WbvueJh+WkhOeQhuWHveaVsFxyXG5mdW5jdGlvbiBwaWNIYW5kbGUoKSB7XHJcbiAgICAvL+WbnuaYvuWbvueJh1xyXG4gICAgJChcIiN1cGxvYWRJbWFnZVwiKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLyp2YXIgc3JjPWdldE9iamVjdFVSTCh0aGlzLmZpbGVzWzBdKTtcclxuICAgICAgICAkKCcjcmVCYWNrSW1nJykucHJvcCgnc3JjJyxzcmMpOyovXHJcblxyXG4gICAgICAgIHZhciBuZXdGaWxlID0gdGhpcy5maWxlc1swXTtcclxuICAgICAgICBpZihuZXdGaWxlKXtcclxuICAgICAgICAgICAgZmlsZSA9IG5ld0ZpbGU7XHJcbiAgICAgICAgICAgIGltZ1VybCA9IGdldE9iamVjdFVSTChuZXdGaWxlKTtcclxuICAgICAgICAgICAgJCgnI3JlQmFja0ltZycpLnByb3AoJ3NyYycsIGltZ1VybCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vICQoXCIjd3hfcXJfdXJsXCIpLmNoYW5nZShmdW5jdGlvbigpXHJcbiAgICAvLyB7XHJcbiAgICAvLyAgICAgdmFyIHNyYz1nZXRPYmplY3RVUkwodGhpcy5maWxlc1swXSk7XHJcbiAgICAvLyAgICAgJCh0aGlzKS5uZXh0QWxsKCkuZXEoMCkucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgIC8vICAgICAkKHRoaXMpLm5leHRBbGwoKS5lcSgxKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgLy8gICAgICQodGhpcykubmV4dEFsbCgpLmVxKDIpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAvLyAgICAgJCh0aGlzKS5uZXh0QWxsKCkuZXEoMikuYXR0cignc3JjJyxzcmMpO1xyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgLy/lhbPpl63lm77niYdcclxuICAgIC8qJChcIi5waWNDbG9zZVwiKS5jbGljayhmdW5jdGlvbigpXHJcbiAgICB7XHJcbiAgICAgICAgJCh0aGlzKS5wcmV2KCkudmFsKCcnKTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0QWxsKCkuZXEoMCkucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAkKHRoaXMpLm5leHRBbGwoKS5lcSgxKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICQodGhpcykubmV4dEFsbCgpLmVxKDEpLmF0dHIoXCJzcmNcIixcIlwiKTtcclxuICAgIH0pOyovXHJcbn1cclxuXHJcbi8v6I635Y+W5LiK5Lyg5paH5Lu255qEdXJsXHJcbmZ1bmN0aW9uIGdldE9iamVjdFVSTChmaWxlKXtcclxuICAgIHZhciB1cmwgPSBudWxsO1xyXG4gICAgaWYgKHdpbmRvdy5jcmVhdGVPYmplY3RVUkwgIT0gdW5kZWZpbmVkKVxyXG4gICAge1xyXG4gICAgICAgIHVybCA9IHdpbmRvdy5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh3aW5kb3cuVVJMICE9IHVuZGVmaW5lZClcclxuICAgIHtcclxuICAgICAgICB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHdpbmRvdy53ZWJraXRVUkwgIT0gdW5kZWZpbmVkKVxyXG4gICAge1xyXG4gICAgICAgIHVybCA9IHdpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVybDtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVPYmplY3RVUkwodXJsKSB7Ly/ph4rmlL7otYTmupBVUkxcclxuICAgIGlmICh3aW5kb3cucmV2b2tlT2JqZWN0VVJMICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHdpbmRvdy5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgIH0gZWxzZSBpZiAod2luZG93LlVSTCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG4gICAgfSBlbHNlIGlmICh3aW5kb3cud2Via2l0VVJMICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHdpbmRvdy53ZWJraXRVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v6I635Y+W5paH5Lu255qE5ZCO57yA5ZCNXHJcbmZ1bmN0aW9uIGdldFN1ZmZpeChmaWxlbmFtZSl7XHJcbiAgICB2YXIgbmFtZXMgPSBmaWxlbmFtZS5zcGxpdCgnLicpO1xyXG4gICAgcmV0dXJuIG5hbWVzW25hbWVzLmxlbmd0aCAtIDFdO1xyXG59XHJcblxyXG4vL+S4iuS8oOWIhuS6q+WbvlxyXG5mdW5jdGlvbiB1cGxvYWRTaGFyZUltYWdlKCl7XHJcbiAgICAvKnZhciB3eF9zaGFyZV9pbWFnZT0kKCcjdXBsb2FkSW1hZ2UnKS5wcm9wKCdmaWxlcycpO1xyXG4gICAgaWYod3hfc2hhcmVfaW1hZ2UubGVuZ3RoPT0wKXsvL+ayoeS/ruaUueWIhuS6q+Wbviznm7TmjqXkuIrkvKBcclxuICAgICAgICAvL3VwbG9hZFFyQ29kZSgpO1xyXG4gICAgICAgIHVwZGF0ZVNoYXJlSW5mbygpO1xyXG4gICAgfSBlbHNlIHsvL+S/ruaUuei/h+WIhuS6q+WbvizlhYjkuIrkvKBcclxuICAgICAgICBicm93c2VyTUQ1RmlsZSh3eF9zaGFyZV9pbWFnZVswXSxmdW5jdGlvbihlcnIsbWQ1KSB7XHJcbiAgICAgICAgICAgIHZhciByZW1vdGVQYXRoID0gZ2V0X2Nvc19pbWFnZV9wYXRoKCkgKyBtZDUgKyBcIi5cIiArIGdldFN1ZmZpeCh3eF9zaGFyZV9pbWFnZVswXVsnbmFtZSddKTtcclxuICAgICAgICAgICAgY29zLnVwbG9hZEZpbGVXaXRob3V0UHJvKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIC8vcGFyYW1zWyd3eF9zaGFyZV9pbWFnZSddPSQucGFyc2VKU09OKHJlc3VsdCkuZGF0YS5hY2Nlc3NfdXJsO1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zWyd3eF9zaGFyZV9pbWFnZSddPXJlc3VsdC5kYXRhLmFjY2Vzc191cmw7XHJcbiAgICAgICAgICAgICAgICAvL3VwbG9hZFFyQ29kZSgpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlU2hhcmVJbmZvKCk7XHJcbiAgICAgICAgICAgIH0sZnVuY3Rpb24gKHJlc3VsdCl7ICAgICAvL+Wksei0peWbnuiwg1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiK5Lyg5aSx6LSlIVwiKTtcclxuICAgICAgICAgICAgfSwgcmVtb3RlUGF0aCwgd3hfc2hhcmVfaW1hZ2VbMF0sMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9Ki9cclxuXHJcbiAgICBpZiggaW1nVXJsICkge1xyXG4gICAgICAgIHJlbW92ZU9iamVjdFVSTChpbWdVcmwpO1xyXG4gICAgICAgIGltZ1VybCA9IG51bGw7XHJcbiAgICAgICAgYnJvd3Nlck1ENUZpbGUoZmlsZSxmdW5jdGlvbihlcnIsbWQ1KSB7XHJcbiAgICAgICAgICAgIHZhciByZW1vdGVQYXRoID0gZ2V0X2Nvc19pbWFnZV9wYXRoKCkgKyBtZDUgKyBcIi5cIiArIGdldFN1ZmZpeChmaWxlWyduYW1lJ10pO1xyXG4gICAgICAgICAgICBjb3MudXBsb2FkRmlsZVdpdGhvdXRQcm8oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zWyd3eF9zaGFyZV9pbWFnZSddPXJlc3VsdC5kYXRhLmFjY2Vzc191cmw7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVTaGFyZUluZm8oKTtcclxuICAgICAgICAgICAgfSxmdW5jdGlvbiAocmVzdWx0KXsgICAgIC8v5aSx6LSl5Zue6LCDXHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkuIrkvKDlpLHotKUhXCIpO1xyXG4gICAgICAgICAgICB9LCByZW1vdGVQYXRoLCBmaWxlLCAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdXBkYXRlU2hhcmVJbmZvKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v5LiK5Lyg5LqM57u056CBXHJcbi8qZnVuY3Rpb24gdXBsb2FkUXJDb2RlKClcclxue1xyXG4gICAgdmFyIHd4X3FyX3VybCA9ICQoJyN3eF9xcl91cmwnKS5wcm9wKCdmaWxlcycpO1xyXG4gICAgaWYod3hfcXJfdXJsLmxlbmd0aD09MCkvL+ayoeS/ruaUueS6jOe7tOeggSzlsLHmm7TmlrDkuKTkuKrlrZfmrrVcclxuICAgIHtcclxuICAgICAgICB1cGRhdGVTaGFyZUluZm8oKTtcclxuICAgIH1cclxuICAgIGVsc2UgLy/kv67mlLnov4fliIbkuqvlm74s5YWI5LiK5LygXHJcbiAgICB7XHJcbiAgICAgICAgYnJvd3Nlck1ENUZpbGUod3hfcXJfdXJsWzBdLGZ1bmN0aW9uKGVycixtZDUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgcmVtb3RlUGF0aCA9IGdldF9jb3NfaW1hZ2VfcGF0aCgpICsgbWQ1ICsgXCIuXCIgKyBnZXRTdWZmaXgod3hfcXJfdXJsWzBdWyduYW1lJ10pO1xyXG4gICAgICAgICAgICBjb3MudXBsb2FkRmlsZVdpdGhvdXRQcm8oZnVuY3Rpb24gKHJlc3VsdClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy9wYXJhbXNbJ3d4X3FyX3VybCddPSQucGFyc2VKU09OKHJlc3VsdCkuZGF0YS5hY2Nlc3NfdXJsO1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zWyd3eF9xcl91cmwnXT1yZXN1bHQuZGF0YS5hY2Nlc3NfdXJsO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlU2hhcmVJbmZvKCk7XHJcbiAgICAgICAgICAgIH0sZnVuY3Rpb24gKHJlc3VsdCkgICAgIC8v5aSx6LSl5Zue6LCDXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS4iuS8oOWksei0pSFcIik7XHJcbiAgICAgICAgICAgIH0sIHJlbW90ZVBhdGgsIHd4X3FyX3VybFswXSwwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSovXHJcblxyXG4vL+abtOaWsOWIhuS6q+S/oeaBr1xyXG5mdW5jdGlvbiB1cGRhdGVTaGFyZUluZm8oKXtcclxuICAgICQucG9zdChcIi91cGRhdGVzaGFyZWluZm9cIix7XCJwYXJhbXNcIjpwYXJhbXN9LGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgIGlmKGRhdGEuY29kZT09MCkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnLGZ1bmN0aW9uKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuIl19
