$(document).ready(function(){QADetail.init()});var resAudio1Length=-1,resAudioSize=-1;var QADetail=function(){var e={};e.tabState="questionList";e.pageIndex=1;e.searchAnswererContent="";e.searchAnswererState="";e.searchQuestionContent="";e.timeInterval={startDate:"",endDate:""};e.init=function(){var a=GetQueryString("set");if(a=="answerer")location.href="/QA/questionAndAnswerDetail?page_type=1";var i=GetQueryString("page_type");if(i==1){e.tabState="responderList"}else{e.tabState="questionList"}var n=$("#admin_data").data("code_url");t(n);modal.handleSearch();modal.initDetailOperate();modal.initContentTab();modal.initListPagination();modal.initPaginationEvent();modal.initQuestionOperate();modal.initResponderOperate();modal.initSettingOperate();modal.handleInviteAnswererWindow();modal.handleScanQuestionWindow()};function t(e){var t=new QRCode(document.getElementById("qr_code"),{text:e,width:120,height:120,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H});create_qr_flag=false}return e}();var modal=function(){var e={};e.questionId=-1;e.submitLimit=false;e.isAudioUploading=false;e.initDetailOperate=function(){$(".detailOperateArea li.operate").click(function(){var e=$(this).data("type");var t=$(this).data("state")==1?0:1;var a=$("#product_id").val();switch(e){case"editQA":window.location.href="/QA/editQuestionAndAnswer?id="+a;break;case"changeQAState":$.ajax("/QA/changeStateQueProducts",{type:"POST",dataType:"json",data:{id:a,state:t},success:function(e){if(e.code==0){if(t==1){baseUtils.show.blueTip("已下架，问答专区将不在首页显示")}else{baseUtils.show.blueTip("已上架，问答专区将在首页显示")}window.location.href="/QA/questionAndAnswerDetail"}else{baseUtils.show.redTip("网络错误，请稍后再试！")}},error:function(e,t,a){console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}});break;default:console.log("参数错误.");break}});(function(){var e=new Clipboard(".QA_DetailUrl");e.on("success",function(e){baseUtils.show.blueTip("复制成功！请在微信内打开哦 。");e.clearSelection()})})()};e.initContentTab=function(){$(".contentTabWrapper li").click(function(){var t=$(this).val();if(!$(this).hasClass("activeContentTab")){if(t==1){$("#responderTab").addClass("activeContentTab");$("#questionTab").removeClass("activeContentTab");$("#settingTab").removeClass("activeContentTab")}else if(t==0){$("#questionTab").addClass("activeContentTab");$("#responderTab").removeClass("activeContentTab");$("#settingTab").removeClass("activeContentTab")}else if(t==2){$("#settingTab").addClass("activeContentTab");$("#questionTab").removeClass("activeContentTab");$("#responderTab").removeClass("activeContentTab")}}QADetail.pageIndex=1;QADetail.searchAnswererContent="";QADetail.searchAnswererState="";QADetail.searchQuestionContent="";$("#searchAnswererInput").val("");$("#answererIsShow").val("");$("#searchQuestionInput").val("");$("#SelectData").text("全部问题");if(t==1){QADetail.tabState="responderList";history.replaceState(null,"","/QA/questionAndAnswerDetail?page_type=1");e.getResponderList(true,true)}else if(t==0){QADetail.tabState="questionList";history.replaceState(null,"","/QA/questionAndAnswerDetail?page_type=0");e.getQuestionList(true,true)}else if(t==2){QADetail.tabState="settingTab";history.replaceState(null,"","/QA/questionAndAnswerDetail?page_type=2");e.getSettingPage()}})};e.getResponderList=function(t,a){if(t==undefined||t==true){$(".loadingS").fadeIn(300)}$.ajax("/QA/getResponderList",{type:"GET",dataType:"html",data:{search:QADetail.searchAnswererContent,state:QADetail.searchAnswererState,page:QADetail.pageIndex},success:function(t){$(".loadingS").fadeOut(100);if(t&&t.length>0){$(".mainListContent").html(t);e.initListPagination();if(a){$(".listOperateArea").show();$(".questionListOperate").hide();$(".responderListOperate").fadeIn(300)}}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}})};e.getQuestionList=function(t,a){if(t==undefined||t==true){$(".loadingS").fadeIn(300)}var i=$("#SelectData").text();if(i=="全部问题"){i=""}$.ajax("/QA/getQuestionList",{type:"GET",dataType:"html",data:{search:QADetail.searchQuestionContent,time1:i,page:QADetail.pageIndex},success:function(t){$(".loadingS").fadeOut(100);if(t&&t.length>0){$(".mainListContent").html(t);e.initListPagination();if(a){$(".listOperateArea").show();$(".responderListOperate").hide();$(".questionListOperate").fadeIn(300)}}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}})};e.getSettingPage=function(){$(".loadingS").fadeIn(300);$.ajax("/QA/getSettingPage",{type:"GET",dataType:"html",data:{},success:function(e){$(".loadingS").fadeOut(100);if(e&&e.length>0){$(".mainListContent").html(e);$(".listOperateArea").hide()}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})};e.initQuestionOperate=function(){$(".mainListContent").on("click",".questionListOperateArea li.operate",function(){var t=$(this).data("id");var a=$(this).data("state")==1?0:1;var i=$(this).data("type");switch(i){case"answerQuestion":e.handAnswerQuestion(t);break;case"answerQueAgain":$.alert("确认上传音频并重新回答，确认后新的回答内容将覆盖原内容，且该动作无法撤回。","info",{btn:3,onOk:function(){e.handAnswerQuestion(t)}});break;case"lookQuestion":$("#scanQueWindowContent").text("");$("#scanQueImgWrapper").html("");var n=$(this).data("content");$("#scanQueWindowContent").text(n);var o=$(this).data("imgs");if(o.length>0){var s="";o.forEach(function(e){s+='<img src="'+e+'">'});$("#scanQueImgWrapper").html(s)}$(".scanQuestionWindowBg").fadeIn(300);break;case"changeQuestionState":$(".loadingS").fadeIn(300);$.ajax("/QA/changeQuestionState",{type:"POST",dataType:"json",data:{state:a,question_id:t},success:function(t){if(t.code==0){if(a==1){baseUtils.show.blueTip("操作成功，问题将不在问答专区展示")}else{baseUtils.show.blueTip("操作成功，问题将在问答专区展示")}e.getQuestionList(false)}else{$(".loadingS").fadeOut(100);baseUtils.show.redTip("网络错误，请稍后再试！")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}});break;default:console.log("参数错误.");break}});$("#selectAudioFile").click(function(){$("#uploadAudioFile").click()});$(".closeUploadFileWindow, #cancelUploadAudio").click(function(){$(".uploadFileWindowBg").fadeOut(300)});$("#uploadAudioFile").on("change",function(){o(this.files,"audio","Audio1",1e3)});$("#confirmUploadAudio").click(function(){var t=$("#uploadAudioUrl").val();if(e.isAudioUploading){baseUtils.show.redTip("音频文件正在上传中...");return false}if(t.length==0){baseUtils.show.redTip("请先上传音频文件.");return false}if(e.submitLimit){console.log("音频提交中，请稍后再试。");return false}e.submitLimit=true;$.ajax("/QA/commitAnswer",{type:"POST",dataType:"json",data:{id:e.questionId,answerer_size:resAudioSize,answerer_length:resAudio1Length,answerer_content:t},success:function(t){e.submitLimit=false;if(t.code==0){baseUtils.show.blueTip("音频文件提交成功。");$(".uploadFileWindowBg").fadeOut(300);e.getQuestionList(true)}else{baseUtils.show.redTip(t.msg);console.log(t.msg)}},error:function(t,a,i){e.submitLimit=false;console.log(i);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})})};e.initResponderOperate=function(){$(".mainListContent").on("click",".responderListOperateArea li.operate",function(){var t=$(this).data("state");var a=$(this).data("id");var i=$(this).data("type");switch(i){case"editResponderInfo":window.location.href="/QA/editAnswerer?answerer_id="+a+"&state="+t;break;case"changeResponderState":$(".loadingS").fadeIn(300);t=t==1?0:1;$.ajax("/QA/changeAnswererState",{type:"POST",dataType:"json",data:{answerer_id:a,state:t},success:function(a){if(a.code==0){if(t==1){baseUtils.show.blueTip("答主下线成功")}else{baseUtils.show.blueTip("答主上线成功")}e.getResponderList(false)}else if(a.code==2){$(".loadingS").fadeOut(100);baseUtils.show.redTip("请您先填写答主信息 才能上线答主！");return false}else{$(".loadingS").fadeOut(100);baseUtils.show.redTip("网络错误，请稍后再试！");return false}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}});break;default:console.log("参数错误.");break}})};e.initSettingOperate=function(){$(".mainListContent").on("change","input[type=radio]",function(e){var t=e.target.id,a=$("input[name=isShowListen]:checked").val(),i=$("input[name=isSmsRemind]:checked").val();$.ajax("/QA/commitSetting",{type:"POST",dataType:"json",data:{params:{isShowListen:a,isSmsRemind:i}},success:function(e){if(e.code==0){var a="";switch(t){case"openEavesdrop":a="问题页已显示偷听人数";break;case"closeEavesdrop":a="问题页已隐藏偷听人数";break;case"openSmsRemind":a="短信提醒已开启";break;case"closeSmsRemind":a="短信提醒已关闭";break;default:console.log("参数错误。");break}baseUtils.show.blueTip(a)}else{baseUtils.show.redTip("保存失败");window.location.reload()}},error:function(e,t,a){console.log(a);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})})};e.handleInviteAnswererWindow=function(){$("#inviteResponder").click(function(){$(".scanQrCodeWindowBg").fadeIn(300)});$(".closeScanQrCodeWindow img").click(function(){$(".scanQrCodeWindowBg").fadeOut(300)});(function(){var e=new Clipboard(".copyHref");e.on("success",function(e){baseUtils.show.blueTip("复制成功！请在微信内打开哦 。");e.clearSelection();setTimeout(function(){$(".scanQrCodeWindowBg").fadeOut(100)},2e3)})})()};e.handleScanQuestionWindow=function(){$(".closeQuestionDetailWindow, .scanQuestionWindowBg").click(function(){$(".scanQuestionWindowBg").fadeOut(100)});$(".scanQuestionWindow").click(function(e){e.stopPropagation()})};e.initListPagination=function(){$(".list-page .pagination li a").each(function(){var e=$(this);e.attr("data-url",e.attr("href"));e.removeAttr("href")})};e.initPaginationEvent=function(){$(".mainListContent").on("click"," .pagination li a",function(t){var a=$(t.target),i=a.data("url");var n=i.indexOf("page");QADetail.pageIndex=i.substring(n+5);if(QADetail.tabState=="questionList"){e.getQuestionList(true)}else if(QADetail.tabState=="responderList"){e.getResponderList(true)}})};e.handleSearch=function(){var a=new pickerDateRange("SelectData",{isTodayValid:true,defaultText:" ~ ",inputTrigger:"optional",theme:"ta",success:function(e){t(e);$("#searchQuestion").click()}});$("#SelectRange").on("click","li",function(){var e=$(this).data("type");var a=-1;switch(e){case"all":a={startDate:"",endDate:""};break;case"current_month":a={startDate:getNowMonth(),endDate:getNowDay()};break;case"last_seven":a={startDate:getOneDay(6),endDate:getNowDay()};break;case"last_month":a={startDate:getOneDay(29),endDate:getNowDay()};break}t(a);$("#searchQuestion").click()});$("#optional").click(function(){$("#dropdown-toggle").dropdown("toggle")});$("#SelectData").off("click").text("全部问题");$("#searchQuestion").click(function(){QADetail.pageIndex=1;QADetail.searchQuestionContent=$("#searchQuestionInput").val();e.getQuestionList(true)});$("#searchQuestionInput").on("keypress",function(e){if(e.keyCode==13){$("#searchQuestion").click()}});$("#searchAnswerer").click(function(){QADetail.pageIndex=1;QADetail.searchAnswererContent=$("#searchAnswererInput").val();QADetail.searchAnswererState=$("#answererIsShow").val();e.getResponderList(true)});$("#answererIsShow").on("change",function(){$("#searchAnswerer").click()});$("#searchAnswererInput").on("keypress",function(e){if(e.keyCode==13){$("#searchAnswerer").click()}})};e.handAnswerQuestion=function(t){$(".uploadAudio1Name").html("");$(".uploadAudio1Size span").html("");$(".uploadPLineActiveAudio1").css("width","0");$(".uploadPersentAudio1").text("");$(".uploadPLineAudio1").hide();$(".uploadBoxAudio1").hide();$("#uploadAudioUrl").val("");e.questionId=t;$(".uploadFileWindowBg").fadeIn(100)};function t(e){if(e.startDate==""&&e.endDate==""){$("#SelectData").text("全部问题")}else{$("#SelectData").text(e.startDate+" ~ "+e.endDate)}QADetail.timeInterval.startDate=e.startDate;QADetail.timeInterval.endDate=e.endDate}function a(e){var t=$(".contentTabWrapper>li.activeContentTab").val();if(t==1&&e=="responderTab"||t==0&&e=="questionTab"){return false}if(e=="questionTab"){$("#questionTab").addClass("activeContentTab");$("#responderTab").removeClass("activeContentTab")}else if(e=="responderTab"){$("#responderTab").addClass("activeContentTab");$("#questionTab").removeClass("activeContentTab")}}function i(e){var t=null;if(window.createObjectURL!=undefined){t=window.createObjectURL(e)}else if(window.URL!=undefined){t=window.URL.createObjectURL(e)}else if(window.webkitURL!=undefined){t=window.webkitURL.createObjectURL(e)}return t}function n(e){if(window.revokeObjectURL!=undefined){window.revokeObjectURL(e)}else if(window.URL!=undefined){window.URL.revokeObjectURL(e)}else if(window.webkitURL!=undefined){window.webkitURL.revokeObjectURL(e)}}function o(t,a,o,s){if(t&&t.length>0){var r=t[0];var l=i(r);var d=(r.size/(1024*1024)).toFixed(2);resAudioSize=d;if(o=="Audio1"){fileAudio1Size=d;var c=document.getElementById("resourceTime");c.src=l;c.onload=function(){n(l)}}if(a=="audio"){console.log($("#audioURL"+o));$("#audioURL"+o).hide();$(".uploadBox"+o).fadeIn(300);$(".upload"+o+"Name").html(r.name);$(".upload"+o+"Size span").html(d);$(".uploadPLine"+o).show().find(".uploadPLineActive"+o).css("width","0");$(".uploadPersent"+o).html("");if(o=="Audio1"){var u=r.name}}if($uploadFile.checkFileSize(r,s)){e.isAudioUploading=true;$uploadFile.uploadRes(r,a,function(e){if(a=="audio"){var t=parseInt(e*100);$(".uploadPLineActive"+o).css("width",t+"%");$(".uploadPersent"+o).text(t+"%")}},function(t){e.isAudioUploading=false;console.log(t);baseUtils.show.blueTip("上传成功！");$(".uploadPersent"+o).text("已上传");var a=t.data.access_url;$("#uploadAudioUrl").val(a)},function(t){e.isAudioUploading=false;console.error("上传失败!!!");console.log(t);baseUtils.show.redTip("上传失败！")})}else{baseUtils.show.redTip("上传资源限制在"+s+"MB内！");$(".upLoad"+o).val("")}}else{baseUtils.show.redTip("网络错误，请稍后再试！")}}return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1ZXN0aW9uQW5kQW5zd2VyRGV0YWlsLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiUUFEZXRhaWwiLCJpbml0IiwicmVzQXVkaW8xTGVuZ3RoIiwicmVzQXVkaW9TaXplIiwidGFiU3RhdGUiLCJwYWdlSW5kZXgiLCJzZWFyY2hBbnN3ZXJlckNvbnRlbnQiLCJzZWFyY2hBbnN3ZXJlclN0YXRlIiwic2VhcmNoUXVlc3Rpb25Db250ZW50IiwidGltZUludGVydmFsIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInNldCIsIkdldFF1ZXJ5U3RyaW5nIiwibG9jYXRpb24iLCJocmVmIiwicGFnZVR5cGUiLCJjb2RlVXJsIiwiZGF0YSIsImNyZWF0ZVFSIiwibW9kYWwiLCJoYW5kbGVTZWFyY2giLCJpbml0RGV0YWlsT3BlcmF0ZSIsImluaXRDb250ZW50VGFiIiwiaW5pdExpc3RQYWdpbmF0aW9uIiwiaW5pdFBhZ2luYXRpb25FdmVudCIsImluaXRRdWVzdGlvbk9wZXJhdGUiLCJpbml0UmVzcG9uZGVyT3BlcmF0ZSIsImluaXRTZXR0aW5nT3BlcmF0ZSIsImhhbmRsZUludml0ZUFuc3dlcmVyV2luZG93IiwiaGFuZGxlU2NhblF1ZXN0aW9uV2luZG93IiwiY29kZV91cmwiLCJxcmNvZGUiLCJRUkNvZGUiLCJnZXRFbGVtZW50QnlJZCIsInRleHQiLCJ3aWR0aCIsImhlaWdodCIsImNvbG9yRGFyayIsImNvbG9yTGlnaHQiLCJjb3JyZWN0TGV2ZWwiLCJDb3JyZWN0TGV2ZWwiLCJIIiwiY3JlYXRlX3FyX2ZsYWciLCJxdWVzdGlvbklkIiwic3VibWl0TGltaXQiLCJpc0F1ZGlvVXBsb2FkaW5nIiwiY2xpY2siLCJ0eXBlIiwidGhpcyIsInN0YXRlIiwiaWQiLCJ2YWwiLCJ3aW5kb3ciLCJhamF4IiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwiY29kZSIsImJhc2VVdGlscyIsInNob3ciLCJibHVlVGlwIiwicmVkVGlwIiwiZXJyb3IiLCJ4aHIiLCJzdGF0dXMiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiY2xpcGJvYXJkIiwiQ2xpcGJvYXJkIiwib24iLCJlIiwiY2xlYXJTZWxlY3Rpb24iLCJ2YWx1ZSIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJnZXRSZXNwb25kZXJMaXN0IiwiZ2V0UXVlc3Rpb25MaXN0IiwiZ2V0U2V0dGluZ1BhZ2UiLCJpc1Nob3dMb2FkaW5nIiwiaXNTd2l0Y2hDb250ZW50VGFiIiwidW5kZWZpbmVkIiwiZmFkZUluIiwic2VhcmNoIiwicGFnZSIsInJlc3VsdCIsImZhZGVPdXQiLCJsZW5ndGgiLCJodG1sIiwiaGlkZSIsInRpbWVTdHJpbmciLCJ0aW1lMSIsInF1ZXN0aW9uX2lkIiwiaGFuZEFuc3dlclF1ZXN0aW9uIiwiYWxlcnQiLCJidG4iLCJvbk9rIiwiY29udGVudCIsImltZ0pzb25BcnIiLCJpbWdTdHJpbmciLCJmb3JFYWNoIiwiaXRlbSIsInJlc1VwbG9hZCIsImZpbGVzIiwidXBsb2FkQXVkaW9VcmwiLCJhbnN3ZXJlcl9zaXplIiwiYW5zd2VyZXJfbGVuZ3RoIiwiYW5zd2VyZXJfY29udGVudCIsIm1zZyIsImFuc3dlcmVySWQiLCJhbnN3ZXJlcl9pZCIsInRhcmdldElkIiwidGFyZ2V0IiwiaXNTaG93TGlzdGVuIiwiaXNTbXNSZW1pbmQiLCJwYXJhbXMiLCJvdXRwdXRUZXh0IiwicmVsb2FkIiwic2V0VGltZW91dCIsInN0b3BQcm9wYWdhdGlvbiIsImVhY2giLCIkZWxlIiwiYXR0ciIsInJlbW92ZUF0dHIiLCJlbGUiLCJ1cmwiLCJpbmRleCIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJkYXRhUmFuZ2VJbnN0YW5jZSIsInBpY2tlckRhdGVSYW5nZSIsImlzVG9kYXlWYWxpZCIsImRlZmF1bHRUZXh0IiwiaW5wdXRUcmlnZ2VyIiwidGhlbWUiLCJvYmoiLCJ1cGRhdGVUaW1lSW50ZXJ2YWwiLCJ0aW1lUmFuZ2UiLCJnZXROb3dNb250aCIsImdldE5vd0RheSIsImdldE9uZURheSIsImRyb3Bkb3duIiwib2ZmIiwia2V5Q29kZSIsImNzcyIsInN3aXRjaENvbnRlbnRUYWIiLCJ0YWJWYWx1ZSIsImdldE9iamVjdFVSTCIsImZpbGUiLCJjcmVhdGVPYmplY3RVUkwiLCJVUkwiLCJ3ZWJraXRVUkwiLCJyZW1vdmVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJyZXNUeXBlIiwicmVzVHlwZUNsYXNzIiwicmVzTGltaXRTaXplIiwicmVzb3VyY2VMb2NhbFVybCIsImZpbGVTaXplIiwic2l6ZSIsInRvRml4ZWQiLCJmaWxlQXVkaW8xU2l6ZSIsInJlc291cmNlRWxlbWVudCIsInNyYyIsIm9ubG9hZCIsIm5hbWUiLCJmaW5kIiwiQXVkaW9OYW1lIiwiJHVwbG9hZEZpbGUiLCJjaGVja0ZpbGVTaXplIiwidXBsb2FkUmVzIiwicHJvZ3Jlc3MiLCJwYXJzZUludCIsInJlc1VybCIsImFjY2Vzc191cmwiXSwibWFwcGluZ3MiOiJBQUNBQSxFQUFFQyxVQUFVQyxNQUFNLFdBQ2RDLFNBQVNDLFFBR2IsSUFBSUMsa0JBQW1CLEVBQ25CQyxjQUFnQixDQUVwQixJQUFJSCxVQUFXLFdBRVgsR0FBSUEsS0FFSkEsR0FBU0ksU0FBVyxjQUNwQkosR0FBU0ssVUFBWSxDQUVyQkwsR0FBU00sc0JBQXdCLEVBQ2pDTixHQUFTTyxvQkFBc0IsRUFFL0JQLEdBQVNRLHNCQUF3QixFQUVqQ1IsR0FBU1MsY0FDTEMsVUFBVyxHQUNYQyxRQUFTLEdBR2JYLEdBQVNDLEtBQU8sV0FDWixHQUFJVyxHQUFNQyxlQUFlLE1BQ3pCLElBQUdELEdBQU8sV0FDTkUsU0FBU0MsS0FBTyx5Q0FFcEIsSUFBSUMsR0FBV0gsZUFBZSxZQUM5QixJQUFJRyxHQUFZLEVBQUcsQ0FDZmhCLEVBQVNJLFNBQVcsb0JBQ2pCLENBQ0hKLEVBQVNJLFNBQVcsZUFJeEIsR0FBSWEsR0FBVXBCLEVBQUUsZUFBZXFCLEtBQUssV0FDcENDLEdBQVNGLEVBTVRHLE9BQU1DLGNBVU5ELE9B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QU8sSUFFL0JyQixHQUFFLHFCQUF1QmlLLEdBQWNYLElBQUksUUFBUzJCLEVBQVcsSUFDL0RqTCxHQUFFLGlCQUFtQmlLLEdBQWMzSCxLQUFLMkksRUFBVyxPQUkzRCxTQUFVNUosR0FDTkUsRUFBTTBCLGlCQUFtQixLQUN6Qm9CLFNBQVFDLElBQUlqRCxFQUNad0MsV0FBVUMsS0FBS0MsUUFBUSxRQUN2Qi9ELEdBQUUsaUJBQW1CaUssR0FBYzNILEtBQUssTUFDeEMsSUFBSTZJLEdBQVM5SixFQUFLQSxLQUFLK0osVUFDdkJwTCxHQUFFLG1CQUFtQnVELElBQUk0SCxJQUk3QixTQUFVOUosR0FDTkUsRUFBTTBCLGlCQUFvQixLQUMxQm9CLFNBQVFKLE1BQU0sVUFDZEksU0FBUUMsSUFBSWpELEVBQ1p3QyxXQUFVQyxLQUFLRSxPQUFPLGVBRTNCLENBQ0hILFVBQVVDLEtBQUtFLE9BQU8sVUFBWWtHLEVBQWUsT0FDakRsSyxHQUFFLFVBQVVpSyxHQUFjMUcsSUFBSSxTQUcvQixDQUNITSxVQUFVQyxLQUFLRSxPQUFPLGdCQUs5QixNQUFPekMiLCJmaWxlIjoicXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgUUFEZXRhaWwuaW5pdCgpO1xyXG59KTtcclxuXHJcbnZhciByZXNBdWRpbzFMZW5ndGggPSAtMSwgICAvLyAg5Y2V5L2N77ya56eSXHJcbiAgICByZXNBdWRpb1NpemUgPSAtMTsgICAgICAgICAgLy8gIOWNleS9je+8mk1cclxuXHJcbnZhciBRQURldGFpbCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgUUFEZXRhaWwgPSB7fTtcclxuXHJcbiAgICBRQURldGFpbC50YWJTdGF0ZSA9IFwicXVlc3Rpb25MaXN0XCI7ICAgICAvLyAg6buY6K6k5pi+56S655qEdGFiIC0gXCJxdWVzdGlvbkxpc3RcIiAsIDwgXCJxdWVzdGlvbkxpc3RcIiwgXCJyZXNwb25kZXJMaXN0XCIsIFwic2V0dGluZ1RhYlwiID5cclxuICAgIFFBRGV0YWlsLnBhZ2VJbmRleCA9IDE7XHJcblxyXG4gICAgUUFEZXRhaWwuc2VhcmNoQW5zd2VyZXJDb250ZW50ID0gXCJcIjtcclxuICAgIFFBRGV0YWlsLnNlYXJjaEFuc3dlcmVyU3RhdGUgPSBcIlwiO1xyXG5cclxuICAgIFFBRGV0YWlsLnNlYXJjaFF1ZXN0aW9uQ29udGVudCA9IFwiXCI7XHJcblxyXG4gICAgUUFEZXRhaWwudGltZUludGVydmFsID0geyAgIC8vICDkv53lrZjml7bpl7TpgInmi6nlmajnmoTml7bpl7TljLrpl7Totbflp4vlgLxcclxuICAgICAgICBzdGFydERhdGU6IFwiXCIsXHJcbiAgICAgICAgZW5kRGF0ZTogXCJcIlxyXG4gICAgfVxyXG5cclxuICAgIFFBRGV0YWlsLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNldCA9IEdldFF1ZXJ5U3RyaW5nKFwic2V0XCIpO1xyXG4gICAgICAgIGlmKHNldCA9PSAnYW5zd2VyZXInKVxyXG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gJy9RQS9xdWVzdGlvbkFuZEFuc3dlckRldGFpbD9wYWdlX3R5cGU9MSc7XHJcblxyXG4gICAgICAgIHZhciBwYWdlVHlwZSA9IEdldFF1ZXJ5U3RyaW5nKFwicGFnZV90eXBlXCIpO1xyXG4gICAgICAgIGlmIChwYWdlVHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnRhYlN0YXRlID0gXCJyZXNwb25kZXJMaXN0XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgUUFEZXRhaWwudGFiU3RhdGUgPSBcInF1ZXN0aW9uTGlzdFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/nlJ/miJDkuoznu7TnoIFcclxuICAgICAgICB2YXIgY29kZVVybCA9ICQoXCIjYWRtaW5fZGF0YVwiKS5kYXRhKFwiY29kZV91cmxcIik7XHJcbiAgICAgICAgY3JlYXRlUVIoY29kZVVybCk7XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlpITnkIbmkJzntKIgKyDml7bpl7Tmj5Lku7ZcclxuICAgICAgICAgKi9cclxuICAgICAgICBtb2RhbC5oYW5kbGVTZWFyY2goKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5aSE55CG6YCA5qy+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgLy8gbW9kYWwuaGFuZGxlUmVmdW5kRXZlbnQoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6Zeu562U6K+m5oOF5pON5L2cXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kYWwuaW5pdERldGFpbE9wZXJhdGUoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogY29udGVudFRhYldyYXBwZXIgdGFi5YiH5o2iXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kYWwuaW5pdENvbnRlbnRUYWIoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Yia6L+b5YWl6aG16Z2i5aSE55CG5YiG6aG1XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kYWwuaW5pdExpc3RQYWdpbmF0aW9uKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWImui/m+WFpemhtemdouWkhOeQhuWIhumhtSDnmoQg54K55Ye75LqL5Lu2XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kYWwuaW5pdFBhZ2luYXRpb25FdmVudCgpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDpl67popjliJfooajmk43kvZxcclxuICAgICAgICAgKi9cclxuICAgICAgICBtb2RhbC5pbml0UXVlc3Rpb25PcGVyYXRlKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOetlOS4u+WIl+ihqOaTjeS9nFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZGFsLmluaXRSZXNwb25kZXJPcGVyYXRlKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOiuvue9rumhtemdouaTjeS9nFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZGFsLmluaXRTZXR0aW5nT3BlcmF0ZSgpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlpITnkIbpgoDor7fnrZTkuLvnmoTlvLnlh7rlvI/nqpflj6NcclxuICAgICAgICAgKi9cclxuICAgICAgICBtb2RhbC5oYW5kbGVJbnZpdGVBbnN3ZXJlcldpbmRvdygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWkhOeQhuafpeeci+mXrumimOeahOW8ueWHuuW8j+eql+WPo1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZGFsLmhhbmRsZVNjYW5RdWVzdGlvbldpbmRvdygpO1xyXG5cclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVRUihjb2RlX3VybCkge1xyXG4gICAgICAgIC8v55Sf5oiQ5LqM57u056CBXHJcbiAgICAgICAgdmFyIHFyY29kZSA9IG5ldyBRUkNvZGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxcl9jb2RlXCIpLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IGNvZGVfdXJsLFxyXG4gICAgICAgICAgICB3aWR0aDogMTIwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEyMCxcclxuICAgICAgICAgICAgY29sb3JEYXJrOiBcIiMwMDAwMDBcIixcclxuICAgICAgICAgICAgY29sb3JMaWdodDogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgICAgIGNvcnJlY3RMZXZlbDogUVJDb2RlLkNvcnJlY3RMZXZlbC5IXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY3JlYXRlX3FyX2ZsYWcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUUFEZXRhaWw7XHJcbn0oKTtcclxuXHJcbnZhciBtb2RhbCA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIG1vZGFsID0ge307XHJcblxyXG4gICAgbW9kYWwucXVlc3Rpb25JZCA9IC0xO1xyXG5cclxuICAgIG1vZGFsLnN1Ym1pdExpbWl0ID0gZmFsc2U7ICAgICAgLy/or7fmsYLmmK/lkKbmraPlnKjov5vooYxcclxuXHJcbiAgICBtb2RhbC5pc0F1ZGlvVXBsb2FkaW5nID0gZmFsc2U7IC8v6Z+z6aKR5piv5ZCm5q2j5Zyo5LiK5Lyg5Yiw5LqRXHJcblxyXG4gICAgbW9kYWwuaW5pdERldGFpbE9wZXJhdGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQoXCIuZGV0YWlsT3BlcmF0ZUFyZWEgbGkub3BlcmF0ZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdHlwZSA9ICQodGhpcykuZGF0YShcInR5cGVcIik7XHJcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9ICQodGhpcykuZGF0YShcInN0YXRlXCIpICA9PSAxID8gMCA6IDE7XHJcbiAgICAgICAgICAgIHZhciBpZCA9ICQoJyNwcm9kdWN0X2lkJykudmFsKCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImVkaXRRQVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvUUEvZWRpdFF1ZXN0aW9uQW5kQW5zd2VyP2lkPVwiICsgaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImNoYW5nZVFBU3RhdGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoXCIvUUEvY2hhbmdlU3RhdGVRdWVQcm9kdWN0c1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKCflt7LkuIvmnrbvvIzpl67nrZTkuJPljLrlsIbkuI3lnKjpppbpobXmmL7npLonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKCflt7LkuIrmnrbvvIzpl67nrZTkuJPljLrlsIblnKjpppbpobXmmL7npLonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9RQS9xdWVzdGlvbkFuZEFuc3dlckRldGFpbFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+C5pWw6ZSZ6K+vLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gIOWkjeWItuWIsOWJqui0tOadv1xyXG4gICAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKCcuUUFfRGV0YWlsVXJsJyk7XHJcbiAgICAgICAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlpI3liLbmiJDlip/vvIHor7flnKjlvq7kv6HlhoXmiZPlvIDlk6Yg44CCXCIpO1xyXG4gICAgICAgICAgICAgICAgZS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KSgpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgbW9kYWwuaW5pdENvbnRlbnRUYWIgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQoXCIuY29udGVudFRhYldyYXBwZXIgbGlcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAkKHRoaXMpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IDEpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAg54K55Ye75YWo6YOo562U5Li7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNyZXNwb25kZXJUYWJcIikuYWRkQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcXVlc3Rpb25UYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjc2V0dGluZ1RhYlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAwKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOeCueWHu+WFqOmDqOmXrumimFxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcXVlc3Rpb25UYWJcIikuYWRkQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcmVzcG9uZGVyVGFiXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3NldHRpbmdUYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjc2V0dGluZ1RhYlwiKS5hZGRDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNxdWVzdGlvblRhYlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNyZXNwb25kZXJUYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBRQURldGFpbC5wYWdlSW5kZXggPSAxO1xyXG4gICAgICAgICAgICBRQURldGFpbC5zZWFyY2hBbnN3ZXJlckNvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgICAgICBRQURldGFpbC5zZWFyY2hBbnN3ZXJlclN0YXRlID0gXCJcIjtcclxuICAgICAgICAgICAgUUFEZXRhaWwuc2VhcmNoUXVlc3Rpb25Db250ZW50ID0gXCJcIjtcclxuICAgICAgICAgICAgJCgnI3NlYXJjaEFuc3dlcmVySW5wdXQnKS52YWwoXCJcIik7XHJcbiAgICAgICAgICAgICQoXCIjYW5zd2VyZXJJc1Nob3dcIikudmFsKFwiXCIpO1xyXG4gICAgICAgICAgICAkKCcjc2VhcmNoUXVlc3Rpb25JbnB1dCcpLnZhbChcIlwiKTtcclxuICAgICAgICAgICAgJCgnI1NlbGVjdERhdGEnKS50ZXh0KCflhajpg6jpl67popgnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBRQURldGFpbC50YWJTdGF0ZSA9IFwicmVzcG9uZGVyTGlzdFwiOyAgICAvL+iOt+WPluetlOS4u+WIl+ihqFxyXG4gICAgICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgXCIvUUEvcXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWw/cGFnZV90eXBlPTFcIik7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5nZXRSZXNwb25kZXJMaXN0KHRydWUsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBRQURldGFpbC50YWJTdGF0ZSA9IFwicXVlc3Rpb25MaXN0XCI7ICAgICAvL+iOt+WPlumXrumimOWIl+ihqFxyXG4gICAgICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgXCIvUUEvcXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWw/cGFnZV90eXBlPTBcIik7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5nZXRRdWVzdGlvbkxpc3QodHJ1ZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09IDIpIHtcclxuICAgICAgICAgICAgICAgIFFBRGV0YWlsLnRhYlN0YXRlID0gXCJzZXR0aW5nVGFiXCI7ICAgICAgIC8v6I635Y+W6K6+572u6aG16Z2iXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCBcIi9RQS9xdWVzdGlvbkFuZEFuc3dlckRldGFpbD9wYWdlX3R5cGU9MlwiKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLmdldFNldHRpbmdQYWdlKCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBpc1Nob3dMb2FkaW5nICAgICB0cnVlIC0gc2hvdyBsb2FkaW5nIHBpY3R1cmUgb3IgZG8gbm90IHNob3cgbG9hZGluZyBwaWN0dXJlXHJcbiAgICAgKiBAcGFyYW0gaXNTd2l0Y2hDb250ZW50VGFiICAgIHRydWUgLSBzd2l0Y2ggdGhlIGNvbnRlbnQgdGFicywgb3IgZG8gbm90IHN3aXRjaFxyXG4gICAgICovXHJcbiAgICBtb2RhbC5nZXRSZXNwb25kZXJMaXN0ID0gZnVuY3Rpb24gKGlzU2hvd0xvYWRpbmcsIGlzU3dpdGNoQ29udGVudFRhYikge1xyXG5cclxuICAgICAgICBpZiAoaXNTaG93TG9hZGluZyA9PSB1bmRlZmluZWQgfHwgaXNTaG93TG9hZGluZyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZUluKDMwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmFqYXgoXCIvUUEvZ2V0UmVzcG9uZGVyTGlzdFwiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoOiBRQURldGFpbC5zZWFyY2hBbnN3ZXJlckNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogUUFEZXRhaWwuc2VhcmNoQW5zd2VyZXJTdGF0ZSxcclxuICAgICAgICAgICAgICAgIHBhZ2U6IFFBRGV0YWlsLnBhZ2VJbmRleFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLm1haW5MaXN0Q29udGVudFwiKS5odG1sKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuaW5pdExpc3RQYWdpbmF0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N3aXRjaENvbnRlbnRUYWIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5saXN0T3BlcmF0ZUFyZWFcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnF1ZXN0aW9uTGlzdE9wZXJhdGVcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnJlc3BvbmRlckxpc3RPcGVyYXRlXCIpLmZhZGVJbigzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6K+35rGC5pWw5o2u5Li656m6XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmXrumimO+8jOivt+eojeWQjuWGjeivlVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBpc1Nob3dMb2FkaW5nICAgICB0cnVlIC0gc2hvdyBsb2FkaW5nIHBpY3R1cmUgb3IgZG8gbm90IHNob3cgbG9hZGluZyBwaWN0dXJlXHJcbiAgICAgKiBAcGFyYW0gaXNTd2l0Y2hDb250ZW50VGFiICAgIHRydWUgLSB0aGUgZmlyc3QgdGltZSB0byBnZXQgdGhlIHJlc3BvbmRlciBsaXN0LCBvciBub3QgdGhlIGZpcnN0IHRpbWVcclxuICAgICAqL1xyXG4gICAgbW9kYWwuZ2V0UXVlc3Rpb25MaXN0ID0gZnVuY3Rpb24gKGlzU2hvd0xvYWRpbmcsIGlzU3dpdGNoQ29udGVudFRhYikge1xyXG5cclxuICAgICAgICBpZiAoaXNTaG93TG9hZGluZyA9PSB1bmRlZmluZWQgfHwgaXNTaG93TG9hZGluZyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZUluKDMwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0aW1lU3RyaW5nID0gJCgnI1NlbGVjdERhdGEnKS50ZXh0KCk7ICAgICAgIC8vICDkvKDlhaXml7bpl7TljLrpl7TlrZfnrKbkuLLvvIwgXCIyMDE3LTA1LTAxIH4gMjAxNy0wNS0xMlwiXHJcbiAgICAgICAgaWYgKHRpbWVTdHJpbmcgPT0gXCLlhajpg6jpl67pophcIikge1xyXG4gICAgICAgICAgICB0aW1lU3RyaW5nID0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuYWpheChcIi9RQS9nZXRRdWVzdGlvbkxpc3RcIiwge1xyXG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaDogUUFEZXRhaWwuc2VhcmNoUXVlc3Rpb25Db250ZW50LFxyXG4gICAgICAgICAgICAgICAgdGltZTE6IHRpbWVTdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBwYWdlOiBRQURldGFpbC5wYWdlSW5kZXhcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tYWluTGlzdENvbnRlbnRcIikuaHRtbChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRMaXN0UGFnaW5hdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTd2l0Y2hDb250ZW50VGFiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubGlzdE9wZXJhdGVBcmVhXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5yZXNwb25kZXJMaXN0T3BlcmF0ZVwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIucXVlc3Rpb25MaXN0T3BlcmF0ZVwiKS5mYWRlSW4oMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuivt+axguaVsOaNruS4uuepulwiKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zpl67popjvvIzor7fnqI3lkI7lho3or5VcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluiuvue9rumhtemdolxyXG4gICAgICovXHJcbiAgICBtb2RhbC5nZXRTZXR0aW5nUGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlSW4oMzAwKTtcclxuXHJcbiAgICAgICAgJC5hamF4KFwiL1FBL2dldFNldHRpbmdQYWdlXCIsIHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7fSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tYWluTGlzdENvbnRlbnRcIikuaHRtbChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmxpc3RPcGVyYXRlQXJlYVwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6K+35rGC5pWw5o2u5Li656m6XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmXrumimO+8jOivt+eojeWQjuWGjeivlVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmnI3liqHlmajlh7rlsI/lt67kuobvvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH07XHJcblxyXG4gICAgbW9kYWwuaW5pdFF1ZXN0aW9uT3BlcmF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy8gIOeCueWHu+mXrumimOWIl+ihqOeahOadoeebrueahOaTjeS9nFxyXG4gICAgICAgICQoXCIubWFpbkxpc3RDb250ZW50XCIpLm9uKFwiY2xpY2tcIiwgXCIucXVlc3Rpb25MaXN0T3BlcmF0ZUFyZWEgbGkub3BlcmF0ZVwiLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcXVlc3Rpb25faWQgPSAkKHRoaXMpLmRhdGEoXCJpZFwiKTtcclxuICAgICAgICAgICAgdmFyIHN0YXRlID0gJCh0aGlzKS5kYXRhKFwic3RhdGVcIikgPT0gMSA/IDAgOiAxO1xyXG5cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmRhdGEoXCJ0eXBlXCIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhbnN3ZXJRdWVzdGlvblwiOiAgICAgIC8v5Zue562U6Zeu6aKYXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuaGFuZEFuc3dlclF1ZXN0aW9uKHF1ZXN0aW9uX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhbnN3ZXJRdWVBZ2FpblwiOiAgICAgIC8v6YeN5paw5Zue562UXHJcbiAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuehruiupOS4iuS8oOmfs+mikeW5tumHjeaWsOWbnuetlO+8jOehruiupOWQjuaWsOeahOWbnuetlOWGheWuueWwhuimhuebluWOn+WGheWuue+8jOS4lOivpeWKqOS9nOaXoOazleaSpOWbnuOAglwiLCBcImluZm9cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG46IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmhhbmRBbnN3ZXJRdWVzdGlvbihxdWVzdGlvbl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImxvb2tRdWVzdGlvblwiOiAgICAvL+afpeeci+mXrumimOivpuaDhVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3NjYW5RdWVXaW5kb3dDb250ZW50XCIpLnRleHQoXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzY2FuUXVlSW1nV3JhcHBlclwiKS5odG1sKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9ICQodGhpcykuZGF0YShcImNvbnRlbnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzY2FuUXVlV2luZG93Q29udGVudFwiKS50ZXh0KGNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1nSnNvbkFyciA9ICQodGhpcykuZGF0YShcImltZ3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltZ0pzb25BcnIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1nU3RyaW5nID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nSnNvbkFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdTdHJpbmcgKz1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCInICsgaXRlbSArICdcIj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNzY2FuUXVlSW1nV3JhcHBlclwiKS5odG1sKGltZ1N0cmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnNjYW5RdWVzdGlvbldpbmRvd0JnXCIpLmZhZGVJbigzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGFuZ2VRdWVzdGlvblN0YXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlSW4oMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoXCIvUUEvY2hhbmdlUXVlc3Rpb25TdGF0ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uX2lkOiBxdWVzdGlvbl9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcCgn5pON5L2c5oiQ5Yqf77yM6Zeu6aKY5bCG5LiN5Zyo6Zeu562U5LiT5Yy65bGV56S6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcCgn5pON5L2c5oiQ5Yqf77yM6Zeu6aKY5bCG5Zyo6Zeu562U5LiT5Yy65bGV56S6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmdldFF1ZXN0aW9uTGlzdChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPguaVsOmUmeivry5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyDngrnlh7vpgInmi6nmlofku7ZcclxuICAgICAgICAkKFwiI3NlbGVjdEF1ZGlvRmlsZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIjdXBsb2FkQXVkaW9GaWxlXCIpLmNsaWNrKCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoXCIuY2xvc2VVcGxvYWRGaWxlV2luZG93LCAjY2FuY2VsVXBsb2FkQXVkaW9cIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiLnVwbG9hZEZpbGVXaW5kb3dCZ1wiKS5mYWRlT3V0KDMwMCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiI3VwbG9hZEF1ZGlvRmlsZVwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlc1VwbG9hZCh0aGlzLmZpbGVzLCBcImF1ZGlvXCIsIFwiQXVkaW8xXCIsIDEwMDApO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gIOeCueWHu+ehruWumuS4iuS8oOmfs+mikeaWh+S7tlxyXG4gICAgICAgICQoXCIjY29uZmlybVVwbG9hZEF1ZGlvXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHVwbG9hZEF1ZGlvVXJsID0gJChcIiN1cGxvYWRBdWRpb1VybFwiKS52YWwoKTtcclxuICAgICAgICAgICAgaWYgKG1vZGFsLmlzQXVkaW9VcGxvYWRpbmcpIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIumfs+mikeaWh+S7tuato+WcqOS4iuS8oOS4rS4uLlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodXBsb2FkQXVkaW9VcmwubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+WFiOS4iuS8oOmfs+mikeaWh+S7ti5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vZGFsLnN1Ym1pdExpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIumfs+mikeaPkOS6pOS4re+8jOivt+eojeWQjuWGjeivleOAglwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtb2RhbC5zdWJtaXRMaW1pdCA9IHRydWU7XHJcblxyXG5cclxuICAgICAgICAgICAgJC5hamF4KFwiL1FBL2NvbW1pdEFuc3dlclwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogbW9kYWwucXVlc3Rpb25JZCxcclxuICAgICAgICAgICAgICAgICAgICBhbnN3ZXJlcl9zaXplOiByZXNBdWRpb1NpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgYW5zd2VyZXJfbGVuZ3RoOiByZXNBdWRpbzFMZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgYW5zd2VyZXJfY29udGVudDogdXBsb2FkQXVkaW9VcmxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuc3VibWl0TGltaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi6Z+z6aKR5paH5Lu25o+Q5Lqk5oiQ5Yqf44CCXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZEZpbGVXaW5kb3dCZ1wiKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmdldFF1ZXN0aW9uTGlzdCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAocmVzdWx0Lm1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5tc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5zdWJtaXRMaW1pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5Ye65bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG5cclxuICAgIG1vZGFsLmluaXRSZXNwb25kZXJPcGVyYXRlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAkKFwiLm1haW5MaXN0Q29udGVudFwiKS5vbihcImNsaWNrXCIsIFwiLnJlc3BvbmRlckxpc3RPcGVyYXRlQXJlYSBsaS5vcGVyYXRlXCIsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfSAgIDAt5LiK57q/77yMMS3kuIvnur8nLDznirbmgIHlgLw+XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSAkKHRoaXMpLmRhdGEoJ3N0YXRlJyk7XHJcbiAgICAgICAgICAgIHZhciBhbnN3ZXJlcklkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmRhdGEoXCJ0eXBlXCIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlZGl0UmVzcG9uZGVySW5mb1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvUUEvZWRpdEFuc3dlcmVyP2Fuc3dlcmVyX2lkPVwiICsgYW5zd2VyZXJJZCArIFwiJnN0YXRlPVwiICsgc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImNoYW5nZVJlc3BvbmRlclN0YXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlSW4oMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IChzdGF0ZSA9PSAxID8gMCA6IDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICQuYWpheChcIi9RQS9jaGFuZ2VBbnN3ZXJlclN0YXRlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyZXJfaWQ6IGFuc3dlcmVySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoJ+etlOS4u+S4i+e6v+aIkOWKnycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoJ+etlOS4u+S4iue6v+aIkOWKnycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5nZXRSZXNwb25kZXJMaXN0KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLmNvZGUgPT0gMil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35oKo5YWI5aGr5YaZ562U5Li75L+h5oGvIOaJjeiDveS4iue6v+etlOS4u++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+C5pWw6ZSZ6K+vLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIG1vZGFsLmluaXRTZXR0aW5nT3BlcmF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgJChcIi5tYWluTGlzdENvbnRlbnRcIikub24oXCJjaGFuZ2VcIiwgXCJpbnB1dFt0eXBlPXJhZGlvXVwiLCBmdW5jdGlvbiAoZSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHRhcmdldElkID0gZS50YXJnZXQuaWQsXHJcbiAgICAgICAgICAgICAgICBpc1Nob3dMaXN0ZW4gPSAkKCdpbnB1dFtuYW1lPWlzU2hvd0xpc3Rlbl06Y2hlY2tlZCcpLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgaXNTbXNSZW1pbmQgPSAkKCdpbnB1dFtuYW1lPWlzU21zUmVtaW5kXTpjaGVja2VkJykudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoXCIvUUEvY29tbWl0U2V0dGluZ1wiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTaG93TGlzdGVuOiBpc1Nob3dMaXN0ZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU21zUmVtaW5kOiBpc1Ntc1JlbWluZFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dHB1dFRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhcmdldElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BlbkVhdmVzZHJvcFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRleHQgPSBcIumXrumimOmhteW3suaYvuekuuWBt+WQrOS6uuaVsFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsb3NlRWF2ZXNkcm9wXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VGV4dCA9IFwi6Zeu6aKY6aG15bey6ZqQ6JeP5YG35ZCs5Lq65pWwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BlblNtc1JlbWluZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRleHQgPSBcIuefreS/oeaPkOmGkuW3suW8gOWQr1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsb3NlU21zUmVtaW5kXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VGV4dCA9IFwi55+t5L+h5o+Q6YaS5bey5YWz6ZetXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+C5pWw6ZSZ6K+v44CCXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAob3V0cHV0VGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5L+d5a2Y5aSx6LSlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5Ye65bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgbW9kYWwuaGFuZGxlSW52aXRlQW5zd2VyZXJXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIC8vICDpgoDor7fnrZTkuLtcclxuICAgICAgICAkKFwiI2ludml0ZVJlc3BvbmRlclwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAkKFwiLnNjYW5RckNvZGVXaW5kb3dCZ1wiKS5mYWRlSW4oMzAwKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIuY2xvc2VTY2FuUXJDb2RlV2luZG93IGltZ1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIuc2NhblFyQ29kZVdpbmRvd0JnXCIpLmZhZGVPdXQoMzAwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gIOWkjeWItuWIsOWJqui0tOadv1xyXG4gICAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKCcuY29weUhyZWYnKTtcclxuICAgICAgICAgICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWkjeWItuaIkOWKn++8geivt+WcqOW+ruS/oeWGheaJk+W8gOWTpiDjgIJcIik7XHJcbiAgICAgICAgICAgICAgICBlLmNsZWFyU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnNjYW5RckNvZGVXaW5kb3dCZ1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkoKTtcclxuICAgIH07XHJcblxyXG4gICAgbW9kYWwuaGFuZGxlU2NhblF1ZXN0aW9uV2luZG93ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAvLyAg6ZqQ6JeP6Zeu6aKY6K+m5oOFXHJcbiAgICAgICAgJChcIi5jbG9zZVF1ZXN0aW9uRGV0YWlsV2luZG93LCAuc2NhblF1ZXN0aW9uV2luZG93QmdcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiLnNjYW5RdWVzdGlvbldpbmRvd0JnXCIpLmZhZGVPdXQoMTAwKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChcIi5zY2FuUXVlc3Rpb25XaW5kb3dcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBtb2RhbC5pbml0TGlzdFBhZ2luYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQoJy5saXN0LXBhZ2UgLnBhZ2luYXRpb24gbGkgYScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciAkZWxlID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgJGVsZS5hdHRyKCdkYXRhLXVybCcsICRlbGUuYXR0cignaHJlZicpKTtcclxuICAgICAgICAgICAgJGVsZS5yZW1vdmVBdHRyKCdocmVmJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBtb2RhbC5pbml0UGFnaW5hdGlvbkV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8v5YiG6aG16K+35rGCXHJcbiAgICAgICAgJChcIi5tYWluTGlzdENvbnRlbnRcIikub24oJ2NsaWNrJywgJyAucGFnaW5hdGlvbiBsaSBhJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgZWxlID0gJChlLnRhcmdldCksXHJcbiAgICAgICAgICAgICAgICB1cmwgPSBlbGUuZGF0YSgndXJsJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB1cmwuaW5kZXhPZihcInBhZ2VcIik7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnBhZ2VJbmRleCA9IHVybC5zdWJzdHJpbmcoaW5kZXggKyA1KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChRQURldGFpbC50YWJTdGF0ZSA9PSBcInF1ZXN0aW9uTGlzdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5nZXRRdWVzdGlvbkxpc3QodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoUUFEZXRhaWwudGFiU3RhdGUgPT0gXCJyZXNwb25kZXJMaXN0XCIpIHtcclxuICAgICAgICAgICAgICAgIG1vZGFsLmdldFJlc3BvbmRlckxpc3QodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIG1vZGFsLmhhbmRsZVNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Yid5aeL5YyW5pe26Ze05o+S5Lu2XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIGRhdGFSYW5nZUluc3RhbmNlID0gbmV3IHBpY2tlckRhdGVSYW5nZSgnU2VsZWN0RGF0YScsIHtcclxuICAgICAgICAgICAgaXNUb2RheVZhbGlkIDogdHJ1ZSxcclxuICAgICAgICAgICAgZGVmYXVsdFRleHQgOiAnIH4gJyxcclxuICAgICAgICAgICAgaW5wdXRUcmlnZ2VyIDogJ29wdGlvbmFsJyxcclxuICAgICAgICAgICAgdGhlbWUgOiAndGEnLFxyXG4gICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVUaW1lSW50ZXJ2YWwob2JqKTtcclxuICAgICAgICAgICAgICAgICQoXCIjc2VhcmNoUXVlc3Rpb25cIikuY2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcjU2VsZWN0UmFuZ2UnKS5vbignY2xpY2snLCAnbGknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmRhdGEoJ3R5cGUnKTtcclxuICAgICAgICAgICAgdmFyIHRpbWVSYW5nZSA9IC0xO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhbGxcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aW1lUmFuZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogJycsIGVuZERhdGU6ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjdXJyZW50X21vbnRoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZVJhbmdlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6IGdldE5vd01vbnRoKCksIGVuZERhdGU6IGdldE5vd0RheSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJsYXN0X3NldmVuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZVJhbmdlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6IGdldE9uZURheSg2KSwgZW5kRGF0ZTogZ2V0Tm93RGF5KClcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImxhc3RfbW9udGhcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aW1lUmFuZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogZ2V0T25lRGF5KDI5KSwgZW5kRGF0ZTogZ2V0Tm93RGF5KClcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB1cGRhdGVUaW1lSW50ZXJ2YWwodGltZVJhbmdlKTtcclxuICAgICAgICAgICAgJChcIiNzZWFyY2hRdWVzdGlvblwiKS5jbGljaygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcjb3B0aW9uYWwnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJCgnI2Ryb3Bkb3duLXRvZ2dsZScpLmRyb3Bkb3duKCd0b2dnbGUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcjU2VsZWN0RGF0YScpLm9mZignY2xpY2snKS50ZXh0KCflhajpg6jpl67popgnKTsgIC8v6K6+572u5byA5aeL57uT5p2f5pe26Ze0XHJcblxyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKiog5pCc57Si6Zeu6aKY5YiX6KGoICoqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgJCgnI3NlYXJjaFF1ZXN0aW9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBRQURldGFpbC5wYWdlSW5kZXggPSAxO1xyXG4gICAgICAgICAgICBRQURldGFpbC5zZWFyY2hRdWVzdGlvbkNvbnRlbnQgPSAkKCcjc2VhcmNoUXVlc3Rpb25JbnB1dCcpLnZhbCgpO1xyXG4gICAgICAgICAgICBtb2RhbC5nZXRRdWVzdGlvbkxpc3QodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChcIiNzZWFyY2hRdWVzdGlvbklucHV0XCIpLm9uKFwia2V5cHJlc3NcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xyXG4gICAgICAgICAgICAgICAgJChcIiNzZWFyY2hRdWVzdGlvblwiKS5jbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKiDmkJzntKLnrZTkuLvliJfooaggKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICAkKCcjc2VhcmNoQW5zd2VyZXInKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnBhZ2VJbmRleCA9IDE7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnNlYXJjaEFuc3dlcmVyQ29udGVudCA9ICQoJyNzZWFyY2hBbnN3ZXJlcklucHV0JykudmFsKCk7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnNlYXJjaEFuc3dlcmVyU3RhdGUgPSAkKFwiI2Fuc3dlcmVySXNTaG93XCIpLnZhbCgpO1xyXG4gICAgICAgICAgICBtb2RhbC5nZXRSZXNwb25kZXJMaXN0KHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiI2Fuc3dlcmVySXNTaG93XCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnI3NlYXJjaEFuc3dlcmVyJykuY2xpY2soKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKFwiI3NlYXJjaEFuc3dlcmVySW5wdXRcIikub24oXCJrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3NlYXJjaEFuc3dlcmVyXCIpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIG1vZGFsLmhhbmRBbnN3ZXJRdWVzdGlvbiA9IGZ1bmN0aW9uIChxdWVzdGlvbl9pZCkge1xyXG4gICAgICAgICQoXCIudXBsb2FkQXVkaW8xTmFtZVwiKS5odG1sKFwiXCIpO1xyXG4gICAgICAgICQoXCIudXBsb2FkQXVkaW8xU2l6ZSBzcGFuXCIpLmh0bWwoXCJcIik7XHJcbiAgICAgICAgJChcIi51cGxvYWRQTGluZUFjdGl2ZUF1ZGlvMVwiKS5jc3MoXCJ3aWR0aFwiLCAnMCcpO1xyXG4gICAgICAgICQoXCIudXBsb2FkUGVyc2VudEF1ZGlvMVwiKS50ZXh0KFwiXCIpO1xyXG5cclxuICAgICAgICAkKFwiLnVwbG9hZFBMaW5lQXVkaW8xXCIpLmhpZGUoKTtcclxuICAgICAgICAkKFwiLnVwbG9hZEJveEF1ZGlvMVwiKS5oaWRlKCk7XHJcbiAgICAgICAgJChcIiN1cGxvYWRBdWRpb1VybFwiKS52YWwoXCJcIik7XHJcblxyXG4gICAgICAgIG1vZGFsLnF1ZXN0aW9uSWQgPSBxdWVzdGlvbl9pZDtcclxuICAgICAgICAkKFwiLnVwbG9hZEZpbGVXaW5kb3dCZ1wiKS5mYWRlSW4oMTAwKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gdmFyIHBhZ2VJbmRleCA9IDEsXHJcbiAgICAvLyAgICAgaXNXaW5kb3dDbG9zZSA9IHRydWUsXHJcbiAgICAvLyAgICAgaXNTY3JvbGxUb0JvdHRvbSA9IGZhbHNlLCAgICAgICAvL+aVsOaNruWKoOi9veWujOavlVxyXG4gICAgLy8gICAgIHNlYXJjaFJlZnVuZExpc3RDb250ZW50ID0gXCJcIixcdC8v6YCA5qy+5YiX6KGo56qX5Y+j5pCc57Si5YaF5a65XHJcbiAgICAvL1xyXG4gICAgLy8gICAgIHF1ZXN0aW9uQXJyID0gbmV3IEFycmF5KCksXHJcbiAgICAvLyAgICAgdG90YWxQcmljZSA9IDA7XHJcblxyXG5cclxuICAgIC8vIG1vZGFsLmhhbmRsZVJlZnVuZEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy9cclxuICAgIC8vICAgICAkKFwiI2hhbmRsZVJlZnVuZFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHRcdFx0Ly9cdOeCueWHu+mAgOasvuWkhOeQhuaMiemSrlxyXG4gICAgLy8gICAgICAgICBwYWdlSW5kZXggPSAxO1xyXG4gICAgLy8gICAgICAgICAkKFwiLnJlZnVuZExpc3RXaW5kb3dCZ1wiKS5mYWRlSW4oMzAwKTtcclxuICAgIC8vICAgICAgICAgJChcIiNsb2FkaW5nUmVmdW5kXCIpLnNob3coKTtcclxuICAgIC8vICAgICAgICAgZ2V0UmVmdW5kTGlzdChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAkKFwiI2xvYWRpbmdSZWZ1bmRcIikuZmFkZU91dCgxMDApO1xyXG4gICAgLy8gICAgICAgICB9KTtcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vICAgICAkKFwiI3NlbGVjdEFsbFJlZnVuZExpc3RcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHQgLy8g6YCJ5LitL+WPlua2iCDlhajpg6hcclxuICAgIC8vICAgICAgICAgaWYgKCQodGhpcykucHJvcChcImNoZWNrZWRcIikpIHtcclxuICAgIC8vICAgICAgICAgICAgIGNoYW5nZUNoZWNrZWQoXCJpc1NlbGVjdENoZWNrQm94XCIsIHRydWUpXHJcbiAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICBjaGFuZ2VDaGVja2VkKFwiaXNTZWxlY3RDaGVja0JveFwiLCBmYWxzZSlcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBmdW5jdGlvbiBjaGFuZ2VDaGVja2VkKGNsYXNzTmFtZSwgc3RhdHVzKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAkKFwiaW5wdXQuXCIgKyBjbGFzc05hbWUpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICQodGhpcykucHJvcChcImNoZWNrZWRcIiwgc3RhdHVzKVxyXG4gICAgLy8gICAgICAgICAgICAgfSlcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gICAgICQoXCIjY2FuY2VsUmVmdW5kLCAuY2xvc2VJY29uV3JhcHBlclwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHQvL+WPlua2iOmAgOasviAtIOWFs+mXremAgOasvueql+WPo1xyXG4gICAgLy8gICAgICAgICAkKFwiLnJlZnVuZExpc3RXaW5kb3dCZ1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAvLyAgICAgICAgIGNsZWFyUmVmdW5kV2luZG93RGF0YSgpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAvL+ebkeWQrOaYr+WQpumAieS4remAgOasvuS6uuWRmFxyXG4gICAgLy8gICAgICQoXCIucmVmdW5kTGlzdFdpbmRvd1wiKS5vbignY2hhbmdlJywgJ2lucHV0W3R5cGU9Y2hlY2tib3hdJywgZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgICAgICB2YXIgY291bnQgPSAkKFwiaW5wdXQuaXNTZWxlY3RDaGVja0JveDpjaGVja2VkXCIpLmxlbmd0aDtcclxuICAgIC8vICAgICAgICAgaWYgKGNvdW50ID4gMCkge1xyXG4gICAgLy8gICAgICAgICAgICAgJChcIiNjb25maXJtUmVmdW5kXCIpLmFkZENsYXNzKFwiYnRuQmx1ZVwiKTtcclxuICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgICQoXCIjY29uZmlybVJlZnVuZFwiKS5yZW1vdmVDbGFzcyhcImJ0bkJsdWVcIik7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgJChcIiNjb25maXJtUmVmdW5kXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcdFx0Ly9cdOeCueWHu+mAgOasvlxyXG4gICAgLy8gICAgICAgICBxdWVzdGlvbkFyciA9IG5ldyBBcnJheSgpO1xyXG4gICAgLy8gICAgICAgICB0b3RhbFByaWNlID0gMDtcclxuICAgIC8vICAgICAgICAgJChcImlucHV0LmlzU2VsZWN0Q2hlY2tCb3g6Y2hlY2tlZFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBxdWVzdGlvbklkID0gJCh0aGlzKS5kYXRhKFwicXVlc3Rpb25faWRcIik7XHJcbiAgICAvLyAgICAgICAgICAgICBxdWVzdGlvbkFyci5wdXNoKHF1ZXN0aW9uSWQpO1xyXG4gICAgLy8gICAgICAgICAgICAgdG90YWxQcmljZSArPSAkKHRoaXMpLmRhdGEoXCJwcmljZVwiKTtcclxuICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICBpZiAocXVlc3Rpb25BcnIubGVuZ3RoID09IDApIHtcclxuICAgIC8vICAgICAgICAgICAgIC8vIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+WFiOmAieaLqemAgOasvueUqOaIt1wiKTtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB0b3RhbFByaWNlID0gTWF0aC5yb3VuZCh0b3RhbFByaWNlICogMTAwKSAvIDEwMDtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICQoXCIucmVmdW5kTGlzdFdpbmRvd0JnXCIpLmZhZGVPdXQoMzAwKTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICQoXCIuY29uZmlybVJlZnVuZFdpbmRvd0JnIC5jb25maXJtUmVmdW5kV2luZG93VGV4dFwiKS50ZXh0KFwi56Gu5a6a57uZIFwiICsgcXVlc3Rpb25BcnIubGVuZ3RoICsgXCIg5L2N55So5oi36YCA5qy+IFwiICsgdG90YWxQcmljZSArIFwiIOWFg1wiKTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICQoXCIuY29uZmlybVJlZnVuZFdpbmRvd0JnXCIpLmZhZGVJbigzMDApO1xyXG4gICAgLy9cclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vICAgICAkKFwiLmNsb3NlQ29uZmlybVJlZnVuZFdpbmRvdyBpbWcsIC5jb25maXJtUmVmdW5kV2luZG93QnRuXzFcIikuY2xpY2soZnVuY3Rpb24gKCkgeyAgIC8vXHTngrnlh7vlj5bmtohcclxuICAgIC8vICAgICAgICAgJChcIi5jb25maXJtUmVmdW5kV2luZG93QmdcIikuZmFkZU91dCgzMDApO1xyXG4gICAgLy8gICAgICAgICAkKFwiLnJlZnVuZExpc3RXaW5kb3dCZ1wiKS5mYWRlSW4oMzAwKTtcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vICAgICAkKFwiLmNvbmZpcm1SZWZ1bmRXaW5kb3dCdG5fMlwiKS5jbGljayhmdW5jdGlvbiAoKSB7ICAgLy9cdOeCueWHu+ehruiupFxyXG4gICAgLy8gICAgICAgICBjb25maXJtUmVmdW5kKCk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICQoXCIjc2VhcmNoUmVmdW5kVXNlclwiKS5jbGljayhmdW5jdGlvbiAoKSB7ICAgICAgICAgIC8vICDmkJzntKJcclxuICAgIC8vICAgICAgICAgcGFnZUluZGV4ID0gMTtcclxuICAgIC8vICAgICAgICAgc2VhcmNoUmVmdW5kTGlzdENvbnRlbnQgPSAkLnRyaW0oJChcIiNzZWFyY2hSZWZ1bmRVc2VySW5wdXRcIikudmFsKCkpO1xyXG4gICAgLy8gICAgICAgICAkKFwiI2xvYWRpbmdSZWZ1bmRcIikuc2hvdygpO1xyXG4gICAgLy8gICAgICAgICBnZXRSZWZ1bmRMaXN0KGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICAgICAgICAgICQoXCIjbG9hZGluZ1JlZnVuZFwiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAkKFwiI3NlYXJjaFJlZnVuZFVzZXJJbnB1dFwiKS5vbihcImtleXByZXNzXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAvLyAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcclxuICAgIC8vICAgICAgICAgICAgICQoXCIjc2VhcmNoUmVmdW5kVXNlclwiKS5jbGljaygpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgIC8qKioqKioqKioqKioqKioqKioqKioqKiDlpITnkIbpgIDmrL7liJfooajmu5Hliqjkuovku7YgKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIC8vXHJcbiAgICAvLyAgICAgJCgnLnJlZnVuZExpc3RXaW5kb3cgLndpbmRvd0NvbnRlbnRXcmFwcGVyJykuc2Nyb2xsKGZ1bmN0aW9uKGUpIHtcclxuICAgIC8vICAgICAgICAgdmFyIERpdkhlaWdodCA9ICQoJy53aW5kb3dDb250ZW50QXJlYScpLmhlaWdodCgpLFxyXG4gICAgLy8gICAgICAgICAgICAgU2Nyb2xsSGVpZ2h0ID0gJCh0aGlzKS5oZWlnaHQoKSxcclxuICAgIC8vICAgICAgICAgICAgIFNjcm9sbFRvcCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICBpZiAoKFNjcm9sbFRvcCArIFNjcm9sbEhlaWdodCA+PSBEaXZIZWlnaHQgLSA1KSAmJiAhaXNXaW5kb3dDbG9zZSAmJiAhaXNTY3JvbGxUb0JvdHRvbSkge1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICAgIGlzV2luZG93Q2xvc2UgPSB0cnVlO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICAgICQoXCIjbG9hZGluZ1JlZnVuZFwiKS5zaG93KCk7XHJcbiAgICAvLyAgICAgICAgICAgICBnZXRSZWZ1bmRMaXN0KGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAkKFwiI2xvYWRpbmdSZWZ1bmRcIikuZmFkZU91dCgxMDApO1xyXG4gICAgLy8gICAgICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vXHJcbiAgICAvL1xyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvLyBmdW5jdGlvbiBnZXRSZWZ1bmRMaXN0KGNhbGxiYWNrLCBhcmdzKSB7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICQuYWpheChcIi9RQS9yZWZ1bmRMaXN0XCIsIHtcclxuICAgIC8vICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAvLyAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgIC8vICAgICAgICAgZGF0YToge1xyXG4gICAgLy8gICAgICAgICAgICAgcGFnZTogcGFnZUluZGV4LFxyXG4gICAgLy8gICAgICAgICAgICAgc2VhcmNoX2NvbnRlbnQ6IHNlYXJjaFJlZnVuZExpc3RDb250ZW50XHJcbiAgICAvLyAgICAgICAgIH0sXHJcbiAgICAvLyAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhKTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgdmFyICRhcmVhID0gJChcIi53aW5kb3dDb250ZW50QXJlYVwiKSxcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgaHRtbFN0cmluZyA9ICcnLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBwYWdlT2JqID0gcmVzdWx0LmRhdGEucmVmdW5kX3JlY29yZF9saXN0O1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICAgICAgICBwYWdlT2JqLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBodG1sU3RyaW5nICs9XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInJlZnVuZExpc3RJdGVtXCI+JyArXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImlzU2VsZWN0Q2hlY2tCb3hcIiBkYXRhLXF1ZXN0aW9uX2lkPVwiJyArIGl0ZW0uaWQgKyAnXCIgZGF0YS1wcmljZT1cIicgKyBpdGVtLnByaWNlIC8gMTAwLjAwICsgJ1wiPicgK1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicmVmdW5kVXNlckluZm9cIj4nICtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPVwiJyArIGl0ZW0ucXVlc3Rpb25lcl9hdmF0YXIgKyAnXCI+JyArXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3Bhbj4nICsgaXRlbS5xdWVzdGlvbmVyX25hbWUgKyAnPC9zcGFuPicgK1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInJlZnVuZFR5cGVcIj7ku5jotLnpl67nrZQ8L2Rpdj4nICtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInJlZnVuZEdvb2ROYW1lXCI+JyArIGl0ZW0uY29udGVudCArICc8L2Rpdj4nICtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInJlZnVuZFByaWNlXCI+JyArIGl0ZW0ucHJpY2UgLyAxMDAuMDAgKyAnPC9kaXY+JyArXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGh0bWxTdHJpbmcubGVuZ3RoID09IDApIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgaHRtbFN0cmluZyArPVxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250ZW50Tm9uZVRpcFwiPuaaguaXoOaVsOaNrjwvZGl2Pic7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlzV2luZG93Q2xvc2UgPSBmYWxzZTtcclxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAocGFnZUluZGV4ID09IDEpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgJGFyZWEuaHRtbChodG1sU3RyaW5nKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgJGFyZWEuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiaXNEb3duQW5pbWF0aW9uIGlzRG93blwiPuaVsOaNruWKoOi9veS4rTwvZGl2PicpO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAkYXJlYS5maW5kKCcuaXNEb3duJykuYmVmb3JlKGh0bWxTdHJpbmcpO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKHBhZ2VPYmoudG8gPj0gcGFnZU9iai50b3RhbCkgeyAgICAgIC8v5pWw5o2u5Yqg6L295a6M5q+V5ZCO55qE5pON5L2cXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlT2JqLnRvdGFsID4gMTApIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICRhcmVhLmZpbmQoJy5pc0Rvd24nKVxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KFwi5pWw5o2u5bey5Yqg6L295a6M5q+VXCIpXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwiaXNEb3duQW5pbWF0aW9uXCIpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgJGFyZWEuZmluZCgnLmlzRG93bicpLmhpZGUoKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbFRvQm90dG9tID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcGFnZUluZGV4ICsrO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICAgICAgICAkKFwiI3NlbGVjdEFsbFJlZnVuZExpc3RcIikucHJvcChcImNoZWNrZWRcIiwgZmFsc2UpO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkod2luZG93LCBhcmdzKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zlvILluLjvvIzor7fnqI3lkI7lho3or5VcIik7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH0sXHJcbiAgICAvLyAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkod2luZG93LCBhcmdzKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAvLyAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vXHJcbiAgICAvLyB9O1xyXG4gICAgLy8gZnVuY3Rpb24gY2xlYXJSZWZ1bmRXaW5kb3dEYXRhKCkge1xyXG4gICAgLy8gICAgIHBhZ2VJbmRleCA9IDE7XHJcbiAgICAvLyAgICAgaXNXaW5kb3dDbG9zZSA9IHRydWU7XHJcbiAgICAvLyAgICAgaXNTY3JvbGxUb0JvdHRvbSA9IGZhbHNlO1xyXG4gICAgLy8gICAgIHNlYXJjaFJlZnVuZExpc3RDb250ZW50ID0gJyc7XHJcbiAgICAvLyAgICAgJChcIiNzZWFyY2hSZWZ1bmRVc2VySW5wdXRcIikudmFsKFwiXCIpO1xyXG4gICAgLy8gICAgICQoXCIud2luZG93Q29udGVudEFyZWFcIikuaHRtbChcIlwiKTtcclxuICAgIC8vIH07XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gY29uZmlybVJlZnVuZCgpIHtcclxuICAgIC8vICAgICAkLmFqYXgoXCIvUUEvY29tbWl0UmVmdW5kXCIsIHtcclxuICAgIC8vICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAvLyAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgIC8vICAgICAgICAgZGF0YToge1xyXG4gICAgLy8gICAgICAgICAgICAgcXVlX2lkX2xpc3Q6IHF1ZXN0aW9uQXJyXHJcbiAgICAvLyAgICAgICAgIH0sXHJcbiAgICAvLyAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgIC8vICAgICAgICAgICAgICQoXCIuY29uZmlybVJlZnVuZFdpbmRvd0JnXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgIC8vICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgY2xlYXJSZWZ1bmRXaW5kb3dEYXRhKCk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIumAgOasvuaIkOWKn1wiKTtcclxuICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgJChcIi5yZWZ1bmRMaXN0V2luZG93QmdcIikuZmFkZUluKDMwMCk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6YCA5qy+6YGH5Yiw6Zeu6aKY77yM6K+356iN5ZCO5YaN6K+VXCIpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9LFxyXG4gICAgLy8gICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgIC8vICAgICAgICAgICAgICQoXCIuY29uZmlybVJlZnVuZFdpbmRvd0JnXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgIC8vICAgICAgICAgICAgICQoXCIucmVmdW5kTGlzdFdpbmRvd0JnXCIpLmZhZGVJbigzMDApO1xyXG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIC8vICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy9cclxuICAgIC8vIH07XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlVGltZUludGVydmFsKG9iaikge1xyXG4gICAgICAgIGlmIChvYmouc3RhcnREYXRlID09IFwiXCIgJiYgb2JqLmVuZERhdGUgPT0gXCJcIikge1xyXG4gICAgICAgICAgICAkKCcjU2VsZWN0RGF0YScpLnRleHQoJ+WFqOmDqOmXrumimCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJyNTZWxlY3REYXRhJykudGV4dChvYmouc3RhcnREYXRlICsgJyB+ICcgKyBvYmouZW5kRGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBRQURldGFpbC50aW1lSW50ZXJ2YWwuc3RhcnREYXRlID0gb2JqLnN0YXJ0RGF0ZTtcclxuICAgICAgICBRQURldGFpbC50aW1lSW50ZXJ2YWwuZW5kRGF0ZSA9IG9iai5lbmREYXRlO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliIfmjaJ0YWLnmoTmmL7npLpcclxuICAgICAqIEBwYXJhbSB0YXJnZXQoU3RyaW5nKSAgICBxdWVzdGlvblRhYiAtIOWIh+aNouWIsOWFqOmDqOmXrumimO+8myByZXNwb25kZXJUYWIgLSDliIfmjaLliLDlhajpg6jnrZTkuLtcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gc3dpdGNoQ29udGVudFRhYih0YXJnZXQpIHtcclxuICAgICAgICB2YXIgdGFiVmFsdWUgPSAkKFwiLmNvbnRlbnRUYWJXcmFwcGVyPmxpLmFjdGl2ZUNvbnRlbnRUYWJcIikudmFsKCk7IC8vICAgIDEt5YWo6YOo562U5Li7ICAwLeWFqOmDqOmXrumimFxyXG5cclxuICAgICAgICBpZiAoKHRhYlZhbHVlID09IDEgJiYgdGFyZ2V0ID09IFwicmVzcG9uZGVyVGFiXCIpIHx8ICh0YWJWYWx1ZSA9PSAwICYmIHRhcmdldCA9PSBcInF1ZXN0aW9uVGFiXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRhcmdldCA9PSBcInF1ZXN0aW9uVGFiXCIpIHtcclxuICAgICAgICAgICAgJChcIiNxdWVzdGlvblRhYlwiKS5hZGRDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XHJcbiAgICAgICAgICAgICQoXCIjcmVzcG9uZGVyVGFiXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgPT0gXCJyZXNwb25kZXJUYWJcIikge1xyXG4gICAgICAgICAgICAkKFwiI3Jlc3BvbmRlclRhYlwiKS5hZGRDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XHJcbiAgICAgICAgICAgICQoXCIjcXVlc3Rpb25UYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH07XHJcblxyXG4gICAgLy/lj5bmtojkuIrkvKDliKTmlq3lj4LmlbBcclxuICAgIC8vIHZhciB1cGxvYWRDYW5jZWw9MDtcclxuICAgIGZ1bmN0aW9uIGdldE9iamVjdFVSTChmaWxlKSB7XHJcbiAgICAgICAgdmFyIHVybCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5jcmVhdGVPYmplY3RVUkwgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHVybCA9IHdpbmRvdy5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuVVJMICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy53ZWJraXRVUkwgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHVybCA9IHdpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZU9iamVjdFVSTCh1cmwpIHsvL+mHiuaUvui1hOa6kFVSTFxyXG4gICAgICAgIGlmICh3aW5kb3cucmV2b2tlT2JqZWN0VVJMICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB3aW5kb3cucmV2b2tlT2JqZWN0VVJMKHVybCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuVVJMICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LndlYmtpdFVSTCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2luZG93LndlYmtpdFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/otYTmupDkuIrkvKDlh73mlbAo5Y+C5pWw77yacmVzVHlwZTrotYTmupDnsbvlnosscmVzVHlwZUNsYXNzOui1hOa6kOexu+Wei+S4ree7huWIhueahOenjeexuyxyZXNMaW1pdFNpemU66LWE5rqQ6ZmQ5Yi25aSn5bCPKVxyXG4gICAgZnVuY3Rpb24gcmVzVXBsb2FkKGZpbGVzLCByZXNUeXBlLCByZXNUeXBlQ2xhc3MsIHJlc0xpbWl0U2l6ZSkge1xyXG4gICAgICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzb3VyY2VMb2NhbFVybCA9IGdldE9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICAgICAgdmFyIGZpbGVTaXplID0gKGZpbGUuc2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgIHJlc0F1ZGlvU2l6ZSA9IGZpbGVTaXplO1xyXG4gICAgICAgICAgICAvL+WmguaenOaYr+ato+W8j+mfs+mikVxyXG4gICAgICAgICAgICBpZiAocmVzVHlwZUNsYXNzID09IFwiQXVkaW8xXCIpIHtcclxuICAgICAgICAgICAgICAgIGZpbGVBdWRpbzFTaXplID0gZmlsZVNpemU7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvdXJjZVRpbWVcIik7XHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZUVsZW1lbnQuc3JjID0gcmVzb3VyY2VMb2NhbFVybDtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlRWxlbWVudC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVPYmplY3RVUkwocmVzb3VyY2VMb2NhbFVybCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v5aaC5p6c5piv6Z+z6aKRXHJcbiAgICAgICAgICAgIGlmIChyZXNUeXBlID09ICdhdWRpbycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCQoJyNhdWRpb1VSTCcrcmVzVHlwZUNsYXNzKSk7XHJcbiAgICAgICAgICAgICAgICAkKCcjYXVkaW9VUkwnK3Jlc1R5cGVDbGFzcykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRCb3hcIityZXNUeXBlQ2xhc3MpLmZhZGVJbigzMDApO1xyXG4gICAgICAgICAgICAgICAgLy8g5Yid5aeL5YyW5paH5Lu25Lul5Y+K6L+b5bqm5p2hXHJcbiAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZFwiICsgcmVzVHlwZUNsYXNzICsgXCJOYW1lXCIpLmh0bWwoZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICQoXCIudXBsb2FkXCIgKyByZXNUeXBlQ2xhc3MgKyBcIlNpemUgc3BhblwiKS5odG1sKGZpbGVTaXplKTtcclxuICAgICAgICAgICAgICAgICQoXCIudXBsb2FkUExpbmVcIiArIHJlc1R5cGVDbGFzcykuc2hvdygpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoXCIudXBsb2FkUExpbmVBY3RpdmVcIiArIHJlc1R5cGVDbGFzcykuY3NzKFwid2lkdGhcIiwgJzAnKTtcclxuICAgICAgICAgICAgICAgICQoXCIudXBsb2FkUGVyc2VudFwiICsgcmVzVHlwZUNsYXNzKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAgIGlmKHJlc1R5cGVDbGFzcyA9PSBcIkF1ZGlvMVwiKXsvL+ato+W8j+mfs+mikVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBBdWRpb05hbWUgPSBmaWxlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g6ZmQ5Yi26LWE5rqQ5ZyoKk1C5YaFXHJcbiAgICAgICAgICAgIGlmICgkdXBsb2FkRmlsZS5jaGVja0ZpbGVTaXplKGZpbGUsIHJlc0xpbWl0U2l6ZSkpIHtcclxuICAgICAgICAgICAgICAgIG1vZGFsLmlzQXVkaW9VcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHVwbG9hZEZpbGUudXBsb2FkUmVzKGZpbGUsIHJlc1R5cGUsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNUeXBlID09ICdhdWRpbycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IHBhcnNlSW50KGRhdGEgKiAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZFBMaW5lQWN0aXZlXCIgKyByZXNUeXBlQ2xhc3MpLmNzcyhcIndpZHRoXCIsIHByb2dyZXNzICsgJyUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIudXBsb2FkUGVyc2VudFwiICsgcmVzVHlwZUNsYXNzKS50ZXh0KHByb2dyZXNzICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyDkuIrkvKDmiJDlip/lm57osINcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5pc0F1ZGlvVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5LiK5Lyg5oiQ5Yqf77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZFBlcnNlbnRcIiArIHJlc1R5cGVDbGFzcykudGV4dChcIuW3suS4iuS8oFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc1VybCA9IGRhdGEuZGF0YS5hY2Nlc3NfdXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3VwbG9hZEF1ZGlvVXJsXCIpLnZhbChyZXNVcmwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOS4iuS8oOWksei0peWbnuiwg1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmlzQXVkaW9VcGxvYWRpbmcgID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLkuIrkvKDlpLHotKUhISFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkuIrkvKDlpLHotKXvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkuIrkvKDotYTmupDpmZDliLblnKhcIiArIHJlc0xpbWl0U2l6ZSArIFwiTULlhoXvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAkKFwiLnVwTG9hZFwiK3Jlc1R5cGVDbGFzcykudmFsKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmlsZXMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtb2RhbDtcclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==
