$(function(){createPlan.init()});var createPlan=function(){var e={};var n;var o;var c;var r;var t;var a;var i;var s;var u;var m;function d(e){$.ajax({type:"GET",url:"/coupon/getCoupon",dataType:"html",data:{name:e},success:function(e){$(".couponsContent").html(e)},error:function(e,n,o){console.log(e);console.error(o);console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})}function l(e){$.ajax({type:"GET",url:"/coupon/getResource",dataType:"html",data:{name:e},success:function(e){console.log(e);$(".membersContent").html(e)},error:function(e,n,o){console.log(e);console.error(o);console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})}e.init=function(){d("");l("");$("body").on("click",".couponsTr",function(){n=$(this).data("id");c=$(this).data("leftnum");o=$(this).data("name");m=$(this).children("#couponNum").html();$(this).find("input").prop("checked",true)});$("body").on("click",".membersTr",function(){r=$(this).data("id");t=$(this).data("membersnum");a=$(this).data("is_member");i=$(this).data("name");$(this).find("input").prop("checked",true)});$("body").on("click","tr",function(){});$("body").on("click",".closeAddBox,.boxClose",function(){$(".darkScreen2,.darkScreen1").fadeOut(200)});$("body").on("click",".selectMembers",function(){$(".darkScreen1").fadeIn(200)});$("body").on("click",".selectCoupons",function(){$(".darkScreen2").fadeIn(200)});$("body").on("click","#searchMembers",function(){var e=$("#memberName").val();l(e)});$("body").on("click","#searchCoupons",function(){var e=$("#couponsName").val();l(e)});$("body").on("click","#addCoupons",function(){$(".darkScreen2,.darkScreen1").fadeOut(200);$(".selectCoupons").hide();$(".conponInfo").show();$(".couponName").text(o);$(".couponNum").text(m+"张");$("#f_cou_name").attr("data-id",n)});$(".membersContent").on("click",".membersTr",function(){r=$(this).children("label").attr("for");member_num=$(this).children(".memberNum").html()});$("body").on("click","#addMembers",function(){s=r;$(".darkScreen,.darkScreen1").fadeOut(200);if(s!=""){$(".selectMembers").hide();$(".memberInfo").show();if(a==1){$(".memberType").text()}$(".memberName").text(i);$(".memberNum").text(member_num);$("#f_mem_name").attr("data-id",r)}});$(".memberInfoEdit").on("click",function(){$(".darkScreen1").fadeIn(200)});$(".memberInfoDel").on("click",function(){$(".memberInfo").hide();$(".selectMembers").show()});$(".couponEdit").on("click",function(){$(".darkScreen2").fadeIn(200)});$(".couponDel").on("click",function(){$(".conponInfo").hide();$(".selectCoupons").show()});$(".pageConfirm").on("click",function(){var e={title:$("#f_name").val(),cou_id:n,cou_name:o,resource_id:r,resource_name:i,count:t};$.ajax({type:"GET",url:"/coupon/addPlan",dataType:"json",data:{params:e},success:function(e){$(".submit-tip").html(e.msg)},error:function(e,n,o){console.log(e);console.error(o);console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})})};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXBvbkNyZWF0ZVBsYW4uanMiXSwibmFtZXMiOlsiJCIsImNyZWF0ZVBsYW4iLCJpbml0IiwiY291cG9uX2lkIiwiY291cG9uX25hbWUiLCJsZWZ0TnVtIiwicGFja2FnZV9pZCIsIm1lbWJlcnNOdW0iLCJpc19tZW1iZXIiLCJtZW1iZXJfbmFtZSIsImZvcm1fY29ucG9uX2lkIiwiZm9ybV9wYWNrYWdlX2lkIiwiY291cG9uX251bSIsInNlYXJjaENvdXBvbiIsIm5hbWUiLCJhamF4IiwidHlwZSIsInVybCIsImRhdGFUeXBlIiwiZGF0YSIsInN1Y2Nlc3MiLCJodG1sIiwiZXJyb3IiLCJ4aHIiLCJzdGF0dXMiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiYmFzZVV0aWxzIiwic2hvdyIsInJlZFRpcCIsInNlYXJjaE1lbWJlcnMiLCJvbiIsInRoaXMiLCJjaGlsZHJlbiIsImZpbmQiLCJwcm9wIiwiZmFkZU91dCIsImZhZGVJbiIsIm1lbWJlck5hbWUiLCJ2YWwiLCJjb3Vwb25zTmFtZSIsImhpZGUiLCJ0ZXh0IiwiYXR0ciIsIm1lbWJlcl9udW0iLCJwYXJhbXMiLCJ0aXRsZSIsImNvdV9pZCIsImNvdV9uYW1lIiwicmVzb3VyY2VfaWQiLCJyZXNvdXJjZV9uYW1lIiwiY291bnQiLCJtc2ciXSwibWFwcGluZ3MiOiJBQUdBQSxFQUFFLFdBQ0VDLFdBQVdDLFFBR2YsSUFBSUQsWUFBYSxXQUNiLEdBQUlBLEtBRUosSUFBSUUsRUFDSixJQUFJQyxFQUNKLElBQUlDLEVBQ0osSUFBSUMsRUFDSixJQUFJQyxFQUNKLElBQUlDLEVBQ0osSUFBSUMsRUFDSixJQUFJQyxFQUNKLElBQUlDLEVBQ0osSUFBSUMsRUFFSixTQUFTQyxHQUFhQyxHQUNsQmQsRUFBRWUsTUFDRUMsS0FBTSxNQUNOQyxJQUFLLG9CQUNMQyxTQUFVLE9BQ1ZDLE1BQ0lMLEtBQU1BLEdBRVZNLFFBQVMsU0FBVUQsR0FDZm5CLEVBQUUsbUJBQW1CcUIsS0FBS0YsSUFFOUJHLE1BQU8sU0FB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QmhDLEVBQUUsZ0JBQWdCc0MsT0FBTyxNQUc1QnRDLEdBQUUsa0JBQWtCZ0MsR0FBRyxRQUFRLFdBQzNCaEMsRUFBRSxlQUFlMEMsTUFDakIxQyxHQUFFLGtCQUFrQjZCLFFBRXhCN0IsR0FBRSxlQUFlZ0MsR0FBRyxRQUFRLFdBQ3hCaEMsRUFBRSxnQkFBZ0JzQyxPQUFPLE1BRzdCdEMsR0FBRSxjQUFjZ0MsR0FBRyxRQUFRLFdBQ3ZCaEMsRUFBRSxlQUFlMEMsTUFDakIxQyxHQUFFLGtCQUFrQjZCLFFBR3hCN0IsR0FBRSxnQkFBZ0JnQyxHQUFHLFFBQVEsV0FFekIsR0FBSWMsSUFDQUMsTUFBTS9DLEVBQUUsV0FBV3dDLE1BQ25CUSxPQUFPN0MsRUFDUDhDLFNBQVM3QyxFQUNUOEMsWUFBWTVDLEVBQ1o2QyxjQUFjMUMsRUFDZDJDLE1BQU03QyxFQUdWUCxHQUFFZSxNQUNFQyxLQUFNLE1BQ05DLElBQUssa0JBQ0xDLFNBQVUsT0FDVkMsTUFDSTJCLE9BQVVBLEdBRWQxQixRQUFTLFNBQVVELEdBQ2ZuQixFQUFFLGVBQWVxQixLQUFLRixFQUFLa0MsTUFHL0IvQixNQUFPLFNBQVVDLEVBQUtDLEVBQVFDLEdBQzFCQyxRQUFRQyxJQUFJSixFQUNaRyxTQUFRSixNQUFNRyxFQUNkQyxTQUFRSixNQUFNRSxFQUNkSSxXQUFVQyxLQUFLQyxPQUFPLG9CQVN0QyxPQUFPN0IiLCJmaWxlIjoiY291cG9uQ3JlYXRlUGxhbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGpzZXJrIG9uIDIwMTcvNi8yLlxyXG4gKi9cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICBjcmVhdGVQbGFuLmluaXQoKTtcclxufSk7XHJcblxyXG52YXIgY3JlYXRlUGxhbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjcmVhdGVQbGFuID0ge307XHJcblxyXG4gICAgdmFyIGNvdXBvbl9pZDtcclxuICAgIHZhciBjb3Vwb25fbmFtZTtcclxuICAgIHZhciBsZWZ0TnVtO1xyXG4gICAgdmFyIHBhY2thZ2VfaWQ7XHJcbiAgICB2YXIgbWVtYmVyc051bTtcclxuICAgIHZhciBpc19tZW1iZXI7XHJcbiAgICB2YXIgbWVtYmVyX25hbWU7XHJcbiAgICB2YXIgZm9ybV9jb25wb25faWQ7XHJcbiAgICB2YXIgZm9ybV9wYWNrYWdlX2lkO1xyXG4gICAgdmFyIGNvdXBvbl9udW07XHJcblxyXG4gICAgZnVuY3Rpb24gc2VhcmNoQ291cG9uKG5hbWUpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICB1cmw6ICcvY291cG9uL2dldENvdXBvbicsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgJCgnLmNvdXBvbnNDb250ZW50JykuaHRtbChkYXRhKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIEnKTtcclxuICAgICAgICAgICAgICAgIC8vaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIC8vICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgzMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNlYXJjaE1lbWJlcnMobmFtZSkge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogJy9jb3Vwb24vZ2V0UmVzb3VyY2UnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgJCgnLm1lbWJlcnNDb250ZW50JykuaHRtbChkYXRhKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIEnKTtcclxuICAgICAgICAgICAgICAgIC8vaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIC8vICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgzMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVQbGFuLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VhcmNoQ291cG9uKFwiXCIpO1xyXG4gICAgICAgIHNlYXJjaE1lbWJlcnMoXCJcIik7XHJcblxyXG4gICAgICAgICQoXCJib2R5XCIpLm9uKCdjbGljaycsICcuY291cG9uc1RyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb3Vwb25faWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XHJcbiAgICAgICAgICAgIGxlZnROdW0gPSAkKHRoaXMpLmRhdGEoJ2xlZnRudW0nKTtcclxuICAgICAgICAgICAgY291cG9uX25hbWU9JCh0aGlzKS5kYXRhKCduYW1lJyk7XHJcbiAgICAgICAgICAgIGNvdXBvbl9udW0gPSAkKHRoaXMpLmNoaWxkcmVuKCcjY291cG9uTnVtJykuaHRtbCgpO1xyXG5cclxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiaW5wdXRcIikucHJvcChcImNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgJChcImJvZHlcIikub24oJ2NsaWNrJywgJy5tZW1iZXJzVHInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBhY2thZ2VfaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XHJcbiAgICAgICAgICAgIG1lbWJlcnNOdW09JCh0aGlzKS5kYXRhKCdtZW1iZXJzbnVtJyk7XHJcbiAgICAgICAgICAgIGlzX21lbWJlcj0kKHRoaXMpLmRhdGEoJ2lzX21lbWJlcicpO1xyXG4gICAgICAgICAgICBtZW1iZXJfbmFtZT0kKHRoaXMpLmRhdGEoJ25hbWUnKTtcclxuXHJcbiAgICAgICAgICAgICQodGhpcykuZmluZChcImlucHV0XCIpLnByb3AoXCJjaGVja2VkXCIsIHRydWUpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICQoXCJib2R5XCIpLm9uKCdjbGljaycsICd0cicsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCJib2R5XCIpLm9uKCdjbGljaycsICcuY2xvc2VBZGRCb3gsLmJveENsb3NlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICQoXCIuZGFya1NjcmVlbjIsLmRhcmtTY3JlZW4xXCIpLmZhZGVPdXQoMjAwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcImJvZHlcIikub24oJ2NsaWNrJywgJy5zZWxlY3RNZW1iZXJzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiLmRhcmtTY3JlZW4xXCIpLmZhZGVJbigyMDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiYm9keVwiKS5vbignY2xpY2snLCAnLnNlbGVjdENvdXBvbnMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIuZGFya1NjcmVlbjJcIikuZmFkZUluKDIwMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCJib2R5XCIpLm9uKCdjbGljaycsICcjc2VhcmNoTWVtYmVycycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG1lbWJlck5hbWU9JChcIiNtZW1iZXJOYW1lXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICBzZWFyY2hNZW1iZXJzKG1lbWJlck5hbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoXCJib2R5XCIpLm9uKCdjbGljaycsICcjc2VhcmNoQ291cG9ucycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNvdXBvbnNOYW1lPSQoXCIjY291cG9uc05hbWVcIikudmFsKCk7XHJcbiAgICAgICAgICAgIHNlYXJjaE1lbWJlcnMoY291cG9uc05hbWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiYm9keVwiKS5vbignY2xpY2snLCAnI2FkZENvdXBvbnMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIuZGFya1NjcmVlbjIsLmRhcmtTY3JlZW4xXCIpLmZhZGVPdXQoMjAwKTtcclxuICAgICAgICAgICAgJChcIi5zZWxlY3RDb3Vwb25zXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgJChcIi5jb25wb25JbmZvXCIpLnNob3coKTtcclxuICAgICAgICAgICAgJChcIi5jb3Vwb25OYW1lXCIpLnRleHQoY291cG9uX25hbWUpO1xyXG4gICAgICAgICAgICAkKFwiLmNvdXBvbk51bVwiKS50ZXh0KGNvdXBvbl9udW0rJ+W8oCcpO1xyXG4gICAgICAgICAgICAkKCcjZl9jb3VfbmFtZScpLmF0dHIoXCJkYXRhLWlkXCIsY291cG9uX2lkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcubWVtYmVyc0NvbnRlbnQnKS5vbignY2xpY2snLCcubWVtYmVyc1RyJyxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBwYWNrYWdlX2lkID0gJCh0aGlzKS5jaGlsZHJlbignbGFiZWwnKS5hdHRyKCdmb3InKTtcclxuICAgICAgICAgICAgbWVtYmVyX251bSA9ICQodGhpcykuY2hpbGRyZW4oJy5tZW1iZXJOdW0nKS5odG1sKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy/noa7lrprmt7vliqDnm67moIfkurrnvqRcclxuICAgICAgICAkKFwiYm9keVwiKS5vbignY2xpY2snLCAnI2FkZE1lbWJlcnMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZvcm1fY29ucG9uX2lkPXBhY2thZ2VfaWQ7XHJcbiAgICAgICAgICAgICQoXCIuZGFya1NjcmVlbiwuZGFya1NjcmVlbjFcIikuZmFkZU91dCgyMDApO1xyXG5cclxuICAgICAgICAgICAgaWYoZm9ybV9jb25wb25faWQhPVwiXCIpe1xyXG5cclxuICAgICAgICAgICAgICAgICQoXCIuc2VsZWN0TWVtYmVyc1wiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKFwiLm1lbWJlckluZm9cIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgaWYoaXNfbWVtYmVyPT0xKXtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLm1lbWJlclR5cGVcIikudGV4dCgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkKFwiLm1lbWJlck5hbWVcIikudGV4dChtZW1iZXJfbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAkKFwiLm1lbWJlck51bVwiKS50ZXh0KG1lbWJlcl9udW0pO1xyXG4gICAgICAgICAgICAgICAgJCgnI2ZfbWVtX25hbWUnKS5hdHRyKFwiZGF0YS1pZFwiLHBhY2thZ2VfaWQpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy5tZW1iZXJJbmZvRWRpdCcpLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAkKCcuZGFya1NjcmVlbjEnKS5mYWRlSW4oMjAwKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLm1lbWJlckluZm9EZWwnKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoJy5tZW1iZXJJbmZvJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcuc2VsZWN0TWVtYmVycycpLnNob3coKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcuY291cG9uRWRpdCcpLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJCgnLmRhcmtTY3JlZW4yJykuZmFkZUluKDIwMCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy5jb3Vwb25EZWwnKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoJy5jb25wb25JbmZvJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcuc2VsZWN0Q291cG9ucycpLnNob3coKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIi5wYWdlQ29uZmlybVwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTokKCcjZl9uYW1lJykudmFsKCksXHJcbiAgICAgICAgICAgICAgICBjb3VfaWQ6Y291cG9uX2lkLFxyXG4gICAgICAgICAgICAgICAgY291X25hbWU6Y291cG9uX25hbWUsXHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZV9pZDpwYWNrYWdlX2lkLFxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfbmFtZTptZW1iZXJfbmFtZSxcclxuICAgICAgICAgICAgICAgIGNvdW50Om1lbWJlcnNOdW1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvY291cG9uL2FkZFBsYW4nLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicGFyYW1zXCI6IHBhcmFtc1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnN1Ym1pdC10aXAnKS5odG1sKGRhdGEubXNnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coeGhyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9oaWRlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgzMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBjcmVhdGVQbGFuO1xyXG59KCk7Il19
