$(function(){userList.init()});var userList=function(){var t={};t.submitLimit=false;t.communityId=-1;t.init=function(){t.communityId=GetQueryString("community_id");$(".moveInBlackList").click(function(){var t=$(this).parents(".userListItem").data("user_id");$.alert("移入黑名单后，该用户只能查看动态，不能发表、点赞和评论。","info",{btn:2,onOk:function(){i(t,2)}})});$(".moveOutBlackList").click(function(){var t=$(this).parents(".userListItem").data("user_id");i(t,0)});$("#searchUser").click(function(){var i=$("#userTypeSelector").val();var e=$("#userNameInput").val();window.location.href="/smallCommunity/userList?community_id="+t.communityId+"&search_content="+e+"&user_type="+i});$("#userNameInput").on("keypress",function(t){if(t.keyCode==13){$("#searchUser").click()}});$("#userTypeSelector").on("change",function(){$("#searchUser").click()})};function i(i,e){if(t.submitLimit){return false}t.submitLimit=true;$.ajax("/smallCommunity/changeUserState",{type:"POST",dataType:"json",data:{community_id:t.communityId,user_id:i,state:e},success:function(i){if(i.code==0){baseUtils.show.blueTip(e==2?"加入黑名单成功":"移出黑名单成功");setTimeout(function(){window.location.reload()},700)}else{t.submitLimit=false;console.log(i.msg);baseUtils.show.redTip(e==2?"加入黑名单失败，请稍后再试":"移出黑名单失败，请稍后再试")}},error:function(i,e,s){t.submitLimit=false;console.log(s);baseUtils.show.redTip("网络错误，请稍后再试！")}})}return t}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJMaXN0LmpzIl0sIm5hbWVzIjpbIiQiLCJ1c2VyTGlzdCIsImluaXQiLCJzdWJtaXRMaW1pdCIsImNvbW11bml0eUlkIiwiR2V0UXVlcnlTdHJpbmciLCJjbGljayIsInVzZXJJZCIsInRoaXMiLCJwYXJlbnRzIiwiZGF0YSIsImFsZXJ0IiwiYnRuIiwib25PayIsImNoYW5nZVVzZXJTdGF0ZSIsInVzZXJUeXBlIiwidmFsIiwic2VhcmNoQ29udGVudCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsIm9uIiwiZSIsImtleUNvZGUiLCJ1c2VyU3RhdGUiLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwiY29tbXVuaXR5X2lkIiwidXNlcl9pZCIsInN0YXRlIiwic3VjY2VzcyIsInJlc3VsdCIsImNvZGUiLCJiYXNlVXRpbHMiLCJzaG93IiwiYmx1ZVRpcCIsInNldFRpbWVvdXQiLCJyZWxvYWQiLCJjb25zb2xlIiwibG9nIiwibXNnIiwicmVkVGlwIiwiZXJyb3IiLCJ4aHIiLCJzdGF0dXMiLCJlcnIiXSwibWFwcGluZ3MiOiJBQUdBQSxFQUFFLFdBQ0VDLFNBQVNDLFFBR2IsSUFBSUQsVUFBVyxXQUVYLEdBQUlBLEtBRUpBLEdBQVNFLFlBQWMsS0FDdkJGLEdBQVNHLGFBQWUsQ0FFeEJILEdBQVNDLEtBQU8sV0FFWkQsRUFBU0csWUFBY0MsZUFBZSxlQUV0Q0wsR0FBRSxvQkFBb0JNLE1BQU0sV0FDeEIsR0FBSUMsR0FBU1AsRUFBRVEsTUFBTUMsUUFBUSxpQkFBaUJDLEtBQUssVUFDbkRWLEdBQUVXLE1BQU0sK0JBQWdDLFFBQ3BDQyxJQUFLLEVBQ0xDLEtBQU0sV0FDRkMsRUFBZ0JQLEVBQVEsT0FLcENQLEdBQUUscUJBQXFCTSxNQUFNLFdBQ3pCLEdBQUlDLEdBQVNQLEVBQUVRLE1BQU1DLFFBQVEsaUJBQWlCQyxLQUFLLFVBQ25ESSxHQUFnQlAsRUFBUSxJQUk1QlAsR0FBRSxlQUFlTSxNQUFNLFdBRW5CLEdBQUlTLEdBQVdmLEVBQUUscUJBQXFCZ0IsS0FDdEMsSUFBSUMsR0FBZ0JqQixFQUFFLGtCQUFrQmdCLEtBRXhDRSxRQUFPQyxTQUFTQyxLQUFPLHlDQUEyQ25CLEVBQVNHLFlBQWMsbUJBQXFCYSxFQUFnQixjQUFnQkYsR0FLbEpmLEdBQUUsa0JBQWtCcUIsR0FBRyxXQUFZLFNBQVVDLEdBQ3pDLEdBQUlBLEVBQUVDLFNBQVcsR0FBSSxDQUNqQnZCLEVBQUUsZUFBZU0sVUFLekJOLEdBQUUscUJBQXFCcUIsR0FBRyxTQUFVLFdBQ2hDckIsRUFBRSxlQUFlTSxVQVd6QixTQUFTUSxHQUFnQlAsRUFBUWlCLEdBQzdCLEdBQUl2QixFQUFTRSxZQUFhLENBQ3RCLE1BQU8sT0FFWEYsRUFBU0UsWUFBYyxJQUV2QkgsR0FBRXlCLEtBQUssbUNBQ0hDLEtBQU0sT0FDTkMsU0FBVSxPQUNWakIsTUFDSWtCLGFBQWMzQixFQUFTRyxZQUN2QnlCLFFBQVN0QixFQUNUdUIsTUFBT04sR0FFWE8sUUFBUyxTQUFVQyxHQUNmLEdBQUlBLEVBQU9DLE1BQVEsRUFBRyxDQUNsQkMsVUFBVUMsS0FBS0MsUUFBUVosR0FBYSxFQUFJLFVBQVksVUFDcERhLFlBQVcsV0FDUG5CLE9BQU9DLFNBQVNtQixVQUNqQixTQUNBLENBQ0hyQyxFQUFTRSxZQUFjLEtBQ3ZCb0MsU0FBUUMsSUFBSVIsRUFBT1MsSUFDbkJQLFdBQVVDLEtBQUtPLE9BQU9sQixHQUFhLEVBQUksZ0JBQWtCLG1CQUdqRW1CLE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUI3QyxFQUFTRSxZQUFjLEtBQ3ZCb0MsU0FBUUMsSUFBSU0sRUFDWlosV0FBVUMsS0FBS08sT0FBTyxrQkFPbEMsTUFBT3pDIiwiZmlsZSI6InVzZXJMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQWRtaW5pc3RyYXRvciBvbiAyMDE3LzUvMi5cclxuICovXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdXNlckxpc3QuaW5pdCgpO1xyXG59KVxyXG5cclxudmFyIHVzZXJMaXN0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgdXNlckxpc3QgPSB7fTtcclxuXHJcbiAgICB1c2VyTGlzdC5zdWJtaXRMaW1pdCA9IGZhbHNlO1xyXG4gICAgdXNlckxpc3QuY29tbXVuaXR5SWQgPSAtMTtcclxuXHJcbiAgICB1c2VyTGlzdC5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB1c2VyTGlzdC5jb21tdW5pdHlJZCA9IEdldFF1ZXJ5U3RyaW5nKFwiY29tbXVuaXR5X2lkXCIpO1xyXG5cclxuICAgICAgICAkKFwiLm1vdmVJbkJsYWNrTGlzdFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB1c2VySWQgPSAkKHRoaXMpLnBhcmVudHMoXCIudXNlckxpc3RJdGVtXCIpLmRhdGEoXCJ1c2VyX2lkXCIpO1xyXG4gICAgICAgICAgICAkLmFsZXJ0KFwi56e75YWl6buR5ZCN5Y2V5ZCO77yM6K+l55So5oi35Y+q6IO95p+l55yL5Yqo5oCB77yM5LiN6IO95Y+R6KGo44CB54K56LWe5ZKM6K+E6K6644CCXCIsIFwiaW5mb1wiLCB7XHJcbiAgICAgICAgICAgICAgICBidG46IDIsXHJcbiAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlVXNlclN0YXRlKHVzZXJJZCwgMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLm1vdmVPdXRCbGFja0xpc3RcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdXNlcklkID0gJCh0aGlzKS5wYXJlbnRzKFwiLnVzZXJMaXN0SXRlbVwiKS5kYXRhKFwidXNlcl9pZFwiKTtcclxuICAgICAgICAgICAgY2hhbmdlVXNlclN0YXRlKHVzZXJJZCwgMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIOaQnOe0oiArIOetm+mAiVxyXG4gICAgICAgICQoXCIjc2VhcmNoVXNlclwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdXNlclR5cGUgPSAkKFwiI3VzZXJUeXBlU2VsZWN0b3JcIikudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2hDb250ZW50ID0gJChcIiN1c2VyTmFtZUlucHV0XCIpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9zbWFsbENvbW11bml0eS91c2VyTGlzdD9jb21tdW5pdHlfaWQ9XCIgKyB1c2VyTGlzdC5jb21tdW5pdHlJZCArIFwiJnNlYXJjaF9jb250ZW50PVwiICsgc2VhcmNoQ29udGVudCArIFwiJnVzZXJfdHlwZT1cIiArIHVzZXJUeXBlO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gIOWbnui9puinpuWPkeaQnOe0olxyXG4gICAgICAgICQoXCIjdXNlck5hbWVJbnB1dFwiKS5vbihcImtleXByZXNzXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjc2VhcmNoVXNlclwiKS5jbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICDngrnlh7vnrZvpgInop6blj5HmkJzntKJcclxuICAgICAgICAkKFwiI3VzZXJUeXBlU2VsZWN0b3JcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiI3NlYXJjaFVzZXJcIikuY2xpY2soKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdXNlcklkXHJcbiAgICAgKiBAcGFyYW0gdXNlclN0YXRlICgwLeenu+WHuum7keWQjeWNlTsyLeWKoOWFpem7keWQjeWNlSlcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY2hhbmdlVXNlclN0YXRlKHVzZXJJZCwgdXNlclN0YXRlKSB7XHJcbiAgICAgICAgaWYgKHVzZXJMaXN0LnN1Ym1pdExpbWl0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXNlckxpc3Quc3VibWl0TGltaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAkLmFqYXgoXCIvc21hbGxDb21tdW5pdHkvY2hhbmdlVXNlclN0YXRlXCIsIHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgY29tbXVuaXR5X2lkOiB1c2VyTGlzdC5jb21tdW5pdHlJZCxcclxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgICAgICAgICAgIHN0YXRlOiB1c2VyU3RhdGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKHVzZXJTdGF0ZSA9PSAyID8gXCLliqDlhaXpu5HlkI3ljZXmiJDlip9cIiA6IFwi56e75Ye66buR5ZCN5Y2V5oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckxpc3Quc3VibWl0TGltaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQubXNnKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAodXNlclN0YXRlID09IDIgPyBcIuWKoOWFpem7keWQjeWNleWksei0pe+8jOivt+eojeWQjuWGjeivlVwiIDogXCLnp7vlh7rpu5HlkI3ljZXlpLHotKXvvIzor7fnqI3lkI7lho3or5VcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgdXNlckxpc3Quc3VibWl0TGltaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgcmV0dXJuIHVzZXJMaXN0O1xyXG5cclxufSkoKTsiXX0=
