$(function(){init();phoneCodeInit()});function init(){var e;var d;var i;var o;var s;var n;var t;$("#addAdminUser").click(function(){window.location.href="/admin/child/add"});$("#addName").keyup(function(){$("#nameExist").hide();$("#nameMsg").hide();var e=$("#addName").val().trim();console.log(e);if(!$formCheck.checkAccount(e)){$("#addName").addClass("borderRed");$("#nameMsg").show()}else{$("#addName").removeClass("borderRed");$("#nameMsg").hide()}if(e.length==0){return}else{$.post("/admin/isAcountRepeat",{name:e},function(e){if(e.ret==0){t=0;$(".checkImg").eq(0).removeClass("hide");$(".checkImg").eq(1).addClass("hide");$("#nameExist").hide();$("#addPrimarySubmit").attr("disabled",false)}else{t=1;$(".checkImg").eq(1).removeClass("hide");$(".checkImg").eq(0).addClass("hide");$("#nameExist").show();$("#nameMsg").hide();$("#addPrimarySubmit").attr("disabled",true)}})}});$("#addPassword").keyup(function(){d=$("#addPassword").val().trim();console.log(d);if(!$formCheck.checkPassword(d)){$("#addPassword").addClass("borderRed");$("#addPsd").show()}else{$("#addPassword").removeClass("borderRed");$("#addPsd").hide()}if(i!=d&&i.length!=0){$("#addConfirm").addClass("borderRed");$("#rePsd").show()}else{$("#addConfirm").removeClass("borderRed");$("#rePsd").hide()}});$("#addConfirm").keyup(function(){i=$("#addConfirm").val().trim();if(i!=d&&i.length!=0){$("#addConfirm").addClass("borderRed");$("#rePsd").show()}else{$("#addConfirm").removeClass("borderRed");$("#rePsd").hide()}});$("#addSubmit").click(function(){e=$("#addName").val().trim();d=$("#addPassword").val().trim();if(t==1){baseUtils.show.redTip("用户名已存在");return false}if(!$formCheck.checkAccount(e)){baseUtils.show.redTip("账号格式错误，6~18位字符，只能包含字母、数字、下划线");return false}if(!$formCheck.checkPassword(d)){baseUtils.show.redTip("密码格式错误，6-16位字符可包含数字，字母（区分大小写）");return false}if(d!=$("#addConfirm").val().trim()){baseUtils.show.redTip("亲,两次密码不一致");return false}$.post("admin/addAdminAccount",{name:e,password:d},function(e){if(e.code==0){baseUtils.show.blueTip("绑定成功",function(){window.location.reload()})}else{baseUtils.show.redTip("绑定失败")}})});$("#editNewPassword").keyup(function(){s=$("#editNewPassword").val().trim();console.log(s);if(!$formCheck.checkPassword(s)){$("#editNewPassword").addClass("borderRed");$("#reSet").show()}else{$("#editNewPassword").removeClass("borderRed");$("#reSet").hide()}if(n!=s&&n.length!=0){$("#editNewConfirm").addClass("borderRed");$("#reSetCheck").show()}else{$("#editNewConfirm").removeClass("borderRed");$("#reSetCheck").hide()}});$("#editNewConfirm").keyup(function(){n=$("#editNewConfirm").val().trim();if(n!=s&&n.length!=0){$("#editNewConfirm").addClass("borderRed");$("#reSetCheck").show()}else{$("#editNewConfirm").removeClass("borderRed");$("#reSetCheck").hide()}});$("#editSubmit").click(function(){o=$("#editOldPassword").val().trim();s=$("#editNewPassword").val().trim();if(o.length==0){baseUtils.show.redTip("亲,请输入旧的密码");return false}if(!$formCheck.checkPassword(s)){baseUtils.show.redTip("密码格式错误，6-16位字符可包含数字，字母（区分大小写）");return false}if(s!=n){baseUtils.show.redTip("亲,两次密码输入不一致");return false}$.post("/admin/addAdminAccount",{enter_password:o,password:s,page_type:1},function(e){if(e.code==0){baseUtils.show.blueTip("修改成功",function(){window.location.reload()})}else if(e.code!=0){baseUtils.show.redTip(e.msg)}})});$("#edit").on("click",function(){$("#editCode").fadeIn()});$("#add").on("click",function(){$("#loginBox").fadeIn()});$("#check").on("click",function(){$("#phoneCheck").fadeIn()});$(".closeBox").on("click",function(){$(".popBox").fadeOut()})}function phoneCodeInit(){var e=$("#phone").text();var d;var i=1;var o=0;function s(){var e=60;i=0;var d=setInterval(function(){if(e>0){$(".getCodeBtn").text(e+"秒");e--}else{$(".getCodeBtn").removeClass("preventClickBtn");$(".getCodeBtn").addClass("btnBlue");$(".getCodeBtn").text("再次获取");i=1;clearInterval(d)}},1e3)}$(".getCodeBtn").click(function(){if(i){$(".getCodeBtn").removeClass("btnBlue");$(this).addClass("preventClickBtn");s();$.get("/sendmsg",{phone:e},function(e){if(e.ret==0){}else{}})}});$(".identifyCodeInput").keyup(function(){d=$(".identifyCodeInput").val();if(d.length==0){$(".successTip,.errorTip").show();$(".identifyCodeInput").removeClass("borderRed");return}$.get("/identify",{phoneInIdentify:e,code:d},function(e){if(e.ret==0){$(".successTip").show();$(".errorTip").hide();$(".identifyCodeInput").removeClass("borderRed");o=1}else{$(".successTip").hide();$(".errorTip").show();$(".identifyCodeInput").addClass("borderRed");o=0}})});$("#phoneCheck .btnBlue").on("click",function(){if(o==1){$(".identifyCodeInput").val("");window.location.href="/changeAdmin"}else if(o==0){}})}function exitEdit(){$(".editInput").prop({disabled:true,readonly:true});$(".editBtn").show();$(".editContent").hide()}function editAdminUser(e){window.location.href="/admin/child/edit/"+e}function deleteAdminUser(e){$.get("/admin/del/"+e,{},function(e){if(e.code==0){baseUtils.show.blueTip("删除成功",function(){window.location.reload()})}else{baseUtils.show.redTip("删除失败")}})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRNYW5hZ2UuanMiXSwibmFtZXMiOlsiJCIsImluaXQiLCJwaG9uZUNvZGVJbml0IiwiYWRkTmFtZSIsImFkZFBhc3N3b3JkIiwicmVQYXNzd29yZCIsImVkaXRPbGRQYXNzd29yZCIsImVkaXROZXdQYXNzd29yZCIsInJlRWRpdE5ldyIsImhhc05hbWUiLCJjbGljayIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImtleXVwIiwiaGlkZSIsInZhbCIsInRyaW0iLCJjb25zb2xlIiwibG9nIiwiJGZvcm1DaGVjayIsImNoZWNrQWNjb3VudCIsImFkZENsYXNzIiwic2hvdyIsInJlbW92ZUNsYXNzIiwibGVuZ3RoIiwicG9zdCIsIm5hbWUiLCJkYXRhIiwicmV0IiwiZXEiLCJhdHRyIiwiY2hlY2tQYXNzd29yZCIsImJhc2VVdGlscyIsInJlZFRpcCIsInBhc3N3b3JkIiwiY29kZSIsImJsdWVUaXAiLCJyZWxvYWQiLCJlbnRlcl9wYXNzd29yZCIsInBhZ2VfdHlwZSIsIm1zZyIsIm9uIiwiZmFkZUluIiwiZmFkZU91dCIsInBob25lIiwidGV4dCIsImNoZWNrQ29kZSIsInNlbmRNc2ciLCJjb2RlQ29ycmVjdCIsImNvdW50Iiwic2Vjb25kcyIsInJvdW5kIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwidGhpcyIsImdldCIsInBob25lSW5JZGVudGlmeSIsImV4aXRFZGl0IiwicHJvcCIsImRpc2FibGVkIiwicmVhZG9ubHkiLCJlZGl0QWRtaW5Vc2VyIiwiaWQiLCJkZWxldGVBZG1pblVzZXIiXSwibWFwcGluZ3MiOiJBQUlBQSxFQUFFLFdBQ0VDLE1BQ0FDLGtCQU1KLFNBQVNELFFBU0wsR0FBSUUsRUFDSixJQUFJQyxFQUNKLElBQUlDLEVBQ0osSUFBSUMsRUFDSixJQUFJQyxFQUNKLElBQUlDLEVBQ0osSUFBSUMsRUFJSlQsR0FBRSxpQkFBaUJVLE1BQU0sV0FDckJDLE9BQU9DLFNBQVNDLEtBQU8sb0JBSzNCYixHQUFFLFlB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QixHQUNOLEdBQUlBLEVBQUtDLEtBQU8sRUFBRyxDQUNmN0IsRUFBRSxlQUFldUIsTUFDakJ2QixHQUFFLGFBQWFlLE1BQ2ZmLEdBQUUsc0JBQXNCd0IsWUFBWSxZQUNwQ3lCLEdBQWMsTUFDWCxDQUNIakQsRUFBRSxlQUFlZSxNQUNqQmYsR0FBRSxhQUFhdUIsTUFDZnZCLEdBQUUsc0JBQXNCc0IsU0FBUyxZQUNqQzJCLEdBQWMsTUFNOUJqRCxHQUFFLHdCQUF3QjBDLEdBQUcsUUFBUSxXQUNsQyxHQUFHTyxHQUFlLEVBQUUsQ0FDaEJqRCxFQUFFLHNCQUFzQmdCLElBQUksR0FDNUJMLFFBQU9DLFNBQVNDLEtBQUssbUJBQ25CLElBQUdvQyxHQUFlLEVBQUUsS0FPakMsUUFBU1MsWUFDTDFELEVBQUUsY0FBYzJELE1BQ1pDLFNBQVUsS0FDVkMsU0FBVSxNQUVkN0QsR0FBRSxZQUFZdUIsTUFDZHZCLEdBQUUsZ0JBQWdCZSxPQUl0QixRQUFTK0MsZUFBY0MsR0FFbkJwRCxPQUFPQyxTQUFTQyxLQUFLLHFCQUFxQmtELEVBSTlDLFFBQVNDLGlCQUFnQkQsR0FFckIvRCxFQUFFd0QsSUFBSSxjQUFjTyxLQUFNLFNBQVNuQyxHQUUvQixHQUFHQSxFQUFLUSxNQUFNLEVBQ2QsQ0FDSUgsVUFBVVYsS0FBS2MsUUFBUSxPQUFPLFdBRTFCMUIsT0FBT0MsU0FBUzBCLGVBSXhCLENBQ0lMLFVBQVVWLEtBQUtXLE9BQU8iLCJmaWxlIjoiYWNjb3VudE1hbmFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IFN0dXBoaW4gb24gMjAxNi85LzI2LlxyXG4gKi9cclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIGluaXQoKTtcclxuICAgIHBob25lQ29kZUluaXQoKTtcclxuXHJcbn0pO1xyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBpbml0KCl7XHJcbiAgICAvLyAgQ29udGVudOWMuuWfn+Wwj+agh+mimFxyXG4gICAgLypzaG93Q29udGVudFRpdGxlKCk7XHJcbiAgICAgaWYgKGlzX2h1aWR1ID09IDEpIHtcclxuICAgICBhcHBlbmRDb250ZW50SGVhZGVyKFwi6LSm5oi35LiA6KeIXCIsIFwiL2FjY291bnR2aWV3XCIsIGZhbHNlKTtcclxuICAgICB9XHJcbiAgICAgYXBwZW5kQ29udGVudEhlYWRlcihcIui0puWPt+euoeeQhlwiLCBcIi9hY2NvdW50bWFuYWdlXCIsIHRydWUpO1xyXG4gICAgIGFwcGVuZENvbnRlbnRIZWFkZXIoXCLov5DokKXmqKHlvI/orr7nva5cIiwgXCIvcGVyc29ubW9kZWxcIiwgZmFsc2UpOyovXHJcbiAgICAvLyBhcHBlbmRDb250ZW50SGVhZGVyKFwi5bCP56iL5bqP6K6+572uXCIsIFwiL3NtYWxscHJvZ3JhbXNldHRpbmdcIiwgZmFsc2UpO1xyXG4gICAgdmFyIGFkZE5hbWU7Ly/nlKjmiLflkI1cclxuICAgIHZhciBhZGRQYXNzd29yZDsvL+esrOS4gOasoei+k+WFpeWvhueggVxyXG4gICAgdmFyIHJlUGFzc3dvcmQ7Ly/ph43lpI3ovpPlhaVcclxuICAgIHZhciBlZGl0T2xkUGFzc3dvcmQ7Ly/ml6flr4bnoIFcclxuICAgIHZhciBlZGl0TmV3UGFzc3dvcmQ7Ly/mlrDlr4bnoIFcclxuICAgIHZhciByZUVkaXROZXc7Ly/ph43lpI3mlrDlr4bnoIFcclxuICAgIHZhciBoYXNOYW1lOy8v55So5oi35ZCN6YeN5aSN5Yik5a6a6ZSu5YC8ICAw5peg6YeN5aSNIDHph43lpI1cclxuXHJcblxyXG4gICAgLy/mlrDlop7pobXpnaJcclxuICAgICQoXCIjYWRkQWRtaW5Vc2VyXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2FkbWluL2NoaWxkL2FkZFwiO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8v5paw5aKe6LSm5Y+35pe25qOA5rWL6LSm5Y+35ZSv5LiA5oCnXHJcbiAgICAkKFwiI2FkZE5hbWVcIikua2V5dXAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIjbmFtZUV4aXN0XCIpLmhpZGUoKTtcclxuICAgICAgICAkKCcjbmFtZU1zZycpLmhpZGUoKTtcclxuICAgICAgICB2YXIgYWRkTmFtZSA9ICQoXCIjYWRkTmFtZVwiKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYWRkTmFtZSk7XHJcbiAgICAgICAgaWYoISRmb3JtQ2hlY2suY2hlY2tBY2NvdW50KGFkZE5hbWUpKXtcclxuICAgICAgICAgICAgJChcIiNhZGROYW1lXCIpLmFkZENsYXNzKCdib3JkZXJSZWQnKTtcclxuICAgICAgICAgICAgJCgnI25hbWVNc2cnKS5zaG93KCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICQoXCIjYWRkTmFtZVwiKS5yZW1vdmVDbGFzcygnYm9yZGVyUmVkJyk7XHJcbiAgICAgICAgICAgICQoJyNuYW1lTXNnJykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWRkTmFtZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhZGROYW1lKTtcclxuICAgICAgICAgICAgJC5wb3N0KFwiL2FkbWluL2lzQWNvdW50UmVwZWF0XCIsIHtcIm5hbWVcIjogYWRkTmFtZX0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZXQgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc05hbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuY2hlY2tJbWdcIikuZXEoMCkucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuY2hlY2tJbWdcIikuZXEoMSkuYWRkQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjbmFtZUV4aXN0XCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI2FkZFByaW1hcnlTdWJtaXRcIikuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc05hbWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuY2hlY2tJbWdcIikuZXEoMSkucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuY2hlY2tJbWdcIikuZXEoMCkuYWRkQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjbmFtZUV4aXN0XCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjbmFtZU1zZycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI2FkZFByaW1hcnlTdWJtaXRcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcjYWRkUGFzc3dvcmQnKS5rZXl1cChmdW5jdGlvbigpe1xyXG4gICAgICAgIGFkZFBhc3N3b3JkID0gJChcIiNhZGRQYXNzd29yZFwiKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYWRkUGFzc3dvcmQpO1xyXG4gICAgICAgIGlmKCEkZm9ybUNoZWNrLmNoZWNrUGFzc3dvcmQoYWRkUGFzc3dvcmQpKXtcclxuICAgICAgICAgICAgJChcIiNhZGRQYXNzd29yZFwiKS5hZGRDbGFzcygnYm9yZGVyUmVkJyk7XHJcbiAgICAgICAgICAgICQoJyNhZGRQc2QnKS5zaG93KCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICQoXCIjYWRkUGFzc3dvcmRcIikucmVtb3ZlQ2xhc3MoJ2JvcmRlclJlZCcpO1xyXG4gICAgICAgICAgICAkKCcjYWRkUHNkJykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihyZVBhc3N3b3JkICE9IGFkZFBhc3N3b3JkICYmIHJlUGFzc3dvcmQubGVuZ3RoICE9MCl7XHJcbiAgICAgICAgICAgICQoXCIjYWRkQ29uZmlybVwiKS5hZGRDbGFzcygnYm9yZGVyUmVkJyk7XHJcbiAgICAgICAgICAgICQoJyNyZVBzZCcpLnNob3coKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgJChcIiNhZGRDb25maXJtXCIpLnJlbW92ZUNsYXNzKCdib3JkZXJSZWQnKTtcclxuICAgICAgICAgICAgJCgnI3JlUHNkJykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNhZGRDb25maXJtJykua2V5dXAoZnVuY3Rpb24oKXtcclxuICAgICAgICByZVBhc3N3b3JkID0gJChcIiNhZGRDb25maXJtXCIpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBpZihyZVBhc3N3b3JkICE9IGFkZFBhc3N3b3JkICYmIHJlUGFzc3dvcmQubGVuZ3RoICE9MCl7XHJcbiAgICAgICAgICAgICQoXCIjYWRkQ29uZmlybVwiKS5hZGRDbGFzcygnYm9yZGVyUmVkJyk7XHJcbiAgICAgICAgICAgICQoJyNyZVBzZCcpLnNob3coKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgJChcIiNhZGRDb25maXJtXCIpLnJlbW92ZUNsYXNzKCdib3JkZXJSZWQnKTtcclxuICAgICAgICAgICAgJCgnI3JlUHNkJykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy/mlrDlop7nrqHnkIblkZjotKblj7dcclxuICAgICQoXCIjYWRkU3VibWl0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhZGROYW1lID0gJChcIiNhZGROYW1lXCIpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBhZGRQYXNzd29yZCA9ICQoXCIjYWRkUGFzc3dvcmRcIikudmFsKCkudHJpbSgpO1xyXG4gICAgICAgIGlmKGhhc05hbWUgPT0gMSl7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn55So5oi35ZCN5bey5a2Y5ZyoJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghJGZvcm1DaGVjay5jaGVja0FjY291bnQoYWRkTmFtZSkpe1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLotKblj7fmoLzlvI/plJnor6/vvIw2fjE45L2N5a2X56ym77yM5Y+q6IO95YyF5ZCr5a2X5q+N44CB5pWw5a2X44CB5LiL5YiS57q/XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoISRmb3JtQ2hlY2suY2hlY2tQYXNzd29yZChhZGRQYXNzd29yZCkpIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5a+G56CB5qC85byP6ZSZ6K+v77yMNi0xNuS9jeWtl+espuWPr+WMheWQq+aVsOWtl++8jOWtl+avje+8iOWMuuWIhuWkp+Wwj+WGme+8iVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWRkUGFzc3dvcmQgIT0gJChcIiNhZGRDb25maXJtXCIpLnZhbCgpLnRyaW0oKSkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkurIs5Lik5qyh5a+G56CB5LiN5LiA6Ie0XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQucG9zdChcImFkbWluL2FkZEFkbWluQWNjb3VudFwiLCB7XCJuYW1lXCI6IGFkZE5hbWUsIFwicGFzc3dvcmRcIjogYWRkUGFzc3dvcmR9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLnu5HlrprmiJDlip9cIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi57uR5a6a5aSx6LSlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvL+S/ruaUueeuoeeQhuWRmOi0puWPt1xyXG4gICAgJCgnI2VkaXROZXdQYXNzd29yZCcpLmtleXVwKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgZWRpdE5ld1Bhc3N3b3JkID0gJChcIiNlZGl0TmV3UGFzc3dvcmRcIikudmFsKCkudHJpbSgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVkaXROZXdQYXNzd29yZCk7XHJcbiAgICAgICAgaWYoISRmb3JtQ2hlY2suY2hlY2tQYXNzd29yZChlZGl0TmV3UGFzc3dvcmQpKXtcclxuICAgICAgICAgICAgJChcIiNlZGl0TmV3UGFzc3dvcmRcIikuYWRkQ2xhc3MoJ2JvcmRlclJlZCcpO1xyXG4gICAgICAgICAgICAkKCcjcmVTZXQnKS5zaG93KCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICQoXCIjZWRpdE5ld1Bhc3N3b3JkXCIpLnJlbW92ZUNsYXNzKCdib3JkZXJSZWQnKTtcclxuICAgICAgICAgICAgJCgnI3JlU2V0JykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihyZUVkaXROZXcgIT0gZWRpdE5ld1Bhc3N3b3JkICYmIHJlRWRpdE5ldy5sZW5ndGggIT0wKXtcclxuICAgICAgICAgICAgJChcIiNlZGl0TmV3Q29uZmlybVwiKS5hZGRDbGFzcygnYm9yZGVyUmVkJyk7XHJcbiAgICAgICAgICAgICQoJyNyZVNldENoZWNrJykuc2hvdygpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAkKFwiI2VkaXROZXdDb25maXJtXCIpLnJlbW92ZUNsYXNzKCdib3JkZXJSZWQnKTtcclxuICAgICAgICAgICAgJCgnI3JlU2V0Q2hlY2snKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI2VkaXROZXdDb25maXJtJykua2V5dXAoZnVuY3Rpb24oKXtcclxuICAgICAgICByZUVkaXROZXcgPSAkKFwiI2VkaXROZXdDb25maXJtXCIpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBpZihyZUVkaXROZXcgIT0gZWRpdE5ld1Bhc3N3b3JkICYmIHJlRWRpdE5ldy5sZW5ndGggIT0wKXtcclxuICAgICAgICAgICAgJChcIiNlZGl0TmV3Q29uZmlybVwiKS5hZGRDbGFzcygnYm9yZGVyUmVkJyk7XHJcbiAgICAgICAgICAgICQoJyNyZVNldENoZWNrJykuc2hvdygpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAkKFwiI2VkaXROZXdDb25maXJtXCIpLnJlbW92ZUNsYXNzKCdib3JkZXJSZWQnKTtcclxuICAgICAgICAgICAgJCgnI3JlU2V0Q2hlY2snKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKFwiI2VkaXRTdWJtaXRcIikuY2xpY2soZnVuY3Rpb24gKCkgey8v5o+Q5Lqk5L+u5pS56aG16Z2iXHJcbiAgICAgICAgZWRpdE9sZFBhc3N3b3JkID0gJChcIiNlZGl0T2xkUGFzc3dvcmRcIikudmFsKCkudHJpbSgpO1xyXG4gICAgICAgIGVkaXROZXdQYXNzd29yZCA9ICQoXCIjZWRpdE5ld1Bhc3N3b3JkXCIpLnZhbCgpLnRyaW0oKTtcclxuXHJcbiAgICAgICAgaWYgKGVkaXRPbGRQYXNzd29yZC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkurIs6K+36L6T5YWl5pen55qE5a+G56CBXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoISRmb3JtQ2hlY2suY2hlY2tQYXNzd29yZChlZGl0TmV3UGFzc3dvcmQpKSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWvhueggeagvOW8j+mUmeivr++8jDYtMTbkvY3lrZfnrKblj6/ljIXlkKvmlbDlrZfvvIzlrZfmr43vvIjljLrliIblpKflsI/lhpnvvIlcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVkaXROZXdQYXNzd29yZCAhPSByZUVkaXROZXcpIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LqyLOS4pOasoeWvhueggei+k+WFpeS4jeS4gOiHtFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkLnBvc3QoXCIvYWRtaW4vYWRkQWRtaW5BY2NvdW50XCIsIHtcclxuICAgICAgICAgICAgXCJlbnRlcl9wYXNzd29yZFwiOiBlZGl0T2xkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgIFwicGFzc3dvcmRcIjogZWRpdE5ld1Bhc3N3b3JkLFwicGFnZV90eXBlXCI6MVxyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuS/ruaUueaIkOWKn1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5jb2RlICE9IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL+e8lui+keWVhuaIt+WQjVxyXG4gICAgLy8gJCgnI2VkaXRXeE5hbWUnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgJCgnI3d4bmFtZUlucHV0JykucHJvcCh7XHJcbiAgICAvLyAgICAgICAgIGRpc2FibGVkOiBmYWxzZSxcclxuICAgIC8vICAgICAgICAgcmVhZG9ubHk6IGZhbHNlXHJcbiAgICAvLyAgICAgfSkuZm9jdXMoKTtcclxuICAgIC8vICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgIC8vICAgICAkKCcjZWRpdENvbnRlbnQnKS5zaG93KCk7XHJcbiAgICAvLyB9KTtcclxuICAgIC8vICQoJyNjYW5jbGVFZGl0JykuY2xpY2soZXhpdEVkaXQpOy8v6YCA5Ye657yW6L6RXHJcbiAgICAvLyAkKCcjc2F2ZUVkaXQnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgdmFyIHd4TmFtZSA9ICQudHJpbSgkKCcjd3huYW1lSW5wdXQnKS52YWwoKSk7XHJcbiAgICAvLyAgICAgaWYgKHd4TmFtZSA9PSAnJykge1xyXG4gICAgLy8gICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+ivt+i+k+WFpeWVhuaIt+WQje+8gScpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICAkLmFqYXgoJy9lZGl0X3d4X25hbWUnLCB7XHJcbiAgICAvLyAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgLy8gICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgLy8gICAgICAgICBkYXRhOiB7bmFtZTogd3hOYW1lfSxcclxuICAgIC8vICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGpzb24pO1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKGpzb24uY29kZSA9PSAxKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcCgn5L+d5a2Y5oiQ5YqfJyk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgZXhpdEVkaXQoKTtcclxuICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGpzb24ubXNnKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfSxcclxuICAgIC8vICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIC8vICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBJyk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gfSk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgLy8g5by556qX55u45YWz5LqL5Lu2XHJcbiAgICAvL+W8ueWHuua/gOa0u1xyXG4gICAgJCgnI2VkaXQnKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAkKCcjZWRpdENvZGUnKS5mYWRlSW4oKTtcclxuICAgIH0pO1xyXG4gICAgJCgnI2FkZCcpLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcjbG9naW5Cb3gnKS5mYWRlSW4oKTtcclxuICAgIH0pXHJcbiAgICAkKCcjY2hlY2snKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCgnI3Bob25lQ2hlY2snKS5mYWRlSW4oKTtcclxuICAgIH0pXHJcbiAgICAvLyDlj5bmtohcclxuICAgICQoJy5jbG9zZUJveCcpLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcucG9wQm94JykuZmFkZU91dCgpO1xyXG4gICAgICAgIC8vIHNldFRpbWVvdXQoJCgnLnBvcEJveCcpLmZhZGVPdXQoMjAwKSk7XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHBob25lQ29kZUluaXQoKSB7XHJcbiAgICB2YXIgcGhvbmUgPSAkKFwiI3Bob25lXCIpLnRleHQoKTsgLy/miYvmnLrlj7dcclxuICAgIHZhciBjaGVja0NvZGU7ICAvL+aJi+acuumqjOivgeeggVxyXG4gICAgdmFyIHNlbmRNc2cgPSAxOyAgICAvL+aYr+WQpuWPr+iOt+WPlumqjOivgeeggVxyXG4gICAgdmFyIGNvZGVDb3JyZWN0ID0gMDsgLy/pqozor4HnoIHmmK/lkKbmraPnoa5cclxuXHJcbiAgICBmdW5jdGlvbiBjb3VudCgpIHtcclxuICAgICAgICB2YXIgc2Vjb25kcyA9IDYwO1xyXG4gICAgICAgIHNlbmRNc2cgPSAwO1xyXG4gICAgICAgIHZhciByb3VuZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHNlY29uZHMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmdldENvZGVCdG5cIikudGV4dChzZWNvbmRzICsgJ+enkicpO1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kcy0tO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJChcIi5nZXRDb2RlQnRuXCIpLnJlbW92ZUNsYXNzKCdwcmV2ZW50Q2xpY2tCdG4nKTtcclxuICAgICAgICAgICAgICAgICQoXCIuZ2V0Q29kZUJ0blwiKS5hZGRDbGFzcygnYnRuQmx1ZScpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5nZXRDb2RlQnRuXCIpLnRleHQoJ+WGjeasoeiOt+WPlicpO1xyXG4gICAgICAgICAgICAgICAgc2VuZE1zZyA9IDE7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHJvdW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDEwMDApXHJcbiAgICB9XHJcblxyXG4gICAgLy/ojrflj5bpqozor4HnoIFcclxuICAgICQoXCIuZ2V0Q29kZUJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHNlbmRNc2cpIHtcclxuICAgICAgICAgICAgJChcIi5nZXRDb2RlQnRuXCIpLnJlbW92ZUNsYXNzKCdidG5CbHVlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3ByZXZlbnRDbGlja0J0bicpO1xyXG4gICAgICAgICAgICBjb3VudCgpO1xyXG4gICAgICAgICAgICAkLmdldChcIi9zZW5kbXNnXCIsIHtcInBob25lXCI6IHBob25lfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJldCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8v5qCh6aqM6aqM6K+B56CBXHJcbiAgICAkKFwiLmlkZW50aWZ5Q29kZUlucHV0XCIpLmtleXVwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjaGVja0NvZGUgPSAkKFwiLmlkZW50aWZ5Q29kZUlucHV0XCIpLnZhbCgpO1xyXG5cclxuICAgICAgICBpZiAoY2hlY2tDb2RlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICQoXCIuc3VjY2Vzc1RpcCwuZXJyb3JUaXBcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAkKFwiLmlkZW50aWZ5Q29kZUlucHV0XCIpLnJlbW92ZUNsYXNzKCdib3JkZXJSZWQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkLmdldCgnL2lkZW50aWZ5Jywge1wicGhvbmVJbklkZW50aWZ5XCI6IHBob25lLCBcImNvZGVcIjogY2hlY2tDb2RlfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJldCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zdWNjZXNzVGlwXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmVycm9yVGlwXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmlkZW50aWZ5Q29kZUlucHV0XCIpLnJlbW92ZUNsYXNzKCdib3JkZXJSZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlQ29ycmVjdCA9IDE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuc3VjY2Vzc1RpcFwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5lcnJvclRpcFwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5pZGVudGlmeUNvZGVJbnB1dFwiKS5hZGRDbGFzcygnYm9yZGVyUmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZUNvcnJlY3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgLy/pqozor4Hpqozor4HnoIHvvIznoa7orqTngrnlh7vkuovku7ZcclxuXHJcbiAgICAkKCcjcGhvbmVDaGVjayAuYnRuQmx1ZScpLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcclxuICAgICAgIGlmKGNvZGVDb3JyZWN0ID09IDEpe1xyXG4gICAgICAgICAgICQoXCIuaWRlbnRpZnlDb2RlSW5wdXRcIikudmFsKCcnKTtcclxuICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj0nL2NoYW5nZUFkbWluJztcclxuICAgICAgIH1lbHNlIGlmKGNvZGVDb3JyZWN0ID09IDApe1xyXG4gICAgICAgICAgIC8vIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5oKo6aqM6K+B56CB5pyq6YCa6L+HJyk7XHJcbiAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy/pgIDlh7rnvJbovpEo6YCa55SoKVxyXG5mdW5jdGlvbiBleGl0RWRpdCgpe1xyXG4gICAgJCgnLmVkaXRJbnB1dCcpLnByb3Aoe1xyXG4gICAgICAgIGRpc2FibGVkOiB0cnVlLFxyXG4gICAgICAgIHJlYWRvbmx5OiB0cnVlXHJcbiAgICB9KTtcclxuICAgICQoJy5lZGl0QnRuJykuc2hvdygpO1xyXG4gICAgJCgnLmVkaXRDb250ZW50JykuaGlkZSgpO1xyXG59XHJcblxyXG4vL+e8lui+kVxyXG5mdW5jdGlvbiBlZGl0QWRtaW5Vc2VyKGlkKVxyXG57XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cIi9hZG1pbi9jaGlsZC9lZGl0L1wiK2lkO1xyXG59XHJcblxyXG4vL+WIoOmZpFxyXG5mdW5jdGlvbiBkZWxldGVBZG1pblVzZXIoaWQpXHJcbntcclxuICAgICQuZ2V0KFwiL2FkbWluL2RlbC9cIitpZCx7fSxmdW5jdGlvbihkYXRhKVxyXG4gICAge1xyXG4gICAgICAgIGlmKGRhdGEuY29kZT09MClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLliKDpmaTmiJDlip9cIixmdW5jdGlvbigpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWIoOmZpOWksei0pVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuIl19
