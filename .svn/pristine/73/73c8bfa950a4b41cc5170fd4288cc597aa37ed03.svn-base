var search_content;var resource_type;var page_offset_json;var page_offset=new Array;var requestedData;$(document).ready(function(){Business.init()});var Business=function(){var e={};e["aliveId"]=-1;e["piecePrice"]=-1;e.init=function(){$(".selectResourceBtn").click(function(){showLoading();$.ajax("/choice_resource_list",{type:"POST",dataType:"json",data:{channel_type:1,search_content:"",resource_type:0},success:function(e){hideLoading();if(e.code==0){requestedData=e.data;var a=ResourceUtils.getSelectPageHtmlCode(e.data);$(".select_good_window").fadeIn(300);$(".select_content_area").html("");$(".select_content_area").append(a)}else{baseUtils.show.redTip("拉取已有单品失败！")}},error:function(e,a,t){hideLoading();console.error(t);baseUtils.show.redTip("网络错误，请稍后再试！")}})});modal.initSearchAll();modal.initSelectResource();var e=ResourceUtils.getHomePagination("/resource_list_page",resource_type,search_content,GetQueryString("state")||0);$("ul.pagination").append(e);(function(){var e=new Clipboard(".copyHref");e.on("success",function(e){if(e.trigger.id=="copy_app_href"){baseUtils.show.blueTip("复制成功！")}else{baseUtils.show.blueTip("复制成功！请在微信内打开哦 。")}e.clearSelection()})})();$(".edit_resource_btn").click(function(){var e=$(this).parents(".tr_body").data("resource_type");var a=$(this).parents(".tr_body").data("resource_id");window.location.href="/edit_resource_page?type="+e+"&id="+a+"&upload_channel_type="+1});$("ul.more_operate>li").click(function(){var e=$(this).parents(".tr_body").data("resource_type"),a=$(this).parents(".tr_body").data("resource_id"),t=$(this).parents(".tr_body").data("resource_name"),s=$(this).parents(".tr_body").data("piece_price"),r=$(this).parents(".tr_body").data("is_transcode");var i=$(this).data("type");switch(i){case"look_comment":if(e==4){resetUrl("/alivecomment?alive_id="+a)}else{resetUrl("/comment_admin?type="+(e-1)+"&record_id="+a)}break;case"export_audio":modal.exportAudio(a);break;case"end_alive":ResourceUtils.endAlive(a);break;case"set_sale_ratio":modal.setSaleRatio(t,s,a);break;case"enable_copy":ResourceUtils.changeCanSelectState(a,true);break;case"forbid_copy":$.alert("禁止复制后，该篇图文的图片点击放大和长按识别二维码功能将被禁用","info",{btn:3,onOk:function(){ResourceUtils.changeCanSelectState(a,false)}});break;case"hide_resource":ResourceUtils.updateResourceState(e,1,a);break;case"show_resource":if(r==2){baseUtils.show.redTip("当前资源转码失败，请重新上传！");return false}ResourceUtils.updateResourceState(e,0,a);break;case"remove_resource":modal.removeResource(e,a);break;default:console.log("参数错误");break}});modal.initSetSale()};return e}();var modal=function(){var e={};var a=-1;e.initSearchAll=function(){$(".searchAllBtn").click(function(){var e=$(".selector_resource_type").val();var a=$.trim($(".selector_show_type").val());var t=$.trim($(".inputSearchAll").val());window.location.href="/resource_list_page?resource_type="+e+"&search_content="+t+"&state="+a});$(".inputSearchAll").focusin(function(){$(document).keypress(function(e){if(e.which==13){$(".searchAllBtn").trigger("click")}})}).focusout(function(){$(document).off("keypress")});$(".selector_show_type, .selector_resource_type").on("change",function(){$(".searchAllBtn").trigger("click")});ResourceUtils.reBackSearch()};e.initSelectResource=function(){$(".close_icon_wrapper").click(function(){$(".select_good_window").fadeOut(300)});$(".cancel_btn").click(function(){$(".select_good_window").fadeOut(300)});$(".next_step_btn").click(function(){a=$("input:radio:checked").val();if(a==undefined){baseUtils.show.redTip("请先选择一个已有单品！");return}$(".select_good_window").fadeOut(300);var e=requestedData["resource_list"][a];$(".resource_icon_3").attr("src",e["img_url"]);$(".resource_title").html(e["title"]);switch(e["resource_type"]){case 1:$(".resource_type_3").html("图文");break;case 2:$(".resource_type_3").html("音频");break;case 3:$(".resource_type_3").html("视频");break;case 4:$(".resource_type_3").html("直播");break;default:break}$(".resource_time_3").html(e["start_at"]);$(".set_price_window").fadeIn(300)});$(".searchPartBtn").click(function(){var e=$.trim($(".inputSearchPart").val());ResourceUtils.requestSelectData(1,e,0,1)});$(".inputSearchPart").focusin(function(){$(document).keypress(function(e){if(e.which==13){$(".searchPartBtn").trigger("click")}})}).focusout(function(){$(document).off("keypress")});$(".select_content_area").on("click",".page_offset_div_2 a",function(){var e=$.trim($(".inputSearchPart").val());var a=$(this).data("page_index");ResourceUtils.requestSelectData(1,e,0,a)});$(".close_icon_wrapper_2").click(function(){$(".set_price_window").fadeOut(300)});$(".back_btn").click(function(){$(".set_price_window").fadeOut(300);$(".select_good_window").fadeIn(300)});$(".confirm_price_btn").click(function(){var e=$.trim($(".input_setting_price").val());var t=/^([1-9][\d]*|0)([\/.][\d]{1,2})?$/;if(!t.test(e)){baseUtils.show.redTip("价格输入有误");$(".input_setting_price").val("");return false}if(e<=0){baseUtils.show.redTip("价格不能为0 或 负数!");return false}var s={};s["resource_id"]=requestedData["resource_list"][a]["id"];s["resource_type"]=requestedData["resource_list"][a]["resource_type"];var r=[s];$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:r,piece_price:e*100},success:function(e){baseUtils.show.blueTip("选择已有单品成功！");$(".set_price_window").fadeOut(300);setTimeout(function(){window.location.reload()},1500)},error:function(e,a,t){console.log(t);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})})};e.exportAudio=function(e){$.ajax("/async_download_alive_voice",{type:"POST",dataType:"json",data:{alive_id:e},success:function(e){switch(e.code){case 0:window.location.href=e.data["url"];break;case 1:$.alert("语音正在合成中，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 2:$.alert("开始进行语音合成，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 3:$.alert("服务器正在维护，直播音频导出功能受到影响，请稍后再试。","info",{btn:2});break;case 4:$.alert("该直播没有音频。","info",{btn:2});break;case 5:$.alert("这个直播不是语音类型的，不支持音频导出。","info",{btn:2});break;case 6:$.alert("这个直播还没结束，暂不支持音频导出。","info",{btn:2});break;default:console.log("参数错误");baseUtils.show.redTip(e.msg);break}console.log(e.msg)},error:function(e,a,t){console.log(t);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})};e.setSaleRatio=function(e,a,t){$(".sale_goods_name").html(e);Business["piecePrice"]=a;Business["aliveId"]=t;$.ajax("/query_profit_ratio",{type:"POST",dataType:"json",data:{alive_id:t},success:function(e){if(e.code==0){var a=e.data["distribute_percent"];if(a==0){$("input#set_radio_off").prop("checked",true);$(".input_radio_value").val("");$(".set_percent").hide()}else if(a>0&&a<=50){$("input#set_radio_on").prop("checked",true);$(".input_radio_value").val(a);$(".set_percent").show()}else{$("input#set_radio_off").prop("checked",true);$(".input_radio_value").val("");$(".set_percent").hide()}$(".set_sale_ratio_window").fadeIn(300)}else{baseUtils.show.redTip("操作失败，请稍后重试！")}},error:function(e,a,t){console.log(t);baseUtils.show.redTip("网络错误，请稍后再试！")}})};e.initSetSale=function(){$(".cancel_sale_btn, .close_icon_wrapper_3").click(function(){$(".set_sale_ratio_window").fadeOut(300)});$("input[name='set_sale_radio']").on("change",function(){var e=$("input[name='set_sale_radio']:checked").val();if(e==0){if(Business["piecePrice"]<1){baseUtils.show.redTip("商品价格不低于1元才可开启分销!");$("input#set_radio_off").prop("checked",true)}else{$(".set_percent").fadeIn(300)}}else{$(".set_percent").fadeOut(300)}});$(".input_radio_value").bind("input propertychange",function(){var e=$(".input_radio_value").val();var a=/^[1-9][\d]*$/;if(!a.test(e)){e=e.replace(/\D/g,"");$(".input_radio_value").val(e)}});$(".confirm_sale_btn").click(function(){var e=$("input[name='set_sale_radio']:checked").val();if(e==0){var a=$(".input_radio_value").val();if(a<1||a>50){baseUtils.show.redTip("分成比例只能设置为1% ~ 50%!");return false}ResourceUtils.submitSaleSet(Business["aliveId"],a)}else{var a=0;ResourceUtils.submitSaleSet(Business["aliveId"],a)}})};e.removeResource=function(e,a){$.ajax("/query_goods_state",{type:"POST",dataType:"json",data:{goods_id:a,goods_type:e,channel_type:0},success:function(t){if(t.code==0){var s=t.data["is_exist"];if(s==0){$.alert("移除后所有用户将无法查看该单品，是否确认移除？","info",{onOk:function(){ResourceUtils.removeGood(a,e,0)}})}else{var r=t.data["records_list"];var i="";for(var o=0;o<r.length;o++){i+="《"+r[o]["title"]+"》"}$.alert("移除后该单品将不再单独售卖，是否确认移除？"+"<br>"+"该单品仍会存在于："+i,"info",{onOk:function(){ResourceUtils.removeGood(a,e,0)}})}}else{baseUtils.show.redTip("移除失败！")}},error:function(e,a,t){console.log(t);baseUtils.show.redTip("服务器开小差啦，请稍后再移除！")}})};return e}();var ResourceUtils=function(){var e={};e.changeCanSelectState=function(e,a){$.ajax("/set_resource_select_can",{type:"POST",dataType:"json",data:{id:e,resource_type:1,can_select:a?1:0},success:function(e){if(e.code==0){if(a){baseUtils.show.blueTip("已经允许复制")}else{baseUtils.show.blueTip("已经禁止复制")}window.location.reload()}else{baseUtils.show.redTip("操作失败，请稍后再试")}},error:function(e,a,t){console.log(t);baseUtils.show.redTip("网络错误，请稍后再试！")}})};e.reBackSearch=function(){if(search_content!=""){$(".inputSearchAll").val(search_content)}var e=$(".selector_resource_type").children("option").length;if(e>0){for(var a=0;a<e;a++){if($(".selector_resource_type").children("option").eq(a).attr("value")==resource_type){$(".selector_resource_type").children("option").eq(a).attr("selected","selected")}}}var t=GetQueryString("state")||0;var s=$(".selector_show_type").children("option").length;if(s>0){for(var a=0;a<s;a++){if($(".selector_show_type").children("option").eq(a).attr("value")==t){$(".selector_show_type").children("option").eq(a).attr("selected","selected");return}}}};e.endAlive=function(e){$.alert("您确定要结束该直播吗?","info",{onOk:function(){$.get("/end_alive",{id:e},function(e){if(e.code==0){$.alert("结束直播成功","success",{onOk:function(){window.location.reload()}})}else{baseUtils.show.redTip("直播结束失败")}})}})};e.updateResourceState=function(e,a,t){var s={};s["goods_id"]=t;s["goods_type"]=e;s["operate_type"]=a;var r="";if(a==0){r="上架后该单品将对外显示"}else{r="下架后该单品将不对外显示"}$.alert(r,"info",{onOk:function(){$.post("/change_goods_state",s,function(e){if(e.code==0){switch(a){case 0:baseUtils.show.blueTip("上架成功！");break;case 1:baseUtils.show.blueTip("下架成功！");break;default:break}setTimeout(function(){window.location.reload()},1500)}else{console.log(e.msg);baseUtils.show.redTip(e.msg)}})}})};e.removeGood=function(e,a,t){var s={};s["goods_id"]=e;s["goods_type"]=a;s["channel_type"]=t;$.post("/move_goods",s,function(e){if(e.code==0){baseUtils.show.blueTip("移除资源成功!");window.location.reload()}else{baseUtils.show.redTip("移除资源失败!")}})};e.submitSaleSet=function(e,a){$.ajax("/set_profit_ratio",{type:"POST",dataType:"json",data:{alive_id:e,distribute_percent:a},success:function(e){if(e.code==0){$(".set_sale_ratio_window").fadeOut(300);baseUtils.show.blueTip("分销设置成功！")}else{baseUtils.show.redTip("分销设置失败！")}},error:function(e,a,t){console.error(t);baseUtils.show.redTip("服务器开小差啦，请稍后再提交！")}})};e.getSelectPageHtmlCode=function(a){var t="";var s=a["page_offset"];var r=a["resource_list"];if(r.length<=0){t+='<div class="search_no_data">暂无数据，请重新搜索！</div>';return t}for(var i=0;i<r.length;i++){var o=r[i];t+='<div class="resourceItemWrapper">';t+='<input id="resource_item_'+i+'" class="with-gap resource_radio" name="select_resource" value="'+i+'" type="radio"/>';t+='<label for="resource_item_'+i+'" class="radio_desc">';t+='<div class="resource_icon_wrapper_2">';t+='<img class="resource_icon_2" src="'+o["img_url"]+'">';t+="</div>";t+=o["title"];t+="</label>";t+='<span class="resource_type_2">';switch(o["resource_type"]){case 1:t+="图文";break;case 2:t+="音频";break;case 3:t+="视频";break;case 4:t+="直播";break;default:t+="资源";break}t+="</span>";t+='<span class="resource_time_2">';t+=o["start_at"];t+="</span>";t+="</div>"}t+='<div class="page_offset_div_2" align="center">';t+='<ul class="pagination">';t+=e.getSelectPagination(s);t+="</ul>";t+="</div>";return t};e.requestSelectData=function(a,t,s,r){$.ajax("/choice_resource_list",{type:"POST",dataType:"json",data:{channel_type:a,search_content:t,resource_type:s,page:r},success:function(a){requestedData=a.data;if(a.code==0){var t=e.getSelectPageHtmlCode(a.data);$(".select_content_area").html("");$(".select_content_area").append(t)}else{baseUtils.show.redTip("搜索失败！")}},error:function(e,a,t){console.error(t);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})};e.getHomePagination=function(e,a,t,s){page_offset=JSON.parse(page_offset_json);page_offset["current_page"]=+page_offset["current_page"];var r="";if(page_offset["total_pages"]<=0){$(".page_offset_div").addClass("hide");return""}var i=e+"?resource_type="+a+"&search_content="+t+"&state="+s+"&page=";if(page_offset["current_page"]==1){r="<li class='disabled'><span>«</span></li>"}else{r="<li><a href='"+i+(page_offset["current_page"]-1)+"' rel='prev'>«</a></li>"}if(page_offset["total_pages"]<12){for(var o=1;o<=page_offset["total_pages"];o++){if(page_offset["current_page"]==o){r+="<li class='active'><span>"+o+"</span></li>"}else{r+="<li><a href='"+i+o+"'>"+o+"</a></li>"}}}else{if(page_offset["current_page"]>6&&page_offset["total_pages"]-page_offset["current_page"]<6){for(var n=1;n<=2;n++){r+="<li><a href='resource_list_page?page="+n+"'>"+n+"</a></li>"}r+="<li class='disabled'><span>...</span></li>";for(n=page_offset["total_pages"]-8;n<=page_offset["total_pages"];n++){if(page_offset["current_page"]==n){r+="<li class='active'><span>"+n+"</span></li>"}else{r+="<li><a href='"+i+n+"'>"+n+"</a></li>"}}}else if(page_offset["current_page"]<7&&page_offset["total_pages"]-page_offset["current_page"]>5){for(var c=1;c<=8;c++){if(page_offset["current_page"]==c){r+="<li class='active'><span>"+c+"</span></li>"}else{r+="<li><a href='"+i+c+"'>"+c+"</a></li>"}}r+="<li class='disabled'><span>...</span></li>";for(c=page_offset["total_pages"]-1;c<=page_offset["total_pages"];c++){r+="<li><a href='"+i+c+"'>"+c+"</a></li>"}}else{for(var o=1;o<=2;o++){r+="<li><a href='"+i+o+"'>"+o+"</a></li>"}r+="<li class='disabled'><span>...</span></li>";for(var n=page_offset["current_page"]-3;n<=page_offset["current_page"]+3;n++){if(page_offset["current_page"]==n){r+="<li class='active'><span>"+n+"</span></li>"}else{r+="<li><a href='"+i+n+"'>"+n+"</a></li>"}}r+="<li class='disabled'><span>...</span></li>";for(var c=page_offset["total_pages"]-1;c<=page_offset["total_pages"];c++){r+="<li><a href='"+i+c+"'>"+c+"</a></li>"}}}if(page_offset["current_page"]==page_offset["total_pages"]){r+="<li class='disabled'><span>»</span></li>"}else{r+="<li><a href='"+i+(page_offset["current_page"]+1)+"' rel='next'>»</a></li>"}return r};e.getSelectPagination=function(e){var a="";var t=JSON.parse(e);t["current_page"]=+t["current_page"];if(t["total_pages"]<=0){return""}if(t["current_page"]==1){a="<li class='disabled'><span>«</span></li>"}else{a="<li><a data-page_index='"+(t["current_page"]-1)+"' rel='prev'>«</a></li>"}if(t["total_pages"]<12){for(var s=1;s<=t["total_pages"];s++){if(t["current_page"]==s){a+="<li class='active'><span>"+s+"</span></li>"}else{a+="<li><a data-page_index='"+s+"'>"+s+"</a></li>"}}}else{if(t["current_page"]>6&&t["total_pages"]-t["current_page"]<6){for(var r=1;r<=2;r++){a+="<li><a data-page_index='"+r+"'>"+r+"</a></li>"}a+="<li class='disabled'><span>...</span></li>";for(r=t["total_pages"]-8;r<=t["total_pages"];r++){if(t["current_page"]==r){a+="<li class='active'><span>"+r+"</span></li>"}else{a+="<li><a data-page_index='"+r+"'>"+r+"</a></li>"}}}else if(t["current_page"]<7&&t["total_pages"]-t["current_page"]>5){for(var i=1;i<=8;i++){if(t["current_page"]==i){a+="<li class='active'><span>"+i+"</span></li>"}else{a+="<li><a data-page_index='"+i+"'>"+i+"</a></li>"}}a+="<li class='disabled'><span>...</span></li>";for(i=t["total_pages"]-1;i<=t["total_pages"];i++){a+="<li><a data-page_index='"+i+"'>"+i+"</a></li>"}}else{for(var s=1;s<=2;s++){a+="<li><a data-page_index='"+s+"'>"+s+"</a></li>"}a+="<li class='disabled'><span>...</span></li>";for(var r=t["current_page"]-3;r<=t["current_page"]+3;r++){if(t["current_page"]==r){a+="<li class='active'><span>"+r+"</span></li>"}else{a+="<li><a data-page_index='"+r+"'>"+r+"</a></li>"}}a+="<li class='disabled'><span>...</span></li>";for(var i=t["total_pages"]-1;i<=t["total_pages"];i++){a+="<li><a data-page_index='"+i+"'>"+i+"</a></li>"}}}if(t["current_page"]==t["total_pages"]){a+="<li class='disabled'><span>»</span></li>"}else{a+="<li><a data-page_index='"+(t["current_page"]+1)+"' rel='next'>»</a></li>"}return a};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL3Jlc01hbmFnZS9yZXNvdXJjZUxpc3QuanMiXSwibmFtZXMiOlsic2VhcmNoX2NvbnRlbnQiLCJyZXNvdXJjZV90eXBlIiwicGFnZV9vZmZzZXRfanNvbiIsInBhZ2Vfb2Zmc2V0IiwiQXJyYXkiLCJyZXF1ZXN0ZWREYXRhIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJCdXNpbmVzcyIsImluaXQiLCJjbGljayIsInNob3dMb2FkaW5nIiwiYWpheCIsInR5cGUiLCJkYXRhVHlwZSIsImRhdGEiLCJjaGFubmVsX3R5cGUiLCJzdWNjZXNzIiwicmVzdWx0IiwiaGlkZUxvYWRpbmciLCJjb2RlIiwiaHRtbF9jb2RlIiwiUmVzb3VyY2VVdGlscyIsImdldFNlbGVjdFBhZ2VIdG1sQ29kZSIsImZhZGVJbiIsImh0bWwiLCJhcHBlbmQiLCJiYXNlVXRpbHMiLCJzaG93IiwicmVkVGlwIiwiZXJyb3IiLCJ4aHIiLCJzdGF0dXMiLCJlcnIiLCJjb25zb2xlIiwibW9kYWwiLCJpbml0U2VhcmNoQWxsIiwiaW5pdFNlbGVjdFJlc291cmNlIiwiZ2V0SG9tZVBhZ2luYXRpb24iLCJHZXRRdWVyeVN0cmluZyIsImNsaXBib2FyZCIsIkNsaXBib2FyZCIsIm9uIiwiZSIsInRyaWdnZXIiLCJpZCIsImJsdWVUaXAiLCJjbGVhclNlbGVjdGlvbiIsInRoaXMiLCJwYXJlbnRzIiwicmVzb3VyY2VfaWQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJyZXNUeXBlIiwicmVzSWQiLCJyZXNOYW1lIiwicGllY2VQcmljZSIsImlzVHJhbnNjb2RlIiwicmVzZXRVcmwiLCJleHBvcnRBdWRpbyIsImVuZEFsaXZlIiwic2V0U2FsZVJhdGlvIiwiY2hhbmdlQ2FuU2VsZWN0U3RhdGUiLCJhbGVydCIsImJ0biIsIm9uT2siLCJ1cGRhdGVSZXNvdXJjZVN0YXRlIiwicmVtb3ZlUmVzb3VyY2UiLCJsb2ciLCJpbml0U2V0U2FsZSIsInBvc2l0aW9uIiwidmFsIiwic3RhdGUiLCJ0cmltIiwiZm9jdXNpbiIsImtleXByZXNzIiwid2hpY2giLCJmb2N1c291dCIsIm9mZiIsInJlQmFja1NlYXJjaCIsImZhZGVPdXQiLCJ1bmRlZmluZWQiLCJzaW5nbGVEYXRhIiwiYXR0ciIsInJlcXVlc3RTZWxlY3REYXRhIiwicGFnZV9pbmRleCIsInByaWNlIiwicmVnIiwidGVzdCIsImFyciIsInJlc291cmNlTGlzdEFyciIsInJlc291cmNlX2xpc3QiLCJwaWVjZV9wcmljZSIsInNldFRpbWVvdXQiLCJyZWxvYWQiLCJhbGl2ZUlkIiwiYWxpdmVfaWQiLCJtc2ciLCJhbGl2ZU5hbWUiLCJkaXN0cmlidXRlX3BlcmNlbnQiLCJwcm9wIiwiaGlkZSIsInNhbGVTd2l0Y2giLCJiaW5kIiwiaW5wdXRWYWx1ZSIsInJlcGxhY2UiLCJzdWJtaXRTYWxlU2V0IiwiZ29vZHNfaWQiLCJnb29kc190eXBlIiwiaXNFeGlzdCIsInJlbW92ZUdvb2QiLCJyZWNvcmRzTGlzdCIsInBhY2thZ2VOYW1lcyIsImkiLCJsZW5ndGgiLCJ1dGlscyIsImNhblNlbGVjdCIsImNhbl9zZWxlY3QiLCJudW0iLCJjaGlsZHJlbiIsImVxIiwibnVtXzIiLCJnZXQiLCJuZXdfc3RhdGUiLCJhbGxQYXJhbXMiLCJ0aXAiLCJwb3N0IiwicGFnZU9mZnNldCIsInJlc291cmNlSXRlbSIsImdldFNlbGVjdFBhZ2luYXRpb24iLCJjaGFubmVsVHlwZSIsInNlYXJjaENvbnRlbnQiLCJyZXNvdXJjZVR5cGUiLCJwYWdlSW5kZXgiLCJwYWdlIiwicm91dGVVcmwiLCJKU09OIiwicGFyc2UiLCJhZGRDbGFzcyIsInNraXBfdXJsIiwiaiIsImsiLCJwYWdlT2Zmc2V0QXJyIl0sIm1hcHBpbmdzIjoiQUFJQSxHQUFJQSxlQUNKLElBQUlDLGNBQ0osSUFBSUMsaUJBQ0osSUFBSUMsYUFBYyxHQUFJQyxNQUV0QixJQUFJQyxjQUVKQyxHQUFFQyxVQUFVQyxNQUFNLFdBQ2RDLFNBQVNDLFFBSWIsSUFBSUQsVUFBVyxXQUVYLEdBQUlBLEtB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QUNWLENBQ0hBLEdBQWEsNEJBQThCMEgsRUFBYyxnQkFBa0IsR0FBSywwQkFHcEYsTUFBTzFILEdBR1gsT0FBTytGIiwiZmlsZSI6ImFkbWluL3Jlc01hbmFnZS9yZXNvdXJjZUxpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBBZG1pbmlzdHJhdG9yIG9uIDIwMTcvMy8yMC5cclxuICovXHJcblxyXG52YXIgc2VhcmNoX2NvbnRlbnQ7XHJcbnZhciByZXNvdXJjZV90eXBlO1xyXG52YXIgcGFnZV9vZmZzZXRfanNvbjtcclxudmFyIHBhZ2Vfb2Zmc2V0ID0gbmV3IEFycmF5KCk7XHJcbi8vICDor7fmsYLliLDnmoTmlbDmja7vvIznlKjkuo7orr7nva7ku7fmoLxcclxudmFyIHJlcXVlc3RlZERhdGE7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICBCdXNpbmVzcy5pbml0KCk7XHJcblxyXG59KTtcclxuXHJcbnZhciBCdXNpbmVzcyA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIEJ1c2luZXNzID0ge307XHJcblxyXG4gICAgQnVzaW5lc3NbXCJhbGl2ZUlkXCJdID0gLTE7XHJcblxyXG4gICAgQnVzaW5lc3NbXCJwaWVjZVByaWNlXCJdID0gLTE7XHJcblxyXG5cclxuICAgIEJ1c2luZXNzLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIC8vICDlnKjlt7LmnInljZXlk4HkuK3pgInmi6lcclxuICAgICAgICAkKFwiLnNlbGVjdFJlc291cmNlQnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICQuYWpheChcIi9jaG9pY2VfcmVzb3VyY2VfbGlzdFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY2hhbm5lbF90eXBlJzogMSwgJ3NlYXJjaF9jb250ZW50JzogJycsICdyZXNvdXJjZV90eXBlJzogMFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICDkv53lrZjor7fmsYLnmoTmlbDmja5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkRGF0YSA9IHJlc3VsdC5kYXRhO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOaLvOaOpWh0bWzku6PnoIFcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWxfY29kZSA9IFJlc291cmNlVXRpbHMuZ2V0U2VsZWN0UGFnZUh0bWxDb2RlKHJlc3VsdC5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuc2VsZWN0X2dvb2Rfd2luZG93XCIpLmZhZGVJbigzMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5zZWxlY3RfY29udGVudF9hcmVhXCIpLmh0bWwoXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuc2VsZWN0X2NvbnRlbnRfYXJlYVwiKS5hcHBlbmQoaHRtbF9jb2RlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5ouJ5Y+W5bey5pyJ5Y2V5ZOB5aSx6LSl77yBXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICDliJ3lp4vljJbmkJzntKLlhajpg6jljZXlk4FcclxuICAgICAgICBtb2RhbC5pbml0U2VhcmNoQWxsKCk7XHJcblxyXG4gICAgICAgIC8vICDliJ3lp4vljJbpgInmi6nljZXlk4FcclxuICAgICAgICBtb2RhbC5pbml0U2VsZWN0UmVzb3VyY2UoKTtcclxuXHJcblxyXG4gICAgICAgIC8vICB0YWJsZSDliIbpobXlrp7njrBcclxuICAgICAgICB2YXIgaHRtbF9jb2RlID0gUmVzb3VyY2VVdGlscy5nZXRIb21lUGFnaW5hdGlvbihcIi9yZXNvdXJjZV9saXN0X3BhZ2VcIiwgcmVzb3VyY2VfdHlwZSwgc2VhcmNoX2NvbnRlbnQsIChHZXRRdWVyeVN0cmluZyhcInN0YXRlXCIpfHwwKSk7XHJcbiAgICAgICAgJChcInVsLnBhZ2luYXRpb25cIikuYXBwZW5kKGh0bWxfY29kZSk7XHJcblxyXG5cclxuICAgICAgICAvLyAg5pON5L2cIC0g5aSN5Yi25Yiw5Ymq6LS05p2/XHJcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJy5jb3B5SHJlZicpO1xyXG4gICAgICAgICAgICBjbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZihlLnRyaWdnZXIuaWQ9PSdjb3B5X2FwcF9ocmVmJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWkjeWItuaIkOWKn++8gVwiKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlpI3liLbmiJDlip/vvIHor7flnKjlvq7kv6HlhoXmiZPlvIDlk6Yg44CCXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGUuY2xlYXJTZWxlY3Rpb24oKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pKCk7XHJcblxyXG4gICAgICAgIC8vICDmk43kvZwgLSDnvJbovpFcclxuICAgICAgICAkKFwiLmVkaXRfcmVzb3VyY2VfYnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlc291cmNlX3R5cGUgPSAkKHRoaXMpLnBhcmVudHMoXCIudHJfYm9keVwiKS5kYXRhKFwicmVzb3VyY2VfdHlwZVwiKTtcclxuICAgICAgICAgICAgdmFyIHJlc291cmNlX2lkID0gJCh0aGlzKS5wYXJlbnRzKFwiLnRyX2JvZHlcIikuZGF0YShcInJlc291cmNlX2lkXCIpO1xyXG5cclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9lZGl0X3Jlc291cmNlX3BhZ2U/dHlwZT1cIiArIHJlc291cmNlX3R5cGUgKyBcIiZpZD1cIiArIHJlc291cmNlX2lkICsgXCImdXBsb2FkX2NoYW5uZWxfdHlwZT1cIiArIDE7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAg54K55Ye75pu05aSa5LqL5Lu2XHJcbiAgICAgICAgJChcInVsLm1vcmVfb3BlcmF0ZT5saVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzVHlwZSA9ICQodGhpcykucGFyZW50cyhcIi50cl9ib2R5XCIpLmRhdGEoXCJyZXNvdXJjZV90eXBlXCIpLFxyXG4gICAgICAgICAgICAgICAgcmVzSWQgPSAkKHRoaXMpLnBhcmVudHMoXCIudHJfYm9keVwiKS5kYXRhKFwicmVzb3VyY2VfaWRcIiksXHJcbiAgICAgICAgICAgICAgICByZXNOYW1lID0gJCh0aGlzKS5wYXJlbnRzKFwiLnRyX2JvZHlcIikuZGF0YShcInJlc291cmNlX25hbWVcIiksXHJcbiAgICAgICAgICAgICAgICBwaWVjZVByaWNlID0gJCh0aGlzKS5wYXJlbnRzKFwiLnRyX2JvZHlcIikuZGF0YShcInBpZWNlX3ByaWNlXCIpLFxyXG4gICAgICAgICAgICAgICAgaXNUcmFuc2NvZGUgPSAkKHRoaXMpLnBhcmVudHMoXCIudHJfYm9keVwiKS5kYXRhKFwiaXNfdHJhbnNjb2RlXCIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmRhdGEoXCJ0eXBlXCIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJsb29rX2NvbW1lbnRcIjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzVHlwZSA9PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0VXJsKFwiL2FsaXZlY29tbWVudD9hbGl2ZV9pZD1cIiArIHJlc0lkKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldFVybChcIi9jb21tZW50X2FkbWluP3R5cGU9XCIgKyAocmVzVHlwZS0xKSArIFwiJnJlY29yZF9pZD1cIiArIHJlc0lkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZXhwb3J0X2F1ZGlvXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuZXhwb3J0QXVkaW8ocmVzSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZF9hbGl2ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIFJlc291cmNlVXRpbHMuZW5kQWxpdmUocmVzSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNldF9zYWxlX3JhdGlvXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuc2V0U2FsZVJhdGlvKHJlc05hbWUsIHBpZWNlUHJpY2UsIHJlc0lkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlbmFibGVfY29weVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIFJlc291cmNlVXRpbHMuY2hhbmdlQ2FuU2VsZWN0U3RhdGUocmVzSWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImZvcmJpZF9jb3B5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuemgeatouWkjeWItuWQju+8jOivpeevh+WbvuaWh+eahOWbvueJh+eCueWHu+aUvuWkp+WSjOmVv+aMieivhuWIq+S6jOe7tOeggeWKn+iDveWwhuiiq+emgeeUqFwiLCBcImluZm9cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG46IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlVXRpbHMuY2hhbmdlQ2FuU2VsZWN0U3RhdGUocmVzSWQsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImhpZGVfcmVzb3VyY2VcIjpcclxuICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZVV0aWxzLnVwZGF0ZVJlc291cmNlU3RhdGUocmVzVHlwZSwgMSwgcmVzSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNob3dfcmVzb3VyY2VcIjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUcmFuc2NvZGUgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLlvZPliY3otYTmupDovaznoIHlpLHotKXvvIzor7fph43mlrDkuIrkvKDvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VVdGlscy51cGRhdGVSZXNvdXJjZVN0YXRlKHJlc1R5cGUsIDAsIHJlc0lkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVfcmVzb3VyY2VcIjpcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5yZW1vdmVSZXNvdXJjZShyZXNUeXBlLCByZXNJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0IDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPguaVsOmUmeivr1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vICDliJ3lp4vljJYg6K6+572u5YiG6ZSA56qX5Y+jXHJcbiAgICAgICAgbW9kYWwuaW5pdFNldFNhbGUoKTtcclxuXHJcblxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gQnVzaW5lc3M7XHJcblxyXG59KSgpO1xyXG5cclxuXHJcbnZhciBtb2RhbCA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIG1vZGFsID0ge307XHJcblxyXG4gICAgdmFyIHBvc2l0aW9uID0gLTE7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmqKHlnZfkuIDvvJrotYTmupDliJfooajpobXpnaLnmoTmkJzntKLlip/og73liJ3lp4vljJZcclxuICAgICAqL1xyXG4gICAgbW9kYWwuaW5pdFNlYXJjaEFsbCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy8gIDHjgIHlvIDlp4vmkJzntKIgLSDlhajpg6jljZXlk4FcclxuICAgICAgICAkKFwiLnNlYXJjaEFsbEJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXNvdXJjZV90eXBlID0gJChcIi5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSAkLnRyaW0oJChcIi5zZWxlY3Rvcl9zaG93X3R5cGVcIikudmFsKCkpO1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoX2NvbnRlbnQgPSAkLnRyaW0oJChcIi5pbnB1dFNlYXJjaEFsbFwiKS52YWwoKSk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL3Jlc291cmNlX2xpc3RfcGFnZT9yZXNvdXJjZV90eXBlPVwiICsgcmVzb3VyY2VfdHlwZSArIFwiJnNlYXJjaF9jb250ZW50PVwiICsgc2VhcmNoX2NvbnRlbnQgKyBcIiZzdGF0ZT1cIiArIHN0YXRlO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gMeOAgei+k+WFpeWujOaIkOWQju+8jOWbnui9puW8gOWni+aQnOe0oiAtIOWFqOmDqOWNleWTgVxyXG4gICAgICAgICQoXCIuaW5wdXRTZWFyY2hBbGxcIikuZm9jdXNpbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmtleXByZXNzKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmKGUud2hpY2ggPT0gMTMpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuc2VhcmNoQWxsQnRuJykudHJpZ2dlcihcImNsaWNrXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS5mb2N1c291dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9mZigna2V5cHJlc3MnKTsgICAgLy8gIOa4hemZpOS6i+S7tlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAg55uR5ZCs562b6YCJ5qGG6YCJ5oup5LqL5Lu2XHJcbiAgICAgICAgJChcIi5zZWxlY3Rvcl9zaG93X3R5cGUsIC5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlXCIpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJy5zZWFyY2hBbGxCdG4nKS50cmlnZ2VyKFwiY2xpY2tcIik7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyAgMeOAgeaQnOe0ouahhiArIOaQnOe0ouexu+WeiyDlm57mmL5cclxuICAgICAgICBSZXNvdXJjZVV0aWxzLnJlQmFja1NlYXJjaCgpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmqKHlnZfkuowg77ya6YCJ5oup5bey5pyJ6aG16Z2i55qE5Yid5aeL5YyWIO+8iOaQnOe0oiArIOWIhumhte+8iVxyXG4gICAgICovXHJcbiAgICBtb2RhbC5pbml0U2VsZWN0UmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIC8vICAy44CB5YWz6Zet5pCc57Si5qGGIC0g54K55Ye7IMOXXHJcbiAgICAgICAgJChcIi5jbG9zZV9pY29uX3dyYXBwZXJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiLnNlbGVjdF9nb29kX3dpbmRvd1wiKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gIDLjgIHlhbPpl63mkJzntKLmoYYgLSDngrnlh7sg5Y+W5raIXHJcbiAgICAgICAgJChcIi5jYW5jZWxfYnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChcIi5zZWxlY3RfZ29vZF93aW5kb3dcIikuZmFkZU91dCgzMDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vICAy44CBIC0g54K55Ye7IOS4i+S4gOatpVxyXG4gICAgICAgICQoXCIubmV4dF9zdGVwX2J0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAvLyAg6YCJ5Lit6LWE5rqQ55qE5L2N572u77yIMCAtIDTvvIlcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAkKFwiaW5wdXQ6cmFkaW86Y2hlY2tlZFwiKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+WFiOmAieaLqeS4gOS4quW3suacieWNleWTge+8gVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQoXCIuc2VsZWN0X2dvb2Rfd2luZG93XCIpLmZhZGVPdXQoMzAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vICDnu5norr7nva7ku7fmoLzloavlhYXmlbDmja5cclxuICAgICAgICAgICAgdmFyIHNpbmdsZURhdGEgPSByZXF1ZXN0ZWREYXRhW1wicmVzb3VyY2VfbGlzdFwiXVtwb3NpdGlvbl07XHJcbiAgICAgICAgICAgICQoXCIucmVzb3VyY2VfaWNvbl8zXCIpLmF0dHIoXCJzcmNcIiwgc2luZ2xlRGF0YVsnaW1nX3VybCddKTtcclxuICAgICAgICAgICAgJChcIi5yZXNvdXJjZV90aXRsZVwiKS5odG1sKHNpbmdsZURhdGFbJ3RpdGxlJ10pO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHNpbmdsZURhdGFbJ3Jlc291cmNlX3R5cGUnXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIucmVzb3VyY2VfdHlwZV8zXCIpLmh0bWwoXCLlm77mlodcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5yZXNvdXJjZV90eXBlXzNcIikuaHRtbChcIumfs+mikVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnJlc291cmNlX3R5cGVfM1wiKS5odG1sKFwi6KeG6aKRXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIucmVzb3VyY2VfdHlwZV8zXCIpLmh0bWwoXCLnm7Tmkq1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoXCIucmVzb3VyY2VfdGltZV8zXCIpLmh0bWwoc2luZ2xlRGF0YVsnc3RhcnRfYXQnXSk7XHJcblxyXG4gICAgICAgICAgICAkKFwiLnNldF9wcmljZV93aW5kb3dcIikuZmFkZUluKDMwMCk7XHJcblxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gIDLjgIHlvIDlp4vmkJzntKIgLSDlt7LmnInljZXlk4FcclxuICAgICAgICAkKFwiLnNlYXJjaFBhcnRCdG5cIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoX2NvbnRlbnQgPSAkLnRyaW0oJChcIi5pbnB1dFNlYXJjaFBhcnRcIikudmFsKCkpO1xyXG5cclxuICAgICAgICAgICAgUmVzb3VyY2VVdGlscy5yZXF1ZXN0U2VsZWN0RGF0YSgxLCBzZWFyY2hfY29udGVudCwgMCwgMSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gMuOAgei+k+WFpeWujOaIkOWQju+8jOWbnui9puW8gOWni+aQnOe0oiAtIOW3suacieWNleWTgVxyXG4gICAgICAgICQoXCIuaW5wdXRTZWFyY2hQYXJ0XCIpLmZvY3VzaW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5rZXlwcmVzcyhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZihlLndoaWNoID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNlYXJjaFBhcnRCdG4nKS50cmlnZ2VyKFwiY2xpY2tcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLmZvY3Vzb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKCdrZXlwcmVzcycpOyAgICAvLyAg5riF6Zmk5LqL5Lu2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICDngrnlh7vliIbpobUg6I635Y+W5YW25a6D6aG1XHJcbiAgICAgICAgJChcIi5zZWxlY3RfY29udGVudF9hcmVhXCIpLm9uKFwiY2xpY2tcIiwgXCIucGFnZV9vZmZzZXRfZGl2XzIgYVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2hfY29udGVudCA9ICQudHJpbSgkKFwiLmlucHV0U2VhcmNoUGFydFwiKS52YWwoKSk7XHJcbiAgICAgICAgICAgIHZhciBwYWdlX2luZGV4ID0gJCh0aGlzKS5kYXRhKFwicGFnZV9pbmRleFwiKTtcclxuXHJcbiAgICAgICAgICAgIFJlc291cmNlVXRpbHMucmVxdWVzdFNlbGVjdERhdGEoMSwgc2VhcmNoX2NvbnRlbnQsIDAsIHBhZ2VfaW5kZXgpO1xyXG5cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICAz44CB6K6+572u5Lu35qC8IC0g54K55Ye7IMOXXHJcbiAgICAgICAgJChcIi5jbG9zZV9pY29uX3dyYXBwZXJfMlwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIuc2V0X3ByaWNlX3dpbmRvd1wiKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICAz44CB6K6+572u5Lu35qC8IC0g54K55Ye75LiK5LiA5q2lXHJcbiAgICAgICAgJChcIi5iYWNrX2J0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIuc2V0X3ByaWNlX3dpbmRvd1wiKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgICAgICAgICQoXCIuc2VsZWN0X2dvb2Rfd2luZG93XCIpLmZhZGVJbigzMDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAgM+OAgeiuvue9ruS7t+agvCAtIOeCueWHu+ehruWumlxyXG4gICAgICAgICQoXCIuY29uZmlybV9wcmljZV9idG5cIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHByaWNlID0gJC50cmltKCQoXCIuaW5wdXRfc2V0dGluZ19wcmljZVwiKS52YWwoKSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVnID0gL14oWzEtOV1bXFxkXSp8MCkoWy8uXVtcXGRdezEsMn0pPyQvO1xyXG4gICAgICAgICAgICBpZiAoIXJlZy50ZXN0KHByaWNlKSkge1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfku7fmoLzovpPlhaXmnInor68nKTtcclxuICAgICAgICAgICAgICAgICQoJy5pbnB1dF9zZXR0aW5nX3ByaWNlJykudmFsKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcmljZSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLku7fmoLzkuI3og73kuLowIOaIliDotJ/mlbAhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgYXJyID0ge307XHJcbiAgICAgICAgICAgIGFycltcInJlc291cmNlX2lkXCJdID0gcmVxdWVzdGVkRGF0YVtcInJlc291cmNlX2xpc3RcIl1bcG9zaXRpb25dWydpZCddO1xyXG4gICAgICAgICAgICBhcnJbXCJyZXNvdXJjZV90eXBlXCJdID0gcmVxdWVzdGVkRGF0YVtcInJlc291cmNlX2xpc3RcIl1bcG9zaXRpb25dWydyZXNvdXJjZV90eXBlJ107XHJcbiAgICAgICAgICAgIHZhciByZXNvdXJjZUxpc3RBcnIgPSBbYXJyXTtcclxuXHJcbiAgICAgICAgICAgICQuYWpheChcIi9zdWJtaXRfY2hvaWNlX3Jlc291cmNlXCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2hhbm5lbF90eXBlXCI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJyZXNvdXJjZV9saXN0XCI6IHJlc291cmNlTGlzdEFycixcclxuICAgICAgICAgICAgICAgICAgICBcInBpZWNlX3ByaWNlXCI6IHByaWNlICogMTAwICAvLyDljZXkvY3vvJog5YiGXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLpgInmi6nlt7LmnInljZXlk4HmiJDlip/vvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zZXRfcHJpY2Vfd2luZG93XCIpLmZhZGVPdXQoMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDE1MDApO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5ZWm77yM6K+356iN5ZCO5YaN5pCc57Si77yBXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAg5pu05aSaIC0g5a+85Ye66Z+z6aKRXHJcbiAgICBtb2RhbC5leHBvcnRBdWRpbyA9IGZ1bmN0aW9uIChhbGl2ZUlkKSB7XHJcblxyXG4gICAgICAgICQuYWpheChcIi9hc3luY19kb3dubG9hZF9hbGl2ZV92b2ljZVwiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGFsaXZlX2lkOiBhbGl2ZUlkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAocmVzdWx0LmNvZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzdWx0LmRhdGFbJ3VybCddOyAgICAgIC8v55u05o6l5byA5aeL5LiL6L296Z+z6aKR5paH5Lu2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuivremfs+ato+WcqOWQiOaIkOS4re+8jOagueaNruaCqOebtOaSremXtOWGheeahOmfs+mikeaVsOmHj+mcgOimgTEw5YiG6ZKf5YiwNOS4quWwj+aXtuS4jeetie+8jOivt+eojeWAmeiuv+mXruOAglwiLCBcImluZm9cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi5byA5aeL6L+b6KGM6K+t6Z+z5ZCI5oiQ77yM5qC55o2u5oKo55u05pKt6Ze05YaF55qE6Z+z6aKR5pWw6YeP6ZyA6KaBMTDliIbpkp/liLA05Liq5bCP5pe25LiN562J77yM6K+356iN5YCZ6K6/6Zeu44CCXCIsIFwiaW5mb1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLmnI3liqHlmajmraPlnKjnu7TmiqTvvIznm7Tmkq3pn7PpopHlr7zlh7rlip/og73lj5fliLDlvbHlk43vvIzor7fnqI3lkI7lho3or5XjgIJcIiwgXCJpbmZvXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeebtOaSreayoeaciemfs+mikeOAglwiLCBcImluZm9cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6L+Z5Liq55u05pKt5LiN5piv6K+t6Z+z57G75Z6L55qE77yM5LiN5pSv5oyB6Z+z6aKR5a+85Ye644CCXCIsIFwiaW5mb1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLov5nkuKrnm7Tmkq3ov5jmsqHnu5PmnZ/vvIzmmoLkuI3mlK/mjIHpn7PpopHlr7zlh7rjgIJcIiwgXCJpbmZvXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+C5pWw6ZSZ6K+vXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAocmVzdWx0Lm1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0Lm1zZyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuacjeWKoeWZqOWHuuWwj+W3ruS6hu+8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8vICDmm7TlpJogLSDorr7nva7liIbplIBcclxuICAgIG1vZGFsLnNldFNhbGVSYXRpbyA9IGZ1bmN0aW9uIChhbGl2ZU5hbWUsIHBpZWNlUHJpY2UsIGFsaXZlSWQpIHtcclxuXHJcbiAgICAgICAgJChcIi5zYWxlX2dvb2RzX25hbWVcIikuaHRtbChhbGl2ZU5hbWUpO1xyXG5cclxuICAgICAgICBCdXNpbmVzc1tcInBpZWNlUHJpY2VcIl0gPSBwaWVjZVByaWNlO1xyXG5cclxuICAgICAgICAvLyAgMeOAgeiOt+WPlueCueWHu+adoeebrueahOebtOaSrSBhbGl2ZUlkXHJcbiAgICAgICAgQnVzaW5lc3NbXCJhbGl2ZUlkXCJdID0gYWxpdmVJZDtcclxuXHJcbiAgICAgICAgLy8gIDLjgIHmoLnmja4gYWxpdmVJZCDmn6Xor6Lnm7Tmkq3otYTmupDnmoTliIbmiJDmr5TkvovlgLzvvJrvvIgxLTUw77yJLeW8gOWQr++8jDAt5YWz6ZetXHJcbiAgICAgICAgJC5hamF4KFwiL3F1ZXJ5X3Byb2ZpdF9yYXRpb1wiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGFsaXZlX2lkOiBhbGl2ZUlkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXN0cmlidXRlX3BlcmNlbnQgPSByZXN1bHQuZGF0YVtcImRpc3RyaWJ1dGVfcGVyY2VudFwiXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdHJpYnV0ZV9wZXJjZW50ID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOWFs+mXreW8gOWFsyAsIOa4heepuui+k+WFpeahhu+8jCDpmpDol4/ovpPlhaXmoYZcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcImlucHV0I3NldF9yYWRpb19vZmZcIikucHJvcChcImNoZWNrZWRcIix0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5pbnB1dF9yYWRpb192YWx1ZVwiKS52YWwoXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zZXRfcGVyY2VudCcpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXN0cmlidXRlX3BlcmNlbnQgPiAwICYmIGRpc3RyaWJ1dGVfcGVyY2VudCA8PSA1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAg5omT5byA5byA5YWz77yMIOWbnuaYvui+k+WFpeahhu+8jCDmmL7npLrovpPlhaXmoYZcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcImlucHV0I3NldF9yYWRpb19vblwiKS5wcm9wKFwiY2hlY2tlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5pbnB1dF9yYWRpb192YWx1ZVwiKS52YWwoZGlzdHJpYnV0ZV9wZXJjZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNldF9wZXJjZW50Jykuc2hvdygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAg6buY6K6k54q25oCBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCJpbnB1dCNzZXRfcmFkaW9fb2ZmXCIpLnByb3AoXCJjaGVja2VkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmlucHV0X3JhZGlvX3ZhbHVlXCIpLnZhbChcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNldF9wZXJjZW50JykuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zZXRfc2FsZV9yYXRpb193aW5kb3dcIikuZmFkZUluKDMwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIzor7fnqI3lkI7ph43or5XvvIFcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmqKHlnZfkuIkg77yaIOWIneWni+WMliDorr7nva4g5YiG6ZSA56qX5Y+jXHJcbiAgICAgKi9cclxuICAgIG1vZGFsLmluaXRTZXRTYWxlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcbiAgICAgICAgLy8gIOeCueWHu+WPlua2iCAgICDngrnlh7sgw5dcclxuICAgICAgICAkKFwiLmNhbmNlbF9zYWxlX2J0biwgLmNsb3NlX2ljb25fd3JhcHBlcl8zXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChcIi5zZXRfc2FsZV9yYXRpb193aW5kb3dcIikuZmFkZU91dCgzMDApO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gIOebkeaOp3JhZGlv5YC855qE5Y+Y5YyWXHJcbiAgICAgICAgJChcImlucHV0W25hbWU9J3NldF9zYWxlX3JhZGlvJ11cIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2FsZVN3aXRjaCA9ICQoXCJpbnB1dFtuYW1lPSdzZXRfc2FsZV9yYWRpbyddOmNoZWNrZWRcIikudmFsKCk7XHJcbiAgICAgICAgICAgIGlmIChzYWxlU3dpdGNoID09IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChCdXNpbmVzc1tcInBpZWNlUHJpY2VcIl0gPCAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5ZWG5ZOB5Lu35qC85LiN5L2O5LqOMeWFg+aJjeWPr+W8gOWQr+WIhumUgCFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcImlucHV0I3NldF9yYWRpb19vZmZcIikucHJvcChcImNoZWNrZWRcIix0cnVlKTsgICAgICAvLyAg6YeN572ucmFkaW9cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5zZXRfcGVyY2VudCcpLmZhZGVJbigzMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJy5zZXRfcGVyY2VudCcpLmZhZGVPdXQoMzAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAg5a6e5pe255uR5o6naW5wdXTkuK3nmoTovpPlhaXlj5jljJYoKVxyXG4gICAgICAgICQoXCIuaW5wdXRfcmFkaW9fdmFsdWVcIikuYmluZChcImlucHV0IHByb3BlcnR5Y2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0VmFsdWUgPSAkKFwiLmlucHV0X3JhZGlvX3ZhbHVlXCIpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlZyA9IC9eWzEtOV1bXFxkXSokLztcclxuICAgICAgICAgICAgaWYgKCFyZWcudGVzdChpbnB1dFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRWYWx1ZSA9IGlucHV0VmFsdWUucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5pbnB1dF9yYWRpb192YWx1ZVwiKS52YWwoaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyAg54K55Ye756Gu6K6kXHJcbiAgICAgICAgJChcIi5jb25maXJtX3NhbGVfYnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzYWxlU3dpdGNoID0gJChcImlucHV0W25hbWU9J3NldF9zYWxlX3JhZGlvJ106Y2hlY2tlZFwiKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzYWxlU3dpdGNoID09IDApIHsgIC8vICDlvIDlkK9cclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gJChcIi5pbnB1dF9yYWRpb192YWx1ZVwiKS52YWwoKTsgICAgIC8v6Ieq5a6a5LmJ5YiG5oiQ5q+U5L6LXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0VmFsdWUgPCAxIHx8IGlucHV0VmFsdWUgPiA1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWIhuaIkOavlOS+i+WPquiDveiuvue9ruS4ujElIH4gNTAlIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAg5o+Q5Lqk5YiG6ZSA6K6+572uXHJcbiAgICAgICAgICAgICAgICBSZXNvdXJjZVV0aWxzLnN1Ym1pdFNhbGVTZXQoQnVzaW5lc3NbXCJhbGl2ZUlkXCJdLCBpbnB1dFZhbHVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gMDsgICAgIC8v5YiG5oiQ5q+U5L6LIOS4uiAwXHJcbiAgICAgICAgICAgICAgICAvLyAg5o+Q5Lqk5YiG6ZSA6K6+572uXHJcbiAgICAgICAgICAgICAgICBSZXNvdXJjZVV0aWxzLnN1Ym1pdFNhbGVTZXQoQnVzaW5lc3NbXCJhbGl2ZUlkXCJdLCBpbnB1dFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgLy8g56e76Zmk6LWE5rqQXHJcbiAgICBtb2RhbC5yZW1vdmVSZXNvdXJjZSA9IGZ1bmN0aW9uIChyZXNUeXBlLCByZXNJZCkge1xyXG5cclxuICAgICAgICAvLyAgMeOAgeafpeivoiDljZXlk4HmmK/lkKbmnInlnKjkuJPmoI/kuK1cclxuICAgICAgICAkLmFqYXgoXCIvcXVlcnlfZ29vZHNfc3RhdGVcIiwge1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBnb29kc19pZDogcmVzSWQsXHJcbiAgICAgICAgICAgICAgICBnb29kc190eXBlOiByZXNUeXBlLFxyXG4gICAgICAgICAgICAgICAgY2hhbm5lbF90eXBlOiAwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0V4aXN0ID0gcmVzdWx0LmRhdGFbJ2lzX2V4aXN0J107ICAvLyAgMSAtIOWtmOWcqO+8myAwIC0g5LiN5a2Y5ZyoXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0V4aXN0ID09IDApIHsgICAgIC8vICDljZXlk4Hlj6rlnKjljZXlk4HliJfooajkuK3lrZjlnKhcclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuenu+mZpOWQjuaJgOacieeUqOaIt+WwhuaXoOazleafpeeci+ivpeWNleWTge+8jOaYr+WQpuehruiupOenu+mZpO+8n1wiLCBcImluZm9cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAy44CB56e76ZmkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VVdGlscy5yZW1vdmVHb29kKHJlc0lkLCByZXNUeXBlLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgLy8gIOWNleWTgeWcqOWFtuWug+S4k+agj+aAu+S5n+aciSAg5paH5qGIPj4g56e76Zmk5ZCO6K+l5Y2V5ZOB5bCG5LiN5YaN5Y2V54us5ZSu5Y2W77yM5piv5ZCm56Gu6K6k56e76Zmk77yf6K+l5Y2V5ZOB5LuN5Lya5a2Y5Zyo5LqO77ya44CK5q+P5aSp5ZCs6KeB5ZC05pmT5rOi44CL44CK5pmT6K++5aCC44CL44CK5pmT5oql5ZGK44CLXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVjb3Jkc0xpc3QgPSByZXN1bHQuZGF0YVsncmVjb3Jkc19saXN0J107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYWNrYWdlTmFtZXMgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY29yZHNMaXN0Lmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFja2FnZU5hbWVzICs9IChcIuOAilwiICsgcmVjb3Jkc0xpc3RbaV1bJ3RpdGxlJ10gKyBcIuOAi1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuenu+mZpOWQjuivpeWNleWTgeWwhuS4jeWGjeWNleeLrOWUruWNlu+8jOaYr+WQpuehruiupOenu+mZpO+8n1wiICsgXCI8YnI+XCIgKyBcIuivpeWNleWTgeS7jeS8muWtmOWcqOS6ju+8mlwiICsgcGFja2FnZU5hbWVzLCBcImluZm9cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAy44CB56e76ZmkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VVdGlscy5yZW1vdmVHb29kKHJlc0lkLCByZXNUeXBlLCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi56e76Zmk5aSx6LSl77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmnI3liqHlmajlvIDlsI/lt67llabvvIzor7fnqI3lkI7lho3np7vpmaTvvIFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICByZXR1cm4gbW9kYWw7XHJcblxyXG59KSgpO1xyXG5cclxuXHJcbnZhciBSZXNvdXJjZVV0aWxzID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgdXRpbHMgPSB7fTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOS/ruaUueWbvuaWh+eahOaYr+WQpuWPr+WkjeWItueahOeKtuaAgVxyXG4gICAgICogQHBhcmFtIHJlc0lkXHJcbiAgICAgKiBAcGFyYW0gY2FuU2VsZWN0ICAgICAtIHRydWU6IOWFgeiuuOWkjeWItu+8jCBmYWxzZTrnpoHmraLlpI3liLZcclxuICAgICAqL1xyXG4gICAgdXRpbHMuY2hhbmdlQ2FuU2VsZWN0U3RhdGUgPSBmdW5jdGlvbiAocmVzSWQsIGNhblNlbGVjdCkge1xyXG5cclxuICAgICAgICAkLmFqYXgoXCIvc2V0X3Jlc291cmNlX3NlbGVjdF9jYW5cIiwge1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogcmVzSWQsXHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlOiAxLFxyXG4gICAgICAgICAgICAgICAgY2FuX3NlbGVjdDogY2FuU2VsZWN0ID8gMSA6IDAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhblNlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5bey57uP5YWB6K645aSN5Yi2XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlt7Lnu4/npoHmraLlpI3liLZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWbnuaYvuaQnOe0ouWGheWuuSArIOi1hOa6kOexu+Wei1xyXG4gICAgICovXHJcbiAgICB1dGlscy5yZUJhY2tTZWFyY2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHNlYXJjaF9jb250ZW50ICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgJChcIi5pbnB1dFNlYXJjaEFsbFwiKS52YWwoc2VhcmNoX2NvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG51bSA9ICQoXCIuc2VsZWN0b3JfcmVzb3VyY2VfdHlwZVwiKS5jaGlsZHJlbihcIm9wdGlvblwiKS5sZW5ndGg7XHJcbiAgICAgICAgaWYgKG51bSA+IDApIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW07IGkgKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICgkKCcuc2VsZWN0b3JfcmVzb3VyY2VfdHlwZScpLmNoaWxkcmVuKFwib3B0aW9uXCIpLmVxKGkpLmF0dHIoXCJ2YWx1ZVwiKSA9PSByZXNvdXJjZV90eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNlbGVjdG9yX3Jlc291cmNlX3R5cGUnKS5jaGlsZHJlbihcIm9wdGlvblwiKS5lcShpKS5hdHRyKFwic2VsZWN0ZWRcIixcInNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc3RhdGUgPSBHZXRRdWVyeVN0cmluZyhcInN0YXRlXCIpIHx8IDA7XHJcbiAgICAgICAgdmFyIG51bV8yID0gJChcIi5zZWxlY3Rvcl9zaG93X3R5cGVcIikuY2hpbGRyZW4oXCJvcHRpb25cIikubGVuZ3RoO1xyXG4gICAgICAgIGlmIChudW1fMiA+IDApIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1fMjsgaSArKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQoJy5zZWxlY3Rvcl9zaG93X3R5cGUnKS5jaGlsZHJlbihcIm9wdGlvblwiKS5lcShpKS5hdHRyKFwidmFsdWVcIikgPT0gc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuc2VsZWN0b3Jfc2hvd190eXBlJykuY2hpbGRyZW4oXCJvcHRpb25cIikuZXEoaSkuYXR0cihcInNlbGVjdGVkXCIsXCJzZWxlY3RlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5PmnZ/nm7Tmkq1cclxuICAgICAqL1xyXG4gICAgdXRpbHMuZW5kQWxpdmUgPSBmdW5jdGlvbihpZCkge1xyXG5cclxuICAgICAgICAkLmFsZXJ0KFwi5oKo56Gu5a6a6KaB57uT5p2f6K+l55u05pKt5ZCXP1wiLCBcImluZm9cIiwge1xyXG4gICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkLmdldChcIi9lbmRfYWxpdmVcIix7XCJpZFwiOmlkfSxmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5jb2RlPT0wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLnu5PmnZ/nm7Tmkq3miJDlip9cIiwgXCJzdWNjZXNzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuebtOaSree7k+adn+Wksei0pVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDotYTmupDnirbmgIFcclxuICAgICAqIEBwYXJhbSByZXNvdXJjZV90eXBlIC0gMSAtIGFydGljbGUsIDIgLSBhdWRpbyAsIDMgLSB2aWRlbyAgLCA0IC0gYWxpdmVcclxuICAgICAqIEBwYXJhbSBuZXdfc3RhdGUgICAgIC0gMC3kuIrmnrYgIDEt5LiL5p62XHJcbiAgICAgKiBAcGFyYW0gaWQgICAgICAgICAgICAtIOi1hOa6kGlkXHJcbiAgICAgKi9cclxuICAgIHV0aWxzLnVwZGF0ZVJlc291cmNlU3RhdGUgPSBmdW5jdGlvbiAocmVzb3VyY2VfdHlwZSwgbmV3X3N0YXRlLCBpZCkge1xyXG5cclxuICAgICAgICB2YXIgYWxsUGFyYW1zID0ge307XHJcbiAgICAgICAgYWxsUGFyYW1zWydnb29kc19pZCddID0gaWQ7XHJcbiAgICAgICAgYWxsUGFyYW1zWydnb29kc190eXBlJ10gPSByZXNvdXJjZV90eXBlO1xyXG4gICAgICAgIGFsbFBhcmFtc1snb3BlcmF0ZV90eXBlJ10gPSBuZXdfc3RhdGU7XHJcblxyXG4gICAgICAgIHZhciB0aXAgPSBcIlwiO1xyXG4gICAgICAgIGlmIChuZXdfc3RhdGUgPT0gMCkge1xyXG4gICAgICAgICAgICB0aXAgPSBcIuS4iuaetuWQjuivpeWNleWTgeWwhuWvueWkluaYvuekulwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRpcCA9IFwi5LiL5p625ZCO6K+l5Y2V5ZOB5bCG5LiN5a+55aSW5pi+56S6XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmFsZXJ0KHRpcCwgXCJpbmZvXCIsIHtcclxuICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJC5wb3N0KCcvY2hhbmdlX2dvb2RzX3N0YXRlJywgYWxsUGFyYW1zLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobmV3X3N0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuS4iuaetuaIkOWKn++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5LiL5p625oiQ5Yqf77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0Lm1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChyZXN1bHQubXNnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog56e76Zmk6LWE5rqQXHJcbiAgICAgKiBAcGFyYW0gZ29vZHNfaWRcclxuICAgICAqIEBwYXJhbSBnb29kc190eXBlXHJcbiAgICAgKiBAcGFyYW0gY2hhbm5lbF90eXBlXHJcbiAgICAgKi9cclxuICAgIHV0aWxzLnJlbW92ZUdvb2QgPSBmdW5jdGlvbiAoZ29vZHNfaWQsIGdvb2RzX3R5cGUsIGNoYW5uZWxfdHlwZSkge1xyXG4gICAgICAgIHZhciBhbGxQYXJhbXMgPSB7fTtcclxuICAgICAgICBhbGxQYXJhbXNbJ2dvb2RzX2lkJ10gPSBnb29kc19pZDtcclxuICAgICAgICBhbGxQYXJhbXNbJ2dvb2RzX3R5cGUnXSA9IGdvb2RzX3R5cGU7XHJcbiAgICAgICAgYWxsUGFyYW1zWydjaGFubmVsX3R5cGUnXSA9IGNoYW5uZWxfdHlwZTtcclxuXHJcbiAgICAgICAgJC5wb3N0KCcvbW92ZV9nb29kcycsIGFsbFBhcmFtcywgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLnp7vpmaTotYTmupDmiJDlip8hXCIpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi56e76Zmk6LWE5rqQ5aSx6LSlIVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaPkOS6pOWIhumUgOiuvue9rlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhbGl2ZUlkICAgICAgIC0gICDnm7Tmkq3otYTmupBpZFxyXG4gICAgICogQHBhcmFtIGlucHV0VmFsdWUgICAgLSAgIOiuvue9ruWIhuaIkOavlOS+i++8miDpgoDor7fljaHliIbplIDlvIDlkK/vvJrvvIgxIH4gNTDvvInvvJsg6YKA6K+35Y2h5YiG6ZSA5YWz6Zet77yaMFxyXG4gICAgICovXHJcbiAgICB1dGlscy5zdWJtaXRTYWxlU2V0ID0gZnVuY3Rpb24gKGFsaXZlSWQsIGlucHV0VmFsdWUpIHtcclxuICAgICAgICAkLmFqYXgoXCIvc2V0X3Byb2ZpdF9yYXRpb1wiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIFwiYWxpdmVfaWRcIjogYWxpdmVJZCxcclxuICAgICAgICAgICAgICAgIFwiZGlzdHJpYnV0ZV9wZXJjZW50XCI6IGlucHV0VmFsdWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zZXRfc2FsZV9yYXRpb193aW5kb3dcIikuZmFkZU91dCgzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLliIbplIDorr7nva7miJDlip/vvIFcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWIhumUgOiuvue9ruWksei0pe+8gVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5ZWm77yM6K+356iN5ZCO5YaN5o+Q5Lqk77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5ou85o6l5bey5pyJ5Y2V5ZOB5YaF5a65IGh0bWzku6PnoIFcclxuICAgICAqL1xyXG4gICAgdXRpbHMuZ2V0U2VsZWN0UGFnZUh0bWxDb2RlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgaHRtbF9jb2RlID0gXCJcIjtcclxuXHJcbiAgICAgICAgdmFyIHBhZ2VPZmZzZXQgPSBkYXRhW1wicGFnZV9vZmZzZXRcIl07XHJcbiAgICAgICAgdmFyIHJlc291cmNlTGlzdEFyciA9IGRhdGFbXCJyZXNvdXJjZV9saXN0XCJdO1xyXG5cclxuICAgICAgICBpZiAocmVzb3VyY2VMaXN0QXJyLmxlbmd0aCA8PSAwKSB7XHJcblxyXG4gICAgICAgICAgICBodG1sX2NvZGUgKz0gJzxkaXYgY2xhc3M9XCJzZWFyY2hfbm9fZGF0YVwiPuaaguaXoOaVsOaNru+8jOivt+mHjeaWsOaQnOe0ou+8gTwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaHRtbF9jb2RlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyrmkJzntKLlhoXlrrnku6PnoIEqL1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzb3VyY2VMaXN0QXJyLmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgICAgICB2YXIgcmVzb3VyY2VJdGVtID0gcmVzb3VyY2VMaXN0QXJyW2ldO1xyXG5cclxuICAgICAgICAgICAgaHRtbF9jb2RlICs9ICc8ZGl2IGNsYXNzPVwicmVzb3VyY2VJdGVtV3JhcHBlclwiPic7XHJcbiAgICAgICAgICAgIGh0bWxfY29kZSArPSAnPGlucHV0IGlkPVwicmVzb3VyY2VfaXRlbV8nICsgaSArICdcIiBjbGFzcz1cIndpdGgtZ2FwIHJlc291cmNlX3JhZGlvXCIgbmFtZT1cInNlbGVjdF9yZXNvdXJjZVwiIHZhbHVlPVwiJyArIGkgKyAnXCIgdHlwZT1cInJhZGlvXCIvPic7XHJcbiAgICAgICAgICAgIGh0bWxfY29kZSArPSAnPGxhYmVsIGZvcj1cInJlc291cmNlX2l0ZW1fJyArIGkgKyAnXCIgY2xhc3M9XCJyYWRpb19kZXNjXCI+JztcclxuICAgICAgICAgICAgaHRtbF9jb2RlICs9ICc8ZGl2IGNsYXNzPVwicmVzb3VyY2VfaWNvbl93cmFwcGVyXzJcIj4nO1xyXG4gICAgICAgICAgICBodG1sX2NvZGUgKz0gJzxpbWcgY2xhc3M9XCJyZXNvdXJjZV9pY29uXzJcIiBzcmM9XCInICsgcmVzb3VyY2VJdGVtW1wiaW1nX3VybFwiXSArICdcIj4nO1xyXG4gICAgICAgICAgICBodG1sX2NvZGUgKz0gJzwvZGl2Pic7XHJcbiAgICAgICAgICAgIGh0bWxfY29kZSArPSByZXNvdXJjZUl0ZW1bXCJ0aXRsZVwiXTtcclxuICAgICAgICAgICAgaHRtbF9jb2RlICs9ICc8L2xhYmVsPic7XHJcbiAgICAgICAgICAgIGh0bWxfY29kZSArPSAnPHNwYW4gY2xhc3M9XCJyZXNvdXJjZV90eXBlXzJcIj4nO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoIChyZXNvdXJjZUl0ZW1bXCJyZXNvdXJjZV90eXBlXCJdKSB7ICAgICAgICAvLygwLeWFqOmDqCwxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9ICflm77mlocnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSAn6Z+z6aKRJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gJ+inhumikSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9ICfnm7Tmkq0nO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gJ+i1hOa6kCc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGh0bWxfY29kZSArPSAnPC9zcGFuPic7XHJcbiAgICAgICAgICAgIGh0bWxfY29kZSArPSAnPHNwYW4gY2xhc3M9XCJyZXNvdXJjZV90aW1lXzJcIj4nO1xyXG4gICAgICAgICAgICBodG1sX2NvZGUgKz0gcmVzb3VyY2VJdGVtW1wic3RhcnRfYXRcIl07XHJcbiAgICAgICAgICAgIGh0bWxfY29kZSArPSAnPC9zcGFuPic7XHJcbiAgICAgICAgICAgIGh0bWxfY29kZSArPSAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKuaQnOe0ouWGheWuuSAtIOWIhumhteS7o+eggSovXHJcbiAgICAgICAgaHRtbF9jb2RlICs9ICc8ZGl2IGNsYXNzPVwicGFnZV9vZmZzZXRfZGl2XzJcIiBhbGlnbj1cImNlbnRlclwiPic7XHJcbiAgICAgICAgaHRtbF9jb2RlICs9ICc8dWwgY2xhc3M9XCJwYWdpbmF0aW9uXCI+JztcclxuXHJcbiAgICAgICAgaHRtbF9jb2RlICs9IHV0aWxzLmdldFNlbGVjdFBhZ2luYXRpb24ocGFnZU9mZnNldCk7XHJcblxyXG4gICAgICAgIGh0bWxfY29kZSArPSAnPC91bD4nO1xyXG4gICAgICAgIGh0bWxfY29kZSArPSAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgcmV0dXJuIGh0bWxfY29kZTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y+R6YCB6K+35rGCIO+8jCDojrflj5blt7LmnInljZXlk4HmlbDmja4sIOW5tuWkhOeQhlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjaGFubmVsVHlwZSAgICAgICAtIDEt5Y2V5ZOBLDIt5LiT5qCPLDMt5Lya5ZGYXHJcbiAgICAgKiBAcGFyYW0gc2VhcmNoQ29udGVudCAgICAgLSDmkJzntKLlhoXlrrlcclxuICAgICAqIEBwYXJhbSByZXNvdXJjZVR5cGUgICAgICAtIDAt5YWo6YOoLDEt5Zu+5paHLDIt6Z+z6aKRLDMt6KeG6aKRLDQt55u05pKtXHJcbiAgICAgKiBAcGFyYW0gcGFnZUluZGV4ICAgICAgICAgLSDliIbpobXpobXnoIFcclxuICAgICAqL1xyXG4gICAgdXRpbHMucmVxdWVzdFNlbGVjdERhdGEgPSBmdW5jdGlvbiAoY2hhbm5lbFR5cGUsIHNlYXJjaENvbnRlbnQsIHJlc291cmNlVHlwZSwgcGFnZUluZGV4KSB7XHJcblxyXG4gICAgICAgICQuYWpheChcIi9jaG9pY2VfcmVzb3VyY2VfbGlzdFwiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICdjaGFubmVsX3R5cGUnOiBjaGFubmVsVHlwZSwgJ3NlYXJjaF9jb250ZW50Jzogc2VhcmNoQ29udGVudCwgJ3Jlc291cmNlX3R5cGUnOiByZXNvdXJjZVR5cGUsICdwYWdlJzogcGFnZUluZGV4XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIC8vICDkv53lrZjor7fmsYLnmoTmlbDmja5cclxuICAgICAgICAgICAgICAgIHJlcXVlc3RlZERhdGEgPSByZXN1bHQuZGF0YTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIOaLvOaOpWh0bWzku6PnoIFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbF9jb2RlID0gdXRpbHMuZ2V0U2VsZWN0UGFnZUh0bWxDb2RlKHJlc3VsdC5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zZWxlY3RfY29udGVudF9hcmVhXCIpLmh0bWwoXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zZWxlY3RfY29udGVudF9hcmVhXCIpLmFwcGVuZChodG1sX2NvZGUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmkJzntKLlpLHotKXvvIFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5ZWm77yM6K+356iN5ZCO5YaN5pCc57Si77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5a6e546w5YiG6aG1IC0gcGFnaW5hdGlvblxyXG4gICAgICog6ZyA6KaB5pWw5o2uOyB0b3RhbF9wYWdlcycgLSB0b3RhbF9jb3VudCcgLSBjdXJyZW50X3BhZ2UnIC0gcGFnZV9zaXplJ1xyXG4gICAgICogc3RhdGUgOiAgIHZhbHVlPVwiLTFcIj7miYDmnInnirbmgIFcclxuICAgICAgICAgICAgICAgICB2YWx1ZT1cIjBcIj7lt7LkuIrmnrZcclxuICAgICAgICAgICAgICAgICB2YWx1ZT1cIjFcIj7lt7LkuIvmnrZcclxuICAgICAqL1xyXG4gICAgdXRpbHMuZ2V0SG9tZVBhZ2luYXRpb24gPSBmdW5jdGlvbiAocm91dGVVcmwsIHJlc291cmNlVHlwZSwgc2VhcmNoQ29udGVudCwgc3RhdGUpIHtcclxuICAgICAgICBwYWdlX29mZnNldCA9IEpTT04ucGFyc2UocGFnZV9vZmZzZXRfanNvbik7XHJcbiAgICAgICAgcGFnZV9vZmZzZXRbJ2N1cnJlbnRfcGFnZSddID0gK3BhZ2Vfb2Zmc2V0W1wiY3VycmVudF9wYWdlXCJdO1xyXG5cclxuICAgICAgICB2YXIgaHRtbF9jb2RlID0gXCJcIjtcclxuXHJcbiAgICAgICAgaWYgKHBhZ2Vfb2Zmc2V0Wyd0b3RhbF9wYWdlcyddIDw9IDApIHsgICAgICAvL+ayoeacieaVsOaNrlxyXG4gICAgICAgICAgICAkKFwiLnBhZ2Vfb2Zmc2V0X2RpdlwiKS5hZGRDbGFzcyhcImhpZGVcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog56Gu5a6ac2tpcF91cmxcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgc2tpcF91cmwgPSByb3V0ZVVybCArIFwiP3Jlc291cmNlX3R5cGU9XCIgKyByZXNvdXJjZVR5cGUgKyBcIiZzZWFyY2hfY29udGVudD1cIiArIHNlYXJjaENvbnRlbnQgKyBcIiZzdGF0ZT1cIiArIHN0YXRlICsgXCImcGFnZT1cIjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5bem566t5aS0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKHBhZ2Vfb2Zmc2V0WydjdXJyZW50X3BhZ2UnXSA9PSAxKSB7ICAgICAvLyAg5L2N5LqO56ys5LiA6aG1XHJcbiAgICAgICAgICAgIGh0bWxfY29kZSA9IFwiPGxpIGNsYXNzPSdkaXNhYmxlZCc+PHNwYW4+wqs8L3NwYW4+PC9saT5cIlxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGh0bWxfY29kZSA9IFwiPGxpPjxhIGhyZWY9J1wiICsgc2tpcF91cmwgKyAocGFnZV9vZmZzZXRbJ2N1cnJlbnRfcGFnZSddIC0gMSkgKyBcIicgcmVsPSdwcmV2Jz7CqzwvYT48L2xpPlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Lit6Ze05pWw5a2XXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKHBhZ2Vfb2Zmc2V0Wyd0b3RhbF9wYWdlcyddIDwgMTIpIHsgICAgICAvL+WFqOmDqOaYvuekuizmsqHmnInnnIHnlaXlj7dcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gcGFnZV9vZmZzZXRbJ3RvdGFsX3BhZ2VzJ107IGkgKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYWdlX29mZnNldFsnY3VycmVudF9wYWdlJ10gPT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaSBjbGFzcz0nYWN0aXZlJz48c3Bhbj5cIiArIGkgKyBcIjwvc3Bhbj48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gXCI8bGk+PGEgaHJlZj0nXCIgKyBza2lwX3VybCArIGkgKyBcIic+XCIgKyBpICsgXCI8L2E+PC9saT5cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2UgeyAgICAgICAvLyAg6YOo5YiG5pi+56S677yM5pyJ55yB55Wl5Y+377yMXHJcbiAgICAgICAgICAgIGlmIChwYWdlX29mZnNldFsnY3VycmVudF9wYWdlJ10gPiA2ICYmIChwYWdlX29mZnNldFsndG90YWxfcGFnZXMnXSAtIHBhZ2Vfb2Zmc2V0WydjdXJyZW50X3BhZ2UnXSkgPCA2KSB7ICAgICAvLyAg5bem6L655pyJ55yB55Wl5Y+3XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8PSAyOyBqICsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaT48YSBocmVmPSdyZXNvdXJjZV9saXN0X3BhZ2U/cGFnZT1cIiArIGogKyBcIic+XCIgKyBqICsgXCI8L2E+PC9saT5cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaSBjbGFzcz0nZGlzYWJsZWQnPjxzcGFuPi4uLjwvc3Bhbj48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgZm9yIChqID0gcGFnZV9vZmZzZXRbJ3RvdGFsX3BhZ2VzJ10gLSA4OyBqIDw9IHBhZ2Vfb2Zmc2V0Wyd0b3RhbF9wYWdlcyddOyBqICsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2Vfb2Zmc2V0WydjdXJyZW50X3BhZ2UnXSA9PSBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaSBjbGFzcz0nYWN0aXZlJz48c3Bhbj5cIiArIGogKyBcIjwvc3Bhbj48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaT48YSBocmVmPSdcIiArIHNraXBfdXJsICsgaiArIFwiJz5cIiArIGogKyBcIjwvYT48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFnZV9vZmZzZXRbJ2N1cnJlbnRfcGFnZSddIDwgNyAmJiAocGFnZV9vZmZzZXRbJ3RvdGFsX3BhZ2VzJ10gLSBwYWdlX29mZnNldFsnY3VycmVudF9wYWdlJ10pID4gNSl7ICAgICAgLy8gIOWPs+i+ueacieecgeeVpeWPt1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDE7IGsgPD0gODsgayArKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYWdlX29mZnNldFsnY3VycmVudF9wYWdlJ10gPT0gaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gXCI8bGkgY2xhc3M9J2FjdGl2ZSc+PHNwYW4+XCIgKyBrICsgXCI8L3NwYW4+PC9saT5cIjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gXCI8bGk+PGEgaHJlZj0nXCIgKyBza2lwX3VybCArIGsgKyBcIic+XCIgKyBrICsgXCI8L2E+PC9saT5cIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gXCI8bGkgY2xhc3M9J2Rpc2FibGVkJz48c3Bhbj4uLi48L3NwYW4+PC9saT5cIjtcclxuICAgICAgICAgICAgICAgIGZvciAoayA9IHBhZ2Vfb2Zmc2V0Wyd0b3RhbF9wYWdlcyddIC0gMTsgayA8PSBwYWdlX29mZnNldFsndG90YWxfcGFnZXMnXTsgayArKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaT48YSBocmVmPSdcIiArIHNraXBfdXJsICsgayArIFwiJz5cIiArIGsgKyBcIjwvYT48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHsgICAgLy8g5Lik6L656YO95pyJ55yB55Wl5Y+3XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAyOyBpICsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaT48YSBocmVmPSdcIiArIHNraXBfdXJsICsgaSArIFwiJz5cIiArIGkgKyBcIjwvYT48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpIGNsYXNzPSdkaXNhYmxlZCc+PHNwYW4+Li4uPC9zcGFuPjwvbGk+XCI7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHBhZ2Vfb2Zmc2V0WydjdXJyZW50X3BhZ2UnXSAtIDM7IGogPD0gKHBhZ2Vfb2Zmc2V0WydjdXJyZW50X3BhZ2UnXSArIDMpOyBqICsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2Vfb2Zmc2V0WydjdXJyZW50X3BhZ2UnXSA9PSBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaSBjbGFzcz0nYWN0aXZlJz48c3Bhbj5cIiArIGogKyBcIjwvc3Bhbj48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaT48YSBocmVmPSdcIiArIHNraXBfdXJsICsgaiArIFwiJz5cIiArIGogKyBcIjwvYT48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gXCI8bGkgY2xhc3M9J2Rpc2FibGVkJz48c3Bhbj4uLi48L3NwYW4+PC9saT5cIjtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSBwYWdlX29mZnNldFsndG90YWxfcGFnZXMnXSAtIDE7IGsgPD0gcGFnZV9vZmZzZXRbJ3RvdGFsX3BhZ2VzJ107IGsgKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gXCI8bGk+PGEgaHJlZj0nXCIgKyBza2lwX3VybCArIGsgKyBcIic+XCIgKyBrICsgXCI8L2E+PC9saT5cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlj7Pnrq3lpLRcclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAocGFnZV9vZmZzZXRbJ2N1cnJlbnRfcGFnZSddID09IHBhZ2Vfb2Zmc2V0Wyd0b3RhbF9wYWdlcyddKSB7ICAgIC8vICDkvY3kuo7mnIDlkI7kuIDpobVcclxuICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpIGNsYXNzPSdkaXNhYmxlZCc+PHNwYW4+wrs8L3NwYW4+PC9saT5cIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBodG1sX2NvZGUgKz0gXCI8bGk+PGEgaHJlZj0nXCIgKyBza2lwX3VybCArIChwYWdlX29mZnNldFsnY3VycmVudF9wYWdlJ10gKyAxKSArIFwiJyByZWw9J25leHQnPsK7PC9hPjwvbGk+XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaHRtbF9jb2RlO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlrp7njrDliIbpobUgLSBwYWdpbmF0aW9uXHJcbiAgICAgKiDpgInmi6nljZXlk4HpobXpnaLliIbpobXku6PnoIFcclxuICAgICAqL1xyXG4gICAgdXRpbHMuZ2V0U2VsZWN0UGFnaW5hdGlvbiA9IGZ1bmN0aW9uIChwYWdlT2Zmc2V0KSB7XHJcbiAgICAgICAgdmFyIGh0bWxfY29kZSA9ICcnO1xyXG5cclxuICAgICAgICB2YXIgcGFnZU9mZnNldEFyciA9IEpTT04ucGFyc2UocGFnZU9mZnNldCk7XHJcbiAgICAgICAgcGFnZU9mZnNldEFyclsnY3VycmVudF9wYWdlJ10gPSArcGFnZU9mZnNldEFyclsnY3VycmVudF9wYWdlJ107XHJcblxyXG4gICAgICAgIGlmIChwYWdlT2Zmc2V0QXJyWyd0b3RhbF9wYWdlcyddIDw9IDApIHsgICAgICAvL+ayoeacieaVsOaNrlxyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlt6bnrq3lpLRcclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAocGFnZU9mZnNldEFyclsnY3VycmVudF9wYWdlJ10gPT0gMSkgeyAgICAgLy8gIOS9jeS6juesrOS4gOmhtVxyXG4gICAgICAgICAgICBodG1sX2NvZGUgPSBcIjxsaSBjbGFzcz0nZGlzYWJsZWQnPjxzcGFuPsKrPC9zcGFuPjwvbGk+XCJcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBodG1sX2NvZGUgPSBcIjxsaT48YSBkYXRhLXBhZ2VfaW5kZXg9J1wiICsgKHBhZ2VPZmZzZXRBcnJbJ2N1cnJlbnRfcGFnZSddIC0gMSkgKyBcIicgcmVsPSdwcmV2Jz7CqzwvYT48L2xpPlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Lit6Ze05pWw5a2XXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKHBhZ2VPZmZzZXRBcnJbJ3RvdGFsX3BhZ2VzJ10gPCAxMikgeyAgICAgIC8v5YWo6YOo5pi+56S6LOayoeacieecgeeVpeWPt1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBwYWdlT2Zmc2V0QXJyWyd0b3RhbF9wYWdlcyddOyBpICsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFnZU9mZnNldEFyclsnY3VycmVudF9wYWdlJ10gPT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaSBjbGFzcz0nYWN0aXZlJz48c3Bhbj5cIiArIGkgKyBcIjwvc3Bhbj48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gXCI8bGk+PGEgZGF0YS1wYWdlX2luZGV4PSdcIiArIGkgKyBcIic+XCIgKyBpICsgXCI8L2E+PC9saT5cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2UgeyAgICAgICAvLyAg6YOo5YiG5pi+56S677yM5pyJ55yB55Wl5Y+377yMXHJcbiAgICAgICAgICAgIGlmIChwYWdlT2Zmc2V0QXJyWydjdXJyZW50X3BhZ2UnXSA+IDYgJiYgKHBhZ2VPZmZzZXRBcnJbJ3RvdGFsX3BhZ2VzJ10gLSBwYWdlT2Zmc2V0QXJyWydjdXJyZW50X3BhZ2UnXSkgPCA2KSB7ICAgICAvLyAg5bem6L655pyJ55yB55Wl5Y+3XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8PSAyOyBqICsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaT48YSBkYXRhLXBhZ2VfaW5kZXg9J1wiICsgaiArIFwiJz5cIiArIGogKyBcIjwvYT48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpIGNsYXNzPSdkaXNhYmxlZCc+PHNwYW4+Li4uPC9zcGFuPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGogPSBwYWdlT2Zmc2V0QXJyWyd0b3RhbF9wYWdlcyddIC0gODsgaiA8PSBwYWdlT2Zmc2V0QXJyWyd0b3RhbF9wYWdlcyddOyBqICsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VPZmZzZXRBcnJbJ2N1cnJlbnRfcGFnZSddID09IGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpIGNsYXNzPSdhY3RpdmUnPjxzcGFuPlwiICsgaiArIFwiPC9zcGFuPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpPjxhIGRhdGEtcGFnZV9pbmRleD0nXCIgKyBqICsgXCInPlwiICsgaiArIFwiPC9hPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYWdlT2Zmc2V0QXJyWydjdXJyZW50X3BhZ2UnXSA8IDcgJiYgKHBhZ2VPZmZzZXRBcnJbJ3RvdGFsX3BhZ2VzJ10gLSBwYWdlT2Zmc2V0QXJyWydjdXJyZW50X3BhZ2UnXSkgPiA1KXsgICAgICAvLyAg5Y+z6L655pyJ55yB55Wl5Y+3XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMTsgayA8PSA4OyBrICsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VPZmZzZXRBcnJbJ2N1cnJlbnRfcGFnZSddID09IGspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpIGNsYXNzPSdhY3RpdmUnPjxzcGFuPlwiICsgayArIFwiPC9zcGFuPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpPjxhIGRhdGEtcGFnZV9pbmRleD0nXCIgKyBrICsgXCInPlwiICsgayArIFwiPC9hPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpIGNsYXNzPSdkaXNhYmxlZCc+PHNwYW4+Li4uPC9zcGFuPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGsgPSBwYWdlT2Zmc2V0QXJyWyd0b3RhbF9wYWdlcyddIC0gMTsgayA8PSBwYWdlT2Zmc2V0QXJyWyd0b3RhbF9wYWdlcyddOyBrICsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpPjxhIGRhdGEtcGFnZV9pbmRleD0nXCIgKyBrICsgXCInPlwiICsgayArIFwiPC9hPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgeyAgICAvLyDkuKTovrnpg73mnInnnIHnlaXlj7dcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDI7IGkgKysgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpPjxhIGRhdGEtcGFnZV9pbmRleD0nXCIgKyBpICsgXCInPlwiICsgaSArIFwiPC9hPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gXCI8bGkgY2xhc3M9J2Rpc2FibGVkJz48c3Bhbj4uLi48L3NwYW4+PC9saT5cIjtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gcGFnZU9mZnNldEFyclsnY3VycmVudF9wYWdlJ10gLSAzOyBqIDw9IChwYWdlT2Zmc2V0QXJyWydjdXJyZW50X3BhZ2UnXSArIDMpOyBqICsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VPZmZzZXRBcnJbJ2N1cnJlbnRfcGFnZSddID09IGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpIGNsYXNzPSdhY3RpdmUnPjxzcGFuPlwiICsgaiArIFwiPC9zcGFuPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpPjxhIGRhdGEtcGFnZV9pbmRleD0nXCIgKyBqICsgXCInPlwiICsgaiArIFwiPC9hPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaSBjbGFzcz0nZGlzYWJsZWQnPjxzcGFuPi4uLjwvc3Bhbj48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IHBhZ2VPZmZzZXRBcnJbJ3RvdGFsX3BhZ2VzJ10gLSAxOyBrIDw9IHBhZ2VPZmZzZXRBcnJbJ3RvdGFsX3BhZ2VzJ107IGsgKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gXCI8bGk+PGEgZGF0YS1wYWdlX2luZGV4PSdcIiArIGsgKyBcIic+XCIgKyBrICsgXCI8L2E+PC9saT5cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlj7Pnrq3lpLRcclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAocGFnZU9mZnNldEFyclsnY3VycmVudF9wYWdlJ10gPT0gcGFnZU9mZnNldEFyclsndG90YWxfcGFnZXMnXSkgeyAgICAvLyAg5L2N5LqO5pyA5ZCO5LiA6aG1XHJcbiAgICAgICAgICAgIGh0bWxfY29kZSArPSBcIjxsaSBjbGFzcz0nZGlzYWJsZWQnPjxzcGFuPsK7PC9zcGFuPjwvbGk+XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaHRtbF9jb2RlICs9IFwiPGxpPjxhIGRhdGEtcGFnZV9pbmRleD0nXCIgKyAocGFnZU9mZnNldEFyclsnY3VycmVudF9wYWdlJ10gKyAxKSArIFwiJyByZWw9J25leHQnPsK7PC9hPjwvbGk+XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaHRtbF9jb2RlO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gdXRpbHM7XHJcblxyXG59KSgpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==
