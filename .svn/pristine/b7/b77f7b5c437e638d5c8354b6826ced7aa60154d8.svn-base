$(function(){var e=new Business;e.init();if(GetQueryString("prompt")==1){$(".red_prompt_word").html("小鹅通内容列表全面升级为商品管理，点击查看更多高级功能<a href='/help/system_update' target='_blank'>查看教程</a>");$(".red_prompt").show()}});function Business(){this.toolBoxBtn=true;this.toDetail=true;this.searchObj={state:GetQueryString("state")||0,search_content:GetQueryString("search_content")||""}}Business.prototype={init:function(){if(sessionStorage.getItem("key")==1){setTimeout(function(){baseUtils.show.blueTip("操作成功")},300);sessionStorage.setItem("key",0)}var e=this;$("#packageList").on("click",".listItem",function(){if(e.toDetail){e.toolBoxBtn=false,e.toDetail=false;var t="/package_detail_page?id="+$(this).data("id");contentDetail(t)}});$("#packageList").on("click",".listItem .toolBox li",function(t){t.stopPropagation();var o=$(t.target),a=o.parentsUntil("#packageList",".listItem").data("id");type=o.data("type");type&&e.toolBoxBtn&&e.toDetail&&(e.tool(type,a),e.toDetail=false)});$("#searchBtn").on("click",function(){var e=$("#selector").val(),t=$.trim($("#searchVal").val());if(!!t){window.location.href="/package_list_page?state="+e+"&search_content="+t}else{window.location.href="/package_list_page?state="+e}});$("#selector").find("option").eq(++this.searchObj.state).attr("selected",true);$("#searchVal").on("keypress",function(e){if(e.keyCode=="13"){$("#searchBtn").click()}}).val(this.searchObj.search_content);$(".selector").on("change",function(){$("#searchBtn").click()})},tool:function(e,t){switch(e){case"edit":contentDetail("/edit_package_page?id="+t);break;case"toup":this.movePackage(t,true);break;case"todown":this.movePackage(t,false);break;case"soldout":this.isShow(t,false);break;case"putaway":this.isShow(t,true);break;default:console.error("参数错误");break}},movePackage:function(e,t){var o=this;showLoading();$.ajax("/change_package_weight",{type:"POST",dataType:"json",data:{package_id:e,order_type:t?0:1},success:function(e){hideLoading();if(e.code==0){sessionStorage.setItem("key",1);console.log(sessionStorage.getItem("key"));reloadPage()}else{o.toolBoxBtn=true;o.toDetail=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,a){console.error(a);hideLoading();o.toolBoxBtn=true;o.toDetail=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},isShow:function(e,t){var o=this;showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:0,operate_type:t?0:1},success:function(e){hideLoading();if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{o.toolBoxBtn=true;o.toDetail=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,a){console.error(a);hideLoading();o.toolBoxBtn=true;o.toDetail=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL3Jlc01hbmFnZS9wYWNrYWdlTGlzdC5qcyJdLCJuYW1lcyI6WyIkIiwiYnVzaW5lc3MiLCJCdXNpbmVzcyIsImluaXQiLCJHZXRRdWVyeVN0cmluZyIsImh0bWwiLCJzaG93IiwidGhpcyIsInRvb2xCb3hCdG4iLCJ0b0RldGFpbCIsInNlYXJjaE9iaiIsInN0YXRlIiwic2VhcmNoX2NvbnRlbnQiLCJwcm90b3R5cGUiLCJzZXNzaW9uU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRUaW1lb3V0IiwiYmFzZVV0aWxzIiwiYmx1ZVRpcCIsInNldEl0ZW0iLCJzZWxmIiwib24iLCJocmVmIiwiZGF0YSIsImNvbnRlbnREZXRhaWwiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiJGVsZSIsInRhcmdldCIsImlkIiwicGFyZW50c1VudGlsIiwidHlwZSIsInRvb2wiLCJ2YWwiLCJ0cmltIiwid2luZG93IiwibG9jYXRpb24iLCJmaW5kIiwiZXEiLCJhdHRyIiwia2V5Q29kZSIsImNsaWNrIiwibW92ZVBhY2thZ2UiLCJpc1Nob3ciLCJjb25zb2xlIiwiZXJyb3IiLCJjaGFuZ2VUeXBlIiwic2hvd0xvYWRpbmciLCJhamF4IiwiZGF0YVR5cGUiLCJwYWNrYWdlX2lkIiwib3JkZXJfdHlwZSIsInN1Y2Nlc3MiLCJoaWRlTG9hZGluZyIsImNvZGUiLCJsb2ciLCJyZWxvYWRQYWdlIiwicmVkVGlwIiwibXNnIiwieGhyIiwic3RhdHVzIiwiZXJyIiwiZ29vZHNfaWQiLCJnb29kc190eXBlIiwib3BlcmF0ZV90eXBlIl0sIm1hcHBpbmdzIjoiQUFLQUEsRUFBRSxXQUNFLEdBQUlDLEdBQVcsR0FBSUMsU0FDbkJELEdBQVNFLE1BR1QsSUFBSUMsZUFBZSxXQUFhLEVBQUcsQ0FDL0JKLEVBQUUsb0JBQW9CSyxLQUFLLG9GQUMzQkwsR0FBRSxlQUFlTSxTQUt6QixTQUFTSixZQUNMSyxLQUFLQyxXQUFhLElBQ2xCRCxNQUFLRSxTQUFXLElBQ2hCRixNQUFLRyxXQUNEQyxN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QyxTQUFVakMsRUFDVmtDLFdBQVksRUFDWkMsYUFBY2xCLEVBQWEsRUFBSSxHQUVuQ00sUUFBUyxTQUFTN0IsR0FFZDhCLGFBQ0EsSUFBRzlCLEVBQUsrQixNQUFRLEVBQUcsQ0FDZnJDLFVBQVVYLEtBQUtZLFFBQVFLLEVBQUttQyxJQUM1QjFDLFlBQVcsV0FDUHdDLGNBQ0YsU0FDQyxDQUNIcEMsRUFBS1osV0FBYSxJQUNsQlksR0FBS1gsU0FBVyxJQUNoQlEsV0FBVVgsS0FBS21ELE9BQU9sQyxFQUFLbUMsT0FHbkNiLE1BQU8sU0FBU2MsRUFBS0MsRUFBUUMsR0FDekJqQixRQUFRQyxNQUFNZ0IsRUFDZFIsY0FDQWpDLEdBQUtaLFdBQWEsSUFDbEJZLEdBQUtYLFNBQVcsSUFDaEJRLFdBQVVYLEtBQUttRCxPQUFPIiwiZmlsZSI6ImFkbWluL3Jlc01hbmFnZS9wYWNrYWdlTGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEZyYW5rIG9uIDIwMTcvMy8yMS5cclxuICovXHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYnVzaW5lc3MgPSBuZXcgQnVzaW5lc3MoKTtcclxuICAgIGJ1c2luZXNzLmluaXQoKTtcclxuXHJcbiAgICAvLyAg5pi+56S65bCP6buE5p2hICAgPOWwj+m5hemAmuWGheWuueWIl+ihqOWFqOmdouWNh+e6p+S4uuWVhuWTgeeuoeeQhu+8jOiOt+WPluabtOWkmumrmOe6p+WKn+iDveS9v+eUqOaVmeeoi+ivt+eCueWHu+OAkOWVhuWTgeeuoeeQhuaVmeeoi+OAkT5cclxuICAgIGlmIChHZXRRdWVyeVN0cmluZyhcInByb21wdFwiKSA9PSAxKSB7XHJcbiAgICAgICAgJChcIi5yZWRfcHJvbXB0X3dvcmRcIikuaHRtbChcIuWwj+m5hemAmuWGheWuueWIl+ihqOWFqOmdouWNh+e6p+S4uuWVhuWTgeeuoeeQhu+8jOeCueWHu+afpeeci+abtOWkmumrmOe6p+WKn+iDvTxhIGhyZWY9Jy9oZWxwL3N5c3RlbV91cGRhdGUnIHRhcmdldD0nX2JsYW5rJz7mn6XnnIvmlZnnqIs8L2E+XCIpO1xyXG4gICAgICAgICQoXCIucmVkX3Byb21wdFwiKS5zaG93KCk7XHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIEJ1c2luZXNzKCkgey8v5a6a5LmJ5LiA5Lqb5YWs5YWx5bGe5oCnXHJcbiAgICB0aGlzLnRvb2xCb3hCdG4gPSB0cnVlO1xyXG4gICAgdGhpcy50b0RldGFpbCA9IHRydWU7XHJcbiAgICB0aGlzLnNlYXJjaE9iaiA9IHtcclxuICAgICAgICBzdGF0ZTogR2V0UXVlcnlTdHJpbmcoJ3N0YXRlJykgfHwgMCxcclxuICAgICAgICBzZWFyY2hfY29udGVudDogR2V0UXVlcnlTdHJpbmcoJ3NlYXJjaF9jb250ZW50JykgfHwgJydcclxuICAgIH1cclxufVxyXG5cclxuQnVzaW5lc3MucHJvdG90eXBlID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKCkgeyAvL+mhtemdoueahOWIneWni+WMluaTjeS9nO+8jOe7keWumuS6i+S7tlxyXG4gICAgICAgIGlmKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2tleScpPT0xKXsvL+S4iuS4i+enu+WKqOaXtumXtOaIkOWKn+WIt+aWsOWQjuW8ueeql+WIneWni+WMllxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKCfmk43kvZzmiJDlip8nKVxyXG4gICAgICAgICAgICB9LDMwMCk7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2tleScsMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgJCgnI3BhY2thZ2VMaXN0JykgLy/ot7Povazor6bmg4XpobVcclxuICAgICAgICAub24oJ2NsaWNrJywgJy5saXN0SXRlbScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZihzZWxmLnRvRGV0YWlsKXtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9vbEJveEJ0biA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2VsZi50b0RldGFpbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhyZWYgPSAnL3BhY2thZ2VfZGV0YWlsX3BhZ2U/aWQ9JyArICQodGhpcykuZGF0YSgnaWQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnREZXRhaWwoaHJlZik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI3BhY2thZ2VMaXN0JykgIC8v6LCD55So5bel5YW35Ye95pWwXHJcbiAgICAgICAgLm9uKCdjbGljaycsICcubGlzdEl0ZW0gLnRvb2xCb3ggbGknICxmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHZhciAkZWxlID0gJChlLnRhcmdldCksXHJcbiAgICAgICAgICAgICAgICBpZCA9ICRlbGUucGFyZW50c1VudGlsKCcjcGFja2FnZUxpc3QnLCcubGlzdEl0ZW0nKS5kYXRhKCdpZCcpXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gJGVsZS5kYXRhKCd0eXBlJyk7XHJcbiAgICAgICAgICAgIHR5cGUgJiYgc2VsZi50b29sQm94QnRuICYmIHNlbGYudG9EZXRhaWwgJiYgKFxyXG4gICAgICAgICAgICAgICAgc2VsZi50b29sKHR5cGUsIGlkKSxcclxuICAgICAgICAgICAgICAgIHNlbGYudG9EZXRhaWwgPSBmYWxzZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcjc2VhcmNoQnRuJylcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7IC8v5pCc57SiXHJcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9ICQoJyNzZWxlY3RvcicpLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgc2VhcmNoX2NvbnRlbnQgPSAkLnRyaW0oICQoJyNzZWFyY2hWYWwnKS52YWwoKSApO1xyXG4gICAgICAgICAgICBpZighIXNlYXJjaF9jb250ZW50KXtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9wYWNrYWdlX2xpc3RfcGFnZT9zdGF0ZT0nK3N0YXRlKycmc2VhcmNoX2NvbnRlbnQ9JytzZWFyY2hfY29udGVudDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9wYWNrYWdlX2xpc3RfcGFnZT9zdGF0ZT0nK3N0YXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8v5Yid5aeL5YyW5pCc57Si5p2h5Lu2XHJcbiAgICAgICAgJCgnI3NlbGVjdG9yJykuZmluZCgnb3B0aW9uJykuZXEoKyt0aGlzLnNlYXJjaE9iai5zdGF0ZSkuYXR0cignc2VsZWN0ZWQnLHRydWUpO1xyXG4gICAgICAgICQoJyNzZWFyY2hWYWwnKS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGlmKGUua2V5Q29kZSA9PSBcIjEzXCIpIHtcclxuICAgICAgICAgICAgICAgICQoJyNzZWFyY2hCdG4nKS5jbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkudmFsKHRoaXMuc2VhcmNoT2JqLnNlYXJjaF9jb250ZW50KTtcclxuXHJcbiAgICAgICAgLy8gIOebkeWQrOetm+mAieahhumAieaLqeS6i+S7tlxyXG4gICAgICAgICQoXCIuc2VsZWN0b3JcIikub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnI3NlYXJjaEJ0bicpLmNsaWNrKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSxcclxuICAgIHRvb2w6IGZ1bmN0aW9uKHR5cGUsaWQpIHtcclxuICAgICAgICBzd2l0Y2godHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdlZGl0JzpcclxuICAgICAgICAgICAgICAgIGNvbnRlbnREZXRhaWwoJy9lZGl0X3BhY2thZ2VfcGFnZT9pZD0nICsgaWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvdXAnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlUGFja2FnZShpZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndG9kb3duJzpcclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVBhY2thZ2UoaWQsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzb2xkb3V0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93KGlkLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncHV0YXdheSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU2hvdyhpZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WPguaVsOmUmeivrycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1vdmVQYWNrYWdlOiBmdW5jdGlvbihpZCwgY2hhbmdlVHlwZSkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICAgIGlkOiDopoHnp7vliqjnmoTkuJPmoI9pZFxyXG4gICAgICAgICAgICBjaGFuZ2VUeXBl77yaIHRydWUt5LiK56e777yMIGZhbHNlLeS4i+enu1xyXG4gICAgICAgICovXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNob3dMb2FkaW5nKCk7XHJcbiAgICAgICAgJC5hamF4KCcvY2hhbmdlX3BhY2thZ2Vfd2VpZ2h0Jywge1xyXG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IGlkLFxyXG4gICAgICAgICAgICAgICAgLy8w5LiK56e777yMIDHkuIvnp7tcclxuICAgICAgICAgICAgICAgIG9yZGVyX3R5cGU6IGNoYW5nZVR5cGUgPyAwIDogMVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgna2V5JywxKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdrZXknKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50b29sQm94QnRuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRvRGV0YWlsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9vbEJveEJ0biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvRGV0YWlsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgaXNTaG93OiBmdW5jdGlvbihpZCwgY2hhbmdlVHlwZSkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICAgIGlkOiDopoHkuIrkuIvmnrbnmoTkuJPmoI9pZFxyXG4gICAgICAgICAgICBjaGFuZ2VUeXBl77yaIHRydWUt5LiK5p6277yMIGZhbHNlLeS4i+aetlxyXG4gICAgICAgICovXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNob3dMb2FkaW5nKCk7XHJcbiAgICAgICAgJC5hamF4KCcvY2hhbmdlX2dvb2RzX3N0YXRlJyx7XHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgIDEtZ29vZHNfaWQ7XHJcbiAgICAgICAgICAgICAgICAyLWdvb2RzX3R5cGUoMC3kuJPmoI8sMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xyXG4gICAgICAgICAgICAgICAgMy1vcGVyYXRlX3R5cGUoMC3kuIrmnrYsMS3kuIvmnrYpXHJcbiAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgZ29vZHNfaWQ6IGlkLFxyXG4gICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogMCxcclxuICAgICAgICAgICAgICAgIG9wZXJhdGVfdHlwZTogY2hhbmdlVHlwZSA/IDAgOiAxLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sNzAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50b29sQm94QnRuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRvRGV0YWlsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9vbEJveEJ0biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvRGV0YWlsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iXX0=
