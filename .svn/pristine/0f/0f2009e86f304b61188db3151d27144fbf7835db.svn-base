(function(i,t,s,n){t(function(){new c});function c(i){this.options=i||{};this.app_id=t("#app_id").val();this.clickSwitch=false;this.init()}c.prototype={init:function(){var i=this,n=this.miniSwitch=t("#miniPersonToggle");this.SwitchState=n.data("toggle");n.on("click",function(){i.clickSwitch||i.toggleSwitch.call(i)});t(s).ajaxError(function(i,t,s){console.error(s);baseUtils.show.redTip("服务器开小差啦！")})},toggleSwitch:function(i){var s=this;s.clickSwitch=true;if(this.SwitchState==1){this.SwitchState=0;this.switchAjax(this.SwitchState,function(){s.miniSwitch.removeClass("opening").addClass("closing").find("span").text("关闭");t("#notminiCode").show();t("#hasminiCode").hide()})}else{this.SwitchState=1;this.switchAjax(this.SwitchState,function(){s.miniSwitch.removeClass("closing").addClass("opening").find("span").text("开启");t("#notminiCode").hide();t("#hasminiCode").show()})}},switchAjax:function(i,s){var n=this;t.post("/mini/switch",{switch:i},function(t){if(t.code==0){var c="";if(i==1){c="已开启，您的商店将在“小鹅通+”小程序中显示"}else{c="已关闭，您的商店将不继续在“小鹅通+”小程序中显示"}baseUtils.show.blueTip(c);s.call(n);n.clickSwitch=false}else{baseUtils.show.redTip(t.msg)}},"json")}}})(window,window.jQuery,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL2FjY291bnRTZXR0aW5nL21pbmkvcGVyc29uLmpzIl0sIm5hbWVzIjpbIndpbiIsIiQiLCJkb2MiLCJ1bmRlZmluZWQiLCJQZXJzb24iLCJvcHRpb25zIiwidGhpcyIsImFwcF9pZCIsInZhbCIsImNsaWNrU3dpdGNoIiwiaW5pdCIsInByb3RvdHlwZSIsInNlbGYiLCIkc3dpdGNoIiwibWluaVN3aXRjaCIsIlN3aXRjaFN0YXRlIiwiZGF0YSIsIm9uIiwidG9nZ2xlU3dpdGNoIiwiY2FsbCIsImFqYXhFcnJvciIsImV2ZW50IiwicmVxdWVzdCIsInNldHRpbmdzIiwiY29uc29sZSIsImVycm9yIiwiYmFzZVV0aWxzIiwic2hvdyIsInJlZFRpcCIsImUiLCJzd2l0Y2hBamF4IiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImZpbmQiLCJ0ZXh0IiwiaGlkZSIsInN0YXRlIiwiY2FsbGJhY2siLCJwb3N0Iiwic3dpdGNoIiwianNvbiIsImNvZGUiLCJzdWNjZXNzVGV4dCIsImJsdWVUaXAiLCJtc2ciLCJ3aW5kb3ciLCJqUXVlcnkiLCJkb2N1bWVudCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBVUEsRUFBS0MsRUFBR0MsRUFBS0MsR0FDdEJGLEVBQUUsV0FDRCxHQUFJRyxJQUlMLFNBQVNBLEdBQU9DLEdBQ2ZDLEtBQUtELFFBQVVBLEtBQ2ZDLE1BQUtDLE9BQVNOLEVBQUUsV0FBV08sS0FFM0JGLE1BQUtHLFlBQWMsS0FDbkJILE1BQUtJLE9BSU5OLEVBQU9PLFdBQ05ELEtBQU0sV0FDTCxHQUFJRSxHQUFPTixLQUNWTyxFQUFVUCxLQUFLUSxXQUFhYixFQUFFLG9CQUUvQkssTUFBS1MsWUFBY0YsRUFBUUcsS0FBSyxTQUVoQ0gsR0FBUUksR0FBRyxRQUFTLFdBQ25CTCxFQUFLSCxhQUFlRyxFQUFLTSxhQUFhQyxLQUFLUCxJQU81Q1gsR0FBRUMsR0FBS2tCLFVBQVUsU0FBU0MsRUFBT0MsRUFBU0MsR0FDekNDLFFBQVFDLE1BQU1GLEVBQ2RHLFdBQVVDLEtBQUtDLE9BQU8sZUFHeEJWLGFBQWMsU0FBU1csR0FDdEIsR0FBSWpCLEdBQU9OLElBQ1hNLEdBQUtILFlBQWMsSUFDbkIsSUFBR0gsS0FBS1MsYUFBZSxFQUFHLENBQ3pCVCxLQUFLUyxZQUFjLENBQ25CVCxNQUFLd0IsV0FBV3hCLEtBQUtTLFlBQWEsV0FDakNILEVBQUtFLFdBQVdpQixZQUFZLFdBQVdDLFNBQVMsV0FDOUNDLEtBQUssUUFBUUMsS0FBSyxLQUNwQmpDLEdBQUUsZ0JBQWdCMEIsTUFDbEIxQixHQUFFLGdCQUFnQmtDLGFBRWIsQ0FDTjdCLEtBQUtTLFlBQWMsQ0FDbkJULE1BQUt3QixXQUFXeEIsS0FBS1MsWUFBYSxXQUNqQ0gsRUFBS0UsV0FBV2lCLFlBQVksV0FBV0MsU0FBUyxXQUM5Q0MsS0FBSyxRQUFRQyxLQUFLLEtBSXBCakMsR0FBRSxnQkFBZ0JrQyxNQUNsQmxDLEdBQUUsZ0JBQWdCMEIsV0FLckJHLFdBQVcsU0FBU00sRUFBT0MsR0FDMUIsR0FBSXpCLEdBQU9OLElBQ1hMLEdBQUVxQyxLQUFLLGdCQUNOQyxPQUFRSCxHQUNQLFNBQVNJLEdBQ1YsR0FBR0EsRUFBS0MsTUFBUSxFQUFHLENBQ2xCLEdBQUlDLEdBQWMsRUFDbEIsSUFBR04sR0FBUyxFQUFHLENBQ2RNLEVBQWMsNkJBQ1IsQ0FDTkEsRUFBYyw0QkFFZmhCLFVBQVVDLEtBQUtnQixRQUFRRCxFQUN2QkwsR0FBU2xCLEtBQUtQLEVBRWRBLEdBQUtILFlBQWMsVUFDYixDQUNOaUIsVUFBVUMsS0FBS0MsT0FBT1ksRUFBS0ksT0FFM0IsWUFrQkZDLE9BQVFBLE9BQU9DLE9BQVFDIiwiZmlsZSI6ImFkbWluL2FjY291bnRTZXR0aW5nL21pbmkvcGVyc29uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKHdpbiwgJCwgZG9jLCB1bmRlZmluZWQpe1xyXG5cdCQoZnVuY3Rpb24oKSB7XHJcblx0XHRuZXcgUGVyc29uKCk7XHJcblx0fSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiBQZXJzb24ob3B0aW9ucykge1xyXG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHRcdHRoaXMuYXBwX2lkID0gJCgnI2FwcF9pZCcpLnZhbCgpO1xyXG5cdFx0Ly8gdGhpcy5oYXNTaG93Q29kZSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5jbGlja1N3aXRjaCA9IGZhbHNlOyAvL+W8gOWFs+eahOWPr+eCueWHu+aAgVxyXG5cdFx0dGhpcy5pbml0KCk7XHJcblx0fVxyXG5cclxuXHJcblx0UGVyc29uLnByb3RvdHlwZSA9IHtcclxuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsIFxyXG5cdFx0XHRcdCRzd2l0Y2ggPSB0aGlzLm1pbmlTd2l0Y2ggPSAkKCcjbWluaVBlcnNvblRvZ2dsZScpO1xyXG5cdFx0XHRcclxuXHRcdFx0dGhpcy5Td2l0Y2hTdGF0ZSA9ICRzd2l0Y2guZGF0YSgndG9nZ2xlJyk7XHJcblxyXG5cdFx0XHQkc3dpdGNoLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNlbGYuY2xpY2tTd2l0Y2ggfHwgc2VsZi50b2dnbGVTd2l0Y2guY2FsbChzZWxmKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBpZih0aGlzLlN3aXRjaFN0YXRlID09IDEpIHtcclxuXHRcdFx0Ly8gXHR0aGlzLnNob3dDb2RlKCk7XHJcblx0XHRcdC8vIH1cclxuXHJcblx0XHRcdCQoZG9jKS5hamF4RXJyb3IoZnVuY3Rpb24oZXZlbnQsIHJlcXVlc3QsIHNldHRpbmdzKXtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKHNldHRpbmdzKTtcclxuXHRcdFx0XHRiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+acjeWKoeWZqOW8gOWwj+W3ruWVpu+8gScpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblx0XHR0b2dnbGVTd2l0Y2g6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRzZWxmLmNsaWNrU3dpdGNoID0gdHJ1ZTtcclxuXHRcdFx0aWYodGhpcy5Td2l0Y2hTdGF0ZSA9PSAxKSB7XHJcblx0XHRcdFx0dGhpcy5Td2l0Y2hTdGF0ZSA9IDA7XHJcblx0XHRcdFx0dGhpcy5zd2l0Y2hBamF4KHRoaXMuU3dpdGNoU3RhdGUsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0c2VsZi5taW5pU3dpdGNoLnJlbW92ZUNsYXNzKCdvcGVuaW5nJykuYWRkQ2xhc3MoJ2Nsb3NpbmcnKVxyXG5cdFx0XHRcdFx0XHQuZmluZCgnc3BhbicpLnRleHQoJ+WFs+mXrScpO1xyXG5cdFx0XHRcdFx0JCgnI25vdG1pbmlDb2RlJykuc2hvdygpO1xyXG5cdFx0XHRcdFx0JCgnI2hhc21pbmlDb2RlJykuaGlkZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuU3dpdGNoU3RhdGUgPSAxO1xyXG5cdFx0XHRcdHRoaXMuc3dpdGNoQWpheCh0aGlzLlN3aXRjaFN0YXRlLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHNlbGYubWluaVN3aXRjaC5yZW1vdmVDbGFzcygnY2xvc2luZycpLmFkZENsYXNzKCdvcGVuaW5nJylcclxuXHRcdFx0XHRcdFx0LmZpbmQoJ3NwYW4nKS50ZXh0KCflvIDlkK8nKTtcclxuXHRcdFx0XHRcdC8qaWYoIXRoaXMuaGFzU2hvd0NvZGUpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5zaG93Q29kZSgpO1xyXG5cdFx0XHRcdFx0fSovXHJcblx0XHRcdFx0XHQkKCcjbm90bWluaUNvZGUnKS5oaWRlKCk7XHJcblx0XHRcdFx0XHQkKCcjaGFzbWluaUNvZGUnKS5zaG93KCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9LFxyXG5cdFx0c3dpdGNoQWpheDpmdW5jdGlvbihzdGF0ZSwgY2FsbGJhY2spIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHQkLnBvc3QoJy9taW5pL3N3aXRjaCcse1xyXG5cdFx0XHRcdHN3aXRjaDogc3RhdGVcclxuXHRcdFx0fSxmdW5jdGlvbihqc29uKSB7XHJcblx0XHRcdFx0aWYoanNvbi5jb2RlID09IDApIHtcclxuXHRcdFx0XHRcdHZhciBzdWNjZXNzVGV4dCA9ICcnO1xyXG5cdFx0XHRcdFx0aWYoc3RhdGUgPT0gMSkge1xyXG5cdFx0XHRcdFx0XHRzdWNjZXNzVGV4dCA9ICflt7LlvIDlkK/vvIzmgqjnmoTllYblupflsIblnKjigJzlsI/puYXpgJor4oCd5bCP56iL5bqP5Lit5pi+56S6JztcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHN1Y2Nlc3NUZXh0ID0gJ+W3suWFs+mXre+8jOaCqOeahOWVhuW6l+WwhuS4jee7p+e7reWcqOKAnOWwj+m5hemAmivigJ3lsI/nqIvluo/kuK3mmL7npLonO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YmFzZVV0aWxzLnNob3cuYmx1ZVRpcChzdWNjZXNzVGV4dCk7XHJcblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKHNlbGYpO1xyXG5cdFx0XHRcdFx0Ly/lsIblvIDlhbPnva7kuLrlj6/ngrnlh7vmgIFcclxuXHRcdFx0XHRcdHNlbGYuY2xpY2tTd2l0Y2ggPSBmYWxzZTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0YmFzZVV0aWxzLnNob3cucmVkVGlwKGpzb24ubXNnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sJ2pzb24nKTtcclxuXHRcdH1cclxuXHRcdC8qc2hvd0NvZGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLmhhc1Nob3dDb2RlID0gdHJ1ZTtcclxuXHRcdFx0dmFyIHFyY29kZSA9IG5ldyBRUkNvZGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaW5pQ29kZVwiKSwge1xyXG5cdFx0ICAgICAgICB0ZXh0OiBtaW5pUGVyc29uICsgdGhpcy5hcHBfaWQsXHJcblx0XHQgICAgICAgIHdpZHRoOiAxNTAsXHJcblx0XHQgICAgICAgIGhlaWdodDogMTUwLFxyXG5cdFx0ICAgICAgICBjb2xvckRhcmsgOiBcIiMwMDAwMDBcIixcclxuXHRcdCAgICAgICAgY29sb3JMaWdodCA6IFwiI2ZmZmZmZlwiLFxyXG5cdFx0ICAgICAgICBjb3JyZWN0TGV2ZWwgOiBRUkNvZGUuQ29ycmVjdExldmVsLkxcclxuXHRcdCAgICB9KTtcclxuXHRcdCAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQgICAgdmFyIHNyYyA9ICQoJyNtaW5pQ29kZSBpbWcnKS5wcm9wKCdzcmMnKTtcclxuXHRcdFx0ICAgICQoJyNkb3dubG9hZENvZGUnKS5hdHRyKCdocmVmJywgc3JjKTtcclxuXHRcdCAgICB9KTtcclxuXHRcdH0qL1xyXG5cdH07XHJcbn0pKHdpbmRvdywgd2luZG93LmpRdWVyeSwgZG9jdW1lbnQpOyJdfQ==
