$(document).ready(function(){dynamicDetail.init()});var dynamicDetail=function(){var e={};e.communityId=-1;e.dynamicId=-1;e.replyCommentState=false;e.init=function(){e.communityId=$("#admin_data").data("community_id");e.dynamicId=$("#admin_data").data("dynamic_id");$("#pushCommentBtn").click(function(){var t=$("#commentContent").val();if(t==""||t==undefined){baseUtils.show.redTip("评论内容不能为空");return false}$.ajax("/smallCommunity/commentDynamic",{type:"POST",dataType:"json",data:{id:e.dynamicId,comment_content:t,comment_type:0},success:function(e){if(e.code==0){baseUtils.show.blueTip("评论成功");setTimeout(function(){window.location.reload()},700)}else{baseUtils.show.redTip("评论失败，请稍后再试")}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})});$("#praiseDynamic").click(function(){if($(this).data("praise_state")==1){t(0)}else{t(1)}});$(".detailShowWrapper ul li").click(function(){var t=$(this).data("type");switch(t){case"edit_dynamic":window.location.href="/smallCommunity/editDynamic?id="+e.dynamicId;break;case"move_in":i({id:e.dynamicId,is_chosen:1});break;case"move_out":i({id:e.dynamicId,is_chosen:0});break;case"set_group_notice":i({id:e.dynamicId,is_notice:1},"群公告设置成功，将在小社群主页置顶显示");break;case"cancel_group_notice":i({id:e.dynamicId,is_notice:0},"群公告已撤，将不再置顶显示");break;case"delete_dynamic":$.alert("确认删除此动态","error",{btn:3,title:"提示",oktext:"删除",onOk:function(){a({id:e.dynamicId,feeds_state:2})}});break}});$(".replyCommentBtn").click(function(){var t=$(this).prev(".replyContent").val(),i=$(this).parents(".commentReplyPart").data("comment_id");if(t==""||t==undefined){baseUtils.show.redTip("评论内容不能为空");return false}$.ajax("/smallCommunity/commentDynamic",{type:"POST",dataType:"json",data:{id:e.dynamicId,comment_content:t,comment_type:1,comment_id:i},success:function(e){if(e.code==0){baseUtils.show.blueTip("评论成功");setTimeout(function(){window.location.reload()},700)}else{baseUtils.show.redTip(e.msg)}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})});$(".showReplyWindow").click(function(){var t=$(this).parents(".commentItem").next(".commentReplyPart");if($(this).text()=="回复"){$(this).text("取消回复")}else{$(this).text("回复")}if(t.hasClass("hide")){t.removeClass("hide");e.replyCommentState=true}else{t.addClass("hide");e.replyCommentState=false}});$(".deleteComment").click(function(){var e=$(this).parents(".commentItem").data("comment_id");$.ajax("/smallCommunity/deleteDynamicComment",{type:"POST",dataType:"json",data:{id:e},success:function(e){if(e.code==0){baseUtils.show.blueTip("删除成功");setTimeout(function(){window.location.reload()},700)}else{baseUtils.show.redTip("删除失败，请稍后再试")}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})})};function t(t){$.ajax("/smallCommunity/dynamicPraise",{type:"POST",dataType:"json",data:{id:e.dynamicId,state:t},success:function(e){if(e.code==0){var i=parseInt($("#dynamicPraiseNum").text());if(t==0){$("#praiseDynamic").attr("src","../images/admin/communityOperate/praise_icon.png");$("#dynamicPraiseNum").text(i-1);$("#praiseDynamic").data("praise_state",0)}else{$("#praiseDynamic").attr("src","../images/admin/communityOperate/praise_pre_icon.png");$("#dynamicPraiseNum").text(i+1);$("#praiseDynamic").data("praise_state",1)}}else{baseUtils.show.redTip(e.msg)}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})}function i(e,t){$.ajax("/smallCommunity/changeDynamicState",{type:"POST",dataType:"json",data:e,success:function(e){if(e.code==0){baseUtils.show.blueTip(t||"操作成功");setTimeout(function(){window.location.reload()},700)}else{console.log(e.msg);baseUtils.show.redTip("操作失败，请稍后再试")}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})}function a(t){$.ajax("/smallCommunity/changeDynamicState",{type:"POST",dataType:"json",data:t,success:function(t){if(t.code==0){baseUtils.show.blueTip("删除成功");setTimeout(function(){window.location.href="/smallCommunity/dynamicList?community_id="+e.communityId},700)}else{console.log(t.msg);baseUtils.show.redTip("操作失败，请稍后再试")}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})}return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImR5bmFtaWNEZXRhaWwuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJkeW5hbWljRGV0YWlsIiwiaW5pdCIsImNvbW11bml0eUlkIiwiZHluYW1pY0lkIiwicmVwbHlDb21tZW50U3RhdGUiLCJkYXRhIiwiY2xpY2siLCJjb21tZW50Q29udGVudCIsInZhbCIsInVuZGVmaW5lZCIsImJhc2VVdGlscyIsInNob3ciLCJyZWRUaXAiLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwiaWQiLCJjb21tZW50X2NvbnRlbnQiLCJjb21tZW50X3R5cGUiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29kZSIsImJsdWVUaXAiLCJzZXRUaW1lb3V0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJ0aGlzIiwiY2hhbmdlRHluYW1pY1ByYWlzZVN0YXRlIiwiaHJlZiIsImNoYW5nZUR5bmFtaWNTdGF0ZSIsImlzX2Nob3NlbiIsImlzX25vdGljZSIsImFsZXJ0IiwiYnRuIiwidGl0bGUiLCJva3RleHQiLCJvbk9rIiwiZGVsZXRlRHluYW1pYyIsImZlZWRzX3N0YXRlIiwicHJldiIsImNvbW1lbnRJZCIsInBhcmVudHMiLCJjb21tZW50X2lkIiwibXNnIiwiJHJlcGx5QXJlYSIsIm5leHQiLCJ0ZXh0IiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwic3RhdGUiLCJudW0iLCJwYXJzZUludCIsImF0dHIiLCJzZW5kRGF0YSIsInByb21wdFRleHQiXSwibWFwcGluZ3MiOiJBQUlBQSxFQUFFQyxVQUFVQyxNQUFNLFdBRWRDLGNBQWNDLFFBR2xCLElBQUlELGVBQWdCLFdBRWhCLEdBQUlBLEtBRUpBLEdBQWNFLGFBQWUsQ0FDN0JGLEdBQWNHLFdBQWEsQ0FDM0JILEdBQWNJLGtCQUFvQixLQUVsQ0osR0FBY0MsS0FBTyxXQUVqQkQsRUFBY0UsWUFBY0ws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SUFBSUYsRUFDWnBCLFdBQVVDLEtBQUtDLE9BQU8sa0JBWWxDLFFBQVN3QixHQUFtQnlCLEVBQVVDLEdBRWxDakUsRUFBRWdCLEtBQUssc0NBQ0hDLEtBQU0sT0FDTkMsU0FBVSxPQUNWVixLQUFNd0QsRUFDTjFDLFFBQVMsU0FBVUMsR0FDZixHQUFJQSxFQUFPQyxNQUFRLEVBQUcsQ0FDbEJYLFVBQVVDLEtBQUtXLFFBQVF3QyxHQUFjLE9BQ3JDdkMsWUFBVyxXQUNQQyxPQUFPQyxTQUFTQyxVQUNqQixTQUNBLENBQ0hLLFFBQVFDLElBQUlaLEVBQU84QixJQUNuQnhDLFdBQVVDLEtBQUtDLE9BQU8sZ0JBRzlCZSxNQUFPLFNBQVVDLEVBQUtDLEVBQVFDLEdBQzFCQyxRQUFRQyxJQUFJRixFQUNacEIsV0FBVUMsS0FBS0MsT0FBTyxrQkFLbEMsUUFBU2dDLEdBQWNpQixHQUVuQmhFLEVBQUVnQixLQUFLLHNDQUNIQyxLQUFNLE9BQ05DLFNBQVUsT0FDVlYsS0FBTXdELEVBQ04xQyxRQUFTLFNBQVVDLEdBQ2YsR0FBSUEsRUFBT0MsTUFBUSxFQUFHLENBQ2xCWCxVQUFVQyxLQUFLVyxRQUFRLE9BQ3ZCQyxZQUFXLFdBQ1BDLE9BQU9DLFNBQVNVLEtBQU8sNENBQThDbkMsRUFBY0UsYUFDcEYsU0FDQSxDQUNINkIsUUFBUUMsSUFBSVosRUFBTzhCLElBQ25CeEMsV0FBVUMsS0FBS0MsT0FBTyxnQkFHOUJlLE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUJDLFFBQVFDLElBQUlGLEVBQ1pwQixXQUFVQyxLQUFLQyxPQUFPLGtCQVFsQyxNQUFPWiIsImZpbGUiOiJkeW5hbWljRGV0YWlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQWRtaW5pc3RyYXRvciBvbiAyMDE3LzUvMi5cclxuICovXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgZHluYW1pY0RldGFpbC5pbml0KCk7XHJcbn0pXHJcblxyXG52YXIgZHluYW1pY0RldGFpbCA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIGR5bmFtaWNEZXRhaWwgPSB7fTtcclxuXHJcbiAgICBkeW5hbWljRGV0YWlsLmNvbW11bml0eUlkID0gLTE7ICAgICAgLy/npL7nvqRpZFxyXG4gICAgZHluYW1pY0RldGFpbC5keW5hbWljSWQgPSAtMTsgICAgICAgIC8v5Yqo5oCBaWRcclxuICAgIGR5bmFtaWNEZXRhaWwucmVwbHlDb21tZW50U3RhdGUgPSBmYWxzZTsgICAgICAgIC8v5Zue5aSN6K+E6K6655qE54q25oCBIHRydWUgLSDmnInlm57lpI3ooqvmiZPlvIAgZmFsc2UgLSDmsqHmnIlcclxuXHJcbiAgICBkeW5hbWljRGV0YWlsLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGR5bmFtaWNEZXRhaWwuY29tbXVuaXR5SWQgPSAkKFwiI2FkbWluX2RhdGFcIikuZGF0YShcImNvbW11bml0eV9pZFwiKTtcclxuICAgICAgICBkeW5hbWljRGV0YWlsLmR5bmFtaWNJZCA9ICQoXCIjYWRtaW5fZGF0YVwiKS5kYXRhKFwiZHluYW1pY19pZFwiKTtcclxuXHJcbiAgICAgICAgJChcIiNwdXNoQ29tbWVudEJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7ICAgIC8v6K+E6K665Yqo5oCBXHJcbiAgICAgICAgICAgIHZhciBjb21tZW50Q29udGVudCA9ICQoXCIjY29tbWVudENvbnRlbnRcIikudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29tbWVudENvbnRlbnQgPT0gXCJcIiB8fCBjb21tZW50Q29udGVudCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivhOiuuuWGheWuueS4jeiDveS4uuepulwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJC5hamF4KFwiL3NtYWxsQ29tbXVuaXR5L2NvbW1lbnREeW5hbWljXCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBkeW5hbWljRGV0YWlsLmR5bmFtaWNJZCxcclxuICAgICAgICAgICAgICAgICAgICBjb21tZW50X2NvbnRlbnQ6IGNvbW1lbnRDb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRfdHlwZTogMCAgICAvLygwLeS4u+ivhOiuujsxLemZhOWxnuivhOiuuilcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuivhOiuuuaIkOWKn1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+E6K665aSx6LSl77yM6K+356iN5ZCO5YaN6K+VXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIiNwcmFpc2VEeW5hbWljXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuZGF0YShcInByYWlzZV9zdGF0ZVwiKSA9PSAxKSB7ICAgIC8v54q25oCB5Li65bey54K56LWeIC0+IOaTjeS9nO+8muWPlua2iOeCuei1nlxyXG4gICAgICAgICAgICAgICAgY2hhbmdlRHluYW1pY1ByYWlzZVN0YXRlKDApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlRHluYW1pY1ByYWlzZVN0YXRlKDEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAg5a+55Yqo5oCB55qE5pON5L2cXHJcbiAgICAgICAgJChcIi5kZXRhaWxTaG93V3JhcHBlciB1bCBsaVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdHlwZSA9ICQodGhpcykuZGF0YShcInR5cGVcIik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImVkaXRfZHluYW1pY1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvc21hbGxDb21tdW5pdHkvZWRpdER5bmFtaWM/aWQ9XCIgKyBkeW5hbWljRGV0YWlsLmR5bmFtaWNJZDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJtb3ZlX2luXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRHluYW1pY1N0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGR5bmFtaWNEZXRhaWwuZHluYW1pY0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19jaG9zZW46IDFcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJtb3ZlX291dFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUR5bmFtaWNTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkeW5hbWljRGV0YWlsLmR5bmFtaWNJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfY2hvc2VuOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic2V0X2dyb3VwX25vdGljZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUR5bmFtaWNTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkeW5hbWljRGV0YWlsLmR5bmFtaWNJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfbm90aWNlOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgXCLnvqTlhazlkYrorr7nva7miJDlip/vvIzlsIblnKjlsI/npL7nvqTkuLvpobXnva7pobbmmL7npLpcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2FuY2VsX2dyb3VwX25vdGljZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUR5bmFtaWNTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkeW5hbWljRGV0YWlsLmR5bmFtaWNJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfbm90aWNlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgXCLnvqTlhazlkYrlt7LmkqTvvIzlsIbkuI3lho3nva7pobbmmL7npLpcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVsZXRlX2R5bmFtaWNcIjpcclxuICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi56Gu6K6k5Yig6Zmk5q2k5Yqo5oCBXCIsIFwiZXJyb3JcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG46IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuaPkOekulwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBva3RleHQ6IFwi5Yig6ZmkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUR5bmFtaWMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkeW5hbWljRGV0YWlsLmR5bmFtaWNJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWVkc19zdGF0ZTogMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIi5yZXBseUNvbW1lbnRCdG5cIikuY2xpY2soZnVuY3Rpb24gKCkgeyAgICAvL+WbnuWkjeivhOiuulxyXG4gICAgICAgICAgICB2YXIgY29tbWVudENvbnRlbnQgPSAkKHRoaXMpLnByZXYoXCIucmVwbHlDb250ZW50XCIpLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgY29tbWVudElkID0gJCh0aGlzKS5wYXJlbnRzKFwiLmNvbW1lbnRSZXBseVBhcnRcIikuZGF0YShcImNvbW1lbnRfaWRcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29tbWVudENvbnRlbnQgPT0gXCJcIiB8fCBjb21tZW50Q29udGVudCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivhOiuuuWGheWuueS4jeiDveS4uuepulwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJC5hamF4KFwiL3NtYWxsQ29tbXVuaXR5L2NvbW1lbnREeW5hbWljXCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBkeW5hbWljRGV0YWlsLmR5bmFtaWNJZCxcclxuICAgICAgICAgICAgICAgICAgICBjb21tZW50X2NvbnRlbnQ6IGNvbW1lbnRDb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRfdHlwZTogMSwgICAgLy8oMC3kuLvor4Torro7MS3pmYTlsZ7or4TorropXHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudF9pZDogY29tbWVudElkXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLor4TorrrmiJDlip9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChyZXN1bHQubXNnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIi5zaG93UmVwbHlXaW5kb3dcIikuY2xpY2soZnVuY3Rpb24gKCkgeyAgIC8vICDmiZPlvIDlm57lpI3nqpflj6NcclxuICAgICAgICAgICAgdmFyICRyZXBseUFyZWEgPSAkKHRoaXMpLnBhcmVudHMoXCIuY29tbWVudEl0ZW1cIikubmV4dChcIi5jb21tZW50UmVwbHlQYXJ0XCIpO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKCRyZXBseUFyZWEuaGFzQ2xhc3MoXCJoaWRlXCIpICYmIGR5bmFtaWNEZXRhaWwucmVwbHlDb21tZW50U3RhdGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+WFiOWujOaIkOWFtuWug+WbnuWkjVwiKTtcclxuICAgICAgICAgICAgLy8gICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS50ZXh0KCkgPT0gXCLlm57lpI1cIikge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KFwi5Y+W5raI5Zue5aSNXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KFwi5Zue5aSNXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkcmVwbHlBcmVhLmhhc0NsYXNzKFwiaGlkZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgJHJlcGx5QXJlYS5yZW1vdmVDbGFzcyhcImhpZGVcIik7XHJcbiAgICAgICAgICAgICAgICBkeW5hbWljRGV0YWlsLnJlcGx5Q29tbWVudFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRyZXBseUFyZWEuYWRkQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgZHluYW1pY0RldGFpbC5yZXBseUNvbW1lbnRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLmRlbGV0ZUNvbW1lbnRcIikuY2xpY2soZnVuY3Rpb24gKCkgeyAvLyAg5Yig6Zmk6K+E6K66XHJcblxyXG4gICAgICAgICAgICB2YXIgY29tbWVudElkID0gJCh0aGlzKS5wYXJlbnRzKFwiLmNvbW1lbnRJdGVtXCIpLmRhdGEoXCJjb21tZW50X2lkXCIpO1xyXG5cclxuICAgICAgICAgICAgJC5hamF4KFwiL3NtYWxsQ29tbXVuaXR5L2RlbGV0ZUR5bmFtaWNDb21tZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBjb21tZW50SWRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWIoOmZpOaIkOWKn1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Yig6Zmk5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VEeW5hbWljUHJhaXNlU3RhdGUoc3RhdGUpIHtcclxuXHJcbiAgICAgICAgJC5hamF4KFwiL3NtYWxsQ29tbXVuaXR5L2R5bmFtaWNQcmFpc2VcIiwge1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogZHluYW1pY0RldGFpbC5keW5hbWljSWQsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQoJChcIiNkeW5hbWljUHJhaXNlTnVtXCIpLnRleHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IDApIHsgICAvL+aTjeS9nO+8muWPlua2iOeCuei1nlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3ByYWlzZUR5bmFtaWNcIikuYXR0cihcInNyY1wiLCBcIi4uL2ltYWdlcy9hZG1pbi9jb21tdW5pdHlPcGVyYXRlL3ByYWlzZV9pY29uLnBuZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNkeW5hbWljUHJhaXNlTnVtXCIpLnRleHQobnVtIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcHJhaXNlRHluYW1pY1wiKS5kYXRhKFwicHJhaXNlX3N0YXRlXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcHJhaXNlRHluYW1pY1wiKS5hdHRyKFwic3JjXCIsIFwiLi4vaW1hZ2VzL2FkbWluL2NvbW11bml0eU9wZXJhdGUvcHJhaXNlX3ByZV9pY29uLnBuZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNkeW5hbWljUHJhaXNlTnVtXCIpLnRleHQobnVtICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcHJhaXNlRHluYW1pY1wiKS5kYXRhKFwicHJhaXNlX3N0YXRlXCIsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKHJlc3VsdC5tc2cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIDEtaWQo56S+576k5Yqo5oCBaWQpXHJcbiAgICAgKiAyLWlzX2Nob3NlbiAw77ya5pmu6YCa54q25oCBICAx77ya57K+6YCJ54q25oCBXHJcbiAgICAgKiAzLWZlZWRzX3N0YXRlICAw77ya5Y+v6KeBICAx77ya6ZqQ6JePICAy77ya5Yig6ZmkXHJcbiAgICAgKiA0LWlzX25vdGljZSAw77ya5pmu6YCa54q25oCBICAx77ya5YWs5ZGK54q25oCBXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGNoYW5nZUR5bmFtaWNTdGF0ZShzZW5kRGF0YSwgcHJvbXB0VGV4dCkge1xyXG5cclxuICAgICAgICAkLmFqYXgoXCIvc21hbGxDb21tdW5pdHkvY2hhbmdlRHluYW1pY1N0YXRlXCIsIHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgZGF0YTogc2VuZERhdGEsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChwcm9tcHRUZXh0IHx8IFwi5pON5L2c5oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0Lm1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gZGVsZXRlRHluYW1pYyhzZW5kRGF0YSkge1xyXG5cclxuICAgICAgICAkLmFqYXgoXCIvc21hbGxDb21tdW5pdHkvY2hhbmdlRHluYW1pY1N0YXRlXCIsIHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgZGF0YTogc2VuZERhdGEsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWIoOmZpOaIkOWKn1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9zbWFsbENvbW11bml0eS9keW5hbWljTGlzdD9jb21tdW5pdHlfaWQ9XCIgKyBkeW5hbWljRGV0YWlsLmNvbW11bml0eUlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5tc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgIHJldHVybiBkeW5hbWljRGV0YWlsO1xyXG5cclxufSkoKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXX0=
