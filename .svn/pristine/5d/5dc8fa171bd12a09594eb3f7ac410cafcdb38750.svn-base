$(document).ready(function(){QADetail.init()});var resAudio1Length=-1,resAudioSize=-1;var QADetail=function(){var e={};e.tabState="questionList";e.pageIndex=1;e.searchAnswererContent="";e.searchAnswererState="";e.searchQuestionContent="";e.timeInterval={startDate:"",endDate:""};e.init=function(){var a=GetQueryString("set");if(a=="answerer")location.href="/QA/questionAndAnswerDetail?page_type=1";var i=GetQueryString("page_type");if(i==1){e.tabState="responderList"}else{e.tabState="questionList"}var n=$("#admin_data").data("code_url");t(n);modal.handleSearch();modal.initDetailOperate();modal.initContentTab();modal.initListPagination();modal.initPaginationEvent();modal.initQuestionOperate();modal.initResponderOperate();modal.initSettingOperate();modal.handleInviteAnswererWindow();modal.handleScanQuestionWindow()};function t(e){var t=new QRCode(document.getElementById("qr_code"),{text:e,width:120,height:120,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H});create_qr_flag=false}return e}();var modal=function(){var e={};e.questionId=-1;e.isEnable=-1;e.submitLimit=false;e.isAudioUploading=false;e.initDetailOperate=function(){$(".detailOperateArea li.operate").click(function(){var e=$(this).data("type");var t=$(this).data("state")==1?0:1;var a=$("#product_id").val();switch(e){case"editQA":window.location.href="/QA/editQuestionAndAnswer?id="+a;break;case"changeQAState":$.ajax("/QA/changeStateQueProducts",{type:"POST",dataType:"json",data:{id:a,state:t},success:function(e){if(e.code==0){if(t==1){baseUtils.show.blueTip("已下架，问答专区将不在首页显示")}else{baseUtils.show.blueTip("已上架，问答专区将在首页显示")}window.location.href="/QA/questionAndAnswerDetail"}else{baseUtils.show.redTip("网络错误，请稍后再试！")}},error:function(e,t,a){console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}});break;default:console.log("参数错误.");break}});(function(){var e=new Clipboard(".QA_DetailUrl");e.on("success",function(e){baseUtils.show.blueTip("复制成功！请在微信内打开哦 。");e.clearSelection()})})()};e.initContentTab=function(){$(".contentTabWrapper li").click(function(){var t=$(this).val();if(!$(this).hasClass("activeContentTab")){if(t==1){$("#responderTab").addClass("activeContentTab");$("#questionTab").removeClass("activeContentTab");$("#settingTab").removeClass("activeContentTab")}else if(t==0){$("#questionTab").addClass("activeContentTab");$("#responderTab").removeClass("activeContentTab");$("#settingTab").removeClass("activeContentTab")}else if(t==2){$("#settingTab").addClass("activeContentTab");$("#questionTab").removeClass("activeContentTab");$("#responderTab").removeClass("activeContentTab")}}QADetail.pageIndex=1;QADetail.searchAnswererContent="";QADetail.searchAnswererState="";QADetail.searchQuestionContent="";$("#searchAnswererInput").val("");$("#answererIsShow").val("");$("#searchQuestionInput").val("");$("#SelectData").text("全部问题");if(t==1){QADetail.tabState="responderList";history.replaceState(null,"","/QA/questionAndAnswerDetail?page_type=1");e.getResponderList(true,true)}else if(t==0){QADetail.tabState="questionList";history.replaceState(null,"","/QA/questionAndAnswerDetail?page_type=0");e.getQuestionList(true,true)}else if(t==2){QADetail.tabState="settingTab";history.replaceState(null,"","/QA/questionAndAnswerDetail?page_type=2");e.getSettingPage()}})};e.getResponderList=function(t,a){if(t==undefined||t==true){$(".loadingS").fadeIn(300)}$.ajax("/QA/getResponderList",{type:"GET",dataType:"html",data:{search:QADetail.searchAnswererContent,state:QADetail.searchAnswererState,page:QADetail.pageIndex},success:function(t){$(".loadingS").fadeOut(100);if(t&&t.length>0){$(".mainListContent").html(t);e.initListPagination();if(a){$(".listOperateArea").show();$(".questionListOperate").hide();$(".responderListOperate").fadeIn(300)}}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}})};e.getQuestionList=function(t,a){if(t==undefined||t==true){$(".loadingS").fadeIn(300)}var i=$("#SelectData").text();if(i=="全部问题"){i=""}$.ajax("/QA/getQuestionList",{type:"GET",dataType:"html",data:{search:QADetail.searchQuestionContent,time1:i,page:QADetail.pageIndex},success:function(t){$(".loadingS").fadeOut(100);if(t&&t.length>0){$(".mainListContent").html(t);e.initListPagination();if(a){$(".listOperateArea").show();$(".responderListOperate").hide();$(".questionListOperate").fadeIn(300)}}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}})};e.getSettingPage=function(){$(".loadingS").fadeIn(300);$.ajax("/QA/getSettingPage",{type:"GET",dataType:"html",data:{},success:function(e){$(".loadingS").fadeOut(100);if(e&&e.length>0){$(".mainListContent").html(e);$(".listOperateArea").hide()}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})};e.initQuestionOperate=function(){$(".mainListContent").on("click",".questionListOperateArea li.operate",function(){var t=$(this).data("id");var a=$(this).data("is_enable");var i=$(this).data("state")==1?0:1;var n=$(this).data("type");switch(n){case"answerQuestion":e.handAnswerQuestion(t,a);break;case"answerQueAgain":$.alert("确认上传音频并重新回答，确认后新的回答内容将覆盖原内容，且该动作无法撤回。","info",{btn:3,onOk:function(){e.handAnswerQuestion(t,a)}});break;case"lookQuestion":$("#scanQueWindowContent").text("");$("#scanQueImgWrapper").html("");var s=$(this).data("content");$("#scanQueWindowContent").text(s);var o=$(this).data("imgs");if(o.length>0){var r="";o.forEach(function(e){r+='<img src="'+e+'">'});$("#scanQueImgWrapper").html(r)}$(".scanQuestionWindowBg").fadeIn(300);break;case"changeQuestionState":$(".loadingS").fadeIn(300);$.ajax("/QA/changeQuestionState",{type:"POST",dataType:"json",data:{state:i,question_id:t},success:function(t){if(t.code==0){if(i==1){baseUtils.show.blueTip("操作成功，问题将不在问答专区展示")}else{baseUtils.show.blueTip("操作成功，问题将在问答专区展示")}e.getQuestionList(false)}else{$(".loadingS").fadeOut(100);baseUtils.show.redTip("网络错误，请稍后再试！")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}});break;default:console.log("参数错误.");break}});$("#selectAudioFile").click(function(){$("#uploadAudioFile").click()});$(".closeUploadFileWindow, #cancelUploadAudio").click(function(){$(".uploadFileWindowBg").fadeOut(300)});$("#uploadAudioFile").on("change",function(){s(this.files,"audio","Audio1",1e3)});$("#confirmUploadAudio").click(function(){var t=$("#is_enable_eavesdrop").is(":checked");if(t==false)t=0;else t=1;console.log(t);var a=$("#uploadAudioUrl").val();if(e.isAudioUploading){baseUtils.show.redTip("音频文件正在上传中...");return false}if(a.length==0){baseUtils.show.redTip("请先上传音频文件.");return false}if(e.submitLimit){console.log("音频提交中，请稍后再试。");return false}e.submitLimit=true;$.ajax("/QA/commitAnswer",{type:"POST",dataType:"json",data:{id:e.questionId,answerer_size:resAudioSize,answerer_length:resAudio1Length,answerer_content:a,is_enable_eavesdrop:t},success:function(t){e.submitLimit=false;if(t.code==0){baseUtils.show.blueTip("音频文件提交成功。");$(".uploadFileWindowBg").fadeOut(300);e.getQuestionList(true)}else{baseUtils.show.redTip(t.msg);console.log(t.msg)}},error:function(t,a,i){e.submitLimit=false;console.log(i);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})})};e.initResponderOperate=function(){$(".mainListContent").on("click",".responderListOperateArea li.operate",function(){var t=$(this).data("state");var a=$(this).data("id");var i=$(this).data("type");switch(i){case"editResponderInfo":window.location.href="/QA/editAnswerer?answerer_id="+a+"&state="+t;break;case"changeResponderState":$(".loadingS").fadeIn(300);t=t==1?0:1;$.ajax("/QA/changeAnswererState",{type:"POST",dataType:"json",data:{answerer_id:a,state:t},success:function(a){if(a.code==0){if(t==1){baseUtils.show.blueTip("答主下线成功")}else{baseUtils.show.blueTip("答主上线成功")}e.getResponderList(false)}else if(a.code==2){$(".loadingS").fadeOut(100);baseUtils.show.redTip("请您先填写答主信息 才能上线答主！");return false}else{$(".loadingS").fadeOut(100);baseUtils.show.redTip("网络错误，请稍后再试！");return false}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}});break;default:console.log("参数错误.");break}})};e.initSettingOperate=function(){$(".mainListContent").on("change","input[type=radio]",function(e){var t=e.target.id,a=$("input[name=isShowListen]:checked").val(),i=$("input[name=isSmsRemind]:checked").val();$.ajax("/QA/commitSetting",{type:"POST",dataType:"json",data:{params:{isShowListen:a,isSmsRemind:i}},success:function(e){if(e.code==0){var a="";switch(t){case"openEavesdrop":a="问题页已显示偷听人数";break;case"closeEavesdrop":a="问题页已隐藏偷听人数";break;case"openSmsRemind":a="短信提醒已开启";break;case"closeSmsRemind":a="短信提醒已关闭";break;default:console.log("参数错误。");break}baseUtils.show.blueTip(a)}else{baseUtils.show.redTip("保存失败");window.location.reload()}},error:function(e,t,a){console.log(a);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})})};e.handleInviteAnswererWindow=function(){$("#inviteResponder").click(function(){$(".scanQrCodeWindowBg").fadeIn(300)});$(".closeScanQrCodeWindow img").click(function(){$(".scanQrCodeWindowBg").fadeOut(300)});(function(){var e=new Clipboard(".copyHref");e.on("success",function(e){baseUtils.show.blueTip("复制成功！请在微信内打开哦 。");e.clearSelection();setTimeout(function(){$(".scanQrCodeWindowBg").fadeOut(100)},2e3)})})()};e.handleScanQuestionWindow=function(){$(".closeQuestionDetailWindow, .scanQuestionWindowBg").click(function(){$(".scanQuestionWindowBg").fadeOut(100)});$(".scanQuestionWindow").click(function(e){e.stopPropagation()})};e.initListPagination=function(){$(".list-page .pagination li a").each(function(){var e=$(this);e.attr("data-url",e.attr("href"));e.removeAttr("href")})};e.initPaginationEvent=function(){$(".mainListContent").on("click"," .pagination li a",function(t){var a=$(t.target),i=a.data("url");var n=i.indexOf("page");QADetail.pageIndex=i.substring(n+5);if(QADetail.tabState=="questionList"){e.getQuestionList(true)}else if(QADetail.tabState=="responderList"){e.getResponderList(true)}})};e.handleSearch=function(){var a=new pickerDateRange("SelectData",{isTodayValid:true,defaultText:" ~ ",inputTrigger:"optional",theme:"ta",success:function(e){t(e);$("#searchQuestion").click()}});$("#SelectRange").on("click","li",function(){var e=$(this).data("type");var a=-1;switch(e){case"all":a={startDate:"",endDate:""};break;case"current_month":a={startDate:getNowMonth(),endDate:getNowDay()};break;case"last_seven":a={startDate:getOneDay(6),endDate:getNowDay()};break;case"last_month":a={startDate:getOneDay(29),endDate:getNowDay()};break}t(a);$("#searchQuestion").click()});$("#optional").click(function(){$("#dropdown-toggle").dropdown("toggle")});$("#SelectData").off("click").text("全部问题");$("#searchQuestion").click(function(){QADetail.pageIndex=1;QADetail.searchQuestionContent=$("#searchQuestionInput").val();e.getQuestionList(true)});$("#searchQuestionInput").on("keypress",function(e){if(e.keyCode==13){$("#searchQuestion").click()}});$("#searchAnswerer").click(function(){QADetail.pageIndex=1;QADetail.searchAnswererContent=$("#searchAnswererInput").val();QADetail.searchAnswererState=$("#answererIsShow").val();e.getResponderList(true)});$("#answererIsShow").on("change",function(){$("#searchAnswerer").click()});$("#searchAnswererInput").on("keypress",function(e){if(e.keyCode==13){$("#searchAnswerer").click()}})};e.handAnswerQuestion=function(t,a){$(".uploadAudio1Name").html("");$(".uploadAudio1Size span").html("");$(".uploadPLineActiveAudio1").css("width","0");$(".uploadPersentAudio1").text("");$(".uploadPLineAudio1").hide();$(".uploadBoxAudio1").hide();$("#uploadAudioUrl").val("");$("#is_enable_eavesdrop").attr("checked","true");e.questionId=t;$(".uploadFileWindowBg").fadeIn(100);if(a==1){$(".simi_tip").hide();$(".is_enable_eavesdrop").show()}else{$(".simi_tip").show();$(".is_enable_eavesdrop").hide()}};function t(e){if(e.startDate==""&&e.endDate==""){$("#SelectData").text("全部问题")}else{$("#SelectData").text(e.startDate+" ~ "+e.endDate)}QADetail.timeInterval.startDate=e.startDate;QADetail.timeInterval.endDate=e.endDate}function a(e){var t=$(".contentTabWrapper>li.activeContentTab").val();if(t==1&&e=="responderTab"||t==0&&e=="questionTab"){return false}if(e=="questionTab"){$("#questionTab").addClass("activeContentTab");$("#responderTab").removeClass("activeContentTab")}else if(e=="responderTab"){$("#responderTab").addClass("activeContentTab");$("#questionTab").removeClass("activeContentTab")}}function i(e){var t=null;if(window.createObjectURL!=undefined){t=window.createObjectURL(e)}else if(window.URL!=undefined){t=window.URL.createObjectURL(e)}else if(window.webkitURL!=undefined){t=window.webkitURL.createObjectURL(e)}return t}function n(e){if(window.revokeObjectURL!=undefined){window.revokeObjectURL(e)}else if(window.URL!=undefined){window.URL.revokeObjectURL(e)}else if(window.webkitURL!=undefined){window.webkitURL.revokeObjectURL(e)}}function s(t,a,s,o){if(t&&t.length>0){var r=t[0];var l=i(r);var d=(r.size/(1024*1024)).toFixed(2);resAudioSize=d;if(s=="Audio1"){fileAudio1Size=d;var c=document.getElementById("resourceTime");c.src=l;c.onload=function(){n(l)}}if(a=="audio"){console.log($("#audioURL"+s));$("#audioURL"+s).hide();$(".uploadBox"+s).fadeIn(300);$(".upload"+s+"Name").html(r.name);$(".upload"+s+"Size span").html(d);$(".uploadPLine"+s).show().find(".uploadPLineActive"+s).css("width","0");$(".uploadPersent"+s).html("");if(s=="Audio1"){var u=r.name}}if($uploadFile.checkFileSize(r,o)){e.isAudioUploading=true;$uploadFile.uploadRes(r,a,function(e){if(a=="audio"){var t=parseInt(e*100);$(".uploadPLineActive"+s).css("width",t+"%");$(".uploadPersent"+s).text(t+"%")}},function(t){e.isAudioUploading=false;console.log(t);baseUtils.show.blueTip("上传成功！");$(".uploadPersent"+s).text("已上传");var a=t.data.access_url;$("#uploadAudioUrl").val(a)},function(t){e.isAudioUploading=false;console.error("上传失败!!!");console.log(t);baseUtils.show.redTip("上传失败！")})}else{baseUtils.show.redTip("上传资源限制在"+o+"MB内！");$(".upLoad"+s).val("")}}else{baseUtils.show.redTip("网络错误，请稍后再试！")}}return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL3F1ZXN0aW9uQW5kQW5zd2VyL3F1ZXN0aW9uQW5kQW5zd2VyRGV0YWlsLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiUUFEZXRhaWwiLCJpbml0IiwicmVzQXVkaW8xTGVuZ3RoIiwicmVzQXVkaW9TaXplIiwidGFiU3RhdGUiLCJwYWdlSW5kZXgiLCJzZWFyY2hBbnN3ZXJlckNvbnRlbnQiLCJzZWFyY2hBbnN3ZXJlclN0YXRlIiwic2VhcmNoUXVlc3Rpb25Db250ZW50IiwidGltZUludGVydmFsIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInNldCIsIkdldFF1ZXJ5U3RyaW5nIiwibG9jYXRpb24iLCJocmVmIiwicGFnZVR5cGUiLCJjb2RlVXJsIiwiZGF0YSIsImNyZWF0ZVFSIiwibW9kYWwiLCJoYW5kbGVTZWFyY2giLCJpbml0RGV0YWlsT3BlcmF0ZSIsImluaXRDb250ZW50VGFiIiwiaW5pdExpc3RQYWdpbmF0aW9uIiwiaW5pdFBhZ2luYXRpb25FdmVudCIsImluaXRRdWVzdGlvbk9wZXJhdGUiLCJpbml0UmVzcG9uZGVyT3BlcmF0ZSIsImluaXRTZXR0aW5nT3BlcmF0ZSIsImhhbmRsZUludml0ZUFuc3dlcmVyV2luZG93IiwiaGFuZGxlU2NhblF1ZXN0aW9uV2luZG93IiwiY29kZV91cmwiLCJxcmNvZGUiLCJRUkNvZGUiLCJnZXRFbGVtZW50QnlJZCIsInRleHQiLCJ3aWR0aCIsImhlaWdodCIsImNvbG9yRGFyayIsImNvbG9yTGlnaHQiLCJjb3JyZWN0TGV2ZWwiLCJDb3JyZWN0TGV2ZWwiLCJIIiwiY3JlYXRlX3FyX2ZsYWciLCJxdWVzdGlvbklkIiwiaXNFbmFibGUiLCJzdWJtaXRMaW1pdCIsImlzQXVkaW9VcGxvYWRpbmciLCJjbGljayIsInR5cGUiLCJ0aGlzIiwic3RhdGUiLCJpZCIsInZhbCIsIndpbmRvdyIsImFqYXgiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJjb2RlIiwiYmFzZVV0aWxzIiwic2hvdyIsImJsdWVUaXAiLCJyZWRUaXAiLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjbGlwYm9hcmQiLCJDbGlwYm9hcmQiLCJvbiIsImUiLCJjbGVhclNlbGVjdGlvbiIsInZhbHVlIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsImdldFJlc3BvbmRlckxpc3QiLCJnZXRRdWVzdGlvbkxpc3QiLCJnZXRTZXR0aW5nUGFnZSIsImlzU2hvd0xvYWRpbmciLCJpc1N3aXRjaENvbnRlbnRUYWIiLCJ1bmRlZmluZWQiLCJmYWRlSW4iLCJzZWFyY2giLCJwYWdlIiwicmVzdWx0IiwiZmFkZU91dCIsImxlbmd0aCIsImh0bWwiLCJoaWRlIiwidGltZVN0cmluZyIsInRpbWUxIiwicXVlc3Rpb25faWQiLCJpc19lbmFibGUiLCJoYW5kQW5zd2VyUXVlc3Rpb24iLCJhbGVydCIsImJ0biIsIm9uT2siLCJjb250ZW50IiwiaW1nSnNvbkFyciIsImltZ1N0cmluZyIsImZvckVhY2giLCJpdGVtIiwicmVzVXBsb2FkIiwiZmlsZXMiLCJpc19lbmFibGVfZWF2ZXNkcm9wIiwiaXMiLCJ1cGxvYWRBdWRpb1VybCIsImFuc3dlcmVyX3NpemUiLCJhbnN3ZXJlcl9sZW5ndGgiLCJhbnN3ZXJlcl9jb250ZW50IiwibXNnIiwiYW5zd2VyZXJJZCIsImFuc3dlcmVyX2lkIiwidGFyZ2V0SWQiLCJ0YXJnZXQiLCJpc1Nob3dMaXN0ZW4iLCJpc1Ntc1JlbWluZCIsInBhcmFtcyIsIm91dHB1dFRleHQiLCJyZWxvYWQiLCJzZXRUaW1lb3V0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZWFjaCIsIiRlbGUiLCJhdHRyIiwicmVtb3ZlQXR0ciIsImVsZSIsInVybCIsImluZGV4IiwiaW5kZXhPZiIsInN1YnN0cmluZyIsImRhdGFSYW5nZUluc3RhbmNlIiwicGlja2VyRGF0ZVJhbmdlIiwiaXNUb2RheVZhbGlkIiwiZGVmYXVsdFRleHQiLCJpbnB1dFRyaWdnZXIiLCJ0aGVtZSIsIm9iaiIsInVwZGF0ZVRpbWVJbnRlcnZhbCIsInRpbWVSYW5nZSIsImdldE5vd01vbnRoIiwiZ2V0Tm93RGF5IiwiZ2V0T25lRGF5IiwiZHJvcGRvd24iLCJvZmYiLCJrZXlDb2RlIiwiY3NzIiwic3dpdGNoQ29udGVudFRhYiIsInRhYlZhbHVlIiwiZ2V0T2JqZWN0VVJMIiwiZmlsZSIsImNyZWF0ZU9iamVjdFVSTCIsIlVSTCIsIndlYmtpdFVSTCIsInJlbW92ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsInJlc1R5cGUiLCJyZXNUeXBlQ2xhc3MiLCJyZXNMaW1pdFNpemUiLCJyZXNvdXJjZUxvY2FsVXJsIiwiZmlsZVNpemUiLCJzaXplIiwidG9GaXhlZCIsImZpbGVBdWRpbzFTaXplIiwicmVzb3VyY2VFbGVtZW50Iiwic3JjIiwib25sb2FkIiwibmFtZSIsImZpbmQiLCJBdWRpb05hbWUiLCIkdXBsb2FkRmlsZSIsImNoZWNrRmlsZVNpemUiLCJ1cGxvYWRSZXMiLCJwcm9ncmVzcyIsInBhcnNlSW50IiwicmVzVXJsIiwiYWNjZXNzX3VybCJdLCJtYXBwaW5ncyI6IkFBQ0FBLEVBQUVDLFVBQVVDLE1BQU0sV0FDZEMsU0FBU0MsUUFHYixJQUFJQyxrQkFBbUIsRUFDbkJDLGNBQWdCLENBRXBCLElBQUlILFVBQVcsV0FFWCxHQUFJQSxLQUVKQSxHQUFTSSxTQUFXLGNBQ3BCSixHQUFTSyxVQUFZLENBRXJCTCxHQUFTTSxzQkFBd0IsRUFDakNOLEdBQVNPLG9CQUFzQixFQUUvQlAsR0FBU1Esc0JBQXdCLEVBRWpDUixHQUFTUyxjQUNMQyxVQUFXLEdBQ1hDLFFBQVMsR0FHYlgsR0FBU0MsS0FBTyxXQUNaLEdBQUlXLEdBQU1DLGVBQWUsTUFDekIsSUFBR0QsR0FBTyxXQUNORSxTQUFTQyxLQUFPLHlDQUVwQixJQUFJQyxHQUFXSCxlQUFlLFlBQzlCLElBQUlHLEdBQVksRUFBRyxDQUNmaEIsRUFBU0ksU0FBVyxvQkFDakIsQ0FDSEosRUFBU0ks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ZXN0aW9uQW5kQW5zd2VyL3F1ZXN0aW9uQW5kQW5zd2VyRGV0YWlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIFFBRGV0YWlsLmluaXQoKTtcclxufSk7XHJcblxyXG52YXIgcmVzQXVkaW8xTGVuZ3RoID0gLTEsICAgLy8gIOWNleS9je+8muenklxyXG4gICAgcmVzQXVkaW9TaXplID0gLTE7ICAgICAgICAgIC8vICDljZXkvY3vvJpNXHJcblxyXG52YXIgUUFEZXRhaWwgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIFFBRGV0YWlsID0ge307XHJcblxyXG4gICAgUUFEZXRhaWwudGFiU3RhdGUgPSBcInF1ZXN0aW9uTGlzdFwiOyAgICAgLy8gIOm7mOiupOaYvuekuueahHRhYiAtIFwicXVlc3Rpb25MaXN0XCIgLCA8IFwicXVlc3Rpb25MaXN0XCIsIFwicmVzcG9uZGVyTGlzdFwiLCBcInNldHRpbmdUYWJcIiA+XHJcbiAgICBRQURldGFpbC5wYWdlSW5kZXggPSAxO1xyXG5cclxuICAgIFFBRGV0YWlsLnNlYXJjaEFuc3dlcmVyQ29udGVudCA9IFwiXCI7XHJcbiAgICBRQURldGFpbC5zZWFyY2hBbnN3ZXJlclN0YXRlID0gXCJcIjtcclxuXHJcbiAgICBRQURldGFpbC5zZWFyY2hRdWVzdGlvbkNvbnRlbnQgPSBcIlwiO1xyXG5cclxuICAgIFFBRGV0YWlsLnRpbWVJbnRlcnZhbCA9IHsgICAvLyAg5L+d5a2Y5pe26Ze06YCJ5oup5Zmo55qE5pe26Ze05Yy66Ze06LW35aeL5YC8XHJcbiAgICAgICAgc3RhcnREYXRlOiBcIlwiLFxyXG4gICAgICAgIGVuZERhdGU6IFwiXCJcclxuICAgIH1cclxuXHJcbiAgICBRQURldGFpbC5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZXQgPSBHZXRRdWVyeVN0cmluZyhcInNldFwiKTtcclxuICAgICAgICBpZihzZXQgPT0gJ2Fuc3dlcmVyJylcclxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvUUEvcXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWw/cGFnZV90eXBlPTEnO1xyXG5cclxuICAgICAgICB2YXIgcGFnZVR5cGUgPSBHZXRRdWVyeVN0cmluZyhcInBhZ2VfdHlwZVwiKTtcclxuICAgICAgICBpZiAocGFnZVR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICBRQURldGFpbC50YWJTdGF0ZSA9IFwicmVzcG9uZGVyTGlzdFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnRhYlN0YXRlID0gXCJxdWVzdGlvbkxpc3RcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v55Sf5oiQ5LqM57u056CBXHJcbiAgICAgICAgdmFyIGNvZGVVcmwgPSAkKFwiI2FkbWluX2RhdGFcIikuZGF0YShcImNvZGVfdXJsXCIpO1xyXG4gICAgICAgIGNyZWF0ZVFSKGNvZGVVcmwpO1xyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5aSE55CG5pCc57SiICsg5pe26Ze05o+S5Lu2XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kYWwuaGFuZGxlU2VhcmNoKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWkhOeQhumAgOasvlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIC8vIG1vZGFsLmhhbmRsZVJlZnVuZEV2ZW50KCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOmXruetlOivpuaDheaTjeS9nFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZGFsLmluaXREZXRhaWxPcGVyYXRlKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGNvbnRlbnRUYWJXcmFwcGVyIHRhYuWIh+aNolxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZGFsLmluaXRDb250ZW50VGFiKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWImui/m+WFpemhtemdouWkhOeQhuWIhumhtVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZGFsLmluaXRMaXN0UGFnaW5hdGlvbigpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDliJrov5vlhaXpobXpnaLlpITnkIbliIbpobUg55qEIOeCueWHu+S6i+S7tlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZGFsLmluaXRQYWdpbmF0aW9uRXZlbnQoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6Zeu6aKY5YiX6KGo5pON5L2cXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kYWwuaW5pdFF1ZXN0aW9uT3BlcmF0ZSgpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDnrZTkuLvliJfooajmk43kvZxcclxuICAgICAgICAgKi9cclxuICAgICAgICBtb2RhbC5pbml0UmVzcG9uZGVyT3BlcmF0ZSgpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDorr7nva7pobXpnaLmk43kvZxcclxuICAgICAgICAgKi9cclxuICAgICAgICBtb2RhbC5pbml0U2V0dGluZ09wZXJhdGUoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5aSE55CG6YKA6K+3562U5Li755qE5by55Ye65byP56qX5Y+jXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kYWwuaGFuZGxlSW52aXRlQW5zd2VyZXJXaW5kb3coKTtcclxuICAgICAgICBcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlpITnkIbmn6XnnIvpl67popjnmoTlvLnlh7rlvI/nqpflj6NcclxuICAgICAgICAgKi9cclxuICAgICAgICBtb2RhbC5oYW5kbGVTY2FuUXVlc3Rpb25XaW5kb3coKTtcclxuXHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlUVIoY29kZV91cmwpIHtcclxuICAgICAgICAvL+eUn+aIkOS6jOe7tOeggVxyXG4gICAgICAgIHZhciBxcmNvZGUgPSBuZXcgUVJDb2RlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXJfY29kZVwiKSwge1xyXG4gICAgICAgICAgICB0ZXh0OiBjb2RlX3VybCxcclxuICAgICAgICAgICAgd2lkdGg6IDEyMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMjAsXHJcbiAgICAgICAgICAgIGNvbG9yRGFyazogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgICAgIGNvbG9yTGlnaHQ6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgICBjb3JyZWN0TGV2ZWw6IFFSQ29kZS5Db3JyZWN0TGV2ZWwuSFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNyZWF0ZV9xcl9mbGFnID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFFBRGV0YWlsO1xyXG59KCk7XHJcblxyXG52YXIgbW9kYWwgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBtb2RhbCA9IHt9O1xyXG5cclxuICAgIG1vZGFsLnF1ZXN0aW9uSWQgPSAtMTtcclxuXHJcbiAgICBtb2RhbC5pc0VuYWJsZSA9IC0xOyAgICAgICAgICAgIC8v5piv5ZCm5YWB6K645YG35ZCsXHJcbiAgICBtb2RhbC5zdWJtaXRMaW1pdCA9IGZhbHNlOyAgICAgIC8v6K+35rGC5piv5ZCm5q2j5Zyo6L+b6KGMXHJcblxyXG4gICAgbW9kYWwuaXNBdWRpb1VwbG9hZGluZyA9IGZhbHNlOyAvL+mfs+mikeaYr+WQpuato+WcqOS4iuS8oOWIsOS6kVxyXG5cclxuICAgIG1vZGFsLmluaXREZXRhaWxPcGVyYXRlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAkKFwiLmRldGFpbE9wZXJhdGVBcmVhIGxpLm9wZXJhdGVcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmRhdGEoXCJ0eXBlXCIpO1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSAkKHRoaXMpLmRhdGEoXCJzdGF0ZVwiKSAgPT0gMSA/IDAgOiAxO1xyXG4gICAgICAgICAgICB2YXIgaWQgPSAkKCcjcHJvZHVjdF9pZCcpLnZhbCgpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlZGl0UUFcIjpcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1FBL2VkaXRRdWVzdGlvbkFuZEFuc3dlcj9pZD1cIiArIGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGFuZ2VRQVN0YXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KFwiL1FBL2NoYW5nZVN0YXRlUXVlUHJvZHVjdHNcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDppZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcCgn5bey5LiL5p6277yM6Zeu562U5LiT5Yy65bCG5LiN5Zyo6aaW6aG15pi+56S6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcCgn5bey5LiK5p6277yM6Zeu562U5LiT5Yy65bCG5Zyo6aaW6aG15pi+56S6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvUUEvcXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWxcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPguaVsOmUmeivry5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICDlpI3liLbliLDliarotLTmnb9cclxuICAgICAgICAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCgnLlFBX0RldGFpbFVybCcpO1xyXG4gICAgICAgICAgICBjbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5aSN5Yi25oiQ5Yqf77yB6K+35Zyo5b6u5L+h5YaF5omT5byA5ZOmIOOAglwiKTtcclxuICAgICAgICAgICAgICAgIGUuY2xlYXJTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkoKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIG1vZGFsLmluaXRDb250ZW50VGFiID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAkKFwiLmNvbnRlbnRUYWJXcmFwcGVyIGxpXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gJCh0aGlzKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIikpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAxKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOeCueWHu+WFqOmDqOetlOS4u1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcmVzcG9uZGVyVGFiXCIpLmFkZENsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3F1ZXN0aW9uVGFiXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3NldHRpbmdUYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gMCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICDngrnlh7vlhajpg6jpl67pophcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3F1ZXN0aW9uVGFiXCIpLmFkZENsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3Jlc3BvbmRlclRhYlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzZXR0aW5nVGFiXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3NldHRpbmdUYWJcIikuYWRkQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcXVlc3Rpb25UYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcmVzcG9uZGVyVGFiXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgUUFEZXRhaWwucGFnZUluZGV4ID0gMTtcclxuICAgICAgICAgICAgUUFEZXRhaWwuc2VhcmNoQW5zd2VyZXJDb250ZW50ID0gXCJcIjtcclxuICAgICAgICAgICAgUUFEZXRhaWwuc2VhcmNoQW5zd2VyZXJTdGF0ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIFFBRGV0YWlsLnNlYXJjaFF1ZXN0aW9uQ29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgICAgICQoJyNzZWFyY2hBbnN3ZXJlcklucHV0JykudmFsKFwiXCIpO1xyXG4gICAgICAgICAgICAkKFwiI2Fuc3dlcmVySXNTaG93XCIpLnZhbChcIlwiKTtcclxuICAgICAgICAgICAgJCgnI3NlYXJjaFF1ZXN0aW9uSW5wdXQnKS52YWwoXCJcIik7XHJcbiAgICAgICAgICAgICQoJyNTZWxlY3REYXRhJykudGV4dCgn5YWo6YOo6Zeu6aKYJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgUUFEZXRhaWwudGFiU3RhdGUgPSBcInJlc3BvbmRlckxpc3RcIjsgICAgLy/ojrflj5bnrZTkuLvliJfooahcclxuICAgICAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIFwiXCIsIFwiL1FBL3F1ZXN0aW9uQW5kQW5zd2VyRGV0YWlsP3BhZ2VfdHlwZT0xXCIpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwuZ2V0UmVzcG9uZGVyTGlzdCh0cnVlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgUUFEZXRhaWwudGFiU3RhdGUgPSBcInF1ZXN0aW9uTGlzdFwiOyAgICAgLy/ojrflj5bpl67popjliJfooahcclxuICAgICAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIFwiXCIsIFwiL1FBL3F1ZXN0aW9uQW5kQW5zd2VyRGV0YWlsP3BhZ2VfdHlwZT0wXCIpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwuZ2V0UXVlc3Rpb25MaXN0KHRydWUsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBRQURldGFpbC50YWJTdGF0ZSA9IFwic2V0dGluZ1RhYlwiOyAgICAgICAvL+iOt+WPluiuvue9rumhtemdolxyXG4gICAgICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgXCIvUUEvcXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWw/cGFnZV90eXBlPTJcIik7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5nZXRTZXR0aW5nUGFnZSgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gaXNTaG93TG9hZGluZyAgICAgdHJ1ZSAtIHNob3cgbG9hZGluZyBwaWN0dXJlIG9yIGRvIG5vdCBzaG93IGxvYWRpbmcgcGljdHVyZVxyXG4gICAgICogQHBhcmFtIGlzU3dpdGNoQ29udGVudFRhYiAgICB0cnVlIC0gc3dpdGNoIHRoZSBjb250ZW50IHRhYnMsIG9yIGRvIG5vdCBzd2l0Y2hcclxuICAgICAqL1xyXG4gICAgbW9kYWwuZ2V0UmVzcG9uZGVyTGlzdCA9IGZ1bmN0aW9uIChpc1Nob3dMb2FkaW5nLCBpc1N3aXRjaENvbnRlbnRUYWIpIHtcclxuXHJcbiAgICAgICAgaWYgKGlzU2hvd0xvYWRpbmcgPT0gdW5kZWZpbmVkIHx8IGlzU2hvd0xvYWRpbmcgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVJbigzMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5hamF4KFwiL1FBL2dldFJlc3BvbmRlckxpc3RcIiwge1xyXG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaDogUUFEZXRhaWwuc2VhcmNoQW5zd2VyZXJDb250ZW50LFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IFFBRGV0YWlsLnNlYXJjaEFuc3dlcmVyU3RhdGUsXHJcbiAgICAgICAgICAgICAgICBwYWdlOiBRQURldGFpbC5wYWdlSW5kZXhcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tYWluTGlzdENvbnRlbnRcIikuaHRtbChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRMaXN0UGFnaW5hdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTd2l0Y2hDb250ZW50VGFiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubGlzdE9wZXJhdGVBcmVhXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5xdWVzdGlvbkxpc3RPcGVyYXRlXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5yZXNwb25kZXJMaXN0T3BlcmF0ZVwiKS5mYWRlSW4oMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuivt+axguaVsOaNruS4uuepulwiKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zpl67popjvvIzor7fnqI3lkI7lho3or5VcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gaXNTaG93TG9hZGluZyAgICAgdHJ1ZSAtIHNob3cgbG9hZGluZyBwaWN0dXJlIG9yIGRvIG5vdCBzaG93IGxvYWRpbmcgcGljdHVyZVxyXG4gICAgICogQHBhcmFtIGlzU3dpdGNoQ29udGVudFRhYiAgICB0cnVlIC0gdGhlIGZpcnN0IHRpbWUgdG8gZ2V0IHRoZSByZXNwb25kZXIgbGlzdCwgb3Igbm90IHRoZSBmaXJzdCB0aW1lXHJcbiAgICAgKi9cclxuICAgIG1vZGFsLmdldFF1ZXN0aW9uTGlzdCA9IGZ1bmN0aW9uIChpc1Nob3dMb2FkaW5nLCBpc1N3aXRjaENvbnRlbnRUYWIpIHtcclxuXHJcbiAgICAgICAgaWYgKGlzU2hvd0xvYWRpbmcgPT0gdW5kZWZpbmVkIHx8IGlzU2hvd0xvYWRpbmcgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVJbigzMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdGltZVN0cmluZyA9ICQoJyNTZWxlY3REYXRhJykudGV4dCgpOyAgICAgICAvLyAg5Lyg5YWl5pe26Ze05Yy66Ze05a2X56ym5Liy77yMIFwiMjAxNy0wNS0wMSB+IDIwMTctMDUtMTJcIlxyXG4gICAgICAgIGlmICh0aW1lU3RyaW5nID09IFwi5YWo6YOo6Zeu6aKYXCIpIHtcclxuICAgICAgICAgICAgdGltZVN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmFqYXgoXCIvUUEvZ2V0UXVlc3Rpb25MaXN0XCIsIHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2g6IFFBRGV0YWlsLnNlYXJjaFF1ZXN0aW9uQ29udGVudCxcclxuICAgICAgICAgICAgICAgIHRpbWUxOiB0aW1lU3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgcGFnZTogUUFEZXRhaWwucGFnZUluZGV4XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIubWFpbkxpc3RDb250ZW50XCIpLmh0bWwocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5pbml0TGlzdFBhZ2luYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3dpdGNoQ29udGVudFRhYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmxpc3RPcGVyYXRlQXJlYVwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIucmVzcG9uZGVyTGlzdE9wZXJhdGVcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnF1ZXN0aW9uTGlzdE9wZXJhdGVcIikuZmFkZUluKDMwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLor7fmsYLmlbDmja7kuLrnqbpcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6Zeu6aKY77yM6K+356iN5ZCO5YaN6K+VXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5borr7nva7pobXpnaJcclxuICAgICAqL1xyXG4gICAgbW9kYWwuZ2V0U2V0dGluZ1BhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZUluKDMwMCk7XHJcblxyXG4gICAgICAgICQuYWpheChcIi9RQS9nZXRTZXR0aW5nUGFnZVwiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcclxuICAgICAgICAgICAgZGF0YToge30sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIubWFpbkxpc3RDb250ZW50XCIpLmh0bWwocmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5saXN0T3BlcmF0ZUFyZWFcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuivt+axguaVsOaNruS4uuepulwiKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zpl67popjvvIzor7fnqI3lkI7lho3or5VcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5Ye65bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIG1vZGFsLmluaXRRdWVzdGlvbk9wZXJhdGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIC8vICDngrnlh7vpl67popjliJfooajnmoTmnaHnm67nmoTmk43kvZxcclxuICAgICAgICAkKFwiLm1haW5MaXN0Q29udGVudFwiKS5vbihcImNsaWNrXCIsIFwiLnF1ZXN0aW9uTGlzdE9wZXJhdGVBcmVhIGxpLm9wZXJhdGVcIiwgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXN0aW9uX2lkID0gJCh0aGlzKS5kYXRhKFwiaWRcIik7XHJcbiAgICAgICAgICAgIHZhciBpc19lbmFibGUgICA9ICQodGhpcykuZGF0YSgnaXNfZW5hYmxlJyk7XHJcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9ICQodGhpcykuZGF0YShcInN0YXRlXCIpID09IDEgPyAwIDogMTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gJCh0aGlzKS5kYXRhKFwidHlwZVwiKTtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYW5zd2VyUXVlc3Rpb25cIjogICAgICAvL+WbnuetlOmXrumimFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmhhbmRBbnN3ZXJRdWVzdGlvbihxdWVzdGlvbl9pZCxpc19lbmFibGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImFuc3dlclF1ZUFnYWluXCI6ICAgICAgLy/ph43mlrDlm57nrZRcclxuICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi56Gu6K6k5LiK5Lyg6Z+z6aKR5bm26YeN5paw5Zue562U77yM56Gu6K6k5ZCO5paw55qE5Zue562U5YaF5a655bCG6KaG55uW5Y6f5YaF5a6577yM5LiU6K+l5Yqo5L2c5peg5rOV5pKk5Zue44CCXCIsIFwiaW5mb1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwuaGFuZEFuc3dlclF1ZXN0aW9uKHF1ZXN0aW9uX2lkLGlzX2VuYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImxvb2tRdWVzdGlvblwiOiAgICAvL+afpeeci+mXrumimOivpuaDhVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3NjYW5RdWVXaW5kb3dDb250ZW50XCIpLnRleHQoXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzY2FuUXVlSW1nV3JhcHBlclwiKS5odG1sKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9ICQodGhpcykuZGF0YShcImNvbnRlbnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzY2FuUXVlV2luZG93Q29udGVudFwiKS50ZXh0KGNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1nSnNvbkFyciA9ICQodGhpcykuZGF0YShcImltZ3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltZ0pzb25BcnIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1nU3RyaW5nID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nSnNvbkFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdTdHJpbmcgKz1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCInICsgaXRlbSArICdcIj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNzY2FuUXVlSW1nV3JhcHBlclwiKS5odG1sKGltZ1N0cmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnNjYW5RdWVzdGlvbldpbmRvd0JnXCIpLmZhZGVJbigzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGFuZ2VRdWVzdGlvblN0YXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlSW4oMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoXCIvUUEvY2hhbmdlUXVlc3Rpb25TdGF0ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uX2lkOiBxdWVzdGlvbl9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcCgn5pON5L2c5oiQ5Yqf77yM6Zeu6aKY5bCG5LiN5Zyo6Zeu562U5LiT5Yy65bGV56S6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcCgn5pON5L2c5oiQ5Yqf77yM6Zeu6aKY5bCG5Zyo6Zeu562U5LiT5Yy65bGV56S6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmdldFF1ZXN0aW9uTGlzdChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPguaVsOmUmeivry5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyDngrnlh7vpgInmi6nmlofku7ZcclxuICAgICAgICAkKFwiI3NlbGVjdEF1ZGlvRmlsZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIjdXBsb2FkQXVkaW9GaWxlXCIpLmNsaWNrKCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoXCIuY2xvc2VVcGxvYWRGaWxlV2luZG93LCAjY2FuY2VsVXBsb2FkQXVkaW9cIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiLnVwbG9hZEZpbGVXaW5kb3dCZ1wiKS5mYWRlT3V0KDMwMCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiI3VwbG9hZEF1ZGlvRmlsZVwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlc1VwbG9hZCh0aGlzLmZpbGVzLCBcImF1ZGlvXCIsIFwiQXVkaW8xXCIsIDEwMDApO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gIOeCueWHu+ehruWumuS4iuS8oOmfs+mikeaWh+S7tlxyXG4gICAgICAgICQoXCIjY29uZmlybVVwbG9hZEF1ZGlvXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGlzX2VuYWJsZV9lYXZlc2Ryb3AgPSAkKCcjaXNfZW5hYmxlX2VhdmVzZHJvcCcpLmlzKCc6Y2hlY2tlZCcpO1xyXG4gICAgICAgICAgICBpZihpc19lbmFibGVfZWF2ZXNkcm9wID09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgaXNfZW5hYmxlX2VhdmVzZHJvcCA9IDA7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGlzX2VuYWJsZV9lYXZlc2Ryb3AgPSAxO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpc19lbmFibGVfZWF2ZXNkcm9wKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cGxvYWRBdWRpb1VybCA9ICQoXCIjdXBsb2FkQXVkaW9VcmxcIikudmFsKCk7XHJcbiAgICAgICAgICAgIGlmIChtb2RhbC5pc0F1ZGlvVXBsb2FkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLpn7PpopHmlofku7bmraPlnKjkuIrkvKDkuK0uLi5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHVwbG9hZEF1ZGlvVXJsLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7flhYjkuIrkvKDpn7PpopHmlofku7YuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtb2RhbC5zdWJtaXRMaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLpn7PpopHmj5DkuqTkuK3vvIzor7fnqI3lkI7lho3or5XjgIJcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbW9kYWwuc3VibWl0TGltaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgJC5hamF4KFwiL1FBL2NvbW1pdEFuc3dlclwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogbW9kYWwucXVlc3Rpb25JZCxcclxuICAgICAgICAgICAgICAgICAgICBhbnN3ZXJlcl9zaXplOiByZXNBdWRpb1NpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgYW5zd2VyZXJfbGVuZ3RoOiByZXNBdWRpbzFMZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgYW5zd2VyZXJfY29udGVudDogdXBsb2FkQXVkaW9VcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNfZW5hYmxlX2VhdmVzZHJvcDppc19lbmFibGVfZWF2ZXNkcm9wXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLnN1Ym1pdExpbWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIumfs+mikeaWh+S7tuaPkOS6pOaIkOWKn+OAglwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi51cGxvYWRGaWxlV2luZG93QmdcIikuZmFkZU91dCgzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5nZXRRdWVzdGlvbkxpc3QodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKHJlc3VsdC5tc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQubXNnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuc3VibWl0TGltaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuacjeWKoeWZqOWHuuWwj+W3ruS6hu+8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBtb2RhbC5pbml0UmVzcG9uZGVyT3BlcmF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgJChcIi5tYWluTGlzdENvbnRlbnRcIikub24oXCJjbGlja1wiLCBcIi5yZXNwb25kZXJMaXN0T3BlcmF0ZUFyZWEgbGkub3BlcmF0ZVwiLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQHR5cGUge251bWJlcn0gICAwLeS4iue6v++8jDEt5LiL57q/Jyw854q25oCB5YC8PlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdmFyIHN0YXRlID0gJCh0aGlzKS5kYXRhKCdzdGF0ZScpO1xyXG4gICAgICAgICAgICB2YXIgYW5zd2VyZXJJZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gJCh0aGlzKS5kYXRhKFwidHlwZVwiKTtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZWRpdFJlc3BvbmRlckluZm9cIjpcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1FBL2VkaXRBbnN3ZXJlcj9hbnN3ZXJlcl9pZD1cIiArIGFuc3dlcmVySWQgKyBcIiZzdGF0ZT1cIiArIHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGFuZ2VSZXNwb25kZXJTdGF0ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZUluKDMwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAoc3RhdGUgPT0gMSA/IDAgOiAxKTtcclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoXCIvUUEvY2hhbmdlQW5zd2VyZXJTdGF0ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlcmVyX2lkOiBhbnN3ZXJlcklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKCfnrZTkuLvkuIvnur/miJDlip8nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKCfnrZTkuLvkuIrnur/miJDlip8nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwuZ2V0UmVzcG9uZGVyTGlzdChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS5jb2RlID09IDIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+aCqOWFiOWhq+WGmeetlOS4u+S/oeaBryDmiY3og73kuIrnur/nrZTkuLvvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPguaVsOmUmeivry5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBtb2RhbC5pbml0U2V0dGluZ09wZXJhdGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQoXCIubWFpbkxpc3RDb250ZW50XCIpLm9uKFwiY2hhbmdlXCIsIFwiaW5wdXRbdHlwZT1yYWRpb11cIiwgZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB0YXJnZXRJZCA9IGUudGFyZ2V0LmlkLFxyXG4gICAgICAgICAgICAgICAgaXNTaG93TGlzdGVuID0gJCgnaW5wdXRbbmFtZT1pc1Nob3dMaXN0ZW5dOmNoZWNrZWQnKS52YWwoKSxcclxuICAgICAgICAgICAgICAgIGlzU21zUmVtaW5kID0gJCgnaW5wdXRbbmFtZT1pc1Ntc1JlbWluZF06Y2hlY2tlZCcpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgJC5hamF4KFwiL1FBL2NvbW1pdFNldHRpbmdcIiwge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU2hvd0xpc3RlbjogaXNTaG93TGlzdGVuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1Ntc1JlbWluZDogaXNTbXNSZW1pbmRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRwdXRUZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YXJnZXRJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9wZW5FYXZlc2Ryb3BcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUZXh0ID0gXCLpl67popjpobXlt7LmmL7npLrlgbflkKzkurrmlbBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjbG9zZUVhdmVzZHJvcFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRleHQgPSBcIumXrumimOmhteW3sumakOiXj+WBt+WQrOS6uuaVsFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9wZW5TbXNSZW1pbmRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUZXh0ID0gXCLnn63kv6Hmj5DphpLlt7LlvIDlkK9cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjbG9zZVNtc1JlbWluZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRleHQgPSBcIuefreS/oeaPkOmGkuW3suWFs+mXrVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPguaVsOmUmeivr+OAglwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKG91dHB1dFRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS/neWtmOWksei0pVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuacjeWKoeWZqOWHuuWwj+W3ruS6hu+8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIG1vZGFsLmhhbmRsZUludml0ZUFuc3dlcmVyV2luZG93ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAvLyAg6YKA6K+3562U5Li7XHJcbiAgICAgICAgJChcIiNpbnZpdGVSZXNwb25kZXJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgJChcIi5zY2FuUXJDb2RlV2luZG93QmdcIikuZmFkZUluKDMwMCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLmNsb3NlU2NhblFyQ29kZVdpbmRvdyBpbWdcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiLnNjYW5RckNvZGVXaW5kb3dCZ1wiKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICDlpI3liLbliLDliarotLTmnb9cclxuICAgICAgICAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCgnLmNvcHlIcmVmJyk7XHJcbiAgICAgICAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlpI3liLbmiJDlip/vvIHor7flnKjlvq7kv6HlhoXmiZPlvIDlk6Yg44CCXCIpO1xyXG4gICAgICAgICAgICAgICAgZS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zY2FuUXJDb2RlV2luZG93QmdcIikuZmFkZU91dCgxMDApO1xyXG4gICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIG1vZGFsLmhhbmRsZVNjYW5RdWVzdGlvbldpbmRvdyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy8gIOmakOiXj+mXrumimOivpuaDhVxyXG4gICAgICAgICQoXCIuY2xvc2VRdWVzdGlvbkRldGFpbFdpbmRvdywgLnNjYW5RdWVzdGlvbldpbmRvd0JnXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChcIi5zY2FuUXVlc3Rpb25XaW5kb3dCZ1wiKS5mYWRlT3V0KDEwMCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoXCIuc2NhblF1ZXN0aW9uV2luZG93XCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgbW9kYWwuaW5pdExpc3RQYWdpbmF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAkKCcubGlzdC1wYWdlIC5wYWdpbmF0aW9uIGxpIGEnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgJGVsZSA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICRlbGUuYXR0cignZGF0YS11cmwnLCAkZWxlLmF0dHIoJ2hyZWYnKSk7XHJcbiAgICAgICAgICAgICRlbGUucmVtb3ZlQXR0cignaHJlZicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgbW9kYWwuaW5pdFBhZ2luYXRpb25FdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL+WIhumhteivt+axglxyXG4gICAgICAgICQoXCIubWFpbkxpc3RDb250ZW50XCIpLm9uKCdjbGljaycsICcgLnBhZ2luYXRpb24gbGkgYScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyIGVsZSA9ICQoZS50YXJnZXQpLFxyXG4gICAgICAgICAgICAgICAgdXJsID0gZWxlLmRhdGEoJ3VybCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdXJsLmluZGV4T2YoXCJwYWdlXCIpO1xyXG4gICAgICAgICAgICBRQURldGFpbC5wYWdlSW5kZXggPSB1cmwuc3Vic3RyaW5nKGluZGV4ICsgNSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoUUFEZXRhaWwudGFiU3RhdGUgPT0gXCJxdWVzdGlvbkxpc3RcIikge1xyXG4gICAgICAgICAgICAgICAgbW9kYWwuZ2V0UXVlc3Rpb25MaXN0KHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFFBRGV0YWlsLnRhYlN0YXRlID09IFwicmVzcG9uZGVyTGlzdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5nZXRSZXNwb25kZXJMaXN0KHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBtb2RhbC5oYW5kbGVTZWFyY2ggPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWIneWni+WMluaXtumXtOaPkuS7tlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciBkYXRhUmFuZ2VJbnN0YW5jZSA9IG5ldyBwaWNrZXJEYXRlUmFuZ2UoJ1NlbGVjdERhdGEnLCB7XHJcbiAgICAgICAgICAgIGlzVG9kYXlWYWxpZCA6IHRydWUsXHJcbiAgICAgICAgICAgIGRlZmF1bHRUZXh0IDogJyB+ICcsXHJcbiAgICAgICAgICAgIGlucHV0VHJpZ2dlciA6ICdvcHRpb25hbCcsXHJcbiAgICAgICAgICAgIHRoZW1lIDogJ3RhJyxcclxuICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVGltZUludGVydmFsKG9iaik7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3NlYXJjaFF1ZXN0aW9uXCIpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI1NlbGVjdFJhbmdlJykub24oJ2NsaWNrJywgJ2xpJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gJCh0aGlzKS5kYXRhKCd0eXBlJyk7XHJcbiAgICAgICAgICAgIHZhciB0aW1lUmFuZ2UgPSAtMTtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWxsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZVJhbmdlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6ICcnLCBlbmREYXRlOiAnJ1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY3VycmVudF9tb250aFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVSYW5nZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBnZXROb3dNb250aCgpLCBlbmREYXRlOiBnZXROb3dEYXkoKVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibGFzdF9zZXZlblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVSYW5nZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBnZXRPbmVEYXkoNiksIGVuZERhdGU6IGdldE5vd0RheSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJsYXN0X21vbnRoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZVJhbmdlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6IGdldE9uZURheSgyOSksIGVuZERhdGU6IGdldE5vd0RheSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdXBkYXRlVGltZUludGVydmFsKHRpbWVSYW5nZSk7XHJcbiAgICAgICAgICAgICQoXCIjc2VhcmNoUXVlc3Rpb25cIikuY2xpY2soKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI29wdGlvbmFsJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQoJyNkcm9wZG93bi10b2dnbGUnKS5kcm9wZG93bigndG9nZ2xlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnI1NlbGVjdERhdGEnKS5vZmYoJ2NsaWNrJykudGV4dCgn5YWo6YOo6Zeu6aKYJyk7ICAvL+iuvue9ruW8gOWni+e7k+adn+aXtumXtFxyXG5cclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqIOaQnOe0oumXrumimOWIl+ihqCAqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgICQoJyNzZWFyY2hRdWVzdGlvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgUUFEZXRhaWwucGFnZUluZGV4ID0gMTtcclxuICAgICAgICAgICAgUUFEZXRhaWwuc2VhcmNoUXVlc3Rpb25Db250ZW50ID0gJCgnI3NlYXJjaFF1ZXN0aW9uSW5wdXQnKS52YWwoKTtcclxuICAgICAgICAgICAgbW9kYWwuZ2V0UXVlc3Rpb25MaXN0KHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoXCIjc2VhcmNoUXVlc3Rpb25JbnB1dFwiKS5vbihcImtleXByZXNzXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjc2VhcmNoUXVlc3Rpb25cIikuY2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKiog5pCc57Si562U5Li75YiX6KGoICoqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgJCgnI3NlYXJjaEFuc3dlcmVyJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBRQURldGFpbC5wYWdlSW5kZXggPSAxO1xyXG4gICAgICAgICAgICBRQURldGFpbC5zZWFyY2hBbnN3ZXJlckNvbnRlbnQgPSAkKCcjc2VhcmNoQW5zd2VyZXJJbnB1dCcpLnZhbCgpO1xyXG4gICAgICAgICAgICBRQURldGFpbC5zZWFyY2hBbnN3ZXJlclN0YXRlID0gJChcIiNhbnN3ZXJlcklzU2hvd1wiKS52YWwoKTtcclxuICAgICAgICAgICAgbW9kYWwuZ2V0UmVzcG9uZGVyTGlzdCh0cnVlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIiNhbnN3ZXJlcklzU2hvd1wiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyNzZWFyY2hBbnN3ZXJlcicpLmNsaWNrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChcIiNzZWFyY2hBbnN3ZXJlcklucHV0XCIpLm9uKFwia2V5cHJlc3NcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xyXG4gICAgICAgICAgICAgICAgJChcIiNzZWFyY2hBbnN3ZXJlclwiKS5jbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBtb2RhbC5oYW5kQW5zd2VyUXVlc3Rpb24gPSBmdW5jdGlvbiAocXVlc3Rpb25faWQsaXNfZW5hYmxlKSB7XHJcbiAgICAgICAgJChcIi51cGxvYWRBdWRpbzFOYW1lXCIpLmh0bWwoXCJcIik7XHJcbiAgICAgICAgJChcIi51cGxvYWRBdWRpbzFTaXplIHNwYW5cIikuaHRtbChcIlwiKTtcclxuICAgICAgICAkKFwiLnVwbG9hZFBMaW5lQWN0aXZlQXVkaW8xXCIpLmNzcyhcIndpZHRoXCIsICcwJyk7XHJcbiAgICAgICAgJChcIi51cGxvYWRQZXJzZW50QXVkaW8xXCIpLnRleHQoXCJcIik7XHJcblxyXG4gICAgICAgICQoXCIudXBsb2FkUExpbmVBdWRpbzFcIikuaGlkZSgpO1xyXG4gICAgICAgICQoXCIudXBsb2FkQm94QXVkaW8xXCIpLmhpZGUoKTtcclxuICAgICAgICAkKFwiI3VwbG9hZEF1ZGlvVXJsXCIpLnZhbChcIlwiKTtcclxuICAgICAgICAkKCcjaXNfZW5hYmxlX2VhdmVzZHJvcCcpLmF0dHIoXCJjaGVja2VkXCIsJ3RydWUnKTtcclxuXHJcbiAgICAgICAgbW9kYWwucXVlc3Rpb25JZCA9IHF1ZXN0aW9uX2lkO1xyXG5cclxuICAgICAgICAkKFwiLnVwbG9hZEZpbGVXaW5kb3dCZ1wiKS5mYWRlSW4oMTAwKTtcclxuICAgICAgICBpZihpc19lbmFibGUgPT0gMSl7XHJcbiAgICAgICAgICAgICQoJy5zaW1pX3RpcCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLmlzX2VuYWJsZV9lYXZlc2Ryb3AnKS5zaG93KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLnNpbWlfdGlwJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcuaXNfZW5hYmxlX2VhdmVzZHJvcCcpLmhpZGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvLyB2YXIgcGFnZUluZGV4ID0gMSxcclxuICAgIC8vICAgICBpc1dpbmRvd0Nsb3NlID0gdHJ1ZSxcclxuICAgIC8vICAgICBpc1Njcm9sbFRvQm90dG9tID0gZmFsc2UsICAgICAgIC8v5pWw5o2u5Yqg6L295a6M5q+VXHJcbiAgICAvLyAgICAgc2VhcmNoUmVmdW5kTGlzdENvbnRlbnQgPSBcIlwiLFx0Ly/pgIDmrL7liJfooajnqpflj6PmkJzntKLlhoXlrrlcclxuICAgIC8vXHJcbiAgICAvLyAgICAgcXVlc3Rpb25BcnIgPSBuZXcgQXJyYXkoKSxcclxuICAgIC8vICAgICB0b3RhbFByaWNlID0gMDtcclxuXHJcblxyXG4gICAgLy8gbW9kYWwuaGFuZGxlUmVmdW5kRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICQoXCIjaGFuZGxlUmVmdW5kXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcdFx0XHQvL1x054K55Ye76YCA5qy+5aSE55CG5oyJ6ZKuXHJcbiAgICAvLyAgICAgICAgIHBhZ2VJbmRleCA9IDE7XHJcbiAgICAvLyAgICAgICAgICQoXCIucmVmdW5kTGlzdFdpbmRvd0JnXCIpLmZhZGVJbigzMDApO1xyXG4gICAgLy8gICAgICAgICAkKFwiI2xvYWRpbmdSZWZ1bmRcIikuc2hvdygpO1xyXG4gICAgLy8gICAgICAgICBnZXRSZWZ1bmRMaXN0KGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICAgICAgICAgICQoXCIjbG9hZGluZ1JlZnVuZFwiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gICAgICQoXCIjc2VsZWN0QWxsUmVmdW5kTGlzdFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcdCAvLyDpgInkuK0v5Y+W5raIIOWFqOmDqFxyXG4gICAgLy8gICAgICAgICBpZiAoJCh0aGlzKS5wcm9wKFwiY2hlY2tlZFwiKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgY2hhbmdlQ2hlY2tlZChcImlzU2VsZWN0Q2hlY2tCb3hcIiwgdHJ1ZSlcclxuICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgIGNoYW5nZUNoZWNrZWQoXCJpc1NlbGVjdENoZWNrQm94XCIsIGZhbHNlKVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGZ1bmN0aW9uIGNoYW5nZUNoZWNrZWQoY2xhc3NOYW1lLCBzdGF0dXMpIHtcclxuICAgIC8vICAgICAgICAgICAgICQoXCJpbnB1dC5cIiArIGNsYXNzTmFtZSkuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgJCh0aGlzKS5wcm9wKFwiY2hlY2tlZFwiLCBzdGF0dXMpXHJcbiAgICAvLyAgICAgICAgICAgICB9KVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyAgICAgJChcIiNjYW5jZWxSZWZ1bmQsIC5jbG9zZUljb25XcmFwcGVyXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcdC8v5Y+W5raI6YCA5qy+IC0g5YWz6Zet6YCA5qy+56qX5Y+jXHJcbiAgICAvLyAgICAgICAgICQoXCIucmVmdW5kTGlzdFdpbmRvd0JnXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgIC8vICAgICAgICAgY2xlYXJSZWZ1bmRXaW5kb3dEYXRhKCk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgIC8v55uR5ZCs5piv5ZCm6YCJ5Lit6YCA5qy+5Lq65ZGYXHJcbiAgICAvLyAgICAgJChcIi5yZWZ1bmRMaXN0V2luZG93XCIpLm9uKCdjaGFuZ2UnLCAnaW5wdXRbdHlwZT1jaGVja2JveF0nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgICAgIHZhciBjb3VudCA9ICQoXCJpbnB1dC5pc1NlbGVjdENoZWNrQm94OmNoZWNrZWRcIikubGVuZ3RoO1xyXG4gICAgLy8gICAgICAgICBpZiAoY291bnQgPiAwKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAkKFwiI2NvbmZpcm1SZWZ1bmRcIikuYWRkQ2xhc3MoXCJidG5CbHVlXCIpO1xyXG4gICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICAgICAgJChcIiNjb25maXJtUmVmdW5kXCIpLnJlbW92ZUNsYXNzKFwiYnRuQmx1ZVwiKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAkKFwiI2NvbmZpcm1SZWZ1bmRcIikuY2xpY2soZnVuY3Rpb24gKCkge1x0XHQvL1x054K55Ye76YCA5qy+XHJcbiAgICAvLyAgICAgICAgIHF1ZXN0aW9uQXJyID0gbmV3IEFycmF5KCk7XHJcbiAgICAvLyAgICAgICAgIHRvdGFsUHJpY2UgPSAwO1xyXG4gICAgLy8gICAgICAgICAkKFwiaW5wdXQuaXNTZWxlY3RDaGVja0JveDpjaGVja2VkXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgICAgICAgICAgdmFyIHF1ZXN0aW9uSWQgPSAkKHRoaXMpLmRhdGEoXCJxdWVzdGlvbl9pZFwiKTtcclxuICAgIC8vICAgICAgICAgICAgIHF1ZXN0aW9uQXJyLnB1c2gocXVlc3Rpb25JZCk7XHJcbiAgICAvLyAgICAgICAgICAgICB0b3RhbFByaWNlICs9ICQodGhpcykuZGF0YShcInByaWNlXCIpO1xyXG4gICAgLy8gICAgICAgICB9KTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgIGlmIChxdWVzdGlvbkFyci5sZW5ndGggPT0gMCkge1xyXG4gICAgLy8gICAgICAgICAgICAgLy8gYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35YWI6YCJ5oup6YCA5qy+55So5oi3XCIpO1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIHRvdGFsUHJpY2UgPSBNYXRoLnJvdW5kKHRvdGFsUHJpY2UgKiAxMDApIC8gMTAwO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgJChcIi5yZWZ1bmRMaXN0V2luZG93QmdcIikuZmFkZU91dCgzMDApO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgJChcIi5jb25maXJtUmVmdW5kV2luZG93QmcgLmNvbmZpcm1SZWZ1bmRXaW5kb3dUZXh0XCIpLnRleHQoXCLnoa7lrprnu5kgXCIgKyBxdWVzdGlvbkFyci5sZW5ndGggKyBcIiDkvY3nlKjmiLfpgIDmrL4gXCIgKyB0b3RhbFByaWNlICsgXCIg5YWDXCIpO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgJChcIi5jb25maXJtUmVmdW5kV2luZG93QmdcIikuZmFkZUluKDMwMCk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gICAgICQoXCIuY2xvc2VDb25maXJtUmVmdW5kV2luZG93IGltZywgLmNvbmZpcm1SZWZ1bmRXaW5kb3dCdG5fMVwiKS5jbGljayhmdW5jdGlvbiAoKSB7ICAgLy9cdOeCueWHu+WPlua2iFxyXG4gICAgLy8gICAgICAgICAkKFwiLmNvbmZpcm1SZWZ1bmRXaW5kb3dCZ1wiKS5mYWRlT3V0KDMwMCk7XHJcbiAgICAvLyAgICAgICAgICQoXCIucmVmdW5kTGlzdFdpbmRvd0JnXCIpLmZhZGVJbigzMDApO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gICAgICQoXCIuY29uZmlybVJlZnVuZFdpbmRvd0J0bl8yXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgICAvL1x054K55Ye756Gu6K6kXHJcbiAgICAvLyAgICAgICAgIGNvbmZpcm1SZWZ1bmQoKTtcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgJChcIiNzZWFyY2hSZWZ1bmRVc2VyXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgICAgICAgICAgLy8gIOaQnOe0olxyXG4gICAgLy8gICAgICAgICBwYWdlSW5kZXggPSAxO1xyXG4gICAgLy8gICAgICAgICBzZWFyY2hSZWZ1bmRMaXN0Q29udGVudCA9ICQudHJpbSgkKFwiI3NlYXJjaFJlZnVuZFVzZXJJbnB1dFwiKS52YWwoKSk7XHJcbiAgICAvLyAgICAgICAgICQoXCIjbG9hZGluZ1JlZnVuZFwiKS5zaG93KCk7XHJcbiAgICAvLyAgICAgICAgIGdldFJlZnVuZExpc3QoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgICAgICAgICAgJChcIiNsb2FkaW5nUmVmdW5kXCIpLmZhZGVPdXQoMTAwKTtcclxuICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICQoXCIjc2VhcmNoUmVmdW5kVXNlcklucHV0XCIpLm9uKFwia2V5cHJlc3NcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgIC8vICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xyXG4gICAgLy8gICAgICAgICAgICAgJChcIiNzZWFyY2hSZWZ1bmRVc2VyXCIpLmNsaWNrKCk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqIOWkhOeQhumAgOasvuWIl+ihqOa7keWKqOS6i+S7tiAqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgLy9cclxuICAgIC8vICAgICAkKCcucmVmdW5kTGlzdFdpbmRvdyAud2luZG93Q29udGVudFdyYXBwZXInKS5zY3JvbGwoZnVuY3Rpb24oZSkge1xyXG4gICAgLy8gICAgICAgICB2YXIgRGl2SGVpZ2h0ID0gJCgnLndpbmRvd0NvbnRlbnRBcmVhJykuaGVpZ2h0KCksXHJcbiAgICAvLyAgICAgICAgICAgICBTY3JvbGxIZWlnaHQgPSAkKHRoaXMpLmhlaWdodCgpLFxyXG4gICAgLy8gICAgICAgICAgICAgU2Nyb2xsVG9wID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgIGlmICgoU2Nyb2xsVG9wICsgU2Nyb2xsSGVpZ2h0ID49IERpdkhlaWdodCAtIDUpICYmICFpc1dpbmRvd0Nsb3NlICYmICFpc1Njcm9sbFRvQm90dG9tKSB7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgaXNXaW5kb3dDbG9zZSA9IHRydWU7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgJChcIiNsb2FkaW5nUmVmdW5kXCIpLnNob3coKTtcclxuICAgIC8vICAgICAgICAgICAgIGdldFJlZnVuZExpc3QoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICQoXCIjbG9hZGluZ1JlZnVuZFwiKS5mYWRlT3V0KDEwMCk7XHJcbiAgICAvLyAgICAgICAgICAgICB9KTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy9cclxuICAgIC8vXHJcbiAgICAvLyB9O1xyXG5cclxuICAgIC8vIGZ1bmN0aW9uIGdldFJlZnVuZExpc3QoY2FsbGJhY2ssIGFyZ3MpIHtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgJC5hamF4KFwiL1FBL3JlZnVuZExpc3RcIiwge1xyXG4gICAgLy8gICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgIC8vICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgLy8gICAgICAgICBkYXRhOiB7XHJcbiAgICAvLyAgICAgICAgICAgICBwYWdlOiBwYWdlSW5kZXgsXHJcbiAgICAvLyAgICAgICAgICAgICBzZWFyY2hfY29udGVudDogc2VhcmNoUmVmdW5kTGlzdENvbnRlbnRcclxuICAgIC8vICAgICAgICAgfSxcclxuICAgIC8vICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LmRhdGEpO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICAgICAgICB2YXIgJGFyZWEgPSAkKFwiLndpbmRvd0NvbnRlbnRBcmVhXCIpLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBodG1sU3RyaW5nID0gJycsXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHBhZ2VPYmogPSByZXN1bHQuZGF0YS5yZWZ1bmRfcmVjb3JkX2xpc3Q7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHBhZ2VPYmouZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGh0bWxTdHJpbmcgKz1cclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicmVmdW5kTGlzdEl0ZW1cIj4nICtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiaXNTZWxlY3RDaGVja0JveFwiIGRhdGEtcXVlc3Rpb25faWQ9XCInICsgaXRlbS5pZCArICdcIiBkYXRhLXByaWNlPVwiJyArIGl0ZW0ucHJpY2UgLyAxMDAuMDAgKyAnXCI+JyArXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZWZ1bmRVc2VySW5mb1wiPicgK1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCInICsgaXRlbS5xdWVzdGlvbmVyX2F2YXRhciArICdcIj4nICtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuPicgKyBpdGVtLnF1ZXN0aW9uZXJfbmFtZSArICc8L3NwYW4+JyArXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicmVmdW5kVHlwZVwiPuS7mOi0uemXruetlDwvZGl2PicgK1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicmVmdW5kR29vZE5hbWVcIj4nICsgaXRlbS5jb250ZW50ICsgJzwvZGl2PicgK1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicmVmdW5kUHJpY2VcIj4nICsgaXRlbS5wcmljZSAvIDEwMC4wMCArICc8L2Rpdj4nICtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICAgICAgICB9KTtcclxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAoaHRtbFN0cmluZy5sZW5ndGggPT0gMCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBodG1sU3RyaW5nICs9XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRlbnROb25lVGlwXCI+5pqC5peg5pWw5o2uPC9kaXY+JztcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaXNXaW5kb3dDbG9zZSA9IGZhbHNlO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChwYWdlSW5kZXggPT0gMSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAkYXJlYS5odG1sKGh0bWxTdHJpbmcpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAkYXJlYS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJpc0Rvd25BbmltYXRpb24gaXNEb3duXCI+5pWw5o2u5Yqg6L295LitPC9kaXY+Jyk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICRhcmVhLmZpbmQoJy5pc0Rvd24nKS5iZWZvcmUoaHRtbFN0cmluZyk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAocGFnZU9iai50byA+PSBwYWdlT2JqLnRvdGFsKSB7ICAgICAgLy/mlbDmja7liqDovb3lrozmr5XlkI7nmoTmk43kvZxcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VPYmoudG90YWwgPiAxMCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgJGFyZWEuZmluZCgnLmlzRG93bicpXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoXCLmlbDmja7lt7LliqDovb3lrozmr5VcIilcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJpc0Rvd25BbmltYXRpb25cIik7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAkYXJlYS5maW5kKCcuaXNEb3duJykuaGlkZSgpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsVG9Cb3R0b20gPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgICAgICBwYWdlSW5kZXggKys7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICQoXCIjc2VsZWN0QWxsUmVmdW5kTGlzdFwiKS5wcm9wKFwiY2hlY2tlZFwiLCBmYWxzZSk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseSh3aW5kb3csIGFyZ3MpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOW8guW4uO+8jOivt+eojeWQjuWGjeivlVwiKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfSxcclxuICAgIC8vICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseSh3aW5kb3csIGFyZ3MpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIC8vICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy9cclxuICAgIC8vIH07XHJcbiAgICAvLyBmdW5jdGlvbiBjbGVhclJlZnVuZFdpbmRvd0RhdGEoKSB7XHJcbiAgICAvLyAgICAgcGFnZUluZGV4ID0gMTtcclxuICAgIC8vICAgICBpc1dpbmRvd0Nsb3NlID0gdHJ1ZTtcclxuICAgIC8vICAgICBpc1Njcm9sbFRvQm90dG9tID0gZmFsc2U7XHJcbiAgICAvLyAgICAgc2VhcmNoUmVmdW5kTGlzdENvbnRlbnQgPSAnJztcclxuICAgIC8vICAgICAkKFwiI3NlYXJjaFJlZnVuZFVzZXJJbnB1dFwiKS52YWwoXCJcIik7XHJcbiAgICAvLyAgICAgJChcIi53aW5kb3dDb250ZW50QXJlYVwiKS5odG1sKFwiXCIpO1xyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvLyBmdW5jdGlvbiBjb25maXJtUmVmdW5kKCkge1xyXG4gICAgLy8gICAgICQuYWpheChcIi9RQS9jb21taXRSZWZ1bmRcIiwge1xyXG4gICAgLy8gICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgIC8vICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgLy8gICAgICAgICBkYXRhOiB7XHJcbiAgICAvLyAgICAgICAgICAgICBxdWVfaWRfbGlzdDogcXVlc3Rpb25BcnJcclxuICAgIC8vICAgICAgICAgfSxcclxuICAgIC8vICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgLy8gICAgICAgICAgICAgJChcIi5jb25maXJtUmVmdW5kV2luZG93QmdcIikuZmFkZU91dCgxMDApO1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBjbGVhclJlZnVuZFdpbmRvd0RhdGEoKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi6YCA5qy+5oiQ5YqfXCIpO1xyXG4gICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAkKFwiLnJlZnVuZExpc3RXaW5kb3dCZ1wiKS5mYWRlSW4oMzAwKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLpgIDmrL7pgYfliLDpl67popjvvIzor7fnqI3lkI7lho3or5VcIik7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH0sXHJcbiAgICAvLyAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgLy8gICAgICAgICAgICAgJChcIi5jb25maXJtUmVmdW5kV2luZG93QmdcIikuZmFkZU91dCgxMDApO1xyXG4gICAgLy8gICAgICAgICAgICAgJChcIi5yZWZ1bmRMaXN0V2luZG93QmdcIikuZmFkZUluKDMwMCk7XHJcbiAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgLy8gICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvL1xyXG4gICAgLy8gfTtcclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVUaW1lSW50ZXJ2YWwob2JqKSB7XHJcbiAgICAgICAgaWYgKG9iai5zdGFydERhdGUgPT0gXCJcIiAmJiBvYmouZW5kRGF0ZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICQoJyNTZWxlY3REYXRhJykudGV4dCgn5YWo6YOo6Zeu6aKYJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnI1NlbGVjdERhdGEnKS50ZXh0KG9iai5zdGFydERhdGUgKyAnIH4gJyArIG9iai5lbmREYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFFBRGV0YWlsLnRpbWVJbnRlcnZhbC5zdGFydERhdGUgPSBvYmouc3RhcnREYXRlO1xyXG4gICAgICAgIFFBRGV0YWlsLnRpbWVJbnRlcnZhbC5lbmREYXRlID0gb2JqLmVuZERhdGU7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIh+aNonRhYueahOaYvuekulxyXG4gICAgICogQHBhcmFtIHRhcmdldChTdHJpbmcpICAgIHF1ZXN0aW9uVGFiIC0g5YiH5o2i5Yiw5YWo6YOo6Zeu6aKY77ybIHJlc3BvbmRlclRhYiAtIOWIh+aNouWIsOWFqOmDqOetlOS4u1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzd2l0Y2hDb250ZW50VGFiKHRhcmdldCkge1xyXG4gICAgICAgIHZhciB0YWJWYWx1ZSA9ICQoXCIuY29udGVudFRhYldyYXBwZXI+bGkuYWN0aXZlQ29udGVudFRhYlwiKS52YWwoKTsgLy8gICAgMS3lhajpg6jnrZTkuLsgIDAt5YWo6YOo6Zeu6aKYXHJcblxyXG4gICAgICAgIGlmICgodGFiVmFsdWUgPT0gMSAmJiB0YXJnZXQgPT0gXCJyZXNwb25kZXJUYWJcIikgfHwgKHRhYlZhbHVlID09IDAgJiYgdGFyZ2V0ID09IFwicXVlc3Rpb25UYWJcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGFyZ2V0ID09IFwicXVlc3Rpb25UYWJcIikge1xyXG4gICAgICAgICAgICAkKFwiI3F1ZXN0aW9uVGFiXCIpLmFkZENsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcclxuICAgICAgICAgICAgJChcIiNyZXNwb25kZXJUYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCA9PSBcInJlc3BvbmRlclRhYlwiKSB7XHJcbiAgICAgICAgICAgICQoXCIjcmVzcG9uZGVyVGFiXCIpLmFkZENsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcclxuICAgICAgICAgICAgJChcIiNxdWVzdGlvblRhYlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvL+WPlua2iOS4iuS8oOWIpOaWreWPguaVsFxyXG4gICAgLy8gdmFyIHVwbG9hZENhbmNlbD0wO1xyXG4gICAgZnVuY3Rpb24gZ2V0T2JqZWN0VVJMKGZpbGUpIHtcclxuICAgICAgICB2YXIgdXJsID0gbnVsbDtcclxuICAgICAgICBpZiAod2luZG93LmNyZWF0ZU9iamVjdFVSTCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdXJsID0gd2luZG93LmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5VUkwgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LndlYmtpdFVSTCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdXJsID0gd2luZG93LndlYmtpdFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1cmw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlT2JqZWN0VVJMKHVybCkgey8v6YeK5pS+6LWE5rqQVVJMXHJcbiAgICAgICAgaWYgKHdpbmRvdy5yZXZva2VPYmplY3RVUkwgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5VUkwgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cud2Via2l0VVJMICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB3aW5kb3cud2Via2l0VVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+i1hOa6kOS4iuS8oOWHveaVsCjlj4LmlbDvvJpyZXNUeXBlOui1hOa6kOexu+WeiyxyZXNUeXBlQ2xhc3M66LWE5rqQ57G75Z6L5Lit57uG5YiG55qE56eN57G7LHJlc0xpbWl0U2l6ZTrotYTmupDpmZDliLblpKflsI8pXHJcbiAgICBmdW5jdGlvbiByZXNVcGxvYWQoZmlsZXMsIHJlc1R5cGUsIHJlc1R5cGVDbGFzcywgcmVzTGltaXRTaXplKSB7XHJcbiAgICAgICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuXHJcbiAgICAgICAgICAgIHZhciByZXNvdXJjZUxvY2FsVXJsID0gZ2V0T2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAgICAgICB2YXIgZmlsZVNpemUgPSAoZmlsZS5zaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgcmVzQXVkaW9TaXplID0gZmlsZVNpemU7XHJcbiAgICAgICAgICAgIC8v5aaC5p6c5piv5q2j5byP6Z+z6aKRXHJcbiAgICAgICAgICAgIGlmIChyZXNUeXBlQ2xhc3MgPT0gXCJBdWRpbzFcIikge1xyXG4gICAgICAgICAgICAgICAgZmlsZUF1ZGlvMVNpemUgPSBmaWxlU2l6ZTtcclxuICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc291cmNlVGltZVwiKTtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlRWxlbWVudC5zcmMgPSByZXNvdXJjZUxvY2FsVXJsO1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VFbGVtZW50Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU9iamVjdFVSTChyZXNvdXJjZUxvY2FsVXJsKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/lpoLmnpzmmK/pn7PpopFcclxuICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gJ2F1ZGlvJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJCgnI2F1ZGlvVVJMJytyZXNUeXBlQ2xhc3MpKTtcclxuICAgICAgICAgICAgICAgICQoJyNhdWRpb1VSTCcrcmVzVHlwZUNsYXNzKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZEJveFwiK3Jlc1R5cGVDbGFzcykuZmFkZUluKDMwMCk7XHJcbiAgICAgICAgICAgICAgICAvLyDliJ3lp4vljJbmlofku7bku6Xlj4rov5vluqbmnaFcclxuICAgICAgICAgICAgICAgICQoXCIudXBsb2FkXCIgKyByZXNUeXBlQ2xhc3MgKyBcIk5hbWVcIikuaHRtbChmaWxlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRcIiArIHJlc1R5cGVDbGFzcyArIFwiU2l6ZSBzcGFuXCIpLmh0bWwoZmlsZVNpemUpO1xyXG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRQTGluZVwiICsgcmVzVHlwZUNsYXNzKS5zaG93KClcclxuICAgICAgICAgICAgICAgICAgICAuZmluZChcIi51cGxvYWRQTGluZUFjdGl2ZVwiICsgcmVzVHlwZUNsYXNzKS5jc3MoXCJ3aWR0aFwiLCAnMCcpO1xyXG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRQZXJzZW50XCIgKyByZXNUeXBlQ2xhc3MpLmh0bWwoJycpO1xyXG4gICAgICAgICAgICAgICAgaWYocmVzVHlwZUNsYXNzID09IFwiQXVkaW8xXCIpey8v5q2j5byP6Z+z6aKRXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIEF1ZGlvTmFtZSA9IGZpbGUubmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDpmZDliLbotYTmupDlnKgqTULlhoVcclxuICAgICAgICAgICAgaWYgKCR1cGxvYWRGaWxlLmNoZWNrRmlsZVNpemUoZmlsZSwgcmVzTGltaXRTaXplKSkge1xyXG4gICAgICAgICAgICAgICAgbW9kYWwuaXNBdWRpb1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkdXBsb2FkRmlsZS51cGxvYWRSZXMoZmlsZSwgcmVzVHlwZSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gJ2F1ZGlvJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gcGFyc2VJbnQoZGF0YSAqIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIudXBsb2FkUExpbmVBY3RpdmVcIiArIHJlc1R5cGVDbGFzcykuY3NzKFwid2lkdGhcIiwgcHJvZ3Jlc3MgKyAnJScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi51cGxvYWRQZXJzZW50XCIgKyByZXNUeXBlQ2xhc3MpLnRleHQocHJvZ3Jlc3MgKyBcIiVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOS4iuS8oOaIkOWKn+Wbnuiwg1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmlzQXVkaW9VcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLkuIrkvKDmiJDlip/vvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIudXBsb2FkUGVyc2VudFwiICsgcmVzVHlwZUNsYXNzKS50ZXh0KFwi5bey5LiK5LygXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzVXJsID0gZGF0YS5kYXRhLmFjY2Vzc191cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjdXBsb2FkQXVkaW9VcmxcIikudmFsKHJlc1VybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5LiK5Lyg5aSx6LSl5Zue6LCDXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwuaXNBdWRpb1VwbG9hZGluZyAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuS4iuS8oOWksei0pSEhIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS4iuS8oOWksei0pe+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS4iuS8oOi1hOa6kOmZkOWItuWcqFwiICsgcmVzTGltaXRTaXplICsgXCJNQuWGhe+8gVwiKTtcclxuICAgICAgICAgICAgICAgICQoXCIudXBMb2FkXCIrcmVzVHlwZUNsYXNzKS52YWwoXCJcIik7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWxlcylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1vZGFsO1xyXG5cclxufSkoKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl19
