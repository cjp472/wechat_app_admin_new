$(function(){manageAudio.init()});var manageAudio=function(){var e={};var r;function a(e){if($formCheck.emptyString(e.title)){baseUtils.show.redTip("音频名称不能为空！");return false}if($formCheck.emptyString(e.audio_url)){baseUtils.show.redTip("请上传正式音频资源！");return false}if($formCheck.emptyString(e.img_url)){baseUtils.show.redTip("请填入您的音频图片！");return false}if($formCheck.emptyString(e.start_at)){baseUtils.show.redTip("请填入您的音频上架时间！");return false}if(!$formCheck.checkTime(e.start_at)){baseUtils.show.redTip("音频上架时间错误");return false}if(uploadChannelType==1&&e.payment_type==2&&$formCheck.emptyString(e.piece_price)){baseUtils.show.redTip("您选择的付费形式为付费，请输入价格！");return false}if(uploadChannelType==1&&e.payment_type==2&&!$formCheck.checkNum(e.piece_price)){baseUtils.show.redTip("您的价格输入格式有误，请重新输入！");return false}if(uploadChannelType==1&&e.payment_type==2&&e.piece_price>baseUtils.maxInputPrice*100){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}return true}function i(e,r){showLoading();$.ajax(e,{type:"POST",dataType:"json",data:r,success:function(e){if(parseInt(e.code)===0){baseUtils.show.blueTip("保存成功");setTimeout(function(){window.location.href=backURL},700)}else{hideLoading();baseUtils.show.redTip(e.msg);submitLimt=false}},error:function(e,r,a){hideLoading();console.error(a);baseUtils.show.redTip("网络错误，请稍后再试！");submitLimt=false}})}e.init=function(){$(".completeBtn").click(function(){var e=$.trim($(".resName").val());var r=$.trim($("#Audio1Url").val());var t=$.trim($("#Image1Url").val());var s=UE.getEditor("resource_desc");var n=s.getContent();var l=s.getPlainTxt();if(l.length==0){baseUtils.show.redTip("描述不能为空!");return false}var o=$.trim($("#Audio2Url").val());var u=$.trim($("#Image2Url").val());var c=$.trim($(".resPrize").val())*100;$('input[name="aliveClass"]:checked').each(function(){classArray.push($(this).attr("id"))});console.log(classArray);var p=$.trim($("#dateInput").val());var m={title:e,audio_url:r,img_url:t,audio_size:fileAudio1Size,file_name:AudioName,audio_length:resAudio1Length,descrb:l,org_content:n,try_audio_url:o,try_audio_length:resAudio2Length,try_file_name:tryAudioName,sign_url:u,piece_price:c,start_at:p,id:GetQueryString("id")||null};var d=$("#serviceToggle :radio:checked").val();if(d){m.push_state=d}if(resourceFree){m.payment_type=resourceFree}if(a(m)){var f={params:m,resource_type:resourceType,upload_channel_type:uploadChannelType,package_id:packageId,resource_params:resourceParams,package_name:packageName,roleParams:roleParams,category_type:classArray};i(golbalUrl,f)}else{return false}})};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hbmFnZUF1ZGlvLmpzIl0sIm5hbWVzIjpbIiQiLCJtYW5hZ2VBdWRpbyIsImluaXQiLCJyZXNVcmwiLCJjaGVja0F1ZGlvRm9ybSIsImluZm8iLCIkZm9ybUNoZWNrIiwiZW1wdHlTdHJpbmciLCJ0aXRsZSIsImJhc2VVdGlscyIsInNob3ciLCJyZWRUaXAiLCJhdWRpb191cmwiLCJpbWdfdXJsIiwic3RhcnRfYXQiLCJjaGVja1RpbWUiLCJ1cGxvYWRDaGFubmVsVHlwZSIsInBheW1lbnRfdHlwZSIsInBpZWNlX3ByaWNlIiwiY2hlY2tOdW0iLCJtYXhJbnB1dFByaWNlIiwic3VibWl0Rm9ybSIsInVybCIsImFsbFBhcmFtcyIsInNob3dMb2FkaW5nIiwiYWpheCIsInR5cGUiLCJkYXRhVHlwZSIsImRhdGEiLCJzdWNjZXNzIiwicGFyc2VJbnQiLCJjb2RlIiwiYmx1ZVRpcCIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJiYWNrVVJMIiwiaGlkZUxvYWRpbmciLCJtc2ciLCJzdWJtaXRMaW10IiwiZXJyb3IiLCJ4aHIiLCJzdGF0dXMiLCJlcnIiLCJjb25zb2xlIiwiY2xpY2siLCJ0cmltIiwidmFsIiwiYXVkaW8xVXJsIiwiaW1hZ2UxVXJsIiwidWUiLCJVRSIsImdldEVkaXRvciIsIm9yZ0NvbnRlbnQiLCJnZXRDb250ZW50IiwiZGVzY3JpYiIsImdldFBsYWluVHh0IiwibGVuZ3RoIiwiYXVkaW8yVXJsIiwiaW1hZ2UyVXJsIiwicmVzUHJpemUiLCJlYWNoIiwiY2xhc3NBcnJheSIsInB1c2giLCJ0aGlzIiwiYXR0ciIsImxvZyIsInN0YXJ0QXQiLCJyZXNJbmZvIiwiYXVkaW9fc2l6ZSIsImZpbGVBdWRpbzFTaXplIiwiZmlsZV9uYW1lIiwiQXVkaW9OYW1lIiwiYXVkaW9fbGVuZ3RoIiwicmVzQXVkaW8xTGVuZ3RoIiwiZGVzY3JiIiwib3JnX2NvbnRlbnQiLCJ0cnlfYXVkaW9fdXJsIiwidHJ5X2F1ZGlvX2xlbmd0aCIsInJlc0F1ZGlvMkxlbmd0aCIsInRyeV9maWxlX25hbWUiLCJ0cnlBdWRpb05hbWUiLCJzaWduX3VybCIsImlkIiwiR2V0UXVlcnlTdHJpbmciLCJwdXNoU3RhdGUiLCJwdXNoX3N0YXRlIiwicmVzb3VyY2VGcmVlIiwicGFyYW1zIiwicmVzb3VyY2VfdHlwZSIsInJlc291cmNlVHlwZSIsInVwbG9hZF9jaGFubmVsX3R5cGUiLCJwYWNrYWdlX2lkIiwicGFja2FnZUlkIiwicmVzb3VyY2VfcGFyYW1zIiwicmVzb3VyY2VQYXJhbXMiLCJwYWNrYWdlX25hbWUiLCJwYWNrYWdlTmFtZSIsInJvbGVQYXJhbXMiLCJjYXRlZ29yeV90eXBlIiwiZ29sYmFsVXJsIl0sIm1hcHBpbmdzIjoiQUFHQUEsRUFBRSxXQUVFQyxZQUFZQyxRQUdoQixJQUFJRCxhQUFjLFdBQ2QsR0FBSUEsS0FFSixJQUFJRSxFQUdKLFNBQVNDLEdBQWVDLEdBQ3BCLEdBQUlDLFdBQVdDLFlBQVlGLEVBQUtHLE9BQVEsQ0FDcENDLFVBQVVDLEtBQUtDLE9BQU8sWUFDdEIsT0FBTyxPQUVYLEdBQUlMLFdBQVdDLFlBQVlGLEVBQUtPLFdBQVksQ0FDeENILFVBQVVDLEtBQUtDLE9BQU8sYUFDdEIsT0FBTyxPQUVYLEdBQUlMLFdBQVdDLFlBQVlGLEVBQUtRLFNBQVUsQ0FDdENKLFVBQVVDLEtBQUtDLE9BQU8sYUFDdEIsT0FBTyxPQUVYLEdBQUlMLFdBQVdDLFlBQVlGLEVBQUtTLFVBQVcsQ0FDdkNMLFVBQVVDLEtBQUtDLE9BQU8sZUFDdEIsT0FBTyxPQUVYLElBQUtMLFdBQVdTLFVBQVVWLEVBQUtTLFVBQVcsQ0FDdENMLFVBQVVDLEtBQUtDLE9BQU8sV0FDdEIsT0FBTyxPQUVYLEdBQUdLLG1CQUFtQixHQUFHWCxFQUFLWSxjQUFjLEdBQUdYLFdBQVdDLFlBQVlGLEVBQUthLGFBQWEsQ0FDcEZULFVBQVVDLEtBQUtDLE9BQU8scUJBQ3RCLE9BQU8sT0FFWCxHQUFHSyxtQkFBbUIsR0FBR1gsRUFBS1ksY0FBYyxJQUFJWCxXQUFXYSxTQUFTZCxFQUFLYSxhQUFhLENBQ2xGVCxVQUFVQyxLQUFLQyxPQUFPLG9CQUN0QixPQUFPLE9BRVgsR0FBSUssbUJBQW1CLEdBQUdYLEVBQUtZLGNBQWMsR0FBS1osRUFBS2EsWUFBY1QsVUFBVVcsY0FBZ0IsSUFBSyxDQUNoR1gsVUFBVUMsS0FBS0MsT0FBTyxVQUFZRixVQUFVVyxjQUFnQixLQUM1RCxPQUFPLE9BRVgsTUFBTyxNQUlYLFFBQVNDLEdBQVdDLEVBQUtDLEdBQ3JCQyxhQUNBeEIsR0FBRXlCLEtBQUtILEdBQ0hJLEtBQU0sT0FDTkMsU0FBVSxPQUNWQyxLQUFLTCxFQUNMTSxRQUFRLFNBQVVELEdBQ2QsR0FBSUUsU0FBU0YsRUFBS0csUUFBVSxFQUFHLENBQzNCdEIsVUFBVUMsS0FBS3NCLFFBQVEsT0FDdkJDLFlBQVcsV0FDUEMsT0FBT0MsU0FBU0MsS0FBT0MsU0FDekIsU0FFRCxDQUNEQyxhQUNBN0IsV0FBVUMsS0FBS0MsT0FBT2lCLEVBQUtXLElBQzNCQyxZQUFhLFFBR3JCQyxNQUFPLFNBQVNDLEVBQUlDLEVBQU9DLEdBQ3ZCTixhQUNBTyxTQUFRSixNQUFNRyxFQUNkbkMsV0FBVUMsS0FBS0MsT0FBTyxjQUN0QjZCLFlBQWEsU0FNekJ2QyxFQUFZQyxLQUFPLFdBS2ZGLEVBQUUsZ0JBQWdCOEMsTUFBTSxXQUlwQixHQUFJdEMsR0FBUVIsRUFBRStDLEtBQUsvQyxFQUFFLFlBQVlnRCxNQUdqQyxJQUFJQyxHQUFZakQsRUFBRStDLEtBQUsvQyxFQUFFLGNBQWNnRCxNQUd2QyxJQUFJRSxHQUFZbEQsRUFBRStDLEtBQUsvQyxFQUFFLGNBQWNnRCxNQUd2QyxJQUFJRyxHQUFLQyxHQUFHQyxVQUFVLGdCQUN0QixJQUFJQyxHQUFhSCxFQUFHSSxZQUdwQixJQUFJQyxHQUFVTCxFQUFHTSxhQUNqQixJQUFJRCxFQUFRRSxRQUFVLEVBQUcsQ0FDckJqRCxVQUFVQyxLQUFLQyxPQUFPLFVBQ3RCLE9BQU8sT0FHWCxHQUFJZ0QsR0FBWTNELEVBQUUrQyxLQUFLL0MsRUFBRSxjQUFjZ0QsTUFHdkMsSUFBSVksR0FBWTVELEVBQUUrQyxLQUFLL0MsRUFBRSxjQUFjZ0QsTUFLdkMsSUFBSWEsR0FBVzdELEVBQUUrQyxLQUFLL0MsRUFBRSxhQUFhZ0QsT0FBTyxHQUc1Q2hELEdBQUUsb0NBQW9DOEQsS0FBSyxXQUN2Q0MsV0FBV0MsS0FBS2hFLEVBQUVpRSxNQUFNQyxLQUFLLFFBRWpDckIsU0FBUXNCLElBQUlKLFdBR1osSUFBSUssR0FBVXBFLEVBQUUrQyxLQUFLL0MsRUFBRSxjQUFjZ0QsTUFJckMsSUFBSXFCLElBRUE3RCxNQUFPQSxFQUVQSSxVQUFXcUMsRUFFWHBDLFFBQVNxQyxFQUVUb0IsV0FBV0MsZUFFWEMsVUFBV0MsVUFFWEMsYUFBYUMsZ0JBRWJDLE9BQU9wQixFQUVQcUIsWUFBWXZCLEVBRVp3QixjQUFjbkIsRUFFZG9CLGlCQUFpQkMsZ0JBRWpCQyxjQUFlQyxhQUVmQyxTQUFVdkIsRUFFVjFDLFlBQWEyQyxFQUViL0MsU0FBVXNELEVBRVZnQixHQUFJQyxlQUFlLE9BQVMsS0FJaEMsSUFBSUMsR0FBWXRGLEVBQUUsaUNBQWlDZ0QsS0FDbkQsSUFBR3NDLEVBQVUsQ0FDVGpCLEVBQVFrQixXQUFhRCxFQUd6QixHQUFHRSxhQUFjLENBQ2JuQixFQUFRcEQsYUFBZXVFLGFBTTNCLEdBQUlwRixFQUFlaUUsR0FBVSxDQUN6QixHQUFJOUMsSUFDQWtFLE9BQVFwQixFQUNScUIsY0FBZUMsYUFDZkMsb0JBQXFCNUUsa0JBQ3JCNkUsV0FBWUMsVUFDWkMsZ0JBQWlCQyxlQUNqQkMsYUFBY0MsWUFDZEMsV0FBWUEsV0FDWkMsY0FBY3JDLFdBRWxCMUMsR0FBV2dGLFVBQVU5RSxPQUVsQixDQUNILE1BQU8sVUFLbkIsT0FBT3RCIiwiZmlsZSI6Im1hbmFnZUF1ZGlvLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGpzZXJrIG9uIDIwMTcvMy8yMy5cbiAqL1xuJChmdW5jdGlvbiAoKSB7XG5cbiAgICBtYW5hZ2VBdWRpby5pbml0KCk7XG5cbn0pO1xudmFyIG1hbmFnZUF1ZGlvID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtYW5hZ2VBdWRpbyA9IHt9O1xuXG4gICAgdmFyIHJlc1VybDtcblxuICAgIC8v5qOA5p+l6Z+z6aKR5o+Q5Lqk6KGo5Y2VXG4gICAgZnVuY3Rpb24gY2hlY2tBdWRpb0Zvcm0oaW5mbykge1xuICAgICAgICBpZiAoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLnRpdGxlKSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6Z+z6aKR5ZCN56ew5LiN6IO95Li656m677yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8uYXVkaW9fdXJsKSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35LiK5Lyg5q2j5byP6Z+z6aKR6LWE5rqQ77yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8uaW1nX3VybCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+Whq+WFpeaCqOeahOmfs+mikeWbvueJh++8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLnN0YXJ0X2F0KSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35aGr5YWl5oKo55qE6Z+z6aKR5LiK5p625pe26Ze077yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghJGZvcm1DaGVjay5jaGVja1RpbWUoaW5mby5zdGFydF9hdCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIumfs+mikeS4iuaetuaXtumXtOmUmeivr1wiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZih1cGxvYWRDaGFubmVsVHlwZT09MSYmaW5mby5wYXltZW50X3R5cGU9PTImJiRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby5waWVjZV9wcmljZSkpe1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5oKo6YCJ5oup55qE5LuY6LS55b2i5byP5Li65LuY6LS577yM6K+36L6T5YWl5Lu35qC877yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmKHVwbG9hZENoYW5uZWxUeXBlPT0xJiZpbmZvLnBheW1lbnRfdHlwZT09MiYmISRmb3JtQ2hlY2suY2hlY2tOdW0oaW5mby5waWVjZV9wcmljZSkpe1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5oKo55qE5Lu35qC86L6T5YWl5qC85byP5pyJ6K+v77yM6K+36YeN5paw6L6T5YWl77yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGxvYWRDaGFubmVsVHlwZT09MSYmaW5mby5wYXltZW50X3R5cGU9PTIgJiYgaW5mby5waWVjZV9wcmljZSA+IGJhc2VVdGlscy5tYXhJbnB1dFByaWNlICogMTAwKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLku7fmoLzkuI3og73lpKfkuo4gXCIgKyBiYXNlVXRpbHMubWF4SW5wdXRQcmljZSArIFwiIOWFg1wiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvL+aPkOS6pOS/oeaBr1xuICAgIGZ1bmN0aW9uIHN1Ym1pdEZvcm0odXJsLCBhbGxQYXJhbXMpIHtcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgJC5hamF4KHVybCwge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGRhdGE6YWxsUGFyYW1zLFxuICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChkYXRhLmNvZGUpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLkv53lrZjmiJDlip9cIik7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBiYWNrVVJMO1xuICAgICAgICAgICAgICAgICAgICB9LDcwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXRMaW10ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsc3RhdHVzLGVycikge1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBJyk7XG4gICAgICAgICAgICAgICAgc3VibWl0TGltdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIG1hbmFnZUF1ZGlvLmluaXQgPSBmdW5jdGlvbiAoKSB7XG5cblxuXG4gICAgICAgIC8vIOaPkOS6pOmfs+mikeihqOWNlVxuICAgICAgICAkKFwiLmNvbXBsZXRlQnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLy/ojrflj5bpn7PpopHooajljZXmlbDmja5cbiAgICAgICAgICAgIC8v6Z+z6aKR5ZCN56ewXG4gICAgICAgICAgICB2YXIgdGl0bGUgPSAkLnRyaW0oJChcIi5yZXNOYW1lXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgLy/mraPlvI/pn7PpopHlnLDlnYBcbiAgICAgICAgICAgIHZhciBhdWRpbzFVcmwgPSAkLnRyaW0oJChcIiNBdWRpbzFVcmxcIikudmFsKCkpO1xuXG4gICAgICAgICAgICAvL+mfs+mikeWwgemdouWcsOWdgFxuICAgICAgICAgICAgdmFyIGltYWdlMVVybCA9ICQudHJpbSgkKFwiI0ltYWdlMVVybFwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIC8v6Z+z6aKR5Y6f5aeL5YaF5a656K+m5oOFXG4gICAgICAgICAgICB2YXIgdWUgPSBVRS5nZXRFZGl0b3IoJ3Jlc291cmNlX2Rlc2MnKTtcbiAgICAgICAgICAgIHZhciBvcmdDb250ZW50ID0gdWUuZ2V0Q29udGVudCgpO1xuXG4gICAgICAgICAgICAvL+mfs+mikeWGheWuueaPj+i/sFxuICAgICAgICAgICAgdmFyIGRlc2NyaWIgPSB1ZS5nZXRQbGFpblR4dCgpO1xuICAgICAgICAgICAgaWYgKGRlc2NyaWIubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aPj+i/sOS4jeiDveS4uuepuiEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL+ivleWQrOmfs+mikeWcsOWdgFxuICAgICAgICAgICAgdmFyIGF1ZGlvMlVybCA9ICQudHJpbSgkKFwiI0F1ZGlvMlVybFwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIC8v5pel562+5Zu+54mH5Zyw5Z2AXG4gICAgICAgICAgICB2YXIgaW1hZ2UyVXJsID0gJC50cmltKCQoXCIjSW1hZ2UyVXJsXCIpLnZhbCgpKTtcblxuXG5cbiAgICAgICAgICAgIC8v5LuY6LS55Lu35qC8XG4gICAgICAgICAgICB2YXIgcmVzUHJpemUgPSAkLnRyaW0oJChcIi5yZXNQcml6ZVwiKS52YWwoKSkqMTAwO1xuXG4gICAgICAgICAgICAvL+ebtOaSremAieaLqeWIhuexu1xuICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cImFsaXZlQ2xhc3NcIl06Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBjbGFzc0FycmF5LnB1c2goJCh0aGlzKS5hdHRyKCdpZCcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2xhc3NBcnJheSk7XG5cbiAgICAgICAgICAgIC8v5LiK5p625pe26Ze0XG4gICAgICAgICAgICB2YXIgc3RhcnRBdCA9ICQudHJpbSgkKFwiI2RhdGVJbnB1dFwiKS52YWwoKSk7XG5cblxuICAgICAgICAgICAgLy/pn7PpopHljZXlk4HkuIrkvKDkv6Hmga9cbiAgICAgICAgICAgIHZhciByZXNJbmZvID0ge1xuICAgICAgICAgICAgICAgIC8vIOmfs+mikeWQjeensFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAvLyAg5q2j5byP6Z+z6aKR5Zyw5Z2AXG4gICAgICAgICAgICAgICAgYXVkaW9fdXJsOiBhdWRpbzFVcmwsXG4gICAgICAgICAgICAgICAgLy8gICDpn7PpopHlsIHpnaLlnLDlnYBcbiAgICAgICAgICAgICAgICBpbWdfdXJsOiBpbWFnZTFVcmwsXG4gICAgICAgICAgICAgICAgLy8g5q2j5byP6Z+z6aKR5aSn5bCPXG4gICAgICAgICAgICAgICAgYXVkaW9fc2l6ZTpmaWxlQXVkaW8xU2l6ZSxcbiAgICAgICAgICAgICAgICAvL+mfs+mikeWQjVxuICAgICAgICAgICAgICAgIGZpbGVfbmFtZTogQXVkaW9OYW1lLFxuICAgICAgICAgICAgICAgIC8v5q2j5byP6Z+z6aKR5pe26ZW/XG4gICAgICAgICAgICAgICAgYXVkaW9fbGVuZ3RoOnJlc0F1ZGlvMUxlbmd0aCxcbiAgICAgICAgICAgICAgICAvL+mfs+mikeivpuaDhVxuICAgICAgICAgICAgICAgIGRlc2NyYjpkZXNjcmliLFxuICAgICAgICAgICAgICAgIC8v5Y6f5aeL5paH5pysXG4gICAgICAgICAgICAgICAgb3JnX2NvbnRlbnQ6b3JnQ29udGVudCxcbiAgICAgICAgICAgICAgICAvL+ivleWQrOmfs+mikeWcsOWdgFxuICAgICAgICAgICAgICAgIHRyeV9hdWRpb191cmw6YXVkaW8yVXJsLFxuICAgICAgICAgICAgICAgIC8v6K+V5ZCs6Z+z6aKR5pe26ZW/XG4gICAgICAgICAgICAgICAgdHJ5X2F1ZGlvX2xlbmd0aDpyZXNBdWRpbzJMZW5ndGgsXG4gICAgICAgICAgICAgICAgLy/or5XlkKzpn7PpopHlkI1cbiAgICAgICAgICAgICAgICB0cnlfZmlsZV9uYW1lOiB0cnlBdWRpb05hbWUsXG4gICAgICAgICAgICAgICAgLy8gICDml6Xnrb7lm77niYflnLDlnYBcbiAgICAgICAgICAgICAgICBzaWduX3VybDogaW1hZ2UyVXJsLFxuICAgICAgICAgICAgICAgIC8v5LuY6LS55Lu35qC8XG4gICAgICAgICAgICAgICAgcGllY2VfcHJpY2U6IHJlc1ByaXplLFxuICAgICAgICAgICAgICAgIC8v5LiK5p625pe26Ze0XG4gICAgICAgICAgICAgICAgc3RhcnRfYXQ6IHN0YXJ0QXQsXG4gICAgICAgICAgICAgICAgLy9pZFxuICAgICAgICAgICAgICAgIGlkOiBHZXRRdWVyeVN0cmluZygnaWQnKSB8fCBudWxsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvL+a2iOaBr+aOqOmAgVxuICAgICAgICAgICAgdmFyIHB1c2hTdGF0ZSA9ICQoJyNzZXJ2aWNlVG9nZ2xlIDpyYWRpbzpjaGVja2VkJykudmFsKCk7XG4gICAgICAgICAgICBpZihwdXNoU3RhdGUpey8v5aaC5p6c5pyJ5raI5oGv5o6o6YCB5p2D6ZmQXG4gICAgICAgICAgICAgICAgcmVzSW5mby5wdXNoX3N0YXRlID0gcHVzaFN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/mmK/lkKbku5jotLnvvIgx6KGo56S65YWN6LS577yMMuihqOekuuWNleeslO+8iVxuICAgICAgICAgICAgaWYocmVzb3VyY2VGcmVlKSB7XG4gICAgICAgICAgICAgICAgcmVzSW5mby5wYXltZW50X3R5cGUgPSByZXNvdXJjZUZyZWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzSW5mbyk7XG4gICAgICAgICAgICAvL+iOt+WPluihqOWNleS4reeahOaVsOaNrlxuXG4gICAgICAgICAgICBpZiAoY2hlY2tBdWRpb0Zvcm0ocmVzSW5mbykpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxsUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHJlc0luZm8sXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IHJlc291cmNlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkX2NoYW5uZWxfdHlwZTogdXBsb2FkQ2hhbm5lbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHBhY2thZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfcGFyYW1zOiByZXNvdXJjZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgcGFja2FnZV9uYW1lOiBwYWNrYWdlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcm9sZVBhcmFtczogcm9sZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlfdHlwZTpjbGFzc0FycmF5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzdWJtaXRGb3JtKGdvbGJhbFVybCxhbGxQYXJhbXMpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gbWFuYWdlQXVkaW87XG59KCk7Il19
