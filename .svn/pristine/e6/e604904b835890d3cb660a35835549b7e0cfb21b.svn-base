var categorySwitchFlag=0;var editState="";var sub_status=1;var msg_alert=1;var sub_per_num=1;$(document).ready(function(){categorySwitchFlag=$(".resource_category_data").data("resource_category");editState=$(".edit_state_data").data("edit_state");sub_status=$(".resource_subscribe").data("subscribe");msg_alert=$(".msg_alert_data").data("msg_alert");sub_per_num=$(".subscribe_per_num").data("per_num");$manageFunction.init()});$manageFunction={init:function(){if(categorySwitchFlag==1){$manageFunction.showCategory(1)}else{$manageFunction.hideCategory(1)}if(sub_status==0){$manageFunction.showCategory(2)}else{$manageFunction.hideCategory(2)}if(msg_alert==1){$manageFunction.showCategory(3)}else{$manageFunction.hideCategory(3)}if(sub_per_num==1){$manageFunction.showCategory(4)}else{$manageFunction.hideCategory(4)}if(editState=="finish_edit"){baseUtils.show.blueTip("分类导航编辑完成!")}$("#category_navigation_switch").click(function(){if(categorySwitchFlag==1){$.alert("关闭分类导航后，分类将会隐藏，所有内容均展示在首页","info",{btn:3,oktext:"确认关闭",onOk:function(){$.ajax("/category_switch",{type:"POST",dataType:"json",data:{type:0},success:function(e){if(e.ret==0){categorySwitchFlag=0;$manageFunction.hideCategory(1);baseUtils.show.blueTip("分类导航已隐藏！")}else{if(e.msg!=""&&e.msg!=undefined){baseUtils.show.redTip(e.msg)}else{baseUtils.show.redTip("关闭分类导航失败！")}}},error:function(e,s,t){hideLoading();$manageFunction.showCategory(1);console.error(t);baseUtils.show.redTip("网络错误，请稍后再试！")}})}})}else{showLoading();$.ajax("/category_switch",{type:"POST",dataType:"json",data:{type:1},success:function(e){hideLoading();if(e.ret==0){categorySwitchFlag=1;$.alert("已成功开启首页分类导航，您现在可以在编辑专栏时选择专栏的所属分类了","info",{btn:2});$manageFunction.showCategory(1)}else{if(e.msg!=""&&e.msg!=undefined){$.alert("您还未完成首页分类导航的编辑，暂时无法开启该功能","info",{btn:3,onOk:function(){window.location.href="/category_setting"}})}else{baseUtils.show.redTip("开启分类导航失败！")}}},error:function(e,s,t){hideLoading();console.error(t);baseUtils.show.redTip("网络错误，请稍后再试！")}})}});$(".function_edit").click(function(){window.location.href="/category_setting"});$("#subscribe_switch").on("click",function(){var e=$(".user_version_num").data("version_type");if(e&&e==3){if(sub_status==0){$.alert("关闭后用户将无法看到商品订阅数","error",{title:"提示",icon:"blue",btn:3,onOk:function(){$.ajax("/set_hid_sub",{type:"POST",dataType:"json",data:{status:0},success:function(e){console.log(e);if(e.code==0){baseUtils.show.blueTip("关闭成功！");$manageFunction.hideCategory(2);sub_status=1}else{baseUtils.show.redTip("关闭失败！");$manageFunction.showCategory(2)}},error:function(e,s,t){hideLoading();$manageFunction.showCategory(2);console.error(t);baseUtils.show.redTip("网络错误，请稍后再试！")}})}})}else if(sub_status==1){$.alert("开启后您的用户可以看到商品的订阅数","success",{title:"提示",icon:"blue",btn:3,onOk:function(){$.ajax("/set_hid_sub",{type:"POST",dataType:"json",data:{status:1},success:function(e){console.log(e);if(e.code==0){baseUtils.show.blueTip("开启成功！");$manageFunction.showCategory(2);sub_status=0}else{baseUtils.show.redTip("开启失败！");$manageFunction.hideCategory(2)}},error:function(e,s,t){hideLoading();$manageFunction.showCategory(2);console.error(t);baseUtils.show.redTip("网络错误，请稍后再试！")}})}})}}else{baseUtils.show.redTip("当前版本不支持订阅量展示控制功能，如需使用请升级至专业版")}});$("#msg_alert_switch").click(function(){$.ajax("/set_alert_message",{type:"POST",dataType:"json",data:{},success:function(e){if(e.code==0){if(msg_alert==1){baseUtils.show.blueTip("已关闭消息提醒");$manageFunction.hideCategory(3);msg_alert=0}else{baseUtils.show.blueTip("已开启消息提醒");$manageFunction.showCategory(3);msg_alert=1}}else{baseUtils.show.redTip("关闭失败，请稍后再试。")}},error:function(e,s,t){console.log(t);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})});$("#subscribe_per_num").on("click",function(){console.log("the test");var e=$(".user_version_num").data("version_type");if(e&&e==3){if(sub_per_num==1){$.alert("关闭后用户将无法看到商品的更新期数","error",{title:"提示",icon:"blue",btn:3,onOk:function(){$.ajax("/set_resource_count",{type:"POST",dataType:"json",data:{status:0},success:function(e){console.log(e);if(e.code==0){baseUtils.show.blueTip("关闭成功！");$manageFunction.hideCategory(4);sub_per_num=0}else{baseUtils.show.redTip("关闭失败！");$manageFunction.showCategory(4)}},error:function(e,s,t){hideLoading();$manageFunction.showCategory(4);console.error(t);baseUtils.show.redTip("网络错误，请稍后再试！")}})}})}else if(sub_per_num==0){$.alert("开启后您的用户可以看到商品的更新期数","success",{title:"提示",icon:"blue",btn:3,onOk:function(){$.ajax("/set_resource_count",{type:"POST",dataType:"json",data:{status:1},success:function(e){console.log(e);if(e.code==0){baseUtils.show.blueTip("开启成功！");$manageFunction.showCategory(4);sub_per_num=1}else{baseUtils.show.redTip("开启失败！");$manageFunction.hideCategory(4)}},error:function(e,s,t){hideLoading();$manageFunction.showCategory(4);console.error(t);baseUtils.show.redTip("网络错误，请稍后再试！")}})}})}}else{baseUtils.show.redTip("当前版本不支持更新期数展控制功能，如需使用请升级至专业版")}})},showCategory:function(e){var s,t,o,n;if(e==1){s=$(".nav_switch_btn");t=$(".nav_switch_icon");o=$(".nav_switch_desc");n="显示"}else if(e==2){s=$(".sub_switch_btn");t=$(".sub_switch_icon");o=$(".sub_switch_desc");n="开启"}else if(e==3){s=$(".msg_remind_switch_btn");t=$(".msg_remind_switch_icon");o=$(".msg_remind_switch_desc");n="开启"}else if(e==4){s=$(".sub_per_btn");t=$(".sub_per_icon");o=$(".sub_per_desc");n="开启"}s.removeClass("function_switch_off");s.removeClass("function_switch_on");s.addClass("function_switch_on");o.removeClass("function_switch_desc_off");o.removeClass("function_switch_desc_on");o.addClass("function_switch_desc_on");t.removeClass("switch_button_icon_off");t.removeClass("switch_button_icon_on");t.addClass("switch_button_icon_on");o.html(n)},hideCategory:function(e){var s,t,o,n;if(e==1){s=$(".nav_switch_btn");t=$(".nav_switch_icon");o=$(".nav_switch_desc");n="隐藏"}else if(e==2){s=$(".sub_switch_btn");t=$(".sub_switch_icon");o=$(".sub_switch_desc");n="关闭"}else if(e==3){s=$(".msg_remind_switch_btn");t=$(".msg_remind_switch_icon");o=$(".msg_remind_switch_desc");n="关闭"}else if(e==4){s=$(".sub_per_btn");t=$(".sub_per_icon");o=$(".sub_per_desc");n="关闭"}s.removeClass("function_switch_off");s.removeClass("function_switch_on");s.addClass("function_switch_off");o.removeClass("function_switch_desc_off");o.removeClass("function_switch_desc_on");o.addClass("function_switch_desc_off");t.removeClass("switch_button_icon_off");t.removeClass("switch_button_icon_on");t.addClass("switch_button_icon_off");o.html(n)}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hbmFnZUZ1bmN0aW9uLmpzIl0sIm5hbWVzIjpbImNhdGVnb3J5U3dpdGNoRmxhZyIsImVkaXRTdGF0ZSIsInN1Yl9zdGF0dXMiLCJtc2dfYWxlcnQiLCJzdWJfcGVyX251bSIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiZGF0YSIsIiRtYW5hZ2VGdW5jdGlvbiIsImluaXQiLCJzaG93Q2F0ZWdvcnkiLCJoaWRlQ2F0ZWdvcnkiLCJiYXNlVXRpbHMiLCJzaG93IiwiYmx1ZVRpcCIsImNsaWNrIiwiYWxlcnQiLCJidG4iLCJva3RleHQiLCJvbk9rIiwiYWpheCIsInR5cGUiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJyZXQiLCJtc2ciLCJ1bmRlZmluZWQiLCJyZWRUaXAiLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsImhpZGVMb2FkaW5nIiwiY29uc29sZSIsInNob3dMb2FkaW5nIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwib24iLCJ2ZXJzaW9uIiwidGl0bGUiLCJpY29uIiwibG9nIiwiY29kZSIsInJlc3VsdCIsInNfYnRuIiwic19pY29uIiwic19kZXNjIiwic2hvd1RleHQiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiaHRtbCJdLCJtYXBwaW5ncyI6IkFBS0EsR0FBSUEsb0JBQXFCLENBRXpCLElBQUlDLFdBQVksRUFFaEIsSUFBSUMsWUFBYSxDQUdqQixJQUFJQyxXQUFZLENBRWhCLElBQUlDLGFBQWMsQ0FFbEJDLEdBQUVDLFVBQVVDLE1BQU0sV0FDZFAsbUJBQXFCSyxFQUFFLDJCQUEyQkcsS0FBSyxvQkFDdkRQLFdBQVlJLEVBQUUsb0JBQW9CRyxLQUFLLGFBQ3ZDTixZQUFhRyxFQUFFLHVCQUF1QkcsS0FBSyxZQUMzQ0wsV0FBWUUsRUFBRSxtQkFBbUJHLEtBQUssWUFDdENKLGFBQWFDLEVBQUUsc0JBQXNCRyxLQUFLLFVBQzFDQyxpQkFBZ0JDLFFBSXBCRCxrQkFFSUMsS0FBTSxXQUdGLEdBQUlWLG9CQUFzQixFQUFHLENBQ3pCUyxnQkFBZ0JFLGFBQWEsT0FDMUIsQ0FDSEYsZ0JBQWdCRyxhQUFhLEdBR2pDLEdBQUlWLFlBQWMsRUFBRyxDQUNqQk8sZ0JBQWdCRSxhQUFhLE9BQzFCLENBQ0hGLGdCQUFnQkcsYUFBYSxHQUdqQyxHQUFJVCxXQUFhLEVBQUcsQ0FDaEJNLGdCQUFnQkUsYUFBYSxPQUMxQixDQUNIRixnQkFBZ0JHLGFBQWEsR0FFakMsR0FBSVIsYUFBZSxFQUFHLENBQ2xCSyxnQkFBZ0JFLGFBQWEsT0FDMUIsQ0FDSEYsZ0JBQWdCRyxhQUFhLEdBSWpDLEdBQUlYLFdBQWEsY0FBZSxDQUM1QlksVUFBVUMsS0FBS0MsUUFBUSxhQUkzQlYsRUFBRSwrQkFBK0JXLE1BQU0sV0FDbkMsR0FBSWhCLG9CQUFzQixFQUFHLENBQ3pCSyxFQUFFWSxNQUFNLDRCQUE2QixRQUNqQ0MsSUFBSyxFQUNMQyxPQUFRLE9BQ1JDLEtBQU0sV0FDRmYsRUFBRWdCLEtBQUssb0JBQ0hDLEtBQU0sT0FDTkMsU0FBVSxPQUNWZixNQUFPYyxLQUFNLEdBQ2JFLFFBQVMsU0FBVWhCLEdBQ2YsR0FBSUEsRUFBS2lCLEtBQU8sRUFBRyxDQUNmekIsbUJBQXFCLENBQ3JCUyxpQkFBZ0JHLGFBQWEsRUFDN0JDLFdBQVVDLEtBQUtDLFFBQVEsZ0JBQ3BCLENBQ0gsR0FBSVAsRUFBS2tCLEtBQU8sSUFBTWxCLEVBQUtrQixLQUFPQyxVQUFXLENBQ3pDZCxVQUFVQyxLQUFLYyxPQUFPcEIsRUFBS2tCLFNBQ3hCLENBQ0hiLFVBQVVDLEtBQUtjLE9BQU8sZ0JBSWxDQyxNQUFPLFNBQVVDLEVBQUtDLEVBQVFDLEdBQzFCQyxhQUNBeEIsaUJBQWdCRSxhQUFhLEVBQzdCdUIsU0FBUUwsTUFBTUcsRUFDZG5CLFdBQVVDLEtBQUtjLE9BQU8seUJBTW5DLENBQ0hPLGFBRUE5QixHQUFFZ0IsS0FBSyxvQkFDSEMsS0FBSyxPQUNMQyxTQUFTLE9BQ1RmLE1BQU1jLEtBQU0sR0FDWkUsUUFBUyxTQUFVaEIsR0FDZnlCLGFBRUEsSUFBSXpCLEVBQUtpQixLQUFPLEVBQUcsQ0FDZnpCLG1CQUFxQixDQUNyQkssR0FBRVksTUFBTSxvQ0FBcUMsUUFDekNDLElBQUssR0FFVFQsaUJBQWdCRSxhQUFhLE9BQzFCLENBQ0gsR0FBSUgsRUFBS2tCLEtBQU8sSUFBTWxCLEVBQUtrQixLQUFPQyxVQUFXLENBQ3pDdEIsRUFBRVksTUFBTSwyQkFBNEIsUUFDaENDLElBQUssRUFDTEUsS0FBTSxXQUNGZ0IsT0FBT0MsU0FBU0MsS0FBTywyQkFHNUIsQ0FDSHpCLFVBQVVDLEtBQUtjLE9BQU8sZ0JBSWxDQyxNQUFPLFNBQVVDLEVBQUtDLEVBQVFDLEdBQzFCQyxhQUNBQyxTQUFRTCxNQUFNRyxFQUNkbkIsV0FBVUMsS0FBS2MsT0FBTyxvQkFRdEN2QixHQUFFLGtCQUFrQlcsTUFBTSxXQUN0Qm9CLE9BQU9DLFNBQVNDLEtBQU8scUJBSTNCakMsR0FBRSxxQkFBcUJrQyxHQUFHLFFBQVEsV0FFOUIsR0FBSUMsR0FBUW5DLEVBQUUscUJBQXFCRyxLQUFLLGVBQ3hDLElBQUdnQyxHQUFXQSxHQUFTLEVBQUcsQ0FDdEIsR0FBSXRDLFlBQWMsRUFBRyxDQUNqQkcsRUFBRVksTUFBTSxrQkFBbUIsU0FDdkJ3QixNQUFPLEtBQ1BDLEtBQU0sT0FDTnhCLElBQUssRUFDTEUsS0FBTSxXQUNGZixFQUFFZ0IsS0FBSyxnQkFDSEMsS0FBTSxPQUNOQyxTQUFVLE9BQ1ZmLE1BQU91QixPQUFRLEdBQ2ZQLFFBQVMsU0FBVWhCLEdBQ2YwQixRQUFRUyxJQUFJbkMsRUFDWixJQUFJQSxFQUFLb0MsTUFBUSxFQUFHLENBQ2hCL0IsVUFBVUMsS0FBS0MsUUFBUSxRQUN2Qk4saUJBQWdCRyxhQUFhLEVBQzdCVixZQUFhLE1BQ1YsQ0FDSFcsVUFBVUMsS0FBS2MsT0FBTyxRQUN0Qm5CLGlCQUFnQkUsYUFBYSxLQUdyQ2tCLE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUJDLGFBQ0F4QixpQkFBZ0JFLGFBQWEsRUFDN0J1QixTQUFRTCxNQUFNRyxFQUNkbkIsV0FBVUMsS0FBS2MsT0FBTyx5QkFLbkMsSUFBSTFCLFlBQWMsRUFBRyxDQUN4QkcsRUFBRVksTUFBTSxvQkFBcUIsV0FDekJ3QixNQUFPLEtBQ1BDLEtBQU0sT0FDTnhCLElBQUssRUFDTEUsS0FBTSxXQUNGZixFQUFFZ0IsS0FBSyxnQkFDSEMsS0FBTSxPQUNOQyxTQUFVLE9BQ1ZmLE1BQU91QixPQUFRLEdBQ2ZQLFFBQVMsU0FBVWhCLEdBQ2YwQixRQUFRUyxJQUFJbkMsRUFDWixJQUFJQSxFQUFLb0MsTUFBUSxFQUFHLENBQ2hCL0IsVUFBVUMsS0FBS0MsUUFBUSxRQUN2Qk4saUJBQWdCRSxhQUFhLEVBQzdCVCxZQUFhLE1BQ1YsQ0FDSFcsVUFBVUMsS0FBS2MsT0FBTyxRQUN0Qm5CLGlCQUFnQkcsYUFBYSxLQUdyQ2lCLE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUJDLGFBQ0F4QixpQkFBZ0JFLGFBQWEsRUFDN0J1QixTQUFRTCxNQUFNRyxFQUNkbkIsV0FBVUMsS0FBS2MsT0FBTywwQkFNekMsQ0FDRGYsVUFBVUMsS0FBS2MsT0FBTyxrQ0FNOUJ2QixHQUFFLHFCQUFxQlcsTUFBTSxXQUN6QlgsRUFBRWdCLEtBQUssc0JBQ0hDLEtBQU0sT0FDTkMsU0FBVSxPQUNWZixRQUNBZ0IsUUFBUyxTQUFVcUIsR0FDZixHQUFJQSxFQUFPRCxNQUFRLEVBQUcsQ0FDbEIsR0FBSXpDLFdBQWEsRUFBRyxDQUNoQlUsVUFBVUMsS0FBS0MsUUFBUSxVQUN2Qk4saUJBQWdCRyxhQUFhLEVBQzdCVCxXQUFZLE1BRVQsQ0FDSFUsVUFBVUMsS0FBS0MsUUFBUSxVQUN2Qk4saUJBQWdCRSxhQUFhLEVBQzdCUixXQUFZLE9BRWIsQ0FDSFUsVUFBVUMsS0FBS2MsT0FBTyxpQkFHOUJDLE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUJFLFFBQVFTLElBQUlYLEVBQ1puQixXQUFVQyxLQUFLYyxPQUFPLHNCQU9sQ3ZCLEdBQUUsc0JBQXNCa0MsR0FBRyxRQUFRLFdBQy9CTCxRQUFRUyxJQUFJLFdBQ1osSUFBSUgsR0FBUW5DLEVBQUUscUJBQXFCRyxLQUFLLGVBQ3hDLElBQUdnQyxHQUFXQSxHQUFTLEVBQUcsQ0FDdEIsR0FBSXBDLGFBQWUsRUFBRyxDQUNsQkMsRUFBRVksTUFBTSxvQkFBcUIsU0FDekJ3QixNQUFPLEtBQ1BDLEtBQU0sT0FDTnhCLElBQUssRUFDTEUsS0FBTSxXQUNGZixFQUFFZ0IsS0FBSyx1QkFDSEMsS0FBTSxPQUNOQyxTQUFVLE9BQ1ZmLE1BQU91QixPQUFRLEdBQ2ZQLFFBQVMsU0FBVWhCLEdBQ2YwQixRQUFRUyxJQUFJbkMsRUFDWixJQUFJQSxFQUFLb0MsTUFBUSxFQUFHLENBQ2hCL0IsVUFBVUMsS0FBS0MsUUFBUSxRQUN2Qk4saUJBQWdCRyxhQUFhLEVBQzdCUixhQUFjLE1BQ1gsQ0FDSFMsVUFBVUMsS0FBS2MsT0FBTyxRQUN0Qm5CLGlCQUFnQkUsYUFBYSxLQUdyQ2tCLE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUJDLGFBQ0F4QixpQkFBZ0JFLGFBQWEsRUFDN0J1QixTQUFRTCxNQUFNRyxFQUNkbkIsV0FBVUMsS0FBS2MsT0FBTyx5QkFLbkMsSUFBSXhCLGFBQWUsRUFBRyxDQUN6QkMsRUFBRVksTUFBTSxxQkFBc0IsV0FDMUJ3QixNQUFPLEtBQ1BDLEtBQU0sT0FDTnhCLElBQUssRUFDTEUsS0FBTSxXQUNGZixFQUFFZ0IsS0FBSyx1QkFDSEMsS0FBTSxPQUNOQyxTQUFVLE9BQ1ZmLE1BQU91QixPQUFRLEdBQ2ZQLFFBQVMsU0FBVWhCLEdBQ2YwQixRQUFRUyxJQUFJbkMsRUFDWixJQUFJQSxFQUFLb0MsTUFBUSxFQUFHLENBQ2hCL0IsVUFBVUMsS0FBS0MsUUFBUSxRQUN2Qk4saUJBQWdCRSxhQUFhLEVBQzdCUCxhQUFjLE1BQ1gsQ0FDSFMsVUFBVUMsS0FBS2MsT0FBTyxRQUN0Qm5CLGlCQUFnQkcsYUFBYSxLQUdyQ2lCLE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUJDLGFBQ0F4QixpQkFBZ0JFLGFBQWEsRUFDN0J1QixTQUFRTCxNQUFNRyxFQUNkbkIsV0FBVUMsS0FBS2MsT0FBTywwQkFNekMsQ0FDRGYsVUFBVUMsS0FBS2MsT0FBTyxvQ0FPbENqQixhQUFjLFNBQVNvQixHQUNuQixHQUFJZSxHQUFNQyxFQUFPQyxFQUFRQyxDQUN6QixJQUFHbEIsR0FBUSxFQUFFLENBQ1RlLEVBQU16QyxFQUFFLGtCQUNSMEMsR0FBTzFDLEVBQUUsbUJBQ1QyQyxHQUFPM0MsRUFBRSxtQkFDVDRDLEdBQVcsU0FDVCxJQUFHbEIsR0FBUSxFQUFFLENBQ2ZlLEVBQU16QyxFQUFFLGtCQUNSMEMsR0FBTzFDLEVBQUUsbUJBQ1QyQyxHQUFPM0MsRUFBRSxtQkFDVDRDLEdBQVcsU0FDUixJQUFJbEIsR0FBVSxFQUFHLENBQ3BCZSxFQUFNekMsRUFBRSx5QkFDUjBDLEdBQU8xQyxFQUFFLDBCQUNUMkMsR0FBTzNDLEVBQUUsMEJBQ1Q0QyxHQUFXLFNBQ1QsSUFBR2xCLEdBQVUsRUFBRSxDQUNqQmUsRUFBTXpDLEVBQUUsZUFDUjBDLEdBQU8xQyxFQUFFLGdCQUNUMkMsR0FBTzNDLEVBQUUsZ0JBQ1Q0QyxHQUFXLEtBSWZILEVBQU1JLFlBQVksc0JBQ2xCSixHQUFNSSxZQUFZLHFCQUNsQkosR0FBTUssU0FBUyxxQkFDZkgsR0FBT0UsWUFBWSwyQkFDbkJGLEdBQU9FLFlBQVksMEJBQ25CRixHQUFPRyxTQUFTLDBCQUNoQkosR0FBT0csWUFBWSx5QkFDbkJILEdBQU9HLFlBQVksd0JBQ25CSCxHQUFPSSxTQUFTLHdCQUNoQkgsR0FBT0ksS0FBS0gsSUFJaEJyQyxhQUFjLFNBQVNtQixHQUNuQixHQUFJZSxHQUFNQyxFQUFPQyxFQUFRQyxDQUN6QixJQUFHbEIsR0FBUSxFQUFFLENBQ1RlLEVBQU16QyxFQUFFLGtCQUNSMEMsR0FBTzFDLEVBQUUsbUJBQ1QyQyxHQUFPM0MsRUFBRSxtQkFDVDRDLEdBQVcsU0FDVCxJQUFHbEIsR0FBUSxFQUFFLENBQ2ZlLEVBQU16QyxFQUFFLGtCQUNSMEMsR0FBTzFDLEVBQUUsbUJBQ1QyQyxHQUFPM0MsRUFBRSxtQkFDVDRDLEdBQVcsU0FDVCxJQUFJbEIsR0FBVSxFQUFHLENBQ25CZSxFQUFNekMsRUFBRSx5QkFDUjBDLEdBQU8xQyxFQUFFLDBCQUNUMkMsR0FBTzNDLEVBQUUsMEJBQ1Q0QyxHQUFXLFNBQ1QsSUFBR2xCLEdBQVUsRUFBRSxDQUNqQmUsRUFBTXpDLEVBQUUsZUFDUjBDLEdBQU8xQyxFQUFFLGdCQUNUMkMsR0FBTzNDLEVBQUUsZ0JBQ1Q0QyxHQUFXLEtBSWZILEVBQU1JLFlBQVksc0JBQ2xCSixHQUFNSSxZQUFZLHFCQUNsQkosR0FBTUssU0FBUyxzQkFDZkgsR0FBT0UsWUFBWSwyQkFDbkJGLEdBQU9FLFlBQVksMEJBQ25CRixHQUFPRyxTQUFTLDJCQUNoQkosR0FBT0csWUFBWSx5QkFDbkJILEdBQU9HLFlBQVksd0JBQ25CSCxHQUFPSSxTQUFTLHlCQUNoQkgsR0FBT0ksS0FBS0giLCJmaWxlIjoibWFuYWdlRnVuY3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBBZG1pbmlzdHJhdG9yIG9uIDIwMTcvMy8xMy5cclxuICovXHJcblxyXG4vLyAg5b2T5YmN5YiG57G75a+86Iiq5piv5ZCm5byA5ZCv6L2s5oCBXHJcbnZhciBjYXRlZ29yeVN3aXRjaEZsYWcgPSAwOyAgICAgLy8gIDEgPT4g5byA5ZCv77yMIDAgPT4g5YWz6ZetXHJcbi8vICDmmK/lkKbnvJbovpHmiJDlip/nirbmgIHlj5jph49cclxudmFyIGVkaXRTdGF0ZSA9IFwiXCI7XHJcbi8vICDlvZPliY3mmL7npLrorqLpmIXmlbDnirbmgIFcclxudmFyIHN1Yl9zdGF0dXMgPSAxOyAgICAgICAgICAgIC8vICAxID0+IOmakOiXj++8iOWFs+mXre+8ie+8jCAwID0+IOS4jemakOiXjyjlvIDlkK8pXHJcblxyXG4vL+a2iOaBr+aPkOmGkuW8gOWFs1xyXG52YXIgbXNnX2FsZXJ0ID0gMTsgICAgICAgICAgICAgIC8vICAwLeS4jeW8gOWQryAgMS3lvIDlkK8nLFxyXG4vL+aYvuekuuS4k+agj+acn+aVsFxyXG52YXIgc3ViX3Blcl9udW0gPSAxOyAgICAgICAgICAvLyAgMeW8gOWQryAgMOWFs+mXre+8m1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgY2F0ZWdvcnlTd2l0Y2hGbGFnID0gJChcIi5yZXNvdXJjZV9jYXRlZ29yeV9kYXRhXCIpLmRhdGEoXCJyZXNvdXJjZV9jYXRlZ29yeVwiKTtcclxuICAgIGVkaXRTdGF0ZSA9ICQoXCIuZWRpdF9zdGF0ZV9kYXRhXCIpLmRhdGEoXCJlZGl0X3N0YXRlXCIpO1xyXG4gICAgc3ViX3N0YXR1cyA9ICQoXCIucmVzb3VyY2Vfc3Vic2NyaWJlXCIpLmRhdGEoXCJzdWJzY3JpYmVcIik7XHJcbiAgICBtc2dfYWxlcnQgPSAkKFwiLm1zZ19hbGVydF9kYXRhXCIpLmRhdGEoXCJtc2dfYWxlcnRcIik7XHJcbiAgICBzdWJfcGVyX251bSA9JChcIi5zdWJzY3JpYmVfcGVyX251bVwiKS5kYXRhKFwicGVyX251bVwiKVxyXG4gICAgJG1hbmFnZUZ1bmN0aW9uLmluaXQoKTtcclxuXHJcbn0pO1xyXG5cclxuJG1hbmFnZUZ1bmN0aW9uID0ge1xyXG5cclxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy8gIOWIneWni+WMluWIhuexu+WvvOiIqui9rOaAgeW8gOWFs1xyXG4gICAgICAgIGlmIChjYXRlZ29yeVN3aXRjaEZsYWcgPT0gMSkgeyAgICAgICAgICAvL+W3sue7j+W8gOWQr+eKtuaAgVxyXG4gICAgICAgICAgICAkbWFuYWdlRnVuY3Rpb24uc2hvd0NhdGVnb3J5KDEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRtYW5hZ2VGdW5jdGlvbi5oaWRlQ2F0ZWdvcnkoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICDliJ3lp4vljJborqLpmIXmlbDlvIDlhbPnirbmgIFcclxuICAgICAgICBpZiAoc3ViX3N0YXR1cyA9PSAwKSB7ICAgICAgICAgIC8v5bey57uP6ZqQ6JeP54q25oCBXHJcbiAgICAgICAgICAgICRtYW5hZ2VGdW5jdGlvbi5zaG93Q2F0ZWdvcnkoMik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJG1hbmFnZUZ1bmN0aW9uLmhpZGVDYXRlZ29yeSgyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gIOWIneWni+WMlua2iOaBr+aPkOmGkuW8gOWFs1xyXG4gICAgICAgIGlmIChtc2dfYWxlcnQgPT0gMSkgeyAgICAgICAgICAgLy/lt7Lnu4/lvIDlkK/mtojmga/mj5DphpJcclxuICAgICAgICAgICAgJG1hbmFnZUZ1bmN0aW9uLnNob3dDYXRlZ29yeSgzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkbWFuYWdlRnVuY3Rpb24uaGlkZUNhdGVnb3J5KDMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3ViX3Blcl9udW0gPT0gMSkgeyAgICAgICAgICAgLy/lt7Lnu4/lvIDlkK/mnJ/mlbDmmL7npLrvvIjlhbfkvZPlvoXlrprvvIlcclxuICAgICAgICAgICAgJG1hbmFnZUZ1bmN0aW9uLnNob3dDYXRlZ29yeSg0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkbWFuYWdlRnVuY3Rpb24uaGlkZUNhdGVnb3J5KDQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gIOWIneWni+WMluaXtuafpeeci+aYr+WQpue8lui+keaIkOWKn1xyXG4gICAgICAgIGlmIChlZGl0U3RhdGUgPT0gXCJmaW5pc2hfZWRpdFwiKSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLliIbnsbvlr7zoiKrnvJbovpHlrozmiJAhXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gIOeCueWHu+WIh+aNouWIhuexu+WvvOiIquW8gOWFs1xyXG4gICAgICAgICQoXCIjY2F0ZWdvcnlfbmF2aWdhdGlvbl9zd2l0Y2hcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY2F0ZWdvcnlTd2l0Y2hGbGFnID09IDEpIHsgICAgICAvLyAg5YWz6Zet5YiG57G75a+86IiqXHJcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi5YWz6Zet5YiG57G75a+86Iiq5ZCO77yM5YiG57G75bCG5Lya6ZqQ6JeP77yM5omA5pyJ5YaF5a655Z2H5bGV56S65Zyo6aaW6aG1XCIsIFwiaW5mb1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG9rdGV4dDogXCLnoa7orqTlhbPpl61cIixcclxuICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheChcIi9jYXRlZ29yeV9zd2l0Y2hcIix7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHt0eXBlOiAwfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucmV0ID09IDApIHsgICAgICAgIC8vICDlhbPpl63liIbnsbvlr7zoiKrmiJDlip8gLSDmmL7npLrmj5DnpLpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlTd2l0Y2hGbGFnID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1hbmFnZUZ1bmN0aW9uLmhpZGVDYXRlZ29yeSgxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWIhuexu+WvvOiIquW3sumakOiXj++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5tc2cgIT0gXCJcIiAmJiBkYXRhLm1zZyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLlhbPpl63liIbnsbvlr7zoiKrlpLHotKXvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWFuYWdlRnVuY3Rpb24uc2hvd0NhdGVnb3J5KDEpOyAgICAgICAgIC8vICDlhbPpl63lpLHotKXvvIzlvIDlhbPmgaLlpI3kuLrmmL7npLpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAg5omT5byA5YiG57G75a+86IiqXHJcbiAgICAgICAgICAgICAgICBzaG93TG9hZGluZygpO1xyXG5cclxuICAgICAgICAgICAgICAgICQuYWpheCgnL2NhdGVnb3J5X3N3aXRjaCcse1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6XCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6XCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTp7dHlwZTogMX0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnJldCA9PSAwKSB7ICAgICAgICAvLyAg5byA5ZCv5YiG57G75a+86Iiq5oiQ5YqfIC0g5pi+56S65o+Q56S6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVN3aXRjaEZsYWcgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuW3suaIkOWKn+W8gOWQr+mmlumhteWIhuexu+WvvOiIqu+8jOaCqOeOsOWcqOWPr+S7peWcqOe8lui+keS4k+agj+aXtumAieaLqeS4k+agj+eahOaJgOWxnuWIhuexu+S6hlwiLCBcImluZm9cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1hbmFnZUZ1bmN0aW9uLnNob3dDYXRlZ29yeSgxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm1zZyAhPSBcIlwiICYmIGRhdGEubXNnICE9IHVuZGVmaW5lZCkgeyAgLy/lpLHotKXljp/lm6AgLSAtIOacquWujOaIkOWIhuexu+WvvOiIqueahOe8lui+kVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLmgqjov5jmnKrlrozmiJDpppbpobXliIbnsbvlr7zoiKrnmoTnvJbovpHvvIzmmoLml7bml6Dms5XlvIDlkK/or6Xlip/og71cIiwgXCJpbmZvXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7IC8v56uL5Y2z57yW6L6RXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvY2F0ZWdvcnlfc2V0dGluZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+Wksei0peWOn+WboCAtIC0g5YW25a6D6ZSZ6K+vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5byA5ZCv5YiG57G75a+86Iiq5aSx6LSl77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vICDpppbpobXliIbnsbvlr7zoiKogPiDnvJbovpHpobXpnaJcclxuICAgICAgICAkKFwiLmZ1bmN0aW9uX2VkaXRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2NhdGVnb3J5X3NldHRpbmdcIjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy/mmL7npLpvcumakOiXj+eUqOaIt+iuoumYheaVsFxyXG4gICAgICAgICQoXCIjc3Vic2NyaWJlX3N3aXRjaFwiKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGUgdGVzdCcpXHJcbiAgICAgICAgICAgIHZhciB2ZXJzaW9uPSQoXCIudXNlcl92ZXJzaW9uX251bVwiKS5kYXRhKFwidmVyc2lvbl90eXBlXCIpO1xyXG4gICAgICAgICAgICBpZih2ZXJzaW9uICYmIHZlcnNpb249PTMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdWJfc3RhdHVzID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi5YWz6Zet5ZCO55So5oi35bCG5peg5rOV55yL5Yiw5ZWG5ZOB6K6i6ZiF5pWwXCIsIFwiZXJyb3JcIiwgey8v6ZqQ6JeP6K6i6ZiF5pWw5pi+56S6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuaPkOekulwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnYmx1ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KFwiL3NldF9oaWRfc3ViXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge3N0YXR1czogMH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWFs+mXreaIkOWKn++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtYW5hZ2VGdW5jdGlvbi5oaWRlQ2F0ZWdvcnkoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJfc3RhdHVzID0gMTsvL+mBv+WFjeWIt+aWsOmhtemdouWkhOeQhlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5YWz6Zet5aSx6LSl77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1hbmFnZUZ1bmN0aW9uLnNob3dDYXRlZ29yeSgyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1hbmFnZUZ1bmN0aW9uLnNob3dDYXRlZ29yeSgyKTsgICAgICAgICAvLyAg5YWz6Zet5aSx6LSl77yM5byA5YWz5oGi5aSN5Li65pi+56S6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJfc3RhdHVzID09IDEpIHsvL+W8gOWQr+iuoumYheaVsOaYvuekulxyXG4gICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLlvIDlkK/lkI7mgqjnmoTnlKjmiLflj6/ku6XnnIvliLDllYblk4HnmoTorqLpmIXmlbBcIiwgXCJzdWNjZXNzXCIsIHsvL+makOiXj+iuoumYheaVsOaYvuekulxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCLmj5DnpLpcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2JsdWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG46IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheChcIi9zZXRfaGlkX3N1YlwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtzdGF0dXM6IDF9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlvIDlkK/miJDlip/vvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWFuYWdlRnVuY3Rpb24uc2hvd0NhdGVnb3J5KDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViX3N0YXR1cyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLlvIDlkK/lpLHotKXvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWFuYWdlRnVuY3Rpb24uaGlkZUNhdGVnb3J5KDIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWFuYWdlRnVuY3Rpb24uc2hvd0NhdGVnb3J5KDIpOyAgICAgICAgIC8vICDlvIDlkK/lpLHotKXvvIzlvIDlhbPmgaLlpI3kuLrmmL7npLpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5b2T5YmN54mI5pys5LiN5pSv5oyB6K6i6ZiF6YeP5bGV56S65o6n5Yi25Yqf6IO977yM5aaC6ZyA5L2/55So6K+35Y2H57qn6Iez5LiT5Lia54mIXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvL+a2iOaBr+aPkOmGkuW8gOWFs1xyXG4gICAgICAgICQoXCIjbXNnX2FsZXJ0X3N3aXRjaFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQuYWpheChcIi9zZXRfYWxlcnRfbWVzc2FnZVwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2dfYWxlcnQgPT0gMSkgeyAgICAgICAvL+W9k+WJjeeKtuaAgSAtIOW8gOWQr1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuW3suWFs+mXrea2iOaBr+aPkOmGklwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtYW5hZ2VGdW5jdGlvbi5oaWRlQ2F0ZWdvcnkoMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2dfYWxlcnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlt7LlvIDlkK/mtojmga/mj5DphpJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWFuYWdlRnVuY3Rpb24uc2hvd0NhdGVnb3J5KDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnX2FsZXJ0ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWFs+mXreWksei0pe+8jOivt+eojeWQjuWGjeivleOAglwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmnI3liqHlmajlh7rlsI/lt67kuobvvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy/mmL7npLpvcumakOiXj+S4k+agj+S8muWRmOacn+aVsFxyXG4gICAgICAgICQoXCIjc3Vic2NyaWJlX3Blcl9udW1cIikub24oJ2NsaWNrJyxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGhlIHRlc3QnKVxyXG4gICAgICAgICAgICB2YXIgdmVyc2lvbj0kKFwiLnVzZXJfdmVyc2lvbl9udW1cIikuZGF0YShcInZlcnNpb25fdHlwZVwiKTtcclxuICAgICAgICAgICAgaWYodmVyc2lvbiAmJiB2ZXJzaW9uPT0zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ViX3Blcl9udW0gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLlhbPpl63lkI7nlKjmiLflsIbml6Dms5XnnIvliLDllYblk4HnmoTmm7TmlrDmnJ/mlbBcIiwgXCJlcnJvclwiLCB7Ly/pmpDol4/orqLpmIXmlbDmmL7npLpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi5o+Q56S6XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdibHVlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoXCIvc2V0X3Jlc291cmNlX2NvdW50XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge3N0YXR1czogMH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWFs+mXreaIkOWKn++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtYW5hZ2VGdW5jdGlvbi5oaWRlQ2F0ZWdvcnkoNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJfcGVyX251bSA9IDA7Ly/pgb/lhY3liLfmlrDpobXpnaLlpITnkIZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWFs+mXreWksei0pe+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtYW5hZ2VGdW5jdGlvbi5zaG93Q2F0ZWdvcnkoNClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtYW5hZ2VGdW5jdGlvbi5zaG93Q2F0ZWdvcnkoNCk7ICAgICAgICAgLy8gIOWFs+mXreWksei0pe+8jOW8gOWFs+aBouWkjeS4uuaYvuekulxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3ViX3Blcl9udW0gPT0gMCkgey8v5byA5ZCv6K6i6ZiF5pWw5pi+56S6XHJcbiAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuW8gOWQr+WQjuaCqOeahOeUqOaIt+WPr+S7peeci+WIsOWVhuWTgeeahOabtOaWsOacn+aVsFwiLCBcInN1Y2Nlc3NcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCLmj5DnpLpcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2JsdWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG46IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheChcIi9zZXRfcmVzb3VyY2VfY291bnRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7c3RhdHVzOiAxfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5byA5ZCv5oiQ5Yqf77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1hbmFnZUZ1bmN0aW9uLnNob3dDYXRlZ29yeSg0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yl9wZXJfbnVtID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuW8gOWQr+Wksei0pe+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtYW5hZ2VGdW5jdGlvbi5oaWRlQ2F0ZWdvcnkoNClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtYW5hZ2VGdW5jdGlvbi5zaG93Q2F0ZWdvcnkoNCk7ICAgICAgICAgLy8gIOW8gOWQr+Wksei0pe+8jOW8gOWFs+aBouWkjeS4uuaYvuekulxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLlvZPliY3niYjmnKzkuI3mlK/mjIHmm7TmlrDmnJ/mlbDlsZXmjqfliLblip/og73vvIzlpoLpnIDkvb/nlKjor7fljYfnuqfoh7PkuJPkuJrniYhcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8vICDmmL7npLrliIbnsbvlr7zoiKos6K6i6ZiF5pWw5qC35byP5o6n5Yi25pa55rOVXHJcbiAgICBzaG93Q2F0ZWdvcnk6IGZ1bmN0aW9uKHN0YXR1cykge1xyXG4gICAgICAgIHZhciBzX2J0bixzX2ljb24sc19kZXNjLCBzaG93VGV4dDtcclxuICAgICAgICBpZihzdGF0dXM9PTEpey8v5b2T5oyJ6ZKu5Li65pi+56S66aaW6aG15YiG6aG15a+86Iiq5pe2XHJcbiAgICAgICAgICAgIHNfYnRuPSQoXCIubmF2X3N3aXRjaF9idG5cIik7XHJcbiAgICAgICAgICAgIHNfaWNvbj0kKFwiLm5hdl9zd2l0Y2hfaWNvblwiKTtcclxuICAgICAgICAgICAgc19kZXNjPSQoXCIubmF2X3N3aXRjaF9kZXNjXCIpO1xyXG4gICAgICAgICAgICBzaG93VGV4dCA9IFwi5pi+56S6XCI7XHJcbiAgICAgICAgfWVsc2UgaWYoc3RhdHVzPT0yKXsvL+W9k+aMiemSruS4uuaYvuekuueUqOaIt+iuoumYheaVsOaXtlxyXG4gICAgICAgICAgICBzX2J0bj0kKFwiLnN1Yl9zd2l0Y2hfYnRuXCIpO1xyXG4gICAgICAgICAgICBzX2ljb249JChcIi5zdWJfc3dpdGNoX2ljb25cIik7XHJcbiAgICAgICAgICAgIHNfZGVzYz0kKFwiLnN1Yl9zd2l0Y2hfZGVzY1wiKTtcclxuICAgICAgICAgICAgc2hvd1RleHQgPSBcIuW8gOWQr1wiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09IDMpIHtcclxuICAgICAgICAgICAgc19idG49JChcIi5tc2dfcmVtaW5kX3N3aXRjaF9idG5cIik7XHJcbiAgICAgICAgICAgIHNfaWNvbj0kKFwiLm1zZ19yZW1pbmRfc3dpdGNoX2ljb25cIik7XHJcbiAgICAgICAgICAgIHNfZGVzYz0kKFwiLm1zZ19yZW1pbmRfc3dpdGNoX2Rlc2NcIik7XHJcbiAgICAgICAgICAgIHNob3dUZXh0ID0gXCLlvIDlkK9cIjtcclxuICAgICAgICB9ZWxzZSBpZihzdGF0dXMgPT0gNCl7XHJcbiAgICAgICAgICAgIHNfYnRuPSQoXCIuc3ViX3Blcl9idG5cIik7XHJcbiAgICAgICAgICAgIHNfaWNvbj0kKFwiLnN1Yl9wZXJfaWNvblwiKTtcclxuICAgICAgICAgICAgc19kZXNjPSQoXCIuc3ViX3Blcl9kZXNjXCIpO1xyXG4gICAgICAgICAgICBzaG93VGV4dCA9IFwi5byA5ZCvXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+aJk+W8gOW8gOWFs+agt+W8j1xyXG4gICAgICAgIHNfYnRuLnJlbW92ZUNsYXNzKFwiZnVuY3Rpb25fc3dpdGNoX29mZlwiKTtcclxuICAgICAgICBzX2J0bi5yZW1vdmVDbGFzcyhcImZ1bmN0aW9uX3N3aXRjaF9vblwiKTtcclxuICAgICAgICBzX2J0bi5hZGRDbGFzcyhcImZ1bmN0aW9uX3N3aXRjaF9vblwiKTtcclxuICAgICAgICBzX2Rlc2MucmVtb3ZlQ2xhc3MoXCJmdW5jdGlvbl9zd2l0Y2hfZGVzY19vZmZcIik7XHJcbiAgICAgICAgc19kZXNjLnJlbW92ZUNsYXNzKFwiZnVuY3Rpb25fc3dpdGNoX2Rlc2Nfb25cIik7XHJcbiAgICAgICAgc19kZXNjLmFkZENsYXNzKFwiZnVuY3Rpb25fc3dpdGNoX2Rlc2Nfb25cIik7XHJcbiAgICAgICAgc19pY29uLnJlbW92ZUNsYXNzKFwic3dpdGNoX2J1dHRvbl9pY29uX29mZlwiKTtcclxuICAgICAgICBzX2ljb24ucmVtb3ZlQ2xhc3MoXCJzd2l0Y2hfYnV0dG9uX2ljb25fb25cIik7XHJcbiAgICAgICAgc19pY29uLmFkZENsYXNzKFwic3dpdGNoX2J1dHRvbl9pY29uX29uXCIpO1xyXG4gICAgICAgIHNfZGVzYy5odG1sKHNob3dUZXh0KTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gIOmakOiXj+WIhuexu+WvvOiIqu+8jOiuoumYheaVsOagt+W8j+aOp+WItuaWueazlVxyXG4gICAgaGlkZUNhdGVnb3J5OiBmdW5jdGlvbihzdGF0dXMpIHtcclxuICAgICAgICB2YXIgc19idG4sc19pY29uLHNfZGVzYywgc2hvd1RleHQ7XHJcbiAgICAgICAgaWYoc3RhdHVzPT0xKXsvL+W9k+aMiemSruS4uuaYvuekuummlumhteWIhumhteWvvOiIquaXtlxyXG4gICAgICAgICAgICBzX2J0bj0kKFwiLm5hdl9zd2l0Y2hfYnRuXCIpO1xyXG4gICAgICAgICAgICBzX2ljb249JChcIi5uYXZfc3dpdGNoX2ljb25cIik7XHJcbiAgICAgICAgICAgIHNfZGVzYz0kKFwiLm5hdl9zd2l0Y2hfZGVzY1wiKTtcclxuICAgICAgICAgICAgc2hvd1RleHQgPSBcIumakOiXj1wiO1xyXG4gICAgICAgIH1lbHNlIGlmKHN0YXR1cz09Mil7Ly/lvZPmjInpkq7kuLrmmL7npLrnlKjmiLforqLpmIXmlbDml7ZcclxuICAgICAgICAgICAgc19idG49JChcIi5zdWJfc3dpdGNoX2J0blwiKTtcclxuICAgICAgICAgICAgc19pY29uPSQoXCIuc3ViX3N3aXRjaF9pY29uXCIpO1xyXG4gICAgICAgICAgICBzX2Rlc2M9JChcIi5zdWJfc3dpdGNoX2Rlc2NcIik7XHJcbiAgICAgICAgICAgIHNob3dUZXh0ID0gXCLlhbPpl61cIjtcclxuICAgICAgICB9ZWxzZSBpZiAoc3RhdHVzID09IDMpIHtcclxuICAgICAgICAgICAgc19idG49JChcIi5tc2dfcmVtaW5kX3N3aXRjaF9idG5cIik7XHJcbiAgICAgICAgICAgIHNfaWNvbj0kKFwiLm1zZ19yZW1pbmRfc3dpdGNoX2ljb25cIik7XHJcbiAgICAgICAgICAgIHNfZGVzYz0kKFwiLm1zZ19yZW1pbmRfc3dpdGNoX2Rlc2NcIik7XHJcbiAgICAgICAgICAgIHNob3dUZXh0ID0gXCLlhbPpl61cIjtcclxuICAgICAgICB9ZWxzZSBpZihzdGF0dXMgPT0gNCl7XHJcbiAgICAgICAgICAgIHNfYnRuPSQoXCIuc3ViX3Blcl9idG5cIik7XHJcbiAgICAgICAgICAgIHNfaWNvbj0kKFwiLnN1Yl9wZXJfaWNvblwiKTtcclxuICAgICAgICAgICAgc19kZXNjPSQoXCIuc3ViX3Blcl9kZXNjXCIpO1xyXG4gICAgICAgICAgICBzaG93VGV4dCA9IFwi5YWz6ZetXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDlhbPpl63lvIDlhbPmoLflvI9cclxuICAgICAgICBzX2J0bi5yZW1vdmVDbGFzcyhcImZ1bmN0aW9uX3N3aXRjaF9vZmZcIik7XHJcbiAgICAgICAgc19idG4ucmVtb3ZlQ2xhc3MoXCJmdW5jdGlvbl9zd2l0Y2hfb25cIik7XHJcbiAgICAgICAgc19idG4uYWRkQ2xhc3MoXCJmdW5jdGlvbl9zd2l0Y2hfb2ZmXCIpO1xyXG4gICAgICAgIHNfZGVzYy5yZW1vdmVDbGFzcyhcImZ1bmN0aW9uX3N3aXRjaF9kZXNjX29mZlwiKTtcclxuICAgICAgICBzX2Rlc2MucmVtb3ZlQ2xhc3MoXCJmdW5jdGlvbl9zd2l0Y2hfZGVzY19vblwiKTtcclxuICAgICAgICBzX2Rlc2MuYWRkQ2xhc3MoXCJmdW5jdGlvbl9zd2l0Y2hfZGVzY19vZmZcIik7XHJcbiAgICAgICAgc19pY29uLnJlbW92ZUNsYXNzKFwic3dpdGNoX2J1dHRvbl9pY29uX29mZlwiKTtcclxuICAgICAgICBzX2ljb24ucmVtb3ZlQ2xhc3MoXCJzd2l0Y2hfYnV0dG9uX2ljb25fb25cIik7XHJcbiAgICAgICAgc19pY29uLmFkZENsYXNzKFwic3dpdGNoX2J1dHRvbl9pY29uX29mZlwiKTtcclxuICAgICAgICBzX2Rlc2MuaHRtbChzaG93VGV4dCk7XHJcbiAgICB9LFxyXG5cclxufTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==
