var search_content;var order_attr;var generate_type;var timeRange={start:"",end:""};$(document).ready(function(){reBack();setTopUrlCookie("payadmin_listop","财务管理");keyEnter($("#pay_search_btn"));$("select[name=generate_type]").on("change",function(){$("#pay_search_btn").click()});$(".datetimepicker-months").find(".month").click(function(){return false});$("#export_time").on("click",function(){if($(".datetimepicker-days").css("display")=="block"){$(".datetimepicker-days").find(".switch").trigger("click")}if($(".datetimepicker").css("display")=="block"){}});var e=new pickerDateRange("SelectData",{isTodayValid:true,defaultText:" ~ ",inputTrigger:"optional",theme:"ta",success:function(e){timeRange={start:e.startDate,end:e.endDate};updateTime(timeRange)}});$("#SelectRange").on("click","li",function(e){var t=$(this),a=t.data("type"),i=t.text();if(a=="all"){timeRange={start:"",end:""}}else if(a=="nowMonth"){timeRange={start:getNowMonth(),end:getNowDay()}}updateTime(timeRange)});$("#optional").click(function(){$("#dropdown-toggle").dropdown("toggle")});$("#SelectData").off("click").text("全部记录");updateTime(timeRange)});function updateTime(e){$("#startTime").val(e.start);$("#endTime").val(e.end);if(e.start&&e.start!="2016"){$("#SelectData").text(e.start+" ~ "+e.end)}else{$("#SelectData").text("全部记录")}}function reBack(){var e=GetQueryString("start_time"),t=GetQueryString("end_time");timeRange={start:e||"",end:t||""}}function deletePurchase(e,t,a,i,o){$.alert("仅删除记录，不会自动退款，您确定要删除吗?","info",{btn:3,onOk:function(){deletePurchaser(e,t,a,i,o)}})}function deletePurchaser(e,t,a,i,o){showLoading();var r={};r["user_id"]=e;r["payment_type"]=t;r["resource_type"]=a;r["product_id"]=i;r["resource_id"]=o;$.post("/delete_purchase",r,function(e){hideLoading();var t=e.code;var a=e.msg;if(t==0){baseUtils.show.blueTip(a,function(){window.location.reload()},1500)}else{baseUtils.show.redTip(a)}})}function jumpDetail(e){resetUrl("/customerdetail?userId="+e)}function exportOrderRecords(){$("#ExportModal").modal("show")}function exportorderToExcel(){showLoading();var e=$("#export_time").val();var t={};t["export_time"]=e;if(e!=""){var a="/export_order_excel?export_time="+e;window.location.href=a;hideLoading();$("#ExportModal").modal("hide")}else{baseUtils.show.redTip("请检查时间选择是否正确")}}function exportRecords(){$("#ExportModal").modal("show")}function exportToExcel(){showLoading();var e=$("#export_time").val();var t=null;var a=0;var i=$("[name='selectOffice']");if(i){for(var o=0;o<i.length;o++){if(i[o].checked){t=i[o].value;if(t==1){a=2003}}}}var r={};r["export_time"]=e;if(e!=""){var n="/excel/purchase?export_time="+e+"&&version="+a;window.location.href=n;hideLoading();$("#ExportModal").modal("hide")}else{baseUtils.show.redTip("请检查时间选择是否正确")}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL3BheUFkbWluLmpzIl0sIm5hbWVzIjpbInNlYXJjaF9jb250ZW50Iiwib3JkZXJfYXR0ciIsImdlbmVyYXRlX3R5cGUiLCJ0aW1lUmFuZ2UiLCJzdGFydCIsImVuZCIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwicmVCYWNrIiwic2V0VG9wVXJsQ29va2llIiwia2V5RW50ZXIiLCJvbiIsImNsaWNrIiwiZmluZCIsImNzcyIsInRyaWdnZXIiLCJkYXRhUmFuZ2VJbnN0YW5jZSIsInBpY2tlckRhdGVSYW5nZSIsImlzVG9kYXlWYWxpZCIsImRlZmF1bHRUZXh0IiwiaW5wdXRUcmlnZ2VyIiwidGhlbWUiLCJzdWNjZXNzIiwib2JqIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInVwZGF0ZVRpbWUiLCJlIiwiZWxlIiwidGhpcyIsInR5cGUiLCJkYXRhIiwidGV4dCIsImdldE5vd01vbnRoIiwiZ2V0Tm93RGF5IiwiZHJvcGRvd24iLCJvZmYiLCJ0aW1lIiwidmFsIiwic3RhcnRUaW1lIiwiR2V0UXVlcnlTdHJpbmciLCJlbmRUaW1lIiwiZGVsZXRlUHVyY2hhc2UiLCJ1c2VyX2lkIiwicGF5bWVudF90eXBlIiwicmVzb3VyY2VfdHlwZSIsInByb2R1Y3RfaWQiLCJyZXNvdXJjZV9pZCIsImFsZXJ0IiwiYnRuIiwib25PayIsImRlbGV0ZVB1cmNoYXNlciIsInNob3dMb2FkaW5nIiwiYWxsUGFyYW1zIiwicG9zdCIsInJlc3VsdCIsImhpZGVMb2FkaW5nIiwiY29kZSIsIm1zZyIsImJhc2VVdGlscyIsInNob3ciLCJibHVlVGlwIiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJyZWRUaXAiLCJqdW1wRGV0YWlsIiwiaW5mbyIsInJlc2V0VXJsIiwiZXhwb3J0T3JkZXJSZWNvcmRzIiwibW9kYWwiLCJleHBvcnRvcmRlclRvRXhjZWwiLCJleHBvcnRfdGltZSIsIlBhcmFtcyIsInVybCIsImhyZWYiLCJleHBvcnRSZWNvcmRzIiwiZXhwb3J0VG9F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NUIsUUFBU0Msc0JBQ0xuQixhQUNBLElBQUlvQixHQUFjbkUsRUFBRSxnQkFBZ0JpQyxLQUdwQyxJQUFJbUMsS0FDSkEsR0FBTyxlQUFpQkQsQ0FNeEIsSUFBR0EsR0FBZSxHQUFHLENBRWpCLEdBQUlFLEdBQU0sbUNBQW1DRixDQUM3Q1YsUUFBT0MsU0FBU1ksS0FBT0QsQ0FDdkJsQixjQUNBbkQsR0FBRSxnQkFBZ0JpRSxNQUFNLFlBQ3ZCLENBQ0RYLFVBQVVDLEtBQUtLLE9BQU8sZ0JBTTlCLFFBQVNXLGlCQUNMdkUsRUFBRSxnQkFBZ0JpRSxNQUFNLFFBUTVCLFFBQVNPLGlCQUNMekIsYUFDQSxJQUFJb0IsR0FBY25FLEVBQUUsZ0JBQWdCaUMsS0FHcEMsSUFBSXdDLEdBQVEsSUFDWixJQUFJQyxHQUFXLENBQ2YsSUFBSXhELEdBQUlsQixFQUFFLHdCQUNWLElBQUdrQixFQUFJLENBQ0gsSUFBSyxHQUFJeUQsR0FBRSxFQUFFQSxFQUFFekQsRUFBSTBELE9BQU9ELElBQUksQ0FDMUIsR0FBR3pELEVBQUl5RCxHQUFHRSxRQUFRLENBQ2RKLEVBQVF2RCxFQUFJeUQsR0FBR0csS0FDWCxJQUFHTCxHQUFTLEVBQUUsQ0FDVkMsRUFBVyxRQU0vQixHQUFJTixLQUNKQSxHQUFPLGVBQWlCRCxDQU14QixJQUFHQSxHQUFlLEdBQUcsQ0FHakIsR0FBSUUsR0FBTSwrQkFBK0JGLEVBQVksYUFBYU8sQ0FDbEVqQixRQUFPQyxTQUFTWSxLQUFPRCxDQUN2QmxCLGNBQ0FuRCxHQUFFLGdCQUFnQmlFLE1BQU0sWUFDdkIsQ0FDRFgsVUFBVUMsS0FBS0ssT0FBTyIsImZpbGUiOiJhZG1pbi9wYXlBZG1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG52YXIgc2VhcmNoX2NvbnRlbnQ7XHJcbnZhciBvcmRlcl9hdHRyO1xyXG52YXIgZ2VuZXJhdGVfdHlwZTtcclxudmFyIHRpbWVSYW5nZSA9IHtcclxuICAgIHN0YXJ0OiAnJyxcclxuICAgIGVuZDogJydcclxufVxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAvL+etm+mAieWPguaVsOeahOWbnuaYvlxyXG4gICAgcmVCYWNrKCk7XHJcblxyXG5cclxuICAgIHNldFRvcFVybENvb2tpZSgncGF5YWRtaW5fbGlzdG9wJywn6LSi5Yqh566h55CGJyk7XHJcbiAgICBrZXlFbnRlcigkKCcjcGF5X3NlYXJjaF9idG4nKSk7XHJcblxyXG4gICAgJChcInNlbGVjdFtuYW1lPWdlbmVyYXRlX3R5cGVdXCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiI3BheV9zZWFyY2hfYnRuXCIpLmNsaWNrKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgJCgnLmRhdGV0aW1lcGlja2VyLW1vbnRocycpLmZpbmQoJy5tb250aCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcjZXhwb3J0X3RpbWUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYoJCgnLmRhdGV0aW1lcGlja2VyLWRheXMnKS5jc3MoJ2Rpc3BsYXknKT09J2Jsb2NrJyl7XHJcbiAgICAgICAgICAgICQoJy5kYXRldGltZXBpY2tlci1kYXlzJykuZmluZCgnLnN3aXRjaCcpLnRyaWdnZXIoXCJjbGlja1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCQoJy5kYXRldGltZXBpY2tlcicpLmNzcygnZGlzcGxheScpPT0nYmxvY2snKXtcclxuICAgICAgICAgICAgLy9hbGVydCgnb2shIScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgdmFyIGRhdGFSYW5nZUluc3RhbmNlID0gbmV3IHBpY2tlckRhdGVSYW5nZSgnU2VsZWN0RGF0YScsIHsgLy/liJ3lp4vljJbml7bpl7Tmj5Lku7ZcclxuICAgICAgICBpc1RvZGF5VmFsaWQgOiB0cnVlLFxyXG4gICAgICAgIGRlZmF1bHRUZXh0IDogJyB+ICcsXHJcbiAgICAgICAgaW5wdXRUcmlnZ2VyIDogJ29wdGlvbmFsJyxcclxuICAgICAgICB0aGVtZSA6ICd0YScsXHJcbiAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICB0aW1lUmFuZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogb2JqLnN0YXJ0RGF0ZSxcclxuICAgICAgICAgICAgICAgIGVuZDogb2JqLmVuZERhdGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1cGRhdGVUaW1lKHRpbWVSYW5nZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKCcjU2VsZWN0UmFuZ2UnKS5vbignY2xpY2snLCAnbGknLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIGVsZSA9ICQodGhpcyksXHJcbiAgICAgICAgICAgIHR5cGUgPSBlbGUuZGF0YSgndHlwZScpLFxyXG4gICAgICAgICAgICB0ZXh0ID0gZWxlLnRleHQoKTtcclxuICAgICAgICBpZih0eXBlID09ICdhbGwnKSB7XHJcbiAgICAgICAgICAgIHRpbWVSYW5nZSA9IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiAnJyxcclxuICAgICAgICAgICAgICAgIGVuZDogJydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2UgaWYodHlwZSA9PSAnbm93TW9udGgnKSB7XHJcbiAgICAgICAgICAgIHRpbWVSYW5nZSA9IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiBnZXROb3dNb250aCgpLFxyXG4gICAgICAgICAgICAgICAgZW5kOiBnZXROb3dEYXkoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB1cGRhdGVUaW1lKHRpbWVSYW5nZSk7XHJcbiAgICB9KTtcclxuICAgICQoJyNvcHRpb25hbCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJyNkcm9wZG93bi10b2dnbGUnKS5kcm9wZG93bigndG9nZ2xlJyk7XHJcbiAgICB9KTtcclxuICAgICQoJyNTZWxlY3REYXRhJykub2ZmKCdjbGljaycpLnRleHQoJ+WFqOmDqOiusOW9lScpOyAgLy/orr7nva7lvIDlp4vnu5PmnZ/ml7bpl7RcclxuXHJcblxyXG5cclxuICAgIHVwZGF0ZVRpbWUodGltZVJhbmdlKTtcclxuXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlVGltZSAodGltZSkge1xyXG4gICAgJCgnI3N0YXJ0VGltZScpLnZhbCh0aW1lLnN0YXJ0KTtcclxuICAgICQoJyNlbmRUaW1lJykudmFsKHRpbWUuZW5kKTtcclxuICAgIGlmKHRpbWUuc3RhcnQgJiYgdGltZS5zdGFydCE9JzIwMTYnKXtcclxuICAgICAgICAkKCcjU2VsZWN0RGF0YScpLnRleHQodGltZS5zdGFydCArICcgfiAnICsgdGltZS5lbmQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKCcjU2VsZWN0RGF0YScpLnRleHQoJ+WFqOmDqOiusOW9lScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy/lm57mmL7ml7bpl7TpgInmi6nlmajnmoTlgLxcclxuZnVuY3Rpb24gcmVCYWNrKCl7XHJcblxyXG4gICAgdmFyIHN0YXJ0VGltZSA9IEdldFF1ZXJ5U3RyaW5nKCdzdGFydF90aW1lJyksXHJcbiAgICAgICAgZW5kVGltZSA9IEdldFF1ZXJ5U3RyaW5nKCdlbmRfdGltZScpO1xyXG5cclxuICAgIHRpbWVSYW5nZSA9IHtcclxuICAgICAgICBzdGFydDogc3RhcnRUaW1lIHx8ICcnLFxyXG4gICAgICAgIGVuZDogZW5kVGltZSB8fCAnJ1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8v5Yig6Zmk6K6i5Y2VXHJcbmZ1bmN0aW9uIGRlbGV0ZVB1cmNoYXNlKHVzZXJfaWQscGF5bWVudF90eXBlLHJlc291cmNlX3R5cGUscHJvZHVjdF9pZCxyZXNvdXJjZV9pZCl7XHJcbiAgICAkLmFsZXJ0KFwi5LuF5Yig6Zmk6K6w5b2V77yM5LiN5Lya6Ieq5Yqo6YCA5qy+77yM5oKo56Gu5a6a6KaB5Yig6Zmk5ZCXP1wiLCBcImluZm9cIiwge1xyXG4gICAgICAgIGJ0bjogMyxcclxuICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZVB1cmNoYXNlcih1c2VyX2lkLHBheW1lbnRfdHlwZSxyZXNvdXJjZV90eXBlLHByb2R1Y3RfaWQscmVzb3VyY2VfaWQpO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBkZWxldGVQdXJjaGFzZXIodXNlcl9pZCxwYXltZW50X3R5cGUscmVzb3VyY2VfdHlwZSxwcm9kdWN0X2lkLHJlc291cmNlX2lkKXtcclxuICAgIHNob3dMb2FkaW5nKCk7XHJcbiAgICB2YXIgYWxsUGFyYW1zID0ge307XHJcbiAgICBhbGxQYXJhbXNbJ3VzZXJfaWQnXSA9IHVzZXJfaWQ7XHJcbiAgICBhbGxQYXJhbXNbJ3BheW1lbnRfdHlwZSddID0gcGF5bWVudF90eXBlO1xyXG4gICAgYWxsUGFyYW1zWydyZXNvdXJjZV90eXBlJ10gPSByZXNvdXJjZV90eXBlO1xyXG4gICAgYWxsUGFyYW1zWydwcm9kdWN0X2lkJ10gPSBwcm9kdWN0X2lkO1xyXG4gICAgYWxsUGFyYW1zWydyZXNvdXJjZV9pZCddID0gcmVzb3VyY2VfaWQ7XHJcbiAgICAvL3dyaXRlT2JqKGFsbFBhcmFtcyk7XHJcbiAgICAkLnBvc3QoJy9kZWxldGVfcHVyY2hhc2UnLCBhbGxQYXJhbXMsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgIHZhciBjb2RlID0gcmVzdWx0LmNvZGU7XHJcbiAgICAgICAgdmFyIG1zZyA9IHJlc3VsdC5tc2c7XHJcbiAgICAgICAgaWYgKGNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKG1zZyxmdW5jdGlvbiAoKSB7d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfSwxNTAwKTtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChtc2cpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuLy/osIPliLDor6bmg4XpobVcclxuZnVuY3Rpb24ganVtcERldGFpbChpbmZvKXtcclxuICAgIHJlc2V0VXJsKCcvY3VzdG9tZXJkZXRhaWw/dXNlcklkPScraW5mbyk7XHJcbn1cclxuXHJcbi8v6K6i5Y2V6K6w5b2V5by55qGGXHJcbmZ1bmN0aW9uIGV4cG9ydE9yZGVyUmVjb3JkcygpIHtcclxuICAgICQoXCIjRXhwb3J0TW9kYWxcIikubW9kYWwoJ3Nob3cnKTtcclxufVxyXG5cclxuLy/lr7zlh7rorqLljZXorrDlvZVcclxuZnVuY3Rpb24gZXhwb3J0b3JkZXJUb0V4Y2VsKCkge1xyXG4gICAgc2hvd0xvYWRpbmcoKTtcclxuICAgIHZhciBleHBvcnRfdGltZSA9ICQoJyNleHBvcnRfdGltZScpLnZhbCgpO1xyXG4gICAgLy8gdmFyIHN0YXJ0X3RpbWUgPSAkKCcjc3RhcnRfdGltZScpLnZhbCgpO1xyXG4gICAgLy8gdmFyIGVuZF90aW1lID0gJCgnI2VuZF90aW1lJykudmFsKCk7XHJcbiAgICB2YXIgUGFyYW1zID0ge307XHJcbiAgICBQYXJhbXNbJ2V4cG9ydF90aW1lJ10gPSBleHBvcnRfdGltZTtcclxuICAgIC8vUGFyYW1zWydzdGFydF90aW1lJ10gPSBzdGFydF90aW1lO1xyXG4gICAgLy9QYXJhbXNbJ2VuZF90aW1lJ10gPSBlbmRfdGltZTtcclxuXHJcbiAgICAvL+WvvOWHuuaVsOaNrlxyXG4gICAgLy9pZihzdGFydF90aW1lICE9ICcnICYmIGVuZF90aW1lICE9ICcnICYmIHN0YXJ0X3RpbWUgPCBlbmRfdGltZSl7XHJcbiAgICBpZihleHBvcnRfdGltZSAhPSAnJyl7XHJcbiAgICAgICAgLy92YXIgdXJsID0gJy9leHBvcnRfZXhjZWw/c3RhcnRfdGltZT0nK3N0YXJ0X3RpbWUrJyZlbmRfdGltZT0nK2VuZF90aW1lO1xyXG4gICAgICAgIHZhciB1cmwgPSAnL2V4cG9ydF9vcmRlcl9leGNlbD9leHBvcnRfdGltZT0nK2V4cG9ydF90aW1lO1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gICAgICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgJChcIiNFeHBvcnRNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfor7fmo4Dmn6Xml7bpl7TpgInmi6nmmK/lkKbmraPnoa4nKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8v6K6i6LSt6K6w5b2V5by55qGGXHJcbmZ1bmN0aW9uIGV4cG9ydFJlY29yZHMoKSB7XHJcbiAgICAkKFwiI0V4cG9ydE1vZGFsXCIpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAvL+WIneWni+WMluaXtumXtOmAieaLqeWZqFxyXG4gICAgLy8gZXhwb3J0VGltZXBpY2tlcmNvbmZpZygnI2V4cG9ydF90aW1lJyk7XHJcbiAgICAvLyBkYXRldGltZXBpY2tlcmNvbmZpZygnI3N0YXJ0X3RpbWUnKTtcclxuICAgIC8vIGRhdGV0aW1lcGlja2VyY29uZmlnKCcjZW5kX3RpbWUnKTtcclxufVxyXG5cclxuLy/lr7zlh7rorqLotK3orrDlvZVcclxuZnVuY3Rpb24gZXhwb3J0VG9FeGNlbCgpIHtcclxuICAgIHNob3dMb2FkaW5nKCk7XHJcbiAgICB2YXIgZXhwb3J0X3RpbWUgPSAkKCcjZXhwb3J0X3RpbWUnKS52YWwoKTtcclxuICAgLy8gdmFyIHN0YXJ0X3RpbWUgPSAkKCcjc3RhcnRfdGltZScpLnZhbCgpO1xyXG4gICAvLyB2YXIgZW5kX3RpbWUgPSAkKCcjZW5kX3RpbWUnKS52YWwoKTtcclxuICAgIHZhciBjaGtPYmpzPW51bGw7IFxyXG4gICAgdmFyIE9mZmljZTIwMDM9MDtcclxuICAgIHZhciBvYmo9JChcIltuYW1lPSdzZWxlY3RPZmZpY2UnXVwiKTsgICAgXHJcbiAgICBpZihvYmope1xyXG4gICAgICAgIGZvciAodmFyIGk9MDtpPG9iai5sZW5ndGg7aSsrKXsgLy/pgY3ljoZSYWRpbyBcclxuICAgICAgICAgICAgaWYob2JqW2ldLmNoZWNrZWQpeyBcclxuICAgICAgICAgICAgICAgIGNoa09ianM9b2JqW2ldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNoa09ianM9PTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPZmZpY2UyMDAzPTIwMDM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfSBcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIHZhciBQYXJhbXMgPSB7fTtcclxuICAgIFBhcmFtc1snZXhwb3J0X3RpbWUnXSA9IGV4cG9ydF90aW1lO1xyXG4gICAgLy9QYXJhbXNbJ3N0YXJ0X3RpbWUnXSA9IHN0YXJ0X3RpbWU7XHJcbiAgICAvL1BhcmFtc1snZW5kX3RpbWUnXSA9IGVuZF90aW1lO1xyXG5cclxuICAgIC8v5a+85Ye65pWw5o2uXHJcbiAgICAvL2lmKHN0YXJ0X3RpbWUgIT0gJycgJiYgZW5kX3RpbWUgIT0gJycgJiYgc3RhcnRfdGltZSA8IGVuZF90aW1lKXtcclxuICAgIGlmKGV4cG9ydF90aW1lICE9ICcnKXtcclxuICAgICAgICAvL3ZhciB1cmwgPSAnL2V4cG9ydF9leGNlbD9zdGFydF90aW1lPScrc3RhcnRfdGltZSsnJmVuZF90aW1lPScrZW5kX3RpbWU7XHJcblxyXG4gICAgICAgIHZhciB1cmwgPSAnL2V4Y2VsL3B1cmNoYXNlP2V4cG9ydF90aW1lPScrZXhwb3J0X3RpbWUrXCImJnZlcnNpb249XCIrT2ZmaWNlMjAwMztcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgICQoXCIjRXhwb3J0TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH1lbHNle1xyXG4gICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn6K+35qOA5p+l5pe26Ze06YCJ5oup5piv5ZCm5q2j56GuJyk7XHJcbiAgICB9XHJcbn0iXX0=
