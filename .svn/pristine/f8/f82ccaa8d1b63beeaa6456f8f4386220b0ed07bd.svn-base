var business;$(function(){var e=$("#mainToolBox").data("id");business=new Business(e);business.init()});function Business(e){this.id=e;this.hasDown=false;this.hasClose=true;this.page=1;this.searchContent="";this.btnState=true;this.toolBoxBtn=true;this.searchResourceType=0;this.searchResourceName=""}Business.prototype={init:function(){var e=this;e.searchResourceType=GetQueryString("resource_type");e.searchResourceName=GetQueryString("search_content");this.initSearchPart();this.initCopy("copyHref");$("#mainToolBox").on("click","li[data-type]",function(t){var s=$(t.target),a=s.data("type"),o=e.id;a&&e.btnState&&e.maintool(a,o)});$("");$(".singleToolBox").on("click","li[data-type]",function(t){var s=$(t.target),a=s.data("type"),o=e.id,i=s.parentsUntil(".singleToolBox",".toolUl").data("type"),n=s.parentsUntil(".singleToolBox",".toolUl").data("id");var r=s.parentsUntil(".singleToolBox",".toolUl").data("res_title"),c=s.parentsUntil(".singleToolBox",".toolUl").data("is_try"),l=s.parentsUntil(".singleToolBox",".toolUl").data("show_time"),d=s.parentsUntil(".singleToolBox",".toolUl").data("img_url"),u=s.parentsUntil(".singleToolBox",".toolUl").data("payment_type");a&&e.btnState&&e.singleTool(a,o,i,n,r,c,l,d,u)});$("#addSingle").on("click",function(){showLoading();e.page=1;e.hasDown=false;e.hasClose=false;e.getSelectData()});$("#selectWindow #selctClose, #selectWindow #selectCancelBtn").on("click",function(){var t=$("#selectWindow");t.fadeOut("normal",function(){$(this).find("#selectAreaList").html("")});t.find(".inputSearchPart").val("");e.page=1;e.hasClose=true;e.searchContent=""});$("#selectWindow #selectSearchBtn").on("click",function(){var t=$.trim($(this).prev().val());showLoading();e.searchContent=t;e.page=1;e.hasClose=true;e.getSelectData()}).prev().on("keypress",function(e){if(e.keyCode=="13"){$("#selectWindow #selectSearchBtn").click()}});$("#selectWindow .select_content_area").scroll(function(t){var s=$("#selectAreaList").height(),a=$(this).height(),o=$(this).scrollTop();if(o+a>=s-5&&!e.hasDown&&!e.hasClose){e.hasClose=true;e.getSelectData()}});$("#selectWindow #selectOkBtn").on("click",function(t){var s=$("#selectWindow .select_content_area"),a=[];showLoading();s.find(":checkbox:checked").each(function(e,t){var s={resource_id:t.getAttribute("id"),resource_type:t.getAttribute("value")};a[a.length]=s});$.ajax("/submit_choice_resource",{type:"POST",dataType:"json",data:{channel_type:2,resource_list:a,package_id:e.id},success:function(e){console.log(e);if(e.code==0){$("#selectWindow #selctClose").click();baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{baseUtils.show.redTip(e.msg);hideLoading()}},error:function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试");hideLoading()}})})},setSingleSale:function(e,t,s,a,o,i){if(s==1){if(e==2){$.alert("该单品已设为试听，取消试听后方可设为单卖","info",{btn:2})}else if(e==1||e==3||e==4){$.alert("该单品已设为试看，取消试看后方可设为单卖","info",{btn:2})}}else{this.initSetSingleSaleWindow(o,t,e,a,i);$(".set_price_window").fadeIn(300)}},cancelSingleSale:function(e,t,s){if(s==1){var a="取消单卖后，未开通专栏的用户将不可单独查看该单品!"}else if(s==2){var a="取消单卖后，未开通专栏的用户将不可单独付费购买该单品!"}$.alert(a,"info",{onOk:function(){showLoading();var s={};s["resource_id"]=t;s["resource_type"]=e;var a=[s];$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:a,submit_type:1},success:function(e){hideLoading();if(e.code==0){baseUtils.show.blueTip("取消单卖成功！");setTimeout(function(){window.location.reload()},1500)}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,t,s){hideLoading();console.log(s);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})}})},initSetSingleSaleWindow:function(e,t,s,a,o){$(".resource_icon_3").attr("src",e);$(".resource_title").html(t);switch(s){case 1:$(".resource_type_3").html("图文");break;case 2:$(".resource_type_3").html("音频");break;case 3:$(".resource_type_3").html("视频");break;case 4:$(".resource_type_3").html("直播");break;default:break}$(".resource_time_3").html(a);$(".close_icon_wrapper_2, .cancel_set_price").click(function(){$(".set_price_window").fadeOut(300)});$(".confirm_price_btn").click(function(){var e=$.trim($(".input_setting_price").val());var t=/^([1-9][\d]*|0)([\/.][\d]{1,2})?$/;if(!t.test(e)){baseUtils.show.redTip("价格输入有误");$(".input_setting_price").val("");return false}if(e<=0){baseUtils.show.redTip("价格不能为0 或 负数!");return false}if(e>baseUtils.maxInputPrice){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}var a={};a["resource_id"]=o;a["resource_type"]=s;var i=[a];$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:i,piece_price:e*100,submit_type:0},success:function(e){if(e.code==0){$(".set_price_window").fadeOut(300);baseUtils.show.blueTip("设为单卖成功");setTimeout(function(){window.location.reload()},1500)}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,t,s){console.log(s);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})})},initSearchPart:function(){var e=this;$(".searchAllBtn").click(function(){var e=GetQueryString("id");var t=$(".selector_resource_type").val();var s=$.trim($(".inputSearchAll").val());window.location.href="/package_detail_page?id="+e+"&search_content="+s+"&resource_type="+t});$(".inputSearchAll").focusin(function(){$(document).keypress(function(e){if(e.which==13){$(".searchAllBtn").click()}})}).focusout(function(){$(document).off("keypress")});$(".selector_resource_type").on("change",function(){$(".searchAllBtn").click()});if(e.searchResourceName!=""){$(".inputSearchAll").val(e.searchResourceName)}var t=$(".selector_resource_type").children("option").length;if(t>0){for(var s=0;s<t;s++){if($(".selector_resource_type").children("option").eq(s).attr("value")==e.searchResourceType){$(".selector_resource_type").children("option").eq(s).attr("selected","selected");return}}}},initCopy:function(e){var t=new Clipboard("."+e);t.on("success",function(e){baseUtils.show.blueTip("复制成功！请在微信内打开哦 。");e.clearSelection()})},maintool:function(e,t){self.btnState=false;switch(e){case"newListShow":this.newListShow(t,false);break;case"newListHide":this.newListShow(t,true);break;case"stopupdate":this.packageUpdate(t,false);break;case"startupdate":this.packageUpdate(t,true);break;case"soldout":this.packageisShow(t,false);break;case"putaway":this.packageisShow(t,true);break;case"openForm":this.packageForm(t,false);break;case"closeForm":this.packageForm(t,true);break;default:console.error("参数错误");break}},newListShow:function(e,t){var s=t?1:0;console.log(s);console.log(e);showLoading();$.ajax("/set_h5_newest_hide",{type:"POST",dataType:"json",data:{id:e,h5_newest_hide:t?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();baseUtils.show.redTip(e.msg);self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},packageUpdate:function(e,t){showLoading();$.ajax("/save_package_finished_state",{type:"POST",dataType:"json",data:{package_id:e,finished_state:t?0:1},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();baseUtils.show.redTip(e.msg);self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},packageForm:function(e,t){var s=$(".user_version_num").data("version_type");if(s&&s==3){$.alert(t?"关闭资料填写后，用户在付费购买本专栏前将不再填写个人信息，您确认要关闭么？":"开启资料填写后，用户在付费购买本专栏前将填写个人信息，您确认要开启么？","info",{icon:"blue",onOk:function(){showLoading();$.ajax("/set_is_complete_info",{type:"POST",dataType:"json",data:{id:e,is_complete_info:t},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},200)}else{baseUtils.show.redTip(e.msg);hideLoading()}}})}})}else{baseUtils.show.redTip("当前版本不支持开启资料填写，如需开启请升级至专业版")}},packageisShow:function(e,t){$.alert(t?"上架后该专栏将对外显示":"下架后该专栏将不对外显示","info",{onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:0,operate_type:t?0:1},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{baseUtils.show.redTip(e.msg);hideLoading();self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}})},singleTool:function(e,t,s,a,o,i,n,r,c){self.btnState=false;switch(e){case"totop":this.setTop(t,s,a,true);break;case"canceltop":this.setTop(t,s,a,false);break;case"showComment":if(s==4){contentDetail("/alivecomment?alive_id="+a)}else{contentDetail("/comment_admin?type="+(s-1)+"&record_id="+a)}break;case"setTry":this.setTry(t,s,a,c,true);break;case"cancelTry":this.setTry(t,s,a,c,false);break;case"set_single_sale":this.setSingleSale(s,o,i,n,r,a);break;case"cancel_single_sale":this.cancelSingleSale(s,a,c);break;case"soldout":this.singleisShow(t,s,a,true);break;case"putaway":this.singleisShow(t,s,a,false);break;case"del":this.querySingle(t,s,a);break;case"enable_copy":this.changeCanSelectState(a,true);break;case"forbid_copy":var l=this;$.alert("禁止复制后，该篇图文的图片点击放大和长按识别二维码功能将被禁用","info",{btn:3,onOk:function(){l.changeCanSelectState(a,false)}});break;case"export_audio":this.exportAudio(a);break;default:console.error("参数错误");break}},exportAudio:function(e){$.ajax("/async_download_alive_voice",{type:"POST",dataType:"json",data:{alive_id:e},success:function(e){switch(e.code){case 0:window.location.href=e.data["url"];break;case 1:$.alert("语音正在合成中，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 2:$.alert("开始进行语音合成，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 3:$.alert("服务器正在维护，直播音频导出功能受到影响，请稍后再试。","info",{btn:2});break;case 4:$.alert("该直播没有音频。","info",{btn:2});break;case 5:$.alert("这个直播不是语音类型的，不支持音频导出。","info",{btn:2});break;case 6:$.alert("这个直播还没结束，暂不支持音频导出。","info",{btn:2});break;default:console.log("参数错误");baseUtils.show.redTip(e.msg);break}console.log(e.msg)},error:function(e,t,s){console.log(s);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})},changeCanSelectState:function(e,t){$.ajax("/set_resource_select_can",{type:"POST",dataType:"json",data:{id:e,resource_type:1,can_select:t?1:0},success:function(e){if(e.code==0){if(t){baseUtils.show.blueTip("已经允许复制")}else{baseUtils.show.blueTip("已经禁止复制")}window.location.reload()}else{baseUtils.show.redTip("操作失败，请稍后再试")}},error:function(e,t,s){console.log(s);baseUtils.show.redTip("网络错误，请稍后再试！")}})},setTop:function(e,t,s,a){showLoading();$.ajax("/set_package_resource_top",{type:"POST",dataType:"json",data:{package_id:e,resource_type:t,resource_id:s,top_state:a?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},setTry:function(e,t,s,a,o){if(a==1||a==2){if(t==2){$.alert("该单品已设为单卖，取消单卖后方可设为试听","info",{btn:2})}else if(t==1||t==3||t==4){$.alert("该单品已设为单卖，取消单卖后方可设为试看","info",{btn:2})}return false}showLoading();$.ajax("/set_package_resource_try",{type:"POST",dataType:"json",data:{package_id:e,resource_type:t,resource_id:s,try_state:o?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},singleisShow:function(e,t,s,a){var o=this,i=a?"下架后该单品将不对外显示":"上架后该单品将对外显示";$.alert(i,"info",{title:"",onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,operate_type:a?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();o.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();o.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}})},querySingle:function(e,t,s){var a=this,o="";$.ajax("/query_goods_state",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,channel_type:1,package_id:e}}).then(function(e){if(e.code==0){var t=e.data.records_list,s=Object.keys(t).length;if(e.data.is_exist==0){o='确认移除该内容，移除后所有用户将无法查看此内容且<spa style="color: red;">不可恢复</spa>'}else if(t[0]==undefined){$.each(t,function(e,t){o+="《"+t.title+"》"});o="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容仍存在于"+o+"中"}else{if(s==1){o="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容仍在单品列表且单独售卖"}else{$.each(t,function(e,t){if(e!=0){o+="《"+t.title+"》"}});o="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容单独售卖且仍存在于"+o+"中"}}return o}else{baseUtils.show.redTip(e.msg);return false}},function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试")}).then(function(o){if(o){$.alert(o,"info",{oktext:"确认移除",onOk:function(){a.deleteSingle(e,t,s)}})}})},deleteSingle:function(e,t,s){showLoading();$.ajax("/move_goods",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,channel_type:1,package_id:e},success:function(e){console.log(e);if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},getSelectData:function(){var e=this;$.ajax("/choice_resource_list",{type:"POST",dataType:"json",data:{search_content:e.searchContent||"",channel_type:2,resource_type:0,package_id:e.id,page:e.page},success:function(t){console.log(t);if(t.code==0){var s=$("#selectAreaList"),a="",o=JSON.parse(t.data.page_offset);$.each(t.data.resource_list,function(e,t){var s="";switch(+this.resource_type){case 1:s="图文";break;case 2:s="音频";break;case 3:s="视频";break;case 4:s="直播";break;default:s="无";break}a+='<div class="resourceItemWrapper">'+'<input value="'+this.resource_type+'" id="'+this.id+'" class="with-gap resource_radio" name="select_resource" type="checkbox">'+'<label for="'+this.id+'" class="radio_desc">'+'<div class="resource_icon_wrapper">'+'<img class="resource_icon" src="'+this.img_url+'">'+"</div>"+this.title+"</label>"+'<span class="resource_type">'+s+"</span>"+'<span class="resource_time">'+this.start_at+"</span>"+"</div>"});if(a.length==0){a+='<div class="contentNoneTip">暂无数据</div>'}if(e.page==1||!e.page){s.html(a);s.append('<div class="isDown">资源加载中</div>');e.hasClose=false;hideLoading();if(!e.searchContent){$("#selectWindow").fadeIn()}}else if(e.page>1){s.find(".isDown").before(a);e.hasClose=false}if(o.current_page>=o.total_pages){s.find(".isDown").hide();e.hasDown=true}e.page++}else{hideLoading();baseUtils.show.redTip("拉取已有单品失败！")}},error:function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试");hideLoading()}})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhY2thZ2VEZXRhaWwuanMiXSwibmFtZXMiOlsiYnVzaW5lc3MiLCIkIiwiaWQiLCJkYXRhIiwiQnVzaW5lc3MiLCJpbml0IiwidGhpcyIsImhhc0Rvd24iLCJoYXNDbG9zZSIsInBhZ2UiLCJzZWFyY2hDb250ZW50IiwiYnRuU3RhdGUiLCJ0b29sQm94QnRuIiwic2VhcmNoUmVzb3VyY2VUeXBlIiwic2VhcmNoUmVzb3VyY2VOYW1lIiwicHJvdG90eXBlIiwic2VsZiIsIkdldFF1ZXJ5U3RyaW5nIiwiaW5pdFNlYXJjaFBhcnQiLCJpbml0Q29weSIsIm9uIiwiZSIsIiRlbGUiLCJ0YXJnZXQiLCJ0eXBlIiwibWFpbnRvb2wiLCJwYWNrYWdlaWQiLCJyZXNUeXBlIiwicGFyZW50c1VudGlsIiwicmVzaWQiLCJyZXNUaXRsZSIsImlzVHJ5Iiwic2hvd1RpbWUiLCJyZXNJbWdVcmwiLCJwYXltZW50VHlwZSIsInNpbmdsZVRvb2wiLCJzaG93TG9hZGluZyIsImdldFNlbGVjdERhdGEiLCIkc2VsZWN0V2luIiwiZmFkZU91dCIsImZpbmQiLCJodG1sIiwidmFsIiwic2VhcmNoVmFsIiwidHJpbSIsInByZXYiLCJrZXlDb2RlIiwiY2xpY2siLCJzY3JvbGwiLCJEaXZIZWlnaHQiLCJoZWlnaHQiLCJTY3JvbGxIZWlnaHQiLCJTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCIkc2VsZWN0QXJlYSIsInJlc0xpc3QiLCJlYWNoIiwiaSIsIml0ZW0iLCJyZXNPYmoiLCJyZXNvdXJjZV9pZCIsImdldEF0dHJpYnV0ZSIsInJlc291cmNlX3R5cGUiLCJsZW5ndGgiLCJhamF4IiwiZGF0YVR5cGUiLCJjaGFubmVsX3R5cGUiLCJyZXNvdXJjZV9saXN0IiwicGFja2FnZV9pZCIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiY29kZSIsImJhc2VVdGlscyIsInNob3ciLCJibHVlVGlwIiwibXNnIiwic2V0VGltZW91dCIsInJlbG9hZFBhZ2UiLCJyZWRUaXAiLCJoaWRlTG9hZGluZyIsImVycm9yIiwieGhyIiwic3RhdHVzIiwiZXJyIiwic2V0U2luZ2xlU2FsZSIsInJlc0lkIiwiYWxlcnQiLCJidG4iLCJpbml0U2V0U2luZ2xlU2FsZVdpbmRvdyIsImZhZGVJbiIsImNhbmNlbFNpbmdsZVNhbGUiLCJ0ZXh0Iiwib25PayIsImFyciIsInJlc291cmNlTGlzdEFyciIsInN1Ym1pdF90eXBlIiwicmVzdWx0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJhdHRyIiwicHJpY2UiLCJyZWciLCJ0ZXN0IiwibWF4SW5wdXRQcmljZSIsInBpZWNlX3ByaWNlIiwicGFja2FnZUlkIiwic2VhcmNoX2NvbnRlbnQiLCJocmVmIiwiZm9jdXNpbiIsImRvY3VtZW50Iiwia2V5cHJlc3MiLCJ3aGljaCIsImZvY3Vzb3V0Iiwib2ZmIiwibnVtIiwiY2hpbGRyZW4iLCJlcSIsImNsYXNzTmFtZSIsImNsaXBib2FyZCIsIkNsaXBib2FyZCIsImNsZWFyU2VsZWN0aW9uIiwibmV3TGlzdFNob3ciLCJwYWNrYWdlVXBkYXRlIiwicGFja2FnZWlzU2hvdyIsInBhY2thZ2VGb3JtIiwic2hvd1R5cGUiLCJoNV9uZXdlc3RfaGlkZSIsInN0YXRlVHlwZSIsImZpbmlzaGVkX3N0YXRlIiwiZm9ybVR5cGUiLCJ2ZXJzaW9uIiwiaWNvbiIsImlzX2NvbXBsZXRlX2luZm8iLCJjaGFuZ2VUeXBlIiwiZ29vZHNfaWQiLCJnb29kc190eXBlIiwib3BlcmF0ZV90eXBlIiwic2V0VG9wIiwiY29udGVudERldGFpbCIsInNldFRyeSIsInNpbmdsZWlzU2hvdyIsInF1ZXJ5U2luZ2xlIiwiY2hhbmdlQ2FuU2VsZWN0U3RhdGUiLCJleHBvcnRBdWRpbyIsImFsaXZlSWQiLCJhbGl2ZV9pZCIsImNhblNlbGVjdCIsImNhbl9zZWxlY3QiLCJ0b3AiLCJ0b3Bfc3RhdGUiLCJ0cnlTdGF0ZSIsInRyeV9zdGF0ZSIsInNob3dTdGF0ZSIsInRpdGxlIiwidGhlbiIsInJlY29yZHNMaXN0IiwicmVjb3Jkc19saXN0IiwiYXJyTGVuZ3RoIiwiT2JqZWN0Iiwia2V5cyIsImlzX2V4aXN0IiwidW5kZWZpbmVkIiwia2V5IiwidmFsdWUiLCJva3RleHQiLCJkZWxldGVTaW5nbGUiLCJzZWxlY3RTdHIiLCJwYWdlT2JqIiwiSlNPTiIsInBhcnNlIiwicGFnZV9vZmZzZXQiLCJpbWdfdXJsIiwic3RhcnRfYXQiLCJhcHBlbmQiLCJiZWZvcmUiLCJjdXJyZW50X3BhZ2UiLCJ0b3RhbF9wYWdlcyIsImhpZGUiXSwibWFwcGluZ3MiOiJBQUdBLEdBQUlBLFNBQ0pDLEdBQUUsV0FDRSxHQUFJQyxHQUFLRCxFQUFFLGdCQUFnQkUsS0FBSyxLQUNoQ0gsVUFBVyxHQUFJSSxVQUFTRixFQUN4QkYsVUFBU0ssUUFJYixTQUFTRCxVQUFTRixHQUNkSSxLQUFLSixHQUFLQSxDQUNWSSxNQUFLQyxRQUFVLEtBQ2ZELE1BQUtFLFNBQVcsSUFDaEJGLE1BQUtHLEtBQU8sQ0FDWkgsTUFBS0ksY0FBZ0IsRUFDckJKLE1BQUtLLFNBQVcsSUFFaEJMLE1BQUtNLFdBQWEsSUFFbEJOLE1BQUtPLG1CQUFxQixDQUMxQlAsTUFBS1EsbUJBQXFCLEdBRTlCVixTQUFTVyxXQUNMVixLQUFNLFdBQ0YsR0FBSVcsR0FBT1YsSUFFWFUsR0FBS0gsbUJBQXFCSSxlQUFlLGdCQUN6Q0QsR0FBS0YsbUJBQXFCRyxlQUFlLGlCQUd6Q1gsTUFBS1ksZ0JBRUxaLE1BQUthLFNBQVMsV0FFZGxCLEdBQUUsZ0JBQ0dtQixHQUFHLFFBQVMsZ0JBQWlCLFNBQVNDLEdBQ25DLEdBQUlDLEdBQU9yQixFQUFFb0IsRUFBRUUsUUFDWEMsRUFBT0YsRUFBS25CLEtBQUssUUFDakJELEVBQUtjLEVBQUtkLEVBQ2RzQixJQUFRUixFQUFLTCxVQUFhSyxFQUFLUyxTQUFTRCxFQUFNdEIsSUFFdERELEdBQUUsR0FDRkEsR0FBRSxrQkFDR21CLEdBQUcsUUFBUyxnQkFBaUIsU0FBU0MsR0FDbkMsR0FBSUMsR0FBT3JCLEVBQUVvQixFQUFFRSxRQUNYQyxFQUFPRixFQUFLbkIsS0FB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QlMsRUFBS1AsV0FFRixDQUNIdUUsYUFDQVAsV0FBVUMsS0FBS0ssT0FBTyxlQUc5QkUsTUFBTyxTQUFTQyxFQUFLQyxFQUFRQyxHQUN6QmQsUUFBUVcsTUFBTUcsRUFDZFgsV0FBVUMsS0FBS0ssT0FBTyxhQUN0QkMiLCJmaWxlIjoicGFja2FnZURldGFpbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBGcmFuayBvbiAyMDE3LzMvMjEuXG4gKi9cbnZhciBidXNpbmVzcztcbiQoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlkID0gJCgnI21haW5Ub29sQm94JykuZGF0YSgnaWQnKTtcbiAgICBidXNpbmVzcyA9IG5ldyBCdXNpbmVzcyhpZCk7XG4gICAgYnVzaW5lc3MuaW5pdCgpO1xufSk7XG5cblxuZnVuY3Rpb24gQnVzaW5lc3MoaWQpIHsgLy/lrprkuYnkuIDkupvlhazlhbHlsZ7mgKdcbiAgICB0aGlzLmlkID0gaWQ7IC8v5b2T5YmN5LiT5qCP55qEaWRcbiAgICB0aGlzLmhhc0Rvd24gPSBmYWxzZTtcbiAgICB0aGlzLmhhc0Nsb3NlID0gdHJ1ZTtcbiAgICB0aGlzLnBhZ2UgPSAxOyAvL+W3suacieWNleWTgeeahOmhteeggVxuICAgIHRoaXMuc2VhcmNoQ29udGVudCA9ICcnO1xuICAgIHRoaXMuYnRuU3RhdGUgPSB0cnVlO1xuXG4gICAgdGhpcy50b29sQm94QnRuID0gdHJ1ZTsgLy/lt6XlhbfmjInpkq7nmoTngrnlh7vnirbmgIFcblxuICAgIHRoaXMuc2VhcmNoUmVzb3VyY2VUeXBlID0gMDtcbiAgICB0aGlzLnNlYXJjaFJlc291cmNlTmFtZSA9IFwiXCI7XG59XG5CdXNpbmVzcy5wcm90b3R5cGUgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24oKSB7IC8v6aG16Z2i55qE5Yid5aeL5YyW5pON5L2c77yM57uR5a6a5LqL5Lu2XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBzZWxmLnNlYXJjaFJlc291cmNlVHlwZSA9IEdldFF1ZXJ5U3RyaW5nKFwicmVzb3VyY2VfdHlwZVwiKTtcbiAgICAgICAgc2VsZi5zZWFyY2hSZXNvdXJjZU5hbWUgPSBHZXRRdWVyeVN0cmluZyhcInNlYXJjaF9jb250ZW50XCIpO1xuXG4gICAgICAgIC8vICDliJ3lp4vljJbmkJzntKLnrZvpgIlcbiAgICAgICAgdGhpcy5pbml0U2VhcmNoUGFydCgpO1xuXG4gICAgICAgIHRoaXMuaW5pdENvcHkoJ2NvcHlIcmVmJyk7IC8v5Yqg6L295aSN5Yi26ZO+5o6l5o+S5Lu2XG5cbiAgICAgICAgJCgnI21haW5Ub29sQm94JylcbiAgICAgICAgICAgIC5vbignY2xpY2snLCAnbGlbZGF0YS10eXBlXScsIGZ1bmN0aW9uKGUpIHsgLy/kuJPmoI/nmoTlip/og71cbiAgICAgICAgICAgICAgICB2YXIgJGVsZSA9ICQoZS50YXJnZXQpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJGVsZS5kYXRhKCd0eXBlJyksXG4gICAgICAgICAgICAgICAgICAgIGlkID0gc2VsZi5pZDtcbiAgICAgICAgICAgICAgICB0eXBlICYmIHNlbGYuYnRuU3RhdGUgJiYgKHNlbGYubWFpbnRvb2wodHlwZSwgaWQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAkKCcnKVxuICAgICAgICAkKCcuc2luZ2xlVG9vbEJveCcpXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgJ2xpW2RhdGEtdHlwZV0nLCBmdW5jdGlvbihlKSB7IC8v5LiT5qCP5YaF5Y2V5ZOB55qE5Yqf6IO9XG4gICAgICAgICAgICAgICAgdmFyICRlbGUgPSAkKGUudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICRlbGUuZGF0YSgndHlwZScpLFxuICAgICAgICAgICAgICAgICAgICBwYWNrYWdlaWQgPSBzZWxmLmlkLFxuICAgICAgICAgICAgICAgICAgICByZXNUeXBlID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCd0eXBlJyksXG4gICAgICAgICAgICAgICAgICAgIHJlc2lkID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCdpZCcpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlc1RpdGxlID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCdyZXNfdGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgaXNUcnkgPSAkZWxlLnBhcmVudHNVbnRpbCgnLnNpbmdsZVRvb2xCb3gnLCAnLnRvb2xVbCcpLmRhdGEoJ2lzX3RyeScpLFxuICAgICAgICAgICAgICAgICAgICBzaG93VGltZSA9ICRlbGUucGFyZW50c1VudGlsKCcuc2luZ2xlVG9vbEJveCcsICcudG9vbFVsJykuZGF0YSgnc2hvd190aW1lJyksXG4gICAgICAgICAgICAgICAgICAgIHJlc0ltZ1VybCA9ICRlbGUucGFyZW50c1VudGlsKCcuc2luZ2xlVG9vbEJveCcsICcudG9vbFVsJykuZGF0YSgnaW1nX3VybCcpLFxuICAgICAgICAgICAgICAgICAgICBwYXltZW50VHlwZSA9ICRlbGUucGFyZW50c1VudGlsKCcuc2luZ2xlVG9vbEJveCcsICcudG9vbFVsJykuZGF0YSgncGF5bWVudF90eXBlJyk7XG5cbiAgICAgICAgICAgICAgICB0eXBlICYmIHNlbGYuYnRuU3RhdGUgJiYgKHNlbGYuc2luZ2xlVG9vbCh0eXBlLCBwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCByZXNUaXRsZSwgaXNUcnksIHNob3dUaW1lLCByZXNJbWdVcmwsIHBheW1lbnRUeXBlKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAkKCcjYWRkU2luZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7IC8v5by55Ye66YCJ5oup5qGGXG4gICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgc2VsZi5wYWdlID0gMTtcbiAgICAgICAgICAgIHNlbGYuaGFzRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5nZXRTZWxlY3REYXRhKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGN0Q2xvc2UsICNzZWxlY3RXaW5kb3cgI3NlbGVjdENhbmNlbEJ0bicpXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7IC8v5YWz6Zet6YCJ5oup5by556qXXG4gICAgICAgICAgICAgICAgdmFyICRzZWxlY3RXaW4gPSAkKCcjc2VsZWN0V2luZG93Jyk7XG4gICAgICAgICAgICAgICAgJHNlbGVjdFdpbi5mYWRlT3V0KCdub3JtYWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcjc2VsZWN0QXJlYUxpc3QnKS5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkc2VsZWN0V2luLmZpbmQoJy5pbnB1dFNlYXJjaFBhcnQnKS52YWwoJycpOyAvL+a4heepuuaQnOe0ouahhlxuICAgICAgICAgICAgICAgIHNlbGYucGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi5zZWFyY2hDb250ZW50ID0gJyc7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAkKCcjc2VsZWN0V2luZG93ICNzZWxlY3RTZWFyY2hCdG4nKVxuICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgeyAvL+mAieaLqeahhueahOWNleWTgeaQnOe0olxuICAgICAgICAgICAgICAgIHZhciBzZWFyY2hWYWwgPSAkLnRyaW0oJCh0aGlzKS5wcmV2KCkudmFsKCkpO1xuICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZWFyY2hDb250ZW50ID0gc2VhcmNoVmFsO1xuICAgICAgICAgICAgICAgIHNlbGYucGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi5nZXRTZWxlY3REYXRhKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnByZXYoKS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSBcIjEzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3NlbGVjdFdpbmRvdyAjc2VsZWN0U2VhcmNoQnRuJykuY2xpY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAkKCcjc2VsZWN0V2luZG93IC5zZWxlY3RfY29udGVudF9hcmVhJykuc2Nyb2xsKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBEaXZIZWlnaHQgPSAkKCcjc2VsZWN0QXJlYUxpc3QnKS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBTY3JvbGxIZWlnaHQgPSAkKHRoaXMpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgIFNjcm9sbFRvcCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgIGlmICgoU2Nyb2xsVG9wICsgU2Nyb2xsSGVpZ2h0ID49IERpdkhlaWdodCAtIDUpICYmXG4gICAgICAgICAgICAgICAgIXNlbGYuaGFzRG93biAvL+WIpOaWreaYr+WQpuWIsOi+vuW6lemDqFxuICAgICAgICAgICAgICAgICYmXG4gICAgICAgICAgICAgICAgIXNlbGYuaGFzQ2xvc2UgLy/liKTmlq3lvLnmoYbmmK/lkKblhbPpl61cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNlbGYuZ2V0U2VsZWN0RGF0YSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvL+aPkOS6pOimgea3u+WKoOeahOWNleWTgVxuICAgICAgICAkKCcjc2VsZWN0V2luZG93ICNzZWxlY3RPa0J0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciAkc2VsZWN0QXJlYSA9ICQoJyNzZWxlY3RXaW5kb3cgLnNlbGVjdF9jb250ZW50X2FyZWEnKSxcbiAgICAgICAgICAgICAgICByZXNMaXN0ID0gW107XG5cbiAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAkc2VsZWN0QXJlYS5maW5kKCc6Y2hlY2tib3g6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oaSwgaXRlbSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNPYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX2lkOiBpdGVtLmdldEF0dHJpYnV0ZSgnaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogaXRlbS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJylcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlc0xpc3RbcmVzTGlzdC5sZW5ndGhdID0gcmVzT2JqO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgIDEtY2hhbm5lbF90eXBlKDEt5Y2V5ZOBLDIt5LiT5qCPLDMt5Lya5ZGYKTtcbiAgICAgICAgICAgIDItcmVzb3VyY2VfbGlzdCjpgInkuK3nmoTotYTmupDpm4blkIgo5pWw57uEKSxcbiAgICAgICAgICAgIOmUruWAvOWvueeahOagvOW8j+WmgjpyZXNvdXJjZV9pZDphX2tqamFrMzQ1LHJlc291cmNlX3R5cGU6MSk7XG4gICAgICAgICAgICAzLXBhY2thZ2VfaWQo5b2TY2hhbm5lbF90eXBlPTLjgIEz5pe2LOacieWAvCk7XG4gICAgICAgICAgICA0LXBpZWNlX3ByaWNlKOS9hmNoYW5uZWxfdHlwZT0x5pe25pyJ5YC8KSovXG4gICAgICAgICAgICAkLmFqYXgoJy9zdWJtaXRfY2hvaWNlX3Jlc291cmNlJywge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDIsXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX2xpc3Q6IHJlc0xpc3QsXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHNlbGYuaWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v6YCJ5oup5oiQ5Yqf77yM5Li75Yqo5YWz6Zet6YCJ5oup5by556qXXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2VsZWN0V2luZG93ICNzZWxjdENsb3NlJykuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/liLfmlrDpobXpnaJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICB9LFxuICAgIHNldFNpbmdsZVNhbGU6IGZ1bmN0aW9uKHJlc1R5cGUsIHJlc1RpdGxlLCBpc1RyeSwgc2hvd1RpbWUsIHJlc0ltZ1VybCwgcmVzSWQpIHtcbiAgICAgICAgLy9cdOiuvue9ruWNleWNllxuICAgICAgICAvL1x0MeOAgeWIpOaWreWNleWTgeaYr+WQpuS4uuivleWQrC8g6K+V55yLIC0tPlxuICAgICAgICAvLyAgMuOAgeiLpeS4uuivleWQrO+8miDlvLnnqpcg5o+Q56S6XG4gICAgICAgIC8vICAz44CB6Iul5LiN5Li66K+V5ZCs77yaIOW8ueeqlyDorr7nva7ljZXlk4HllK7ku7dcblxuICAgICAgICBpZiAoaXNUcnkgPT0gMSkgeyAvL+aYr1xuICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gMikge1xuICAgICAgICAgICAgICAgICQuYWxlcnQoXCLor6XljZXlk4Hlt7Lorr7kuLror5XlkKzvvIzlj5bmtojor5XlkKzlkI7mlrnlj6/orr7kuLrljZXljZZcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNUeXBlID09IDEgfHwgcmVzVHlwZSA9PSAzIHx8IHJlc1R5cGUgPT0gNCkge1xuICAgICAgICAgICAgICAgICQuYWxlcnQoXCLor6XljZXlk4Hlt7Lorr7kuLror5XnnIvvvIzlj5bmtojor5XnnIvlkI7mlrnlj6/orr7kuLrljZXljZZcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmluaXRTZXRTaW5nbGVTYWxlV2luZG93KHJlc0ltZ1VybCwgcmVzVGl0bGUsIHJlc1R5cGUsIHNob3dUaW1lLCByZXNJZCk7XG4gICAgICAgICAgICAkKFwiLnNldF9wcmljZV93aW5kb3dcIikuZmFkZUluKDMwMCk7XG4gICAgICAgIH1cblxuICAgIH0sXG4gICAgY2FuY2VsU2luZ2xlU2FsZTogZnVuY3Rpb24ocmVzVHlwZSwgcmVzSWQsIHBheW1lbnRUeXBlKSB7XG4gICAgICAgIC8vIFx05Y+W5raI5Y2V5Y2WXG4gICAgICAgIC8vXHQx44CB5by556qX5o+Q56S6XG4gICAgICAgIGlmIChwYXltZW50VHlwZSA9PSAxKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IFwi5Y+W5raI5Y2V5Y2W5ZCO77yM5pyq5byA6YCa5LiT5qCP55qE55So5oi35bCG5LiN5Y+v5Y2V54us5p+l55yL6K+l5Y2V5ZOBIVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHBheW1lbnRUeXBlID09IDIpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gXCLlj5bmtojljZXljZblkI7vvIzmnKrlvIDpgJrkuJPmoI/nmoTnlKjmiLflsIbkuI3lj6/ljZXni6zku5jotLnotK3kubDor6XljZXlk4EhXCI7XG4gICAgICAgIH1cbiAgICAgICAgJC5hbGVydCh0ZXh0LCBcImluZm9cIiwge1xuICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0ge307XG4gICAgICAgICAgICAgICAgYXJyW1wicmVzb3VyY2VfaWRcIl0gPSByZXNJZDtcbiAgICAgICAgICAgICAgICBhcnJbXCJyZXNvdXJjZV90eXBlXCJdID0gcmVzVHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2VMaXN0QXJyID0gW2Fycl07XG5cbiAgICAgICAgICAgICAgICAkLmFqYXgoXCIvc3VibWl0X2Nob2ljZV9yZXNvdXJjZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoYW5uZWxfdHlwZVwiOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXNvdXJjZV9saXN0XCI6IHJlc291cmNlTGlzdEFycixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3VibWl0X3R5cGVcIjogMVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlj5bmtojljZXljZbmiJDlip/vvIFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmnI3liqHlmajlvIDlsI/lt67llabvvIzor7fnqI3lkI7lho3mkJzntKLvvIFcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy9cdDLjgIHnoa7lrprlj5bmtohcblxuXG4gICAgfSxcbiAgICAvL1x05Yid5aeL5YyW6K6+572u5LiT5qCP5aSW5Y2V5Y2WXG4gICAgaW5pdFNldFNpbmdsZVNhbGVXaW5kb3c6IGZ1bmN0aW9uKHJlc0ltZ1VybCwgcmVzVGl0bGUsIHJlc1R5cGUsIHNob3dUaW1lLCByZXNJZCkge1xuXG4gICAgICAgIC8vICDnu5norr7nva7ku7fmoLzloavlhYXmlbDmja5cbiAgICAgICAgJChcIi5yZXNvdXJjZV9pY29uXzNcIikuYXR0cihcInNyY1wiLCByZXNJbWdVcmwpO1xuICAgICAgICAkKFwiLnJlc291cmNlX3RpdGxlXCIpLmh0bWwocmVzVGl0bGUpO1xuICAgICAgICBzd2l0Y2ggKHJlc1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAkKFwiLnJlc291cmNlX3R5cGVfM1wiKS5odG1sKFwi5Zu+5paHXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICQoXCIucmVzb3VyY2VfdHlwZV8zXCIpLmh0bWwoXCLpn7PpopFcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgJChcIi5yZXNvdXJjZV90eXBlXzNcIikuaHRtbChcIuinhumikVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAkKFwiLnJlc291cmNlX3R5cGVfM1wiKS5odG1sKFwi55u05pKtXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAkKFwiLnJlc291cmNlX3RpbWVfM1wiKS5odG1sKHNob3dUaW1lKTtcblxuICAgICAgICAvLyAkKFwiaW5wdXRbbmFtZT0nc2V0X3NhbGVfcHJpY2UnXVt2YWx1ZT0nMSddXCIpLmF0dHIoXCJjaGVja2VkXCIsIFwiY2hlY2tlZFwiKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gLy8gXHTorr7nva7ljZXlk4HllK7ku7fnu5Hlrprkuovku7ZcbiAgICAgICAgLy8gJChcImlucHV0W25hbWU9J3NldF9zYWxlX3ByaWNlJ11cIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAgICAgdmFyIHNhbGVUeXBlID0gJChcImlucHV0W25hbWU9J3NldF9zYWxlX3ByaWNlJ106Y2hlY2tlZFwiKS52YWwoKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIGlmIChzYWxlVHlwZSA9PSAxKSB7XHQvL1x05LuY6LS5XG4gICAgICAgIC8vICAgICAgICAgJChcIi5pbnB1dF9zZXR0aW5nX3ByaWNlXCIpLnJlbW92ZUF0dHIoXCJyZWFkb25seVwiKTtcbiAgICAgICAgLy8gICAgICAgICAkKFwiLmlucHV0X3NldHRpbmdfcHJpY2VcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgICAgICAvLyAgICAgfSBlbHNlIGlmIChzYWxlVHlwZSA9PSAwKSB7XHRcdC8vIOWFjei0uVxuICAgICAgICAvLyAgICAgICAgICQoXCIuaW5wdXRfc2V0dGluZ19wcmljZVwiKS5hdHRyKFwicmVhZG9ubHlcIiwgXCJyZWFkb25seVwiKTtcbiAgICAgICAgLy8gICAgICAgICAkKFwiLmlucHV0X3NldHRpbmdfcHJpY2VcIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgIC8vIFx05Y+W5raIXG4gICAgICAgICQoXCIuY2xvc2VfaWNvbl93cmFwcGVyXzIsIC5jYW5jZWxfc2V0X3ByaWNlXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJChcIi5zZXRfcHJpY2Vfd2luZG93XCIpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vXHTnoa7lrppcbiAgICAgICAgJChcIi5jb25maXJtX3ByaWNlX2J0blwiKS5jbGljayhmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyIHByaWNlID0gJC50cmltKCQoXCIuaW5wdXRfc2V0dGluZ19wcmljZVwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIHZhciByZWcgPSAvXihbMS05XVtcXGRdKnwwKShbLy5dW1xcZF17MSwyfSk/JC87XG4gICAgICAgICAgICBpZiAoIXJlZy50ZXN0KHByaWNlKSkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5Lu35qC86L6T5YWl5pyJ6K+vJyk7XG4gICAgICAgICAgICAgICAgJCgnLmlucHV0X3NldHRpbmdfcHJpY2UnKS52YWwoXCJcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByaWNlIDw9IDApIHtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLku7fmoLzkuI3og73kuLowIOaIliDotJ/mlbAhXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmljZSA+IGJhc2VVdGlscy5tYXhJbnB1dFByaWNlKSB7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Lu35qC85LiN6IO95aSn5LqOIFwiICsgYmFzZVV0aWxzLm1heElucHV0UHJpY2UgKyBcIiDlhYNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHZhciBhcnIgPSB7fTtcbiAgICAgICAgICAgIGFycltcInJlc291cmNlX2lkXCJdID0gcmVzSWQ7XG4gICAgICAgICAgICBhcnJbXCJyZXNvdXJjZV90eXBlXCJdID0gcmVzVHlwZTtcbiAgICAgICAgICAgIHZhciByZXNvdXJjZUxpc3RBcnIgPSBbYXJyXTtcblxuICAgICAgICAgICAgJC5hamF4KFwiL3N1Ym1pdF9jaG9pY2VfcmVzb3VyY2VcIiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJjaGFubmVsX3R5cGVcIjogMSxcbiAgICAgICAgICAgICAgICAgICAgXCJyZXNvdXJjZV9saXN0XCI6IHJlc291cmNlTGlzdEFycixcbiAgICAgICAgICAgICAgICAgICAgXCJwaWVjZV9wcmljZVwiOiBwcmljZSAqIDEwMCwgLy8g5Y2V5L2N77yaIOWIhlxuICAgICAgICAgICAgICAgICAgICBcInN1Ym1pdF90eXBlXCI6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5zZXRfcHJpY2Vfd2luZG93XCIpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLorr7kuLrljZXljZbmiJDlip9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5ZWm77yM6K+356iN5ZCO5YaN5pCc57Si77yBXCIpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgfSxcbiAgICBpbml0U2VhcmNoUGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gIDHjgIHlvIDlp4vmkJzntKIgLSDlhajpg6jljZXlk4FcbiAgICAgICAgJChcIi5zZWFyY2hBbGxCdG5cIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcGFja2FnZUlkID0gR2V0UXVlcnlTdHJpbmcoXCJpZFwiKTtcbiAgICAgICAgICAgIHZhciByZXNvdXJjZV90eXBlID0gJChcIi5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlXCIpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIHNlYXJjaF9jb250ZW50ID0gJC50cmltKCQoXCIuaW5wdXRTZWFyY2hBbGxcIikudmFsKCkpO1xuXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL3BhY2thZ2VfZGV0YWlsX3BhZ2U/aWQ9XCIgKyBwYWNrYWdlSWQgKyBcIiZzZWFyY2hfY29udGVudD1cIiArIHNlYXJjaF9jb250ZW50ICsgXCImcmVzb3VyY2VfdHlwZT1cIiArIHJlc291cmNlX3R5cGU7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gMuOAgei+k+WFpeWujOaIkOWQju+8jOWbnui9puW8gOWni+aQnOe0oiAtIOWFqOmDqOWNleWTgVxuICAgICAgICAkKFwiLmlucHV0U2VhcmNoQWxsXCIpLmZvY3VzaW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKGRvY3VtZW50KS5rZXlwcmVzcyhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNlYXJjaEFsbEJ0bicpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLmZvY3Vzb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKCdrZXlwcmVzcycpOyAvLyAg5riF6Zmk5LqL5Lu2XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICDnm5HlkKznrZvpgInmoYbpgInmi6nkuovku7ZcbiAgICAgICAgJChcIi5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlXCIpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcuc2VhcmNoQWxsQnRuJykuY2xpY2soKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gM+OAgeWbnuaYvuaQnOe0olxuICAgICAgICBpZiAoc2VsZi5zZWFyY2hSZXNvdXJjZU5hbWUgIT0gXCJcIikge1xuICAgICAgICAgICAgJChcIi5pbnB1dFNlYXJjaEFsbFwiKS52YWwoc2VsZi5zZWFyY2hSZXNvdXJjZU5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG51bSA9ICQoXCIuc2VsZWN0b3JfcmVzb3VyY2VfdHlwZVwiKS5jaGlsZHJlbihcIm9wdGlvblwiKS5sZW5ndGg7XG4gICAgICAgIGlmIChudW0gPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoJy5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlJykuY2hpbGRyZW4oXCJvcHRpb25cIikuZXEoaSkuYXR0cihcInZhbHVlXCIpID09IHNlbGYuc2VhcmNoUmVzb3VyY2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlJykuY2hpbGRyZW4oXCJvcHRpb25cIikuZXEoaSkuYXR0cihcInNlbGVjdGVkXCIsIFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGluaXRDb3B5OiBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJy4nICsgY2xhc3NOYW1lKTsgLy/liqDovb3lpI3liLbpk77mjqXmj5Lku7ZcbiAgICAgICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWkjeWItuaIkOWKn++8geivt+WcqOW+ruS/oeWGheaJk+W8gOWTpiDjgIJcIik7XG4gICAgICAgICAgICBlLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgbWFpbnRvb2w6IGZ1bmN0aW9uKHR5cGUsIGlkKSB7IC8v5LiT5qCP5bel5YW36ZuGXG4gICAgICAgIHNlbGYuYnRuU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICduZXdMaXN0U2hvdyc6XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdMaXN0U2hvdyhpZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbmV3TGlzdEhpZGUnOlxuICAgICAgICAgICAgICAgIHRoaXMubmV3TGlzdFNob3coaWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3RvcHVwZGF0ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5wYWNrYWdlVXBkYXRlKGlkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzdGFydHVwZGF0ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5wYWNrYWdlVXBkYXRlKGlkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NvbGRvdXQnOlxuICAgICAgICAgICAgICAgIHRoaXMucGFja2FnZWlzU2hvdyhpZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncHV0YXdheSc6XG4gICAgICAgICAgICAgICAgdGhpcy5wYWNrYWdlaXNTaG93KGlkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ29wZW5Gb3JtJzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhY2thZ2VGb3JtKGlkLCBmYWxzZSk7Ly/kvKDlhaXlvZPliY3lhbPpl63nirbmgIHnmoRmYWxzZeWAvFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2xvc2VGb3JtJzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhY2thZ2VGb3JtKGlkLCB0cnVlKTsvL+S8oOWFpeW9k+WJjeW8gOWQr+eKtuaAgeeahOecn+WAvFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCflj4LmlbDplJnor68nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbmV3TGlzdFNob3c6IGZ1bmN0aW9uKGlkLCBzaG93VHlwZSkge1xuICAgICAgICB2YXIgaDVfbmV3ZXN0X2hpZGUgPSBzaG93VHlwZSA/IDEgOiAwO1xuICAgICAgICBjb25zb2xlLmxvZyhoNV9uZXdlc3RfaGlkZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGlkKTtcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgJC5hamF4KCcvc2V0X2g1X25ld2VzdF9oaWRlJywge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAvL+WPguaVsDoxLXBhY2thZ2VfaWQ7Mi1oNV9uZXdlc3RfaGlkZSgwLeacgOaWsOWIl+ihqOS4reaYvuekuiwxLeacgOaWsOWIl+ihqOS4reS4jeaYvuekulxuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAvLzDvvIwgMeS4i1xuICAgICAgICAgICAgICAgIGg1X25ld2VzdF9oaWRlOiBzaG93VHlwZSA/IDEgOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBwYWNrYWdlVXBkYXRlOiBmdW5jdGlvbihpZCwgc3RhdGVUeXBlKSB7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheCgnL3NhdmVfcGFja2FnZV9maW5pc2hlZF9zdGF0ZScsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgLy/lj4LmlbA6MS1wYWNrYWdlX2lkOzItZmluaXNoZWRfc3RhdGUoMC3mnKrlroznu5MsMS3lt7Llroznu5NcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBpZCxcbiAgICAgICAgICAgICAgICAvLzDkuIrnp7vvvIwgMeS4i+enu1xuICAgICAgICAgICAgICAgIGZpbmlzaGVkX3N0YXRlOiBzdGF0ZVR5cGUgPyAwIDogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcGFja2FnZUZvcm06IGZ1bmN0aW9uKGlkLGZvcm1UeXBlKXtcbiAgICAgICAgLy8gaWQ65LiT5qCP5piv5ZCm6KaB6K6+572u5pSv5LuY5pe25aGr5YaZ5L+h5oGv55qE5LiT5qCPaWTvvIxmb3JtVHlwZSDvvJp0cnVlLeWFgeiuuCBmYWxzZS3npoHmraJcbiAgICAgICAgdmFyIHZlcnNpb249JChcIi51c2VyX3ZlcnNpb25fbnVtXCIpLmRhdGEoXCJ2ZXJzaW9uX3R5cGVcIik7XG4gICAgICAgIGlmKHZlcnNpb24gJiYgdmVyc2lvbj09Mykge1xuICAgICAgICAgICAgJC5hbGVydChmb3JtVHlwZSA/IFwi5YWz6Zet6LWE5paZ5aGr5YaZ5ZCO77yM55So5oi35Zyo5LuY6LS56LSt5Lmw5pys5LiT5qCP5YmN5bCG5LiN5YaN5aGr5YaZ5Liq5Lq65L+h5oGv77yM5oKo56Gu6K6k6KaB5YWz6Zet5LmI77yfXCIgOlxuICAgICAgICAgICAgICAgIFwi5byA5ZCv6LWE5paZ5aGr5YaZ5ZCO77yM55So5oi35Zyo5LuY6LS56LSt5Lmw5pys5LiT5qCP5YmN5bCG5aGr5YaZ5Liq5Lq65L+h5oGv77yM5oKo56Gu6K6k6KaB5byA5ZCv5LmI77yfXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJibHVlXCIsXG4gICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoJy9zZXRfaXNfY29tcGxldGVfaW5mbycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX2NvbXBsZXRlX2luZm86IGZvcm1UeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuW9k+WJjeeJiOacrOS4jeaUr+aMgeW8gOWQr+i1hOaWmeWhq+WGme+8jOWmgumcgOW8gOWQr+ivt+WNh+e6p+iHs+S4k+S4mueJiFwiKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcGFja2FnZWlzU2hvdzogZnVuY3Rpb24oaWQsIGNoYW5nZVR5cGUpIHsgLy/kuJPmoI/kuIrkuIvmnrZcbiAgICAgICAgLyppZDog6KaB5LiK5LiL5p6255qE5LiT5qCPaWTvvIwgY2hhbmdlVHlwZe+8miB0cnVlLeS4iuaetu+8jCBmYWxzZS3kuIvmnrYqL1xuXG4gICAgICAgICQuYWxlcnQoY2hhbmdlVHlwZSA/IFwi5LiK5p625ZCO6K+l5LiT5qCP5bCG5a+55aSW5pi+56S6XCIgOiBcIuS4i+aetuWQjuivpeS4k+agj+WwhuS4jeWvueWkluaYvuekulwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAkLmFqYXgoJy9jaGFuZ2VfZ29vZHNfc3RhdGUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgIDEtZ29vZHNfaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAyLWdvb2RzX3R5cGUoMC3kuJPmoI8sMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgMy1vcGVyYXRlX3R5cGUoMC3kuIrmnrYsMS3kuIvmnrYpXG4gICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZHNfaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGVfdHlwZTogY2hhbmdlVHlwZSA/IDAgOiAxLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgc2luZ2xlVG9vbDogZnVuY3Rpb24odHlwZSwgcGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgcmVzVGl0bGUsIGlzVHJ5LCBzaG93VGltZSwgcmVzSW1nVXJsLCBwYXltZW50VHlwZSkgeyAvL+WNleWTgeW3peWFt+mbhlxuICAgICAgICBzZWxmLmJ0blN0YXRlID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAndG90b3AnOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VG9wKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2FuY2VsdG9wJzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRvcChwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ3Nob3dDb21tZW50JzpcbiAgICAgICAgICAgICAgICBpZiAocmVzVHlwZSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnREZXRhaWwoXCIvYWxpdmVjb21tZW50P2FsaXZlX2lkPVwiICsgcmVzaWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnREZXRhaWwoXCIvY29tbWVudF9hZG1pbj90eXBlPVwiICsgKHJlc1R5cGUgLSAxKSArIFwiJnJlY29yZF9pZD1cIiArIHJlc2lkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZXRUcnknOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJ5KHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHBheW1lbnRUeXBlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NhbmNlbFRyeSc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUcnkocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgcGF5bWVudFR5cGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NldF9zaW5nbGVfc2FsZSc6XG4gICAgICAgICAgICAgICAgLy9cdOiuvue9ruWNleWNllxuICAgICAgICAgICAgICAgIC8vXHQx44CB5Yik5pat5Y2V5ZOB5piv5ZCm5Li66K+V5ZCsLyDor5XnnIsgLS0+XG4gICAgICAgICAgICAgICAgLy8gIDLjgIHoi6XkuLror5XlkKzvvJog5by556qXIOaPkOekulxuICAgICAgICAgICAgICAgIC8vICAz44CB6Iul5LiN5Li66K+V5ZCs77yaIOW8ueeqlyDorr7nva7ljZXlk4HllK7ku7dcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNpbmdsZVNhbGUocmVzVHlwZSwgcmVzVGl0bGUsIGlzVHJ5LCBzaG93VGltZSwgcmVzSW1nVXJsLCByZXNpZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjYW5jZWxfc2luZ2xlX3NhbGUnOlxuICAgICAgICAgICAgICAgIC8vIFx05Y+W5raI5Y2V5Y2WXG4gICAgICAgICAgICAgICAgLy9cdDHjgIHlvLnnqpfmj5DnpLpcbiAgICAgICAgICAgICAgICAvL1x0MuOAgeehruWumuWPlua2iFxuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsU2luZ2xlU2FsZShyZXNUeXBlLCByZXNpZCwgcGF5bWVudFR5cGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc29sZG91dCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zaW5nbGVpc1Nob3cocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwdXRhd2F5JzpcbiAgICAgICAgICAgICAgICB0aGlzLnNpbmdsZWlzU2hvdyhwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZWwnOlxuICAgICAgICAgICAgICAgIHRoaXMucXVlcnlTaW5nbGUocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdlbmFibGVfY29weSc6Ly/lhYHorrjlpI3liLZcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUNhblNlbGVjdFN0YXRlKHJlc2lkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2ZvcmJpZF9jb3B5JzovL+emgeatouWkjeWItlxuICAgICAgICAgICAgICAgIHZhciAkZWxlID0gdGhpcztcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi56aB5q2i5aSN5Yi25ZCO77yM6K+l56+H5Zu+5paH55qE5Zu+54mH54K55Ye75pS+5aSn5ZKM6ZW/5oyJ6K+G5Yir5LqM57u056CB5Yqf6IO95bCG6KKr56aB55SoXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMyxcbiAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGVsZS5jaGFuZ2VDYW5TZWxlY3RTdGF0ZShyZXNpZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdleHBvcnRfYXVkaW8nOi8v5a+85Ye66Z+z6aKRXG4gICAgICAgICAgICAgICAgdGhpcy5leHBvcnRBdWRpbyhyZXNpZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WPguaVsOmUmeivrycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBleHBvcnRBdWRpbzogZnVuY3Rpb24gKGFsaXZlSWQpIHtcblxuICAgICAgICAkLmFqYXgoXCIvYXN5bmNfZG93bmxvYWRfYWxpdmVfdm9pY2VcIiwge1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgYWxpdmVfaWQ6IGFsaXZlSWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChyZXN1bHQuY29kZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlc3VsdC5kYXRhWyd1cmwnXTsgICAgICAvL+ebtOaOpeW8gOWni+S4i+i9vemfs+mikeaWh+S7tlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLor63pn7PmraPlnKjlkIjmiJDkuK3vvIzmoLnmja7mgqjnm7Tmkq3pl7TlhoXnmoTpn7PpopHmlbDph4/pnIDopoExMOWIhumSn+WIsDTkuKrlsI/ml7bkuI3nrYnvvIzor7fnqI3lgJnorr/pl67jgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi5byA5aeL6L+b6KGM6K+t6Z+z5ZCI5oiQ77yM5qC55o2u5oKo55u05pKt6Ze05YaF55qE6Z+z6aKR5pWw6YeP6ZyA6KaBMTDliIbpkp/liLA05Liq5bCP5pe25LiN562J77yM6K+356iN5YCZ6K6/6Zeu44CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuacjeWKoeWZqOato+WcqOe7tOaKpO+8jOebtOaSremfs+mikeWvvOWHuuWKn+iDveWPl+WIsOW9seWTje+8jOivt+eojeWQjuWGjeivleOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLor6Xnm7Tmkq3msqHmnInpn7PpopHjgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6L+Z5Liq55u05pKt5LiN5piv6K+t6Z+z57G75Z6L55qE77yM5LiN5pSv5oyB6Z+z6aKR5a+85Ye644CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIui/meS4quebtOaSrei/mOayoee7k+adn++8jOaaguS4jeaUr+aMgemfs+mikeWvvOWHuuOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPguaVsOmUmeivr1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChyZXN1bHQubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQubXNnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuacjeWKoeWZqOWHuuWwj+W3ruS6hu+8jOivt+eojeWQjuWGjeivle+8gVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9LFxuICAgIGNoYW5nZUNhblNlbGVjdFN0YXRlOiBmdW5jdGlvbiAocmVzSWQsIGNhblNlbGVjdCkge1xuXG4gICAgICAgICQuYWpheChcIi9zZXRfcmVzb3VyY2Vfc2VsZWN0X2NhblwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpZDogcmVzSWQsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogMSxcbiAgICAgICAgICAgICAgICBjYW5fc2VsZWN0OiBjYW5TZWxlY3QgPyAxIDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhblNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuW3sue7j+WFgeiuuOWkjeWItlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlt7Lnu4/npoHmraLlpI3liLZcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9LFxuICAgIHNldFRvcDogZnVuY3Rpb24ocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgdG9wKSB7IC8v572u6aG25pON5L2cXG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgIC8qMS1wYWNrYWdlX2lkO1xuICAgICAgICAyLXJlc291cmNlX3R5cGUoMC3kuJPmoI8sMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAzLXJlc291cmNlX2lkO1xuICAgICAgICA0LXRvcF9zdGF0ZSgwLeWPlua2iOe9rumhtiwxLeiuvue9rue9rumhtikqL1xuICAgICAgICAkLmFqYXgoJy9zZXRfcGFja2FnZV9yZXNvdXJjZV90b3AnLCB7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHBhY2thZ2VpZCxcbiAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlOiByZXNUeXBlLFxuICAgICAgICAgICAgICAgIHJlc291cmNlX2lkOiByZXNpZCxcbiAgICAgICAgICAgICAgICB0b3Bfc3RhdGU6IHRvcCA/IDEgOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNldFRyeTogZnVuY3Rpb24ocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgcGF5bWVudFR5cGUsIHRyeVN0YXRlKSB7IC8v6K+V5ZCsXG5cbiAgICAgICAgLy8gaWYgKHJlc1R5cGUgPT0gNCkge1xuICAgICAgICAvLyAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pqC5LiN5pSv5oyB5bCG55u05pKt6K6+5Li66K+V55yLIVwiKTtcbiAgICAgICAgLy8gICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gfVxuICAgICAgICBpZiAocGF5bWVudFR5cGUgPT0gMSB8fCBwYXltZW50VHlwZSA9PSAyKSB7XG4gICAgICAgICAgICBpZiAocmVzVHlwZSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeWNleWTgeW3suiuvuS4uuWNleWNlu+8jOWPlua2iOWNleWNluWQjuaWueWPr+iuvuS4uuivleWQrFwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc1R5cGUgPT0gMSB8fCByZXNUeXBlID09IDMgfHwgcmVzVHlwZSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeWNleWTgeW3suiuvuS4uuWNleWNlu+8jOWPlua2iOWNleWNluWQjuaWueWPr+iuvuS4uuivleeci1wiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAkLmFqYXgoJy9zZXRfcGFja2FnZV9yZXNvdXJjZV90cnknLCB7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgLyrlj4LmlbA6XG4gICAgICAgICAgICAxLXBhY2thZ2VfaWQ7XG4gICAgICAgICAgICAyLXJlc291cmNlX3R5cGUoMi3pn7PpopEpO1xuICAgICAgICAgICAgMy1yZXNvdXJjZV9pZDtcbiAgICAgICAgICAgIDQtdHJ5X3N0YXRlKDAt5Y+W5raI6K+V5ZCsLDEt6K6+5Li66K+V5ZCsKSovXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcGFja2FnZV9pZDogcGFja2FnZWlkLFxuICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IHJlc1R5cGUsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfaWQ6IHJlc2lkLFxuICAgICAgICAgICAgICAgIHRyeV9zdGF0ZTogdHJ5U3RhdGUgPyAxIDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9LFxuICAgIHNpbmdsZWlzU2hvdzogZnVuY3Rpb24ocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgc2hvd1N0YXRlKSB7IC8v5Y2V5ZOB5LiK5LiL5p62XG4gICAgICAgIC8qc2hvd1N0YXRlOiB0cnVlLeS4i+aetiAgZmFsc2Ut5LiK5p62Ki9cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgdGV4dCA9IHNob3dTdGF0ZSA/ICfkuIvmnrblkI7or6XljZXlk4HlsIbkuI3lr7nlpJbmmL7npLonIDogJ+S4iuaetuWQjuivpeWNleWTgeWwhuWvueWkluaYvuekuic7XG4gICAgICAgICQuYWxlcnQodGV4dCwgJ2luZm8nLCB7XG4gICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICBvbk9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgICAgICQuYWpheCgnL2NoYW5nZV9nb29kc19zdGF0ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgMS1nb29kc19pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIDItZ29vZHNfdHlwZSgwLeS4k+agjywxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAzLW9wZXJhdGVfdHlwZSgwLeS4iuaetiwxLeS4i+aetilcbiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBnb29kc19pZDogcmVzaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBnb29kc190eXBlOiByZXNUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0ZV90eXBlOiBzaG93U3RhdGUgPyAxIDogMCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLypzZWxmLnRvb2xCb3hCdG4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudG9EZXRhaWwgPSB0cnVlOyovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qc2VsZi50b29sQm94QnRuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudG9EZXRhaWwgPSB0cnVlOyovXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcXVlcnlTaW5nbGU6IGZ1bmN0aW9uKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQpIHtcbiAgICAgICAgLypzaG93U3RhdGU6IHRydWUt5LiL5p62ICBmYWxzZS3kuIrmnrYqL1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICB0ZXh0ID0gJyc7XG4gICAgICAgICQuYWpheCgnL3F1ZXJ5X2dvb2RzX3N0YXRlJywge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIC8q5Y+C5pWwOlxuICAgICAgICAgICAgICAgIDEtZ29vZHNfaWQ7XG4gICAgICAgICAgICAgICAgMi1nb29kc190eXBlKDEt5Zu+5paHLDIt6Z+z6aKRLDMt6KeG6aKRLDQt55u05pKtKTtcbiAgICAgICAgICAgICAgICAzLWNoYW5uZWxfdHlwZSgwLeWNleWTgSwxLeS4k+agj+WGhei1hOa6kCk7XG4gICAgICAgICAgICAgICAgNC1wYWNrYWdlX2lkKOW9k2NoYW5uZWxfdHlwZT0x5pe25pyJ5YC8KSovXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBnb29kc19pZDogcmVzaWQsXG4gICAgICAgICAgICAgICAgICAgIGdvb2RzX3R5cGU6IHJlc1R5cGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxfdHlwZTogMSxcbiAgICAgICAgICAgICAgICAgICAgcGFja2FnZV9pZDogcGFja2FnZWlkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZHNMaXN0ID0gcmVzdWx0LmRhdGEucmVjb3Jkc19saXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyTGVuZ3RoID0gT2JqZWN0LmtleXMocmVjb3Jkc0xpc3QpLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuaXNfZXhpc3QgPT0gMCkgeyAgICAgICAgICAgIC8vICDlj6rlsZ7kuo7mn5DkuKrkuJPmoI/nmoTljZXlk4FcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSAn56Gu6K6k56e76Zmk6K+l5YaF5a6577yM56e76Zmk5ZCO5omA5pyJ55So5oi35bCG5peg5rOV5p+l55yL5q2k5YaF5a655LiUPHNwYSBzdHlsZT1cImNvbG9yOiByZWQ7XCI+5LiN5Y+v5oGi5aSNPC9zcGE+JztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZWNvcmRzTGlzdFswXSA9PSB1bmRlZmluZWQpIHsgICAgICAvLyAg5Y+q5bGe5LqO5aSa5Liq5LiT5qCP55qE5Y2V5ZOBXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChyZWNvcmRzTGlzdCwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IFwi44CKXCIgKyB2YWx1ZS50aXRsZSArIFwi44CLXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFwi56Gu6K6k56e76Zmk6K+l5YaF5a6577yM56e76Zmk5ZCO6K+l5LiT5qCP55So5oi35bCG5peg5rOV5p+l55yL5q2k5YaF5a6544CC5q2k5YaF5a655LuN5a2Y5Zyo5LqOXCIgKyB0ZXh0ICsgXCLkuK1cIjtcblxuICAgICAgICAgICAgICAgICAgICB9ICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJMZW5ndGggPT0gMSkgeyAgICAgICAgICAgICAgICAgICAvLyAg5Y2V5ZOB5Y2V5Y2W5LiU5bGe5LqO5LiA5Liq5LiT5qCPXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFwi56Gu6K6k56e76Zmk6K+l5YaF5a6577yM56e76Zmk5ZCO6K+l5LiT5qCP55So5oi35bCG5peg5rOV5p+l55yL5q2k5YaF5a6544CC5q2k5YaF5a655LuN5Zyo5Y2V5ZOB5YiX6KGo5LiU5Y2V54us5ZSu5Y2WXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAg5Y2V5ZOB5Y2V5Y2W5LiU5bGe5LqO5aSa5Liq5LiT5qCPXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2gocmVjb3Jkc0xpc3QsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBcIuOAilwiICsgdmFsdWUudGl0bGUgKyBcIuOAi1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCLnoa7orqTnp7vpmaTor6XlhoXlrrnvvIznp7vpmaTlkI7or6XkuJPmoI/nlKjmiLflsIbml6Dms5Xmn6XnnIvmraTlhoXlrrnjgILmraTlhoXlrrnljZXni6zllK7ljZbkuJTku43lrZjlnKjkuo5cIiArIHRleHQgKyBcIuS4rVwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKHJlc3VsdC5tc2cpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICQuYWxlcnQodGV4dCwgJ2luZm8nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBva3RleHQ6ICfnoa7orqTnp7vpmaQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kZWxldGVTaW5nbGUocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsZXRlU2luZ2xlOiBmdW5jdGlvbihwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkKSB7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheCgnL21vdmVfZ29vZHMnLCB7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIC8q5Y+C5pWwOlxuICAgICAgICAgICAgICAgIDEtZ29vZHNfaWQ7XG4gICAgICAgICAgICAgICAgMi1nb29kc190eXBlKDEt5Zu+5paHLDIt6Z+z6aKRLDMt6KeG6aKRLDQt55u05pKtKTtcbiAgICAgICAgICAgICAgICAzLWNoYW5uZWxfdHlwZSgwLeWNleWTgSwxLeS4k+agj+WGhei1hOa6kCk7XG4gICAgICAgICAgICAgICAgNC1wYWNrYWdlX2lkKOW9k2NoYW5uZWxfdHlwZT0x5pe25pyJ5YC8KVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZ29vZHNfaWQ6IHJlc2lkLFxuICAgICAgICAgICAgICAgIGdvb2RzX3R5cGU6IHJlc1R5cGUsXG4gICAgICAgICAgICAgICAgY2hhbm5lbF90eXBlOiAxLFxuICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHBhY2thZ2VpZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgZ2V0U2VsZWN0RGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgJC5hamF4KCcvY2hvaWNlX3Jlc291cmNlX2xpc3QnLCB7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgLyrlj4LmlbA6XG4gICAgICAgICAgICAxLWNoYW5uZWxfdHlwZSgxLeWNleWTgSwyLeS4k+agjywzLeS8muWRmClcbiAgICAgICAgICAgIDIt5pCc57Si5YaF5a65LXNlYXJjaF9jb250ZW50O1xuICAgICAgICAgICAgMy1yZXNvdXJjZV90eXBlKDAt5YWo6YOoLDEt5Zu+5paHLDIt6Z+z6aKRLDMt6KeG6aKRLDQt55u05pKtKTtcbiAgICAgICAgICAgIDQtcGFnZSjliIbpobXpobXnoIEpO1xuICAgICAgICAgICAgNS1wYWNrYWdlX2lkKOW9k2NoYW5uZWxfdHlwZT0y44CBM+aXtizmnInlgLwpXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHNlYXJjaF9jb250ZW50OiBzZWxmLnNlYXJjaENvbnRlbnQgfHwgJycsXG4gICAgICAgICAgICAgICAgY2hhbm5lbF90eXBlOiAyLFxuICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IDAsXG4gICAgICAgICAgICAgICAgcGFja2FnZV9pZDogc2VsZi5pZCxcbiAgICAgICAgICAgICAgICBwYWdlOiBzZWxmLnBhZ2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkc2VsZWN0QXJlYSA9ICQoJyNzZWxlY3RBcmVhTGlzdCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U3RyID0gJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlT2JqID0gSlNPTi5wYXJzZShyZXN1bHQuZGF0YS5wYWdlX29mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChyZXN1bHQuZGF0YS5yZXNvdXJjZV9saXN0LCBmdW5jdGlvbihpLCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2VfdHlwZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgrdGhpcy5yZXNvdXJjZV90eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlID0gJ+WbvuaWhyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZSA9ICfpn7PpopEnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGUgPSAn6KeG6aKRJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlID0gJ+ebtOaSrSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGUgPSAn5pegJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFN0ciArPSAnPGRpdiBjbGFzcz1cInJlc291cmNlSXRlbVdyYXBwZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGlucHV0IHZhbHVlPVwiJyArIHRoaXMucmVzb3VyY2VfdHlwZSArICdcIiBpZD1cIicgKyB0aGlzLmlkICsgJ1wiIGNsYXNzPVwid2l0aC1nYXAgcmVzb3VyY2VfcmFkaW9cIiBuYW1lPVwic2VsZWN0X3Jlc291cmNlXCIgdHlwZT1cImNoZWNrYm94XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsYWJlbCBmb3I9XCInICsgdGhpcy5pZCArICdcIiBjbGFzcz1cInJhZGlvX2Rlc2NcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInJlc291cmNlX2ljb25fd3JhcHBlclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW1nIGNsYXNzPVwicmVzb3VyY2VfaWNvblwiIHNyYz1cIicgKyB0aGlzLmltZ191cmwgKyAnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGl0bGUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2xhYmVsPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInJlc291cmNlX3R5cGVcIj4nICsgcmVzb3VyY2VfdHlwZSArICc8L3NwYW4+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicmVzb3VyY2VfdGltZVwiPicgKyB0aGlzLnN0YXJ0X2F0ICsgJzwvc3Bhbj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RTdHIubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFN0ciArPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGVudE5vbmVUaXBcIj7mmoLml6DmlbDmja48L2Rpdj4nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnBhZ2UgPT0gMSB8fCAhc2VsZi5wYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0QXJlYS5odG1sKHNlbGVjdFN0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0QXJlYS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJpc0Rvd25cIj7otYTmupDliqDovb3kuK08L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL+mmluasoeWKoOi9ve+8jOaYvuekulxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLnNlYXJjaENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2VsZWN0V2luZG93JykuZmFkZUluKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5wYWdlID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdEFyZWEuZmluZCgnLmlzRG93bicpLmJlZm9yZShzZWxlY3RTdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy/mlbDmja7liqDovb3lrozmr5XlkI7nmoTmk43kvZxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VPYmouY3VycmVudF9wYWdlID49IHBhZ2VPYmoudG90YWxfcGFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3RBcmVhLmZpbmQoJy5pc0Rvd24nKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhhc0Rvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSsrO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5ouJ5Y+W5bey5pyJ5Y2V5ZOB5aSx6LSl77yBXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdfQ==
