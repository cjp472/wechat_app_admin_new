$(function(){manageArticle.init()});var manageArticle=function(){var e={};var r;function t(e){if($formCheck.emptyString(e.title)){baseUtils.show.redTip("图文名称不能为空！");return false}if($formCheck.emptyString(e.img_url)){baseUtils.show.redTip("请上传您的图文封面！");return false}if($formCheck.emptyString(e.start_at)){baseUtils.show.redTip("请填入您的图文上架时间！");return false}if(!$formCheck.checkTime(e.start_at)){baseUtils.show.redTip("图文上架时间错误");return false}if(uploadChannelType==1&&e.payment_type==2&&$formCheck.emptyString(e.piece_price)){baseUtils.show.redTip("您选择的付费形式为付费，请输入价格！");return false}if(uploadChannelType==1&&e.payment_type==2&&!$formCheck.checkNum(e.piece_price)){baseUtils.show.redTip("您的价格输入格式有误，请重新输入！");return false}if(uploadChannelType==1&&e.payment_type==2&&e.piece_price>baseUtils.maxInputPrice*100){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}return true}function a(e,r){showLoading();$.ajax(e,{type:"POST",dataType:"json",data:r,success:function(e){if(parseInt(e.code)===0){baseUtils.show.blueTip("保存成功");setTimeout(function(){window.location.href=backURL},700)}else{hideLoading();baseUtils.show.redTip(e.msg);submitLimt=false}},error:function(e,r,t){hideLoading();console.error(t);baseUtils.show.redTip("网络错误，请稍后再试！");submitLimt=false}})}e.init=function(){$(".completeBtn").click(function(){var e=$.trim($(".resName").val());var r=$.trim($("#Image1Url").val());var i=UE.getEditor("resource_desc");var s=i.getContent();var n=UE.getEditor("contentTry");var o=ue1.getContent();var l=i.getPlainTxt();if(l.length==0){baseUtils.show.redTip("描述不能为空!");return false}var c=n.getPlainTxt();if(c.length==0){baseUtils.show.redTip("描述不能为空!");return false}var p=$.trim($(".resPrize").val())*100;$('input[name="aliveClass"]:checked').each(function(){classArray.push($(this).attr("id"))});console.log(classArray);var u=$.trim($("#dateInput").val());var m={title:e,img_url:r,org_content:s,try_content:c,try_org_content:o,content:l,piece_price:p,start_at:u,id:GetQueryString("id")||null};var f=$("#serviceToggle :radio:checked").val();if(f){m.push_state=f}if(resourceFree){m.payment_type=resourceFree}if(t(m)){var d={params:m,resource_type:resourceType,upload_channel_type:uploadChannelType,package_id:packageId,resource_params:resourceParams,package_name:packageName,roleParams:roleParams,category_type:classArray};a(golbalUrl,d)}else{return false}})};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hbmFnZUFydGljbGUuanMiXSwibmFtZXMiOlsiJCIsIm1hbmFnZUFydGljbGUiLCJpbml0IiwicmVzVXJsIiwiY2hlY2tBcnRpY2xlRm9ybSIsImluZm8iLCIkZm9ybUNoZWNrIiwiZW1wdHlTdHJpbmciLCJ0aXRsZSIsImJhc2VVdGlscyIsInNob3ciLCJyZWRUaXAiLCJpbWdfdXJsIiwic3RhcnRfYXQiLCJjaGVja1RpbWUiLCJ1cGxvYWRDaGFubmVsVHlwZSIsInBheW1lbnRfdHlwZSIsInBpZWNlX3ByaWNlIiwiY2hlY2tOdW0iLCJtYXhJbnB1dFByaWNlIiwic3VibWl0Rm9ybSIsInVybCIsImFsbFBhcmFtcyIsInNob3dMb2FkaW5nIiwiYWpheCIsInR5cGUiLCJkYXRhVHlwZSIsImRhdGEiLCJzdWNjZXNzIiwicGFyc2VJbnQiLCJjb2RlIiwiYmx1ZVRpcCIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJiYWNrVVJMIiwiaGlkZUxvYWRpbmciLCJtc2ciLCJzdWJtaXRMaW10IiwiZXJyb3IiLCJ4aHIiLCJzdGF0dXMiLCJlcnIiLCJjb25zb2xlIiwiY2xpY2siLCJ0cmltIiwidmFsIiwiaW1hZ2UxVXJsIiwidWUiLCJVRSIsImdldEVkaXRvciIsIm9yZ0NvbnRlbnQiLCJnZXRDb250ZW50IiwidWVUcnkiLCJvcmdDb250ZW50VHJ5IiwidWUxIiwiZGVzY3JpYiIsImdldFBsYWluVHh0IiwibGVuZ3RoIiwiZGVzY3JpYlRyeSIsInJlc1ByaXplIiwiZWFjaCIsImNsYXNzQXJyYXkiLCJwdXNoIiwidGhpcyIsImF0dHIiLCJsb2ciLCJzdGFydEF0IiwicmVzSW5mbyIsIm9yZ19jb250ZW50IiwidHJ5X2NvbnRlbnQiLCJ0cnlfb3JnX2NvbnRlbnQiLCJjb250ZW50IiwiaWQiLCJHZXRRdWVyeVN0cmluZyIsInB1c2hTdGF0ZSIsInB1c2hfc3RhdGUiLCJyZXNvdXJjZUZyZWUiLCJwYXJhbXMiLCJyZXNvdXJjZV90eXBlIiwicmVzb3VyY2VUeXBlIiwidXBsb2FkX2NoYW5uZWxfdHlwZSIsInBhY2thZ2VfaWQiLCJwYWNrYWdlSWQiLCJyZXNvdXJjZV9wYXJhbXMiLCJyZXNvdXJjZVBhcmFtcyIsInBhY2thZ2VfbmFtZSIsInBhY2thZ2VOYW1lIiwicm9sZVBhcmFtcyIsImNhdGVnb3J5X3R5cGUiLCJnb2xiYWxVcmwiXSwibWFwcGluZ3MiOiJBQU1BQSxFQUFFLFdBRUVDLGNBQWNDLFFBR2xCLElBQUlELGVBQWdCLFdBQ2hCLEdBQUlBLEtBRUosSUFBSUUsRUFHSixTQUFTQyxHQUFpQkMsR0FDdEIsR0FBSUMsV0FBV0MsWUFBWUYsRUFBS0csT0FBUSxDQUNwQ0MsVUFBVUMsS0FBS0MsT0FBTyxZQUN0QixPQUFPLE9BRVgsR0FBSUwsV0FBV0MsWUFBWUYsRUFBS08sU0FBVSxDQUN0Q0gsVUFBVUMsS0FBS0MsT0FBTyxhQUN0QixPQUFPLE9BRVgsR0FBSUwsV0FBV0MsWUFBWUYsRUFBS1EsVUFBVyxDQUN2Q0osVUFBVUMsS0FBS0MsT0FBTyxlQUN0QixPQUFPLE9BRVgsSUFBS0wsV0FBV1EsVUFBVVQsRUFBS1EsVUFBVyxDQUN0Q0osVUFBVUMsS0FBS0MsT0FBTyxXQUN0QixPQUFPLE9BRVgsR0FBR0ksbUJBQW1CLEdBQUdWLEVBQUtXLGNBQWMsR0FBS1YsV0FBV0MsWUFBWUYsRUFBS1ksYUFBYSxDQUN0RlIsVUFBVUMsS0FBS0MsT0FBTyxxQkFDdEIsT0FBTyxPQUVYLEdBQUdJLG1CQUFtQixHQUFHVixFQUFLVyxjQUFjLElBQU1WLFdBQVdZLFNBQVNiLEVBQUtZLGFBQWEsQ0FDcEZSLFVBQVVDLEtBQUtDLE9BQU8sb0JBQ3RCLE9BQU8sT0FFWCxHQUFHSSxtQkFBbUIsR0FBR1YsRUFBS1csY0FBYyxHQUFLWCxFQUFLWSxZQUFjUixVQUFVVSxjQUFnQixJQUFJLENBQzlGVixVQUFVQyxLQUFLQyxPQUFPLFVBQVlGLFVBQVVVLGNBQWdCLEtBQzVELE9BQU8sT0FFWCxNQUFPLE1BSVgsUUFBU0MsR0FBV0MsRUFBS0MsR0FDckJDLGFBQ0F2QixHQUFFd0IsS0FBS0gsR0FDSEksS0FBTSxPQUNOQyxTQUFVLE9BQ1ZDLEtBQUtMLEVBQ0xNLFFBQVEsU0FBVUQsR0FDZCxHQUFJRSxTQUFTRixFQUFLRyxRQUFVLEVBQUcsQ0FDM0JyQixVQUFVQyxLQUFLcUIsUUFBUSxPQUN2QkMsWUFBVyxXQUNQQyxPQUFPQyxTQUFTQyxLQUFPQyxTQUN6QixTQUVELENBQ0RDLGFBQ0E1QixXQUFVQyxLQUFLQyxPQUFPZ0IsRUFBS1csSUFDM0JDLFlBQWEsUUFHckJDLE1BQU8sU0FBU0MsRUFBSUMsRUFBT0MsR0FDdkJOLGFBQ0FPLFNBQVFKLE1BQU1HLEVBQ2RsQyxXQUFVQyxLQUFLQyxPQUFPLGNBQ3RCNEIsWUFBYSxTQU16QnRDLEVBQWNDLEtBQU8sV0FLakJGLEVBQUUsZ0JBQWdCNkMsTUFBTSxXQUlwQixHQUFJckMsR0FBUVIsRUFBRThDLEtBQUs5QyxFQUFFLFlBQVkrQyxNQUdqQyxJQUFJQyxHQUFZaEQsRUFBRThDLEtBQUs5QyxFQUFFLGNBQWMrQyxNQUd2QyxJQUFJRSxHQUFLQyxHQUFHQyxVQUFVLGdCQUN0QixJQUFJQyxHQUFhSCxFQUFHSSxZQUdwQixJQUFJQyxHQUFRSixHQUFHQyxVQUFVLGFBQ3pCLElBQUlJLEdBQWdCQyxJQUFJSCxZQUd4QixJQUFJSSxHQUFVUixFQUFHUyxhQUNqQixJQUFJRCxFQUFRRSxRQUFVLEVBQUcsQ0FDckJsRCxVQUFVQyxLQUFLQyxPQUFPLFVBQ3RCLE9BQU8sT0FJWCxHQUFJaUQsR0FBYU4sRUFBTUksYUFDdkIsSUFBSUUsRUFBV0QsUUFBVSxFQUFHLENBQ3hCbEQsVUFBVUMsS0FBS0MsT0FBTyxVQUN0QixPQUFPLE9BSVgsR0FBSWtELEdBQVc3RCxFQUFFOEMsS0FBSzlDLEVBQUUsYUFBYStDLE9BQU8sR0FHNUMvQyxHQUFFLG9DQUFvQzhELEtBQUssV0FDdkNDLFdBQVdDLEtBQUtoRSxFQUFFaUUsTUFBTUMsS0FBSyxRQUVqQ3RCLFNBQVF1QixJQUFJSixXQUdaLElBQUlLLEdBQVVwRSxFQUFFOEMsS0FBSzlDLEVBQUUsY0FBYytDLE1BR3JDLElBQUlzQixJQUVBN0QsTUFBT0EsRUFFUEksUUFBU29DLEVBRVRzQixZQUFZbEIsRUFFWm1CLFlBQVlYLEVBRVpZLGdCQUFnQmpCLEVBRWhCa0IsUUFBUWhCLEVBR1J4QyxZQUFhNEMsRUFFYmhELFNBQVV1RCxFQUVWTSxHQUFJQyxlQUFlLE9BQVMsS0FJaEMsSUFBSUMsR0FBWTVFLEVBQUUsaUNBQWlDK0MsS0FDbkQsSUFBRzZCLEVBQVUsQ0FDVFAsRUFBUVEsV0FBYUQsRUFHekIsR0FBR0UsYUFBYyxDQUNiVCxFQUFRckQsYUFBZThELGFBSzNCLEdBQUkxRSxFQUFpQmlFLEdBQVUsQ0FDM0IsR0FBSS9DLElBQ0F5RCxPQUFRVixFQUNSVyxjQUFlQyxhQUNmQyxvQkFBcUJuRSxrQkFDckJvRSxXQUFZQyxVQUNaQyxnQkFBaUJDLGVBQ2pCQyxhQUFjQyxZQUNkQyxXQUFZQSxXQUNaQyxjQUFjM0IsV0FFbEIzQyxHQUFXdUUsVUFBVXJFLE9BR2xCLENBQ0gsTUFBTyxVQUtuQixPQUFPckIiLCJmaWxlIjoibWFuYWdlQXJ0aWNsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBqc2VyayBvbiAyMDE3LzMvMjMuXG4gKi9cbi8qKlxuICogQ3JlYXRlZCBieSBqc2VyayBvbiAyMDE3LzMvMjMuXG4gKi9cbiQoZnVuY3Rpb24gKCkge1xuXG4gICAgbWFuYWdlQXJ0aWNsZS5pbml0KCk7XG5cbn0pO1xudmFyIG1hbmFnZUFydGljbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1hbmFnZUFydGljbGUgPSB7fTtcblxuICAgIHZhciByZXNVcmw7XG5cbiAgICAvL+ajgOafpeWbvuaWh+aPkOS6pOihqOWNlVxuICAgIGZ1bmN0aW9uIGNoZWNrQXJ0aWNsZUZvcm0oaW5mbykge1xuICAgICAgICBpZiAoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLnRpdGxlKSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Zu+5paH5ZCN56ew5LiN6IO95Li656m677yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8uaW1nX3VybCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+S4iuS8oOaCqOeahOWbvuaWh+Wwgemdou+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLnN0YXJ0X2F0KSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35aGr5YWl5oKo55qE5Zu+5paH5LiK5p625pe26Ze077yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghJGZvcm1DaGVjay5jaGVja1RpbWUoaW5mby5zdGFydF9hdCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWbvuaWh+S4iuaetuaXtumXtOmUmeivr1wiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZih1cGxvYWRDaGFubmVsVHlwZT09MSYmaW5mby5wYXltZW50X3R5cGU9PTIgJiYgJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLnBpZWNlX3ByaWNlKSl7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmgqjpgInmi6nnmoTku5jotLnlvaLlvI/kuLrku5jotLnvvIzor7fovpPlhaXku7fmoLzvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYodXBsb2FkQ2hhbm5lbFR5cGU9PTEmJmluZm8ucGF5bWVudF90eXBlPT0yICYmICEkZm9ybUNoZWNrLmNoZWNrTnVtKGluZm8ucGllY2VfcHJpY2UpKXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaCqOeahOS7t+agvOi+k+WFpeagvOW8j+acieivr++8jOivt+mHjeaWsOi+k+WFpe+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZih1cGxvYWRDaGFubmVsVHlwZT09MSYmaW5mby5wYXltZW50X3R5cGU9PTIgJiYgaW5mby5waWVjZV9wcmljZSA+IGJhc2VVdGlscy5tYXhJbnB1dFByaWNlICogMTAwKXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS7t+agvOS4jeiDveWkp+S6jiBcIiArIGJhc2VVdGlscy5tYXhJbnB1dFByaWNlICsgXCIg5YWDXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8v5o+Q5Lqk5L+h5oGvXG4gICAgZnVuY3Rpb24gc3VibWl0Rm9ybSh1cmwsIGFsbFBhcmFtcykge1xuICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAkLmFqYXgodXJsLCB7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgZGF0YTphbGxQYXJhbXMsXG4gICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KGRhdGEuY29kZSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuS/neWtmOaIkOWKn1wiKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGJhY2tVUkw7XG4gICAgICAgICAgICAgICAgICAgIH0sNzAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdExpbXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocixzdGF0dXMsZXJyKSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIEnKTtcbiAgICAgICAgICAgICAgICBzdWJtaXRMaW10ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgbWFuYWdlQXJ0aWNsZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuXG5cblxuICAgICAgICAvLyDmj5DkuqTlm77mlofooajljZVcbiAgICAgICAgJChcIi5jb21wbGV0ZUJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8v6I635Y+W5Zu+5paH6KGo5Y2V5pWw5o2uXG4gICAgICAgICAgICAvL+WbvuaWh+WQjeensFxuICAgICAgICAgICAgdmFyIHRpdGxlID0gJC50cmltKCQoXCIucmVzTmFtZVwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIC8v5Zu+5paH5bCB6Z2i5Zyw5Z2AXG4gICAgICAgICAgICB2YXIgaW1hZ2UxVXJsID0gJC50cmltKCQoXCIjSW1hZ2UxVXJsXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgLy/lm77mlofljp/lp4vlhoXlrrnor6bmg4VcbiAgICAgICAgICAgIHZhciB1ZSA9IFVFLmdldEVkaXRvcigncmVzb3VyY2VfZGVzYycpO1xuICAgICAgICAgICAgdmFyIG9yZ0NvbnRlbnQgPSB1ZS5nZXRDb250ZW50KCk7XG5cbiAgICAgICAgICAgIC8v5Zu+5paH6K+V55yL6K+m5oOFXG4gICAgICAgICAgICB2YXIgdWVUcnkgPSBVRS5nZXRFZGl0b3IoJ2NvbnRlbnRUcnknKTtcbiAgICAgICAgICAgIHZhciBvcmdDb250ZW50VHJ5ID0gdWUxLmdldENvbnRlbnQoKTtcblxuICAgICAgICAgICAgLy/otYTmupDlhoXlrrnmj4/ov7BcbiAgICAgICAgICAgIHZhciBkZXNjcmliID0gdWUuZ2V0UGxhaW5UeHQoKTtcbiAgICAgICAgICAgIGlmIChkZXNjcmliLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmj4/ov7DkuI3og73kuLrnqbohJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL+WbvuaWh+ivleeci+aPj+i/sFxuICAgICAgICAgICAgdmFyIGRlc2NyaWJUcnkgPSB1ZVRyeS5nZXRQbGFpblR4dCgpO1xuICAgICAgICAgICAgaWYgKGRlc2NyaWJUcnkubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aPj+i/sOS4jeiDveS4uuepuiEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8v5LuY6LS55Lu35qC8XG4gICAgICAgICAgICB2YXIgcmVzUHJpemUgPSAkLnRyaW0oJChcIi5yZXNQcml6ZVwiKS52YWwoKSkqMTAwO1xuXG4gICAgICAgICAgICAvL+ebtOaSremAieaLqeWIhuexu1xuICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cImFsaXZlQ2xhc3NcIl06Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBjbGFzc0FycmF5LnB1c2goJCh0aGlzKS5hdHRyKCdpZCcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2xhc3NBcnJheSk7XG5cbiAgICAgICAgICAgIC8v5LiK5p625pe26Ze0XG4gICAgICAgICAgICB2YXIgc3RhcnRBdCA9ICQudHJpbSgkKFwiI2RhdGVJbnB1dFwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIC8v5Zu+5paH5Y2V5ZOB5LiK5Lyg5L+h5oGvXG4gICAgICAgICAgICB2YXIgcmVzSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAvLyDlm77mloflkI3np7BcbiAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgLy8g5Zu+5paH5bCB6Z2i5Zyw5Z2AXG4gICAgICAgICAgICAgICAgaW1nX3VybDogaW1hZ2UxVXJsLFxuICAgICAgICAgICAgICAgIC8v5Y6f5aeL5paH5pysXG4gICAgICAgICAgICAgICAgb3JnX2NvbnRlbnQ6b3JnQ29udGVudCxcbiAgICAgICAgICAgICAgICAvL+WbvuaWh+ivpuaDhVxuICAgICAgICAgICAgICAgIHRyeV9jb250ZW50OmRlc2NyaWJUcnksXG4gICAgICAgICAgICAgICAgLy/or5XnnIvljp/lp4vmlofmnKxcbiAgICAgICAgICAgICAgICB0cnlfb3JnX2NvbnRlbnQ6b3JnQ29udGVudFRyeSxcbiAgICAgICAgICAgICAgICAvL+ivleeci+WbvuaWh+ivpuaDhVxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6ZGVzY3JpYixcbiAgICAgICAgICAgICAgICAvL+S7mOi0ueW9ouW8j1xuICAgICAgICAgICAgICAgIC8v5LuY6LS55Lu35qC8XG4gICAgICAgICAgICAgICAgcGllY2VfcHJpY2U6IHJlc1ByaXplLFxuICAgICAgICAgICAgICAgIC8v5LiK5p625pe26Ze0XG4gICAgICAgICAgICAgICAgc3RhcnRfYXQ6IHN0YXJ0QXQsXG4gICAgICAgICAgICAgICAgLy9pZFxuICAgICAgICAgICAgICAgIGlkOiBHZXRRdWVyeVN0cmluZygnaWQnKSB8fCBudWxsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvL+a2iOaBr+aOqOmAgVxuICAgICAgICAgICAgdmFyIHB1c2hTdGF0ZSA9ICQoJyNzZXJ2aWNlVG9nZ2xlIDpyYWRpbzpjaGVja2VkJykudmFsKCk7XG4gICAgICAgICAgICBpZihwdXNoU3RhdGUpey8v5aaC5p6c5pyJ5raI5oGv5o6o6YCB5p2D6ZmQXG4gICAgICAgICAgICAgICAgcmVzSW5mby5wdXNoX3N0YXRlID0gcHVzaFN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/mmK/lkKbku5jotLnvvIgx6KGo56S65YWN6LS577yMMuihqOekuuWNleeslO+8iVxuICAgICAgICAgICAgaWYocmVzb3VyY2VGcmVlKSB7XG4gICAgICAgICAgICAgICAgcmVzSW5mby5wYXltZW50X3R5cGUgPSByZXNvdXJjZUZyZWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNJbmZvKTtcbiAgICAgICAgICAgIC8v6I635Y+W6KGo5Y2V5Lit55qE5pWw5o2uXG5cbiAgICAgICAgICAgIGlmIChjaGVja0FydGljbGVGb3JtKHJlc0luZm8pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFsbFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiByZXNJbmZvLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlOiByZXNvdXJjZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZF9jaGFubmVsX3R5cGU6IHVwbG9hZENoYW5uZWxUeXBlLFxuICAgICAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBwYWNrYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3BhcmFtczogcmVzb3VyY2VQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfbmFtZTogcGFja2FnZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHJvbGVQYXJhbXM6IHJvbGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5X3R5cGU6Y2xhc3NBcnJheVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgc3VibWl0Rm9ybShnb2xiYWxVcmwsYWxsUGFyYW1zKTtcblxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gbWFuYWdlQXJ0aWNsZTtcbn0oKTsiXX0=
