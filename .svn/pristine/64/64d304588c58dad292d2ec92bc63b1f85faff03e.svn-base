$(function(){var e=new Business;e.init();if(GetQueryString("prompt")==1){$(".red_prompt_word").html("小鹅通内容列表全面升级为商品管理，点击查看更多高级功能<a href='/help/system_update' target='_blank'>查看教程</a>");$(".red_prompt").show()}});function Business(){this.toolBoxBtn=true;this.toDetail=true;this.searchObj={state:GetQueryString("state")||0,search_content:GetQueryString("search_content")||""}}Business.prototype={init:function(){if(sessionStorage.getItem("key")==1){setTimeout(function(){baseUtils.show.blueTip("操作成功")},300);sessionStorage.setItem("key",0)}var e=this;$("#packageList").on("click",".listItem",function(){if(e.toDetail){e.toolBoxBtn=false,e.toDetail=false;var t="/package_detail_page?id="+$(this).data("id");contentDetail(t)}});$("#packageList").on("click",".listItem .toolBox li",function(t){t.stopPropagation();var o=$(t.target),a=o.parentsUntil("#packageList",".listItem").data("id");type=o.data("type");type&&e.toolBoxBtn&&e.toDetail&&(e.tool(type,a),e.toDetail=false)});$("#searchBtn").on("click",function(){var e=$("#selector").val(),t=$.trim($("#searchVal").val());if(!!t){window.location.href="/package_list_page?state="+e+"&search_content="+t}else{window.location.href="/package_list_page?state="+e}});$("#selector").find("option").eq(++this.searchObj.state).attr("selected",true);$("#searchVal").on("keypress",function(e){if(e.keyCode=="13"){$("#searchBtn").click()}}).val(this.searchObj.search_content);$(".selector").on("change",function(){$("#searchBtn").click()})},tool:function(e,t){switch(e){case"edit":contentDetail("/package_detail_page?id="+t);break;case"toup":this.movePackage(t,true);break;case"todown":this.movePackage(t,false);break;case"soldout":this.isShow(t,false);break;case"putaway":this.isShow(t,true);break;default:console.error("参数错误");break}},movePackage:function(e,t){var o=this;showLoading();$.ajax("/change_package_weight",{type:"POST",dataType:"json",data:{package_id:e,order_type:t?0:1},success:function(e){hideLoading();if(e.code==0){sessionStorage.setItem("key",1);console.log(sessionStorage.getItem("key"));reloadPage()}else{o.toolBoxBtn=true;o.toDetail=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,a){console.error(a);hideLoading();o.toolBoxBtn=true;o.toDetail=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},isShow:function(e,t){var o=this;showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:0,operate_type:t?0:1},success:function(e){hideLoading();if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{o.toolBoxBtn=true;o.toDetail=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,a){console.error(a);hideLoading();o.toolBoxBtn=true;o.toDetail=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhY2thZ2VMaXN0LmpzIl0sIm5hbWVzIjpbIiQiLCJidXNpbmVzcyIsIkJ1c2luZXNzIiwiaW5pdCIsIkdldFF1ZXJ5U3RyaW5nIiwiaHRtbCIsInNob3ciLCJ0aGlzIiwidG9vbEJveEJ0biIsInRvRGV0YWlsIiwic2VhcmNoT2JqIiwic3RhdGUiLCJzZWFyY2hfY29udGVudCIsInByb3RvdHlwZSIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInNldFRpbWVvdXQiLCJiYXNlVXRpbHMiLCJibHVlVGlwIiwic2V0SXRlbSIsInNlbGYiLCJvbiIsImhyZWYiLCJkYXRhIiwiY29udGVudERldGFpbCIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCIkZWxlIiwidGFyZ2V0IiwiaWQiLCJwYXJlbnRzVW50aWwiLCJ0eXBlIiwidG9vbCIsInZhbCIsInRyaW0iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImZpbmQiLCJlcSIsImF0dHIiLCJrZXlDb2RlIiwiY2xpY2siLCJtb3ZlUGFja2FnZSIsImlzU2hvdyIsImNvbnNvbGUiLCJlcnJvciIsImNoYW5nZVR5cGUiLCJzaG93TG9hZGluZyIsImFqYXgiLCJkYXRhVHlwZSIsInBhY2thZ2VfaWQiLCJvcmRlcl90eXBlIiwic3VjY2VzcyIsImhpZGVMb2FkaW5nIiwiY29kZSIsImxvZyIsInJlbG9hZFBhZ2UiLCJyZWRUaXAiLCJtc2ciLCJ4aHIiLCJzdGF0dXMiLCJlcnIiLCJnb29kc19pZCIsImdvb2RzX3R5cGUiLCJvcGVyYXRlX3R5cGUiXSwibWFwcGluZ3MiOiJBQUtBQSxFQUFFLFdBQ0UsR0FBSUMsR0FBVyxHQUFJQyxTQUNuQkQsR0FBU0UsTUFHVCxJQUFJQyxlQUFlLFdBQWEsRUFBRyxDQUMvQkosRUFBRSxvQkFBb0JLLEtBQUssb0ZBQzNCTCxHQUFFLGVBQWVNLFNBS3pCLFNBQVNKLFlBQ0xLLEtBQUtDLFdBQWEsSUFDbEJELE1BQUtFLFNBQVcsSUFDaEJGLE1BQUtHLFdBQ0RDLE1BQU9QLGVBQWUsVUFBWSxFQUNsQ1EsZUFBZ0JSLGVBQWUsbUJBQXFCLElBSTVERixTQUFTVyxXQUNMVixLQUFNLFdBQ0YsR0FBR1csZUFBZUMsUUFBUSxRQUFRLEVBQUUsQ0FDaENDLFdBQVcsV0FDUEMsVUFBVVgsS0FBS1ksUUFBUSxTQUN6QixJQUNGSixnQkFBZUssUUFBUSxNQUFNLEdBR2pDLEdBQUlDLEdBQU9iLElBQ1hQLEdBQUUsZ0JBQ0RxQixHQUFHLFFBQVMsWUFBYSxXQUN0QixHQUFHRCxFQUFLWCxTQUFTLENBQ2JXLEVBQUtaLFdBQWEsTUFDbEJZLEVBQUtYLFNBQVcsS0FDaEIsSUFBSWEsR0FBTywyQkFBNkJ0QixFQUFFTyxNQUFNZ0IsS0FBSyxLQUNyREMsZUFBY0YsS0FJdEJ0QixHQUFFLGdCQUNEcUIsR0FBRyxRQUFTLHdCQUF5QixTQUFTSSxHQUMzQ0EsRUFBRUMsaUJBQ0YsSUFBSUMsR0FBTzNCLEVBQUV5QixFQUFFRyxRQUNYQyxFQUFLRixFQUFLRyxhQUFhLGVBQWUsYUFBYVAsS0FBSyxLQUN4RFEsTUFBT0osRUFBS0osS0FBSyxPQUNyQlEsT0FBUVgsRUFBS1osWUFBY1ksRUFBS1gsV0FDNUJXLEVBQUtZLEtBQUtELEtBQU1GLEdBQ2hCVCxFQUFLWCxTQUFXLFFBSXhCVCxHQUFFLGNBQ0RxQixHQUFHLFFBQVMsV0FDVCxHQUFJVixHQUFRWCxFQUFFLGFBQWFpQyxNQUN2QnJCLEVBQWlCWixFQUFFa0MsS0FBTWxDLEVBQUUsY0FBY2lDLE1BQzdDLE1BQUtyQixFQUFlLENBQ2hCdUIsT0FBT0MsU0FBU2QsS0FBTyw0QkFBNEJYLEVBQU0sbUJBQW1CQyxNQUN6RSxDQUNIdUIsT0FBT0MsU0FBU2QsS0FBTyw0QkFBNEJYLElBSzNEWCxHQUFFLGFBQWFxQyxLQUFLLFVBQVVDLEtBQUsvQixLQUFLRyxVQUFVQyxPQUFPNEIsS0FBSyxXQUFXLEtBQ3pFdkMsR0FBRSxjQUFjcUIsR0FBRyxXQUFZLFNBQVNJLEdBQ3BDLEdBQUdBLEVBQUVlLFNBQVcsS0FBTSxDQUNsQnhDLEVBQUUsY0FBY3lDLFdBRXJCUixJQUFJMUIsS0FBS0csVUFBVUUsZUFHdEJaLEdBQUUsYUFBYXFCLEdBQUcsU0FBVSxXQUN4QnJCLEVBQUUsY0FBY3lDLFdBSXhCVCxLQUFNLFNBQVNELEVBQUtGLEdBQ2hCLE9BQU9FLEdBQ0gsSUFBSyxPQUNEUCxjQUFjLDJCQUE2QkssRUFFM0MsTUFDSixLQUFLLE9BQ0R0QixLQUFLbUMsWUFBWWIsRUFBSSxLQUNyQixNQUNKLEtBQUssU0FDRHRCLEtBQUttQyxZQUFZYixFQUFJLE1BQ3JCLE1BQ0osS0FBSyxVQUNEdEIsS0FBS29DLE9BQU9kLEVBQUksTUFDaEIsTUFDSixLQUFLLFVBQ0R0QixLQUFLb0MsT0FBT2QsRUFBSSxLQUNoQixNQUNKLFNBQ0llLFFBQVFDLE1BQU0sT0FDZCxTQUdaSCxZQUFhLFNBQVNiLEVBQUlpQixHQUt0QixHQUFJMUIsR0FBT2IsSUFDWHdDLGNBQ0EvQyxHQUFFZ0QsS0FBSywwQkFDSGpCLEtBQU0sT0FDTmtCLFNBQVUsT0FDVjFCLE1BQ0kyQixXQUFZckIsRUFFWnNCLFdBQVlMLEVBQWEsRUFBSSxHQUVqQ00sUUFBUyxTQUFTN0IsR0FFZDhCLGFBQ0EsSUFBRzlCLEVBQUsrQixNQUFRLEVBQUcsQ0FDZnhDLGVBQWVLLFFBQVEsTUFBTSxFQUM3QnlCLFNBQVFXLElBQUl6QyxlQUFlQyxRQUFRLE9BQ25DeUMsa0JBRUcsQ0FDSHBDLEVBQUtaLFdBQWEsSUFDbEJZLEdBQUtYLFNBQVcsSUFDaEJRLFdBQVVYLEtBQUttRCxPQUFPbEMsRUFBS21DLE9BR25DYixNQUFPLFNBQVNjLEVBQUtDLEVBQVFDLEdBQ3pCakIsUUFBUUMsTUFBTWdCLEVBQ2RSLGNBQ0FqQyxHQUFLWixXQUFhLElBQ2xCWSxHQUFLWCxTQUFXLElBQ2hCUSxXQUFVWCxLQUFLbUQsT0FBTyxrQkFLbENkLE9BQVEsU0FBU2QsRUFBSWlCLEdBS2pCLEdBQUkxQixHQUFPYixJQUNYd0MsY0FDQS9DLEdBQUVnRCxLQUFLLHVCQUNIakIsS0FBTSxPQUNOa0IsU0FBVSxPQUNWMUIsTUFNSXVDLFNBQVVqQyxFQUNWa0MsV0FBWSxFQUNaQyxhQUFjbEIsRUFBYSxFQUFJLEdBRW5DTSxRQUFTLFNBQVM3QixHQUVkOEIsYUFDQSxJQUFHOUIsRUFBSytCLE1BQVEsRUFBRyxDQUNmckMsVUFBVVgsS0FBS1ksUUFBUUssRUFBS21DLElBQzVCMUMsWUFBVyxXQUNQd0MsY0FDRixTQUNDLENBQ0hwQyxFQUFLWixXQUFhLElBQ2xCWSxHQUFLWCxTQUFXLElBQ2hCUSxXQUFVWCxLQUFLbUQsT0FBT2xDLEVBQUttQyxPQUduQ2IsTUFBTyxTQUFTYyxFQUFLQyxFQUFRQyxHQUN6QmpCLFFBQVFDLE1BQU1nQixFQUNkUixjQUNBakMsR0FBS1osV0FBYSxJQUNsQlksR0FBS1gsU0FBVyxJQUNoQlEsV0FBVVgsS0FBS21ELE9BQU8iLCJmaWxlIjoicGFja2FnZUxpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBGcmFuayBvbiAyMDE3LzMvMjEuXHJcbiAqL1xyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJ1c2luZXNzID0gbmV3IEJ1c2luZXNzKCk7XHJcbiAgICBidXNpbmVzcy5pbml0KCk7XHJcblxyXG4gICAgLy8gIOaYvuekuuWwj+m7hOadoSAgIDzlsI/puYXpgJrlhoXlrrnliJfooajlhajpnaLljYfnuqfkuLrllYblk4HnrqHnkIbvvIzojrflj5bmm7TlpJrpq5jnuqflip/og73kvb/nlKjmlZnnqIvor7fngrnlh7vjgJDllYblk4HnrqHnkIbmlZnnqIvjgJE+XHJcbiAgICBpZiAoR2V0UXVlcnlTdHJpbmcoXCJwcm9tcHRcIikgPT0gMSkge1xyXG4gICAgICAgICQoXCIucmVkX3Byb21wdF93b3JkXCIpLmh0bWwoXCLlsI/puYXpgJrlhoXlrrnliJfooajlhajpnaLljYfnuqfkuLrllYblk4HnrqHnkIbvvIzngrnlh7vmn6XnnIvmm7TlpJrpq5jnuqflip/og708YSBocmVmPScvaGVscC9zeXN0ZW1fdXBkYXRlJyB0YXJnZXQ9J19ibGFuayc+5p+l55yL5pWZ56iLPC9hPlwiKTtcclxuICAgICAgICAkKFwiLnJlZF9wcm9tcHRcIikuc2hvdygpO1xyXG4gICAgfVxyXG5cclxufSk7XHJcblxyXG5mdW5jdGlvbiBCdXNpbmVzcygpIHsvL+WumuS5ieS4gOS6m+WFrOWFseWxnuaAp1xyXG4gICAgdGhpcy50b29sQm94QnRuID0gdHJ1ZTtcclxuICAgIHRoaXMudG9EZXRhaWwgPSB0cnVlO1xyXG4gICAgdGhpcy5zZWFyY2hPYmogPSB7XHJcbiAgICAgICAgc3RhdGU6IEdldFF1ZXJ5U3RyaW5nKCdzdGF0ZScpIHx8IDAsXHJcbiAgICAgICAgc2VhcmNoX2NvbnRlbnQ6IEdldFF1ZXJ5U3RyaW5nKCdzZWFyY2hfY29udGVudCcpIHx8ICcnXHJcbiAgICB9XHJcbn1cclxuXHJcbkJ1c2luZXNzLnByb3RvdHlwZSA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHsgLy/pobXpnaLnmoTliJ3lp4vljJbmk43kvZzvvIznu5Hlrprkuovku7ZcclxuICAgICAgICBpZihzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdrZXknKT09MSl7Ly/kuIrkuIvnp7vliqjml7bpl7TmiJDlip/liLfmlrDlkI7lvLnnqpfliJ3lp4vljJZcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcCgn5pON5L2c5oiQ5YqfJylcclxuICAgICAgICAgICAgfSwzMDApO1xyXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdrZXknLDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICQoJyNwYWNrYWdlTGlzdCcpIC8v6Lez6L2s6K+m5oOF6aG1XHJcbiAgICAgICAgLm9uKCdjbGljaycsICcubGlzdEl0ZW0nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYoc2VsZi50b0RldGFpbCl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvb2xCb3hCdG4gPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGYudG9EZXRhaWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZhciBocmVmID0gJy9wYWNrYWdlX2RldGFpbF9wYWdlP2lkPScgKyAkKHRoaXMpLmRhdGEoJ2lkJyk7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50RGV0YWlsKGhyZWYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyNwYWNrYWdlTGlzdCcpICAvL+iwg+eUqOW3peWFt+WHveaVsFxyXG4gICAgICAgIC5vbignY2xpY2snLCAnLmxpc3RJdGVtIC50b29sQm94IGxpJyAsZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgJGVsZSA9ICQoZS50YXJnZXQpLFxyXG4gICAgICAgICAgICAgICAgaWQgPSAkZWxlLnBhcmVudHNVbnRpbCgnI3BhY2thZ2VMaXN0JywnLmxpc3RJdGVtJykuZGF0YSgnaWQnKVxyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICRlbGUuZGF0YSgndHlwZScpO1xyXG4gICAgICAgICAgICB0eXBlICYmIHNlbGYudG9vbEJveEJ0biAmJiBzZWxmLnRvRGV0YWlsICYmIChcclxuICAgICAgICAgICAgICAgIHNlbGYudG9vbCh0eXBlLCBpZCksXHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvRGV0YWlsID0gZmFsc2VcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI3NlYXJjaEJ0bicpXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgeyAvL+aQnOe0olxyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSAkKCcjc2VsZWN0b3InKS52YWwoKSxcclxuICAgICAgICAgICAgICAgIHNlYXJjaF9jb250ZW50ID0gJC50cmltKCAkKCcjc2VhcmNoVmFsJykudmFsKCkgKTtcclxuICAgICAgICAgICAgaWYoISFzZWFyY2hfY29udGVudCl7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvcGFja2FnZV9saXN0X3BhZ2U/c3RhdGU9JytzdGF0ZSsnJnNlYXJjaF9jb250ZW50PScrc2VhcmNoX2NvbnRlbnQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvcGFja2FnZV9saXN0X3BhZ2U/c3RhdGU9JytzdGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL+WIneWni+WMluaQnOe0ouadoeS7tlxyXG4gICAgICAgICQoJyNzZWxlY3RvcicpLmZpbmQoJ29wdGlvbicpLmVxKCsrdGhpcy5zZWFyY2hPYmouc3RhdGUpLmF0dHIoJ3NlbGVjdGVkJyx0cnVlKTtcclxuICAgICAgICAkKCcjc2VhcmNoVmFsJykub24oJ2tleXByZXNzJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZihlLmtleUNvZGUgPT0gXCIxM1wiKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjc2VhcmNoQnRuJykuY2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnZhbCh0aGlzLnNlYXJjaE9iai5zZWFyY2hfY29udGVudCk7XHJcblxyXG4gICAgICAgIC8vICDnm5HlkKznrZvpgInmoYbpgInmi6nkuovku7ZcclxuICAgICAgICAkKFwiLnNlbGVjdG9yXCIpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyNzZWFyY2hCdG4nKS5jbGljaygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0sXHJcbiAgICB0b29sOiBmdW5jdGlvbih0eXBlLGlkKSB7XHJcbiAgICAgICAgc3dpdGNoKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnZWRpdCc6XHJcbiAgICAgICAgICAgICAgICBjb250ZW50RGV0YWlsKCcvcGFja2FnZV9kZXRhaWxfcGFnZT9pZD0nICsgaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0b3VwJzpcclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVBhY2thZ2UoaWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvZG93bic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVQYWNrYWdlKGlkLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc29sZG91dCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU2hvdyhpZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3B1dGF3YXknOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1Nob3coaWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCflj4LmlbDplJnor68nKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3ZlUGFja2FnZTogZnVuY3Rpb24oaWQsIGNoYW5nZVR5cGUpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICBpZDog6KaB56e75Yqo55qE5LiT5qCPaWRcclxuICAgICAgICAgICAgY2hhbmdlVHlwZe+8miB0cnVlLeS4iuenu++8jCBmYWxzZS3kuIvnp7tcclxuICAgICAgICAqL1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzaG93TG9hZGluZygpO1xyXG4gICAgICAgICQuYWpheCgnL2NoYW5nZV9wYWNrYWdlX3dlaWdodCcsIHtcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBpZCxcclxuICAgICAgICAgICAgICAgIC8vMOS4iuenu++8jCAx5LiL56e7XHJcbiAgICAgICAgICAgICAgICBvcmRlcl90eXBlOiBjaGFuZ2VUeXBlID8gMCA6IDFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2tleScsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgna2V5JykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudG9vbEJveEJ0biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50b0RldGFpbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvb2xCb3hCdG4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b0RldGFpbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGlzU2hvdzogZnVuY3Rpb24oaWQsIGNoYW5nZVR5cGUpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICBpZDog6KaB5LiK5LiL5p6255qE5LiT5qCPaWRcclxuICAgICAgICAgICAgY2hhbmdlVHlwZe+8miB0cnVlLeS4iuaetu+8jCBmYWxzZS3kuIvmnrZcclxuICAgICAgICAqL1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzaG93TG9hZGluZygpO1xyXG4gICAgICAgICQuYWpheCgnL2NoYW5nZV9nb29kc19zdGF0ZScse1xyXG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAxLWdvb2RzX2lkO1xyXG4gICAgICAgICAgICAgICAgMi1nb29kc190eXBlKDAt5LiT5qCPLDEt5Zu+5paHLDIt6Z+z6aKRLDMt6KeG6aKRLDQt55u05pKtKTtcclxuICAgICAgICAgICAgICAgIDMtb3BlcmF0ZV90eXBlKDAt5LiK5p62LDEt5LiL5p62KVxyXG4gICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIGdvb2RzX2lkOiBpZCxcclxuICAgICAgICAgICAgICAgIGdvb2RzX3R5cGU6IDAsXHJcbiAgICAgICAgICAgICAgICBvcGVyYXRlX3R5cGU6IGNoYW5nZVR5cGUgPyAwIDogMSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LDcwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudG9vbEJveEJ0biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50b0RldGFpbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvb2xCb3hCdG4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b0RldGFpbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl19
