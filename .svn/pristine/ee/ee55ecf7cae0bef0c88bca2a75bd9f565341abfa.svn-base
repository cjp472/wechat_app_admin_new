$(document).ready(function(){init();$("#closed").click(function(){$(".xcConfirm").hide()});(function(){var e=new Clipboard(".copyHref");e.on("success",function(e){baseUtils.show.blueTip("复制成功！请在微信内打开哦 。");e.clearSelection()})})()});function init(){$("#audio").click(function(){window.location.href="/audio_list"});$("#video").click(function(){window.location.href="/video_list"});$("#article").click(function(){window.location.href="/article_list"});$("#package").click(function(){window.location.href="/package_list"});$("#alive").click(function(){window.location.href="/alive"});$("#tab_member").click(function(){window.location.href="/member_list"});$("#search").val(getUrlParam("search"));$("#ruler").val(getUrlParam("ruler")==null||getUrlParam("ruler")==""?0:getUrlParam("ruler"));$("#searchButton").click(function(){var e=$("#search").val();var i=$("#ruler").val();window.location.href="/alive?search="+e+"&ruler="+i});$(document).keypress(function(e){if(e.which==13){$("#searchButton").trigger("click")}});var e;$("div.alive_name_wrapper").hover(function(){e=$("div.alive_name_wrapper:hover").attr("value");$("p#"+e+".alive_name_hide").addClass("hide");$("div.alive_name_wrapper").eq(e).css({"max-height":"none"})},function(){$("p#"+e+".alive_name_hide").removeClass("hide");$("div.alive_name_wrapper").eq(e).css({"max-height":"100px"})});modal.initSetSale()}var modal=function(){modal={};modal["aliveId"]=-1;modal["piecePrice"]=-1;modal.initSetSale=function(){$(".set_sale_ratio_btn").click(function(){var e=$(this).parents(".tr_body").data("resource_name");$(".sale_goods_name").html(e);modal["piecePrice"]=$(this).parents(".tr_body").data("piece_price");modal["aliveId"]=$(this).parents(".tr_body").data("resource_id");$.ajax("/query_profit_ratio",{type:"POST",dataType:"json",data:{alive_id:modal["aliveId"]},success:function(e){if(e.code==0){var i=e.data["distribute_percent"];if(i==0){$("input#set_radio_off").prop("checked",true);$(".input_radio_value").val("");$(".set_percent").hide()}else if(i>0&&i<=50){$("input#set_radio_on").prop("checked",true);$(".input_radio_value").val(i);$(".set_percent").show()}else{$("input#set_radio_off").prop("checked",true);$(".input_radio_value").val("");$(".set_percent").hide()}$(".set_sale_ratio_window").fadeIn(300)}else{baseUtils.show.redTip("操作失败，请稍后重试！")}},error:function(e,i,a){console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}})});$(".cancel_sale_btn, .close_icon_wrapper_3").click(function(){$(".set_sale_ratio_window").fadeOut(300)});$("input[name='set_sale_radio']").on("change",function(){var e=$("input[name='set_sale_radio']:checked").val();if(e==0){if(modal["piecePrice"]<1){baseUtils.show.redTip("商品价格不低于1元才可开启分销!");$("input#set_radio_off").prop("checked",true)}else{$(".set_percent").fadeIn(300)}}else{$(".set_percent").fadeOut(300)}});$(".input_radio_value").bind("input propertychange",function(){var e=$(".input_radio_value").val();var i=/^[1-9][\d]*$/;if(!i.test(e)){e=e.replace(/\D/g,"");$(".input_radio_value").val(e)}});$(".confirm_sale_btn").click(function(){var e=$("input[name='set_sale_radio']:checked").val();if(e==0){var i=$(".input_radio_value").val();if(i<1||i>50){baseUtils.show.redTip("分成比例只能设置为1% ~ 50%!");return false}modal.submitSaleSet(modal["aliveId"],i)}else{var i=0;modal.submitSaleSet(modal["aliveId"],i)}})};modal.submitSaleSet=function(e,i){$.ajax("/set_profit_ratio",{type:"POST",dataType:"json",data:{alive_id:e,distribute_percent:i},success:function(e){if(e.code==0){$(".set_sale_ratio_window").fadeOut(300);baseUtils.show.blueTip("分销设置成功！")}else{baseUtils.show.redTip("分销设置失败！")}},error:function(e,i,a){console.error(a);baseUtils.show.redTip("服务器开小差啦，请稍后再提交！")}})};return modal}();function offSale(e){$.get("alive/offsale",{id:e},function(e){if(e.ret==0){baseUtils.show.blueTip("修改成功",function(){window.location.reload()})}else{baseUtils.show.redTip("修改失败")}})}function onSale(e){$.get("alive/onsale",{id:e},function(e){if(e.ret==0){baseUtils.show.blueTip("修改成功",function(){window.location.reload()})}else{baseUtils.show.redTip("修改失败")}})}function deleteResource(e){window.wxc.xcConfirm("您确定要删除吗?","confirm",{onOk:function(){$.get("alive/delsale",{id:e},function(e){if(e.ret==0){baseUtils.show.blueTip("删除成功",function(){window.location.reload()})}else{baseUtils.show.redTip("删除失败")}})}})}function editAlive(e){var i=encodeURIComponent(window.location.href);window.location.href="/editalive?id="+e+"&reurl="+i}function endAlive(e){window.wxc.xcConfirm("您确定要结束该直播吗?","confirm",{onOk:function(){$.get("/endalive",{id:e},function(e){if(e.ret==0){window.wxc.xcConfirm("结束直播成功","success",{onOk:function(){window.location.href="/alive"}})}else{window.wxc.xcConfirm("直播结束失败")}})}})}function aliveComment(e){resetUrl("/alivecomment?alive_id="+e)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsaXZlTGlzdC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImluaXQiLCJjbGljayIsImhpZGUiLCJjbGlwYm9hcmQiLCJDbGlwYm9hcmQiLCJvbiIsImUiLCJiYXNlVXRpbHMiLCJzaG93IiwiYmx1ZVRpcCIsImNsZWFyU2VsZWN0aW9uIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwidmFsIiwiZ2V0VXJsUGFyYW0iLCJzZWFyY2giLCJydWxlciIsImtleXByZXNzIiwid2hpY2giLCJ0cmlnZ2VyIiwiaWQiLCJob3ZlciIsImF0dHIiLCJhZGRDbGFzcyIsImVxIiwiY3NzIiwibWF4LWhlaWdodCIsInJlbW92ZUNsYXNzIiwibW9kYWwiLCJpbml0U2V0U2FsZSIsImFsaXZlTmFtZSIsInRoaXMiLCJwYXJlbnRzIiwiZGF0YSIsImh0bWwiLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwiYWxpdmVfaWQiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29kZSIsImRpc3RyaWJ1dGVfcGVyY2VudCIsInByb3AiLCJmYWRlSW4iLCJyZWRUaXAiLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmYWRlT3V0Iiwic2FsZVN3aXRjaCIsImJpbmQiLCJpbnB1dFZhbHVlIiwicmVnIiwidGVzdCIsInJlcGxhY2UiLCJzdWJtaXRTYWxlU2V0IiwiYWxpdmVJZCIsIm9mZlNhbGUiLCJnZXQiLCJyZXQiLCJyZWxvYWQiLCJvblNhbGUiLCJkZWxldGVSZXNvdXJjZSIsInd4YyIsInhjQ29uZmlybSIsIm9uT2siLCJlZGl0QWxpdmUiLCJyZVVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsImVuZEFsaXZlIiwiYWxpdmVDb21tZW50IiwicmVzZXRVcmwiXSwibWFwcGluZ3MiOiJBQUdBQSxFQUFFQyxVQUFVQyxNQUFNLFdBRWRDLE1BRUFILEdBQUUsV0FBV0ksTUFBTSxXQUNmSixFQUFFLGNBQWNLLFVBSXBCLFdBQ0ksR0FB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V0FFL0N6RSxFQUFFa0UsSUFBSSxhQUFhMUMsR0FBS0EsR0FBSSxTQUFTYSxHQUVqQyxHQUFHQSxFQUFLOEIsS0FBSyxFQUNiLENBQ0lyRCxPQUFPeUQsSUFBSUMsVUFBVSxTQUFTLFdBQVdDLEtBQUssV0FFMUMzRCxPQUFPQyxTQUFTQyxLQUFLLGdCQUk3QixDQUNJRixPQUFPeUQsSUFBSUMsVUFBVSxnQkFPckMsUUFBU00sY0FBYXRELEdBRWxCdUQsU0FBUywwQkFBMEJ2RCIsImZpbGUiOiJhbGl2ZUxpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBTdHVwaGluIG9uIDIwMTYvMTEvNS5cclxuICovXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKClcclxue1xyXG4gICAgaW5pdCgpO1xyXG5cclxuICAgICQoJyNjbG9zZWQnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy54Y0NvbmZpcm0nKS5oaWRlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL+WkjeWItuWIsOWJqui0tOadv1xyXG4gICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCgnLmNvcHlIcmVmJyk7XHJcbiAgICAgICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5aSN5Yi25oiQ5Yqf77yB6K+35Zyo5b6u5L+h5YaF5omT5byA5ZOmIOOAglwiKTtcclxuICAgICAgICAgICAgZS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSkoKTtcclxuXHJcbn0pO1xyXG5cclxuLy/liJ3lp4vljJZcclxuZnVuY3Rpb24gaW5pdCgpXHJcbntcclxuICAgIC8vdGl0bGXngrnlh7vot7PovaxcclxuICAgICQoXCIjYXVkaW9cIikuY2xpY2soZnVuY3Rpb24gKCkgLy8g6Z+z6aKR5YiX6KGoXHJcbiAgICB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9hdWRpb19saXN0XCI7XHJcbiAgICB9KTtcclxuICAgICQoXCIjdmlkZW9cIikuY2xpY2soZnVuY3Rpb24gKCkgLy8g6KeG6aKR5YiX6KGoXHJcbiAgICB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi92aWRlb19saXN0XCI7XHJcbiAgICB9KTtcclxuICAgICQoXCIjYXJ0aWNsZVwiKS5jbGljayhmdW5jdGlvbiAoKSAvLyDlm77mlofliJfooahcclxuICAgIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2FydGljbGVfbGlzdFwiO1xyXG4gICAgfSk7XHJcbiAgICAkKFwiI3BhY2thZ2VcIikuY2xpY2soZnVuY3Rpb24gKCkgLy8g5LiT5qCP5YiX6KGoXHJcbiAgICB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9wYWNrYWdlX2xpc3RcIjtcclxuICAgIH0pO1xyXG4gICAgJChcIiNhbGl2ZVwiKS5jbGljayhmdW5jdGlvbiAoKSAvLyDnm7Tmkq3liJfooahcclxuICAgIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2FsaXZlXCI7XHJcbiAgICB9KTtcclxuICAgICQoXCIjdGFiX21lbWJlclwiKS5jbGljayhmdW5jdGlvbiAoKSB7Ly8g5Lya5ZGY6aG1XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9tZW1iZXJfbGlzdFwiO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy/lm57loavmkJzntKLlgLxcclxuICAgICQoXCIjc2VhcmNoXCIpLnZhbChnZXRVcmxQYXJhbShcInNlYXJjaFwiKSk7XHJcbiAgICAkKFwiI3J1bGVyXCIpLnZhbCgoZ2V0VXJsUGFyYW0oXCJydWxlclwiKT09bnVsbCAgfHwgZ2V0VXJsUGFyYW0oXCJydWxlclwiKT09JycpID8gMCA6Z2V0VXJsUGFyYW0oXCJydWxlclwiKSk7XHJcblxyXG4gICAgLy/mkJzntKLmjInpkq5cclxuICAgICQoXCIjc2VhcmNoQnV0dG9uXCIpLmNsaWNrKGZ1bmN0aW9uKClcclxuICAgIHtcclxuICAgICAgICB2YXIgc2VhcmNoPSQoXCIjc2VhcmNoXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBydWxlcj0kKFwiI3J1bGVyXCIpLnZhbCgpO1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmPScvYWxpdmU/c2VhcmNoPScrc2VhcmNoKycmcnVsZXI9JytydWxlcjtcclxuICAgIH0pO1xyXG5cclxuICAgIC8v5Zue6L2m5pCc57SiXHJcbiAgICAkKGRvY3VtZW50KS5rZXlwcmVzcyhmdW5jdGlvbihlKVxyXG4gICAge1xyXG4gICAgICAgIGlmKGUud2hpY2ggPT0gMTMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkKCcjc2VhcmNoQnV0dG9uJykudHJpZ2dlcihcImNsaWNrXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vICDooaXlhajmmL7npLrnm7Tmkq3kurrlkZjliJfooahcclxuXHJcbiAgICB2YXIgaWQ7XHJcbiAgICAkKFwiZGl2LmFsaXZlX25hbWVfd3JhcHBlclwiKS5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLyrpvKDmoIfmjIfpkojmta7liqjlnKjlhYPntKDkuIrpnaIqL1xyXG4gICAgICAgIGlkID0gJChcImRpdi5hbGl2ZV9uYW1lX3dyYXBwZXI6aG92ZXJcIikuYXR0cihcInZhbHVlXCIpO1xyXG5cclxuICAgICAgICAkKFwicCNcIiArIGlkICsgXCIuYWxpdmVfbmFtZV9oaWRlXCIpLmFkZENsYXNzKFwiaGlkZVwiKTtcclxuICAgICAgICAkKFwiZGl2LmFsaXZlX25hbWVfd3JhcHBlclwiKS5lcShpZCkuY3NzKHtcIm1heC1oZWlnaHRcIjpcIm5vbmVcIn0pO1xyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8q6byg5qCH5oyH6ZKI56a75byA5YWD57SgKi9cclxuICAgICAgICAkKFwicCNcIiArIGlkICsgXCIuYWxpdmVfbmFtZV9oaWRlXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcclxuICAgICAgICAkKFwiZGl2LmFsaXZlX25hbWVfd3JhcHBlclwiKS5lcShpZCkuY3NzKHtcIm1heC1oZWlnaHRcIjpcIjEwMHB4XCJ9KTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyDorr7nva7liIbplIBcclxuICAgIG1vZGFsLmluaXRTZXRTYWxlKCk7XHJcblxyXG59XHJcblxyXG52YXIgbW9kYWwgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIG1vZGFsID0ge307XHJcblxyXG4gICAgbW9kYWxbJ2FsaXZlSWQnXSA9IC0xO1xyXG5cclxuICAgIG1vZGFsWydwaWVjZVByaWNlJ10gPSAtMTtcclxuXHJcbiAgICBtb2RhbC5pbml0U2V0U2FsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy8gIOabtOWkmiAtIOiuvue9ruWIhumUgFxyXG4gICAgICAgICQoXCIuc2V0X3NhbGVfcmF0aW9fYnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhbGl2ZU5hbWUgPSAkKHRoaXMpLnBhcmVudHMoXCIudHJfYm9keVwiKS5kYXRhKFwicmVzb3VyY2VfbmFtZVwiKTtcclxuICAgICAgICAgICAgJChcIi5zYWxlX2dvb2RzX25hbWVcIikuaHRtbChhbGl2ZU5hbWUpO1xyXG5cclxuICAgICAgICAgICAgbW9kYWxbXCJwaWVjZVByaWNlXCJdID0gJCh0aGlzKS5wYXJlbnRzKFwiLnRyX2JvZHlcIikuZGF0YShcInBpZWNlX3ByaWNlXCIpO1xyXG5cclxuICAgICAgICAgICAgLy8gIDHjgIHojrflj5bngrnlh7vmnaHnm67nmoTnm7Tmkq0gYWxpdmVJZFxyXG4gICAgICAgICAgICBtb2RhbFsnYWxpdmVJZCddID0gJCh0aGlzKS5wYXJlbnRzKFwiLnRyX2JvZHlcIikuZGF0YShcInJlc291cmNlX2lkXCIpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vICAy44CB5qC55o2uIGFsaXZlSWQg5p+l6K+i55u05pKt6LWE5rqQ55qE5YiG5oiQ5q+U5L6L5YC877ya77yIMS01MO+8iS3lvIDlkK/vvIwwLeWFs+mXrVxyXG4gICAgICAgICAgICAkLmFqYXgoXCIvcXVlcnlfcHJvZml0X3JhdGlvXCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiYWxpdmVfaWRcIjogbW9kYWxbXCJhbGl2ZUlkXCJdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdHJpYnV0ZV9wZXJjZW50ID0gcmVzdWx0LmRhdGFbXCJkaXN0cmlidXRlX3BlcmNlbnRcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0cmlidXRlX3BlcmNlbnQgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOWFs+mXreW8gOWFsyAsIOa4heepuui+k+WFpeahhu+8jCDpmpDol4/ovpPlhaXmoYZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCJpbnB1dCNzZXRfcmFkaW9fb2ZmXCIpLnByb3AoXCJjaGVja2VkXCIsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmlucHV0X3JhZGlvX3ZhbHVlXCIpLnZhbChcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zZXRfcGVyY2VudCcpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlzdHJpYnV0ZV9wZXJjZW50ID4gMCAmJiBkaXN0cmlidXRlX3BlcmNlbnQgPD0gNTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICDmiZPlvIDlvIDlhbPvvIwg5Zue5pi+6L6T5YWl5qGG77yMIOaYvuekuui+k+WFpeahhlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcImlucHV0I3NldF9yYWRpb19vblwiKS5wcm9wKFwiY2hlY2tlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuaW5wdXRfcmFkaW9fdmFsdWVcIikudmFsKGRpc3RyaWJ1dGVfcGVyY2VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2V0X3BlcmNlbnQnKS5zaG93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOm7mOiupOeKtuaAgVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcImlucHV0I3NldF9yYWRpb19vZmZcIikucHJvcChcImNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmlucHV0X3JhZGlvX3ZhbHVlXCIpLnZhbChcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zZXRfcGVyY2VudCcpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5zZXRfc2FsZV9yYXRpb193aW5kb3dcIikuZmFkZUluKDMwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjumHjeivle+8gVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAg54K55Ye75Y+W5raIICAgIOeCueWHuyDDl1xyXG4gICAgICAgICQoXCIuY2FuY2VsX3NhbGVfYnRuLCAuY2xvc2VfaWNvbl93cmFwcGVyXzNcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiLnNldF9zYWxlX3JhdGlvX3dpbmRvd1wiKS5mYWRlT3V0KDMwMCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAg55uR5o6ncmFkaW/lgLznmoTlj5jljJZcclxuICAgICAgICAkKFwiaW5wdXRbbmFtZT0nc2V0X3NhbGVfcmFkaW8nXVwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzYWxlU3dpdGNoID0gJChcImlucHV0W25hbWU9J3NldF9zYWxlX3JhZGlvJ106Y2hlY2tlZFwiKS52YWwoKTtcclxuICAgICAgICAgICAgaWYgKHNhbGVTd2l0Y2ggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGFsW1wicGllY2VQcmljZVwiXSA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLllYblk4Hku7fmoLzkuI3kvY7kuo4x5YWD5omN5Y+v5byA5ZCv5YiG6ZSAIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiaW5wdXQjc2V0X3JhZGlvX29mZlwiKS5wcm9wKFwiY2hlY2tlZFwiLHRydWUpOyAgICAgIC8vICDph43nva5yYWRpb1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNldF9wZXJjZW50JykuZmFkZUluKDMwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJy5zZXRfcGVyY2VudCcpLmZhZGVPdXQoMzAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAg5a6e5pe255uR5o6naW5wdXTkuK3nmoTovpPlhaXlj5jljJYoKVxyXG4gICAgICAgICQoXCIuaW5wdXRfcmFkaW9fdmFsdWVcIikuYmluZChcImlucHV0IHByb3BlcnR5Y2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0VmFsdWUgPSAkKFwiLmlucHV0X3JhZGlvX3ZhbHVlXCIpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlZyA9IC9eWzEtOV1bXFxkXSokLztcclxuICAgICAgICAgICAgaWYgKCFyZWcudGVzdChpbnB1dFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRWYWx1ZSA9IGlucHV0VmFsdWUucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5pbnB1dF9yYWRpb192YWx1ZVwiKS52YWwoaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyAg54K55Ye756Gu6K6kXHJcbiAgICAgICAgJChcIi5jb25maXJtX3NhbGVfYnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzYWxlU3dpdGNoID0gJChcImlucHV0W25hbWU9J3NldF9zYWxlX3JhZGlvJ106Y2hlY2tlZFwiKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzYWxlU3dpdGNoID09IDApIHsgIC8vICDlvIDlkK9cclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gJChcIi5pbnB1dF9yYWRpb192YWx1ZVwiKS52YWwoKTsgICAgIC8v6Ieq5a6a5LmJ5YiG5oiQ5q+U5L6LXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0VmFsdWUgPCAxIHx8IGlucHV0VmFsdWUgPiA1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWIhuaIkOavlOS+i+WPquiDveiuvue9ruS4ujElIH4gNTAlIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAg5o+Q5Lqk5YiG6ZSA6K6+572uXHJcbiAgICAgICAgICAgICAgICBtb2RhbC5zdWJtaXRTYWxlU2V0KG1vZGFsW1wiYWxpdmVJZFwiXSwgaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IDA7ICAgICAvL+WIhuaIkOavlOS+iyDkuLogMFxyXG4gICAgICAgICAgICAgICAgLy8gIOaPkOS6pOWIhumUgOiuvue9rlxyXG4gICAgICAgICAgICAgICAgbW9kYWwuc3VibWl0U2FsZVNldChtb2RhbFtcImFsaXZlSWRcIl0sIGlucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaPkOS6pOWIhumUgOiuvue9rlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhbGl2ZUlkICAgICAgIC0gICDnm7Tmkq3otYTmupBpZFxyXG4gICAgICogQHBhcmFtIGlucHV0VmFsdWUgICAgLSAgIOiuvue9ruWIhuaIkOavlOS+i++8miDpgoDor7fljaHliIbplIDlvIDlkK/vvJrvvIgxIH4gNTDvvInvvJsg6YKA6K+35Y2h5YiG6ZSA5YWz6Zet77yaMFxyXG4gICAgICovXHJcbiAgICBtb2RhbC5zdWJtaXRTYWxlU2V0ID0gZnVuY3Rpb24gKGFsaXZlSWQsIGlucHV0VmFsdWUpIHtcclxuICAgICAgICAkLmFqYXgoXCIvc2V0X3Byb2ZpdF9yYXRpb1wiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIFwiYWxpdmVfaWRcIjogYWxpdmVJZCxcclxuICAgICAgICAgICAgICAgIFwiZGlzdHJpYnV0ZV9wZXJjZW50XCI6IGlucHV0VmFsdWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zZXRfc2FsZV9yYXRpb193aW5kb3dcIikuZmFkZU91dCgzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLliIbplIDorr7nva7miJDlip/vvIFcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWIhumUgOiuvue9ruWksei0pe+8gVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5ZWm77yM6K+356iN5ZCO5YaN5o+Q5Lqk77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICByZXR1cm4gbW9kYWw7XHJcblxyXG59KSgpO1xyXG5cclxuLy/kuIvmnrZcclxuZnVuY3Rpb24gb2ZmU2FsZShpZClcclxue1xyXG4gICAgJC5nZXQoXCJhbGl2ZS9vZmZzYWxlXCIse1wiaWRcIjppZH0sZnVuY3Rpb24oZGF0YSlcclxuICAgIHtcclxuICAgICAgICBpZihkYXRhLnJldD09MClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLkv67mlLnmiJDlip9cIixmdW5jdGlvbigpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5L+u5pS55aSx6LSlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vL+S4iuaetlxyXG5mdW5jdGlvbiBvblNhbGUoaWQpXHJcbntcclxuICAgICQuZ2V0KFwiYWxpdmUvb25zYWxlXCIse1wiaWRcIjppZH0sZnVuY3Rpb24oZGF0YSlcclxuICAgIHtcclxuICAgICAgICBpZihkYXRhLnJldD09MClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLkv67mlLnmiJDlip9cIixmdW5jdGlvbigpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS/ruaUueWksei0pVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy/liKDpmaRcclxuZnVuY3Rpb24gZGVsZXRlUmVzb3VyY2UoaWQpXHJcbntcclxuICAgIHdpbmRvdy53eGMueGNDb25maXJtKFwi5oKo56Gu5a6a6KaB5Yig6Zmk5ZCXP1wiLFwiY29uZmlybVwiLHtvbk9rOmZ1bmN0aW9uKClcclxuICAgIHtcclxuICAgICAgICAkLmdldChcImFsaXZlL2RlbHNhbGVcIix7XCJpZFwiOmlkfSxmdW5jdGlvbihkYXRhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoZGF0YS5yZXQ9PTApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLliKDpmaTmiJDlip9cIixmdW5jdGlvbigpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLliKDpmaTlpLHotKVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9fSk7XHJcbn1cclxuXHJcbi8v57yW6L6RXHJcbmZ1bmN0aW9uIGVkaXRBbGl2ZShpZClcclxue1xyXG4gICAgLy/ojrflj5blvZPliY3pobV1cmxcclxuICAgIHZhciByZVVybCA9IGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cIi9lZGl0YWxpdmU/aWQ9XCIraWQrXCImcmV1cmw9XCIrcmVVcmw7XHJcbn1cclxuXHJcbi8v57uT5p2f55u05pKtXHJcbmZ1bmN0aW9uIGVuZEFsaXZlKGlkKVxyXG57XHJcbiAgICB3aW5kb3cud3hjLnhjQ29uZmlybShcIuaCqOehruWumuimgee7k+adn+ivpeebtOaSreWQlz9cIiwnY29uZmlybScse29uT2s6ZnVuY3Rpb24oKVxyXG4gICAge1xyXG4gICAgICAgICQuZ2V0KFwiL2VuZGFsaXZlXCIse1wiaWRcIjppZH0sZnVuY3Rpb24oZGF0YSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKGRhdGEucmV0PT0wKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cud3hjLnhjQ29uZmlybShcIue7k+adn+ebtOaSreaIkOWKn1wiLCdzdWNjZXNzJyx7b25PazpmdW5jdGlvbiAoKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmPVwiL2FsaXZlXCI7XHJcbiAgICAgICAgICAgICAgICB9fSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cud3hjLnhjQ29uZmlybShcIuebtOaSree7k+adn+Wksei0pVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfX0pO1xyXG59XHJcblxyXG4vL+afpeeci+ivhOiuulxyXG5mdW5jdGlvbiBhbGl2ZUNvbW1lbnQoaWQpXHJcbntcclxuICAgIHJlc2V0VXJsKFwiL2FsaXZlY29tbWVudD9hbGl2ZV9pZD1cIitpZCk7XHJcbn1cclxuXHJcblxyXG5cclxuIl19
