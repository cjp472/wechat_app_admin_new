$(function(){business.initCommon()});var business=function(){var e={};var t=[];var a=false;var i;var n;e.activity_id="";e.activity_state="";e.pageIndex=1;e.initCommon=function(){e.activity_id=$("#activity_id").val();e.activity_state=$("#activity_state").val();e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state},e.initEnrollment);$(".baseManageTab li.attendanceManage").click(function(){if($(".enrollmentManage").hasClass("baseActiveTab")){$(".enrollmentManage").removeClass("baseActiveTab");$(".attendanceManage").addClass("baseActiveTab")}e.getActivityPage("get_attendance_page",{activity_id:e.activity_id},e.initAttendance)});$(".baseManageTab li.enrollmentManage").click(function(){if($(".attendanceManage").hasClass("baseActiveTab")){$(".attendanceManage").removeClass("baseActiveTab");$(".enrollmentManage").addClass("baseActiveTab")}e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state},e.initEnrollment)});var t=$("#activity_link").val();createQrCode("qrCodeWrapper",t,110,110);$(".downloadQRCode").click(function(){var e=$(".qrCodeWrapper img").attr("src");f(e);return false});$(".close_icon_wrapper").click(function(){$(".show_qrCode_window").fadeOut(300)});$(document).on("click",".allowUser",function(){var e=$(this).data("userid");if(e){var t=[e];o(1,t)}});$(document).on("click",".refuseUser",function(){var e=$(this).data("userid");if(e){var t=[e];d(t)}});$(document).on("click",".ejectUser",function(){var t=$("#activity_id").val();var a=$(this).data("userid");$.alert("作废后该用户将不可参与本次活动","info",{icon:"red",btn:3,onOk:function(){if(a){$.post("/change_sign_state",{activity_id:t,user_id:a,state:4},function(t){if(t.code==0){baseUtils.show.blueTip("作废成功!");e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state},e.initEnrollment)}else{baseUtils.show.redTip(t.msg)}})}}})});$(".contentArea").on("click"," .pagination a",function(t){var a=$(t.target),i=a.data("url");e.pageIndex=a.text();if($(".enrollmentManage").hasClass("baseActiveTab")){e.getActivityPage(i,null,e.initEnrollment)}else{e.getActivityPage(i,null,e.initAttendance)}});$(document).on("click",function(e){var t=$(e.target);var a=t.closest(".memberInfoBox");var i=t.closest(".userInfoWrapper");if(!a.length&&!i.length){$(".memberInfoBox").css("right","-400px");infoShow=false}});$(".memberInfoBoxClose").click(function(){$(".memberInfoBox").css("right","-400px")});$("#sendMsg").on("click",function(){var e=$("#activity_id").val();var t=[];$(".sendMethod").each(function(){if($(this).prop("checked")){t.push(parseInt($(this).val()))}});if(t&&t.length===0){baseUtils.show.redTip("没有选择发送方式！");return}var i=parseInt($("#sendRange").children(":selected").val());var n=[];if(i==2){n=l();if(n&&n.length===0){baseUtils.show.redTip("没有选择用户！");return}}var c=$.trim($("#sendContent").val());if(!c){baseUtils.show.redTip("没有填写通知内容！");return}var r={activity_id:e,activity_state:i,notify_type:"",user_id_list:n,notify_content:c};if(!a){a=true;s(t,r,function(e){baseUtils.show.blueTip(e.msg);$(".massageBox,.darkScreen").hide();a=false},function(e){baseUtils.show.redTip(e.msg);$(".massageBox,.darkScreen").hide();a=false})}else{baseUtils.show.redTip("请勿重复操作！")}})};e.getActivityPage=function(e,t,a,i){$(".loadingS").fadeIn(300);$.ajax({type:"GET",url:e,dataType:"html",data:t,success:function(e){$(".loadingS").fadeOut(100);console.log(e.msg);if(e&&e.length>0){$(".contentArea").html(e);if(a){a.apply(window,i)}}else{baseUtils.show.redTip("获取信息失败！")}},error:function(e,t,a){$(".loadingS").fadeOut(100);console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}})};function c(e,a,i){var n=$("#activity_id").val();if(!arrUtils.inArr(t,e)){arrUtils.addArr(t,e);$.post("/passActivity",{activity_id:n,user_id_list:e},function(n){if(n.code==0){if(a){a(n)}}else{arrUtils.deleteArr(t,e);if(i){i(n)}}})}else{baseUtils.show.redTip("不能重复操作")}}function r(e,a,i){var n=$("#activity_id").val();var c=$("#refuseReasonInput").val();if(!c){baseUtils.show.redTip("请输入拒绝理由！");return}if(!arrUtils.inArr(t,e)){arrUtils.addArr(t,e);$.post("/denyActivity",{activity_id:n,user_id_list:e,refuse_reason:c},function(n){if(n.code==0){if(a){a(n)}}else{arrUtils.deleteArr(t,e);if(i){i(n)}}})}else{baseUtils.show.redTip("不能重复操作")}}function s(e,t,a,i){for(var n=0,c=e.length;n<c;n++){var r={};r=$.extend(r,t,true);r.notify_type=e[n];$.post("/activityNotify",r,function(e){if(e.code===0){if(a){a(e)}}else{if(i){i(e)}}})}}function o(t,a){var i=$.trim($("#searchContent").val());if(a&&a.length>0){if(t===1){c(a,function(t){baseUtils.show.blueTip(t.msg);setTimeout(function(){e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state,searchContent:i,page:e.pageIndex},e.initEnrollment)},500)},function(e){baseUtils.show.redTip(e.msg)})}else if(t===2){r(a,function(t){$(".memberRefuseBox,.darkScreen").fadeOut(300);baseUtils.show.blueTip(t.msg);setTimeout(function(){e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state,searchContent:i,page:e.pageIndex},e.initEnrollment)},500)},function(e){$(".memberRefuseBox,.darkScreen").fadeOut(300);baseUtils.show.redTip(e.msg)})}}else{baseUtils.show.redTip("请选择用户！")}}function l(){var e=[];$(".chooseUser").each(function(){var t=$(this).prop("checked");var a=$(this).data("userid");if(t&&a){e.push(a)}});return e}function d(e){if(e.length<1){baseUtils.show.redTip("请选择用户！");return}else if(e.length==1){i=$("."+e[0]).data("realname");n=$("."+e[0]).data("phone");$(".refuseMContent").html(i+"&nbsp&nbsp|&nbsp&nbsp"+n);$(".memberRefuseBox,.darkScreen").fadeIn(300);$(".rRefuse").off("click").on("click",function(){o(2,e)})}else{$(".memberRefuseBox,.darkScreen").fadeIn(300);$(".refuseMContent").html("共"+e.length+"人");$(".rRefuse").off("click").on("click",function(){o(2,e)})}}function f(e){var t=$("<a></a>").attr("href",e).attr("download","活动签到用二维码.png");t[0].click()}function v(e,t,a,i,n){$.ajax("/change_sign_state",{type:"POST",dataType:"json",data:{activity_id:e,user_id:t,state:a},success:function(e){if(e.code==0){console.log(e.msg);if(a==5){baseUtils.show.blueTip("签到成功")}else if(a==1){baseUtils.show.blueTip("取消签到成功")}if(i){i.apply(window,n)}}else{console.log(e.msg);baseUtils.show.redTip("操作失败，请重试")}},error:function(e,t,a){console.log(a);baseUtils.show.redTip("网络错误，请稍后再试！")}})}e.initEnrollment=function(){$(".activeNavPart").click(function(){var t=$.trim($("#searchContent").val());if($(".activeNavPart").hasClass("activeNavPartActive")){e.activity_state=$(this).data("activity_state");e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state,searchContent:t},e.initEnrollment)}});$("#batchAllow").on("click",function(){var e=l();o(1,e)});$("#batchRefuse").on("click",function(){var e=l();d(e)});$("#allChoose").on("click",function(){if($(this).prop("checked")){e("chooseUser",true)}else{e("chooseUser",false)}function e(e,t){$("."+e).each(function(){$(this).prop("checked",t)})}});$(".activeSearchBtn").click(function(){var t=$.trim($("#searchContent").val());e.getActivityPage("get_enrollment_page",{activity_id:e.activity_id,activity_state:e.activity_state,searchContent:t},e.initEnrollment)});$(".SearchInput").on("keypress",function(e){if(e.keyCode==13){$(".activeSearchBtn").click()}});$(".messageBtn").click(function(){$(".massageBox,.darkScreen").fadeIn(300)});$(".msgClose").click(function(){$(".massageBox,.darkScreen").fadeOut(300)});$(".rCancel,.RefuseBoxClose").click(function(){$(".memberRefuseBox,.darkScreen").fadeOut(300)});var t=false;var a="";$(".infoTbody").on("click","td",function(){if(!$(this).hasClass("notShowInfo")){var e=$(this).closest(".userInfoWrapper");var i=e.data("avatar");var n=e.data("nickname");var c=e.data("realname");var r=e.data("phone");var s=e.data("info");var o=e.data("state");var l=e.data("userid");if(s&&s.length>2){s=s.slice(2)}else{s=[]}if(l===a&&t){$(".memberInfoBox").css("right","-400px");a=""}else{var d={imgSrc:i,memberName:n,realName:c,memberPhone:r,moreInfo:s,state:o,userId:l};var f=template("peopleInfo",d);$("#enrollPersonInfo").html(f);$(".memberInfoBox").css("right","0");t=true;a=l}}});$(".excelBtn").click(function(){$("#ExportModal").fadeIn()});$("#applyExcel").on("click",function(){var e=$("#activity_id").val();var t=null;var a=0;var i=$("[name='selectOffice']");for(var n=0;n<i.length;n++){if(i[n].checked){t=i[n].value;if(t==1){a=2003}}}window.location.href="/excel/activity"+"?activity_id="+e+"&version="+a});$(".closePop").click(function(){$("#ExportModal").fadeOut()});$(document).ajaxError(function(){baseUtils.show.redTip("网络错误，操作失败!")});$(".contentArea .list-page .pagination li a").each(function(){var e=$(this);e.attr("data-url",e.attr("href"));e.removeAttr("href")})};e.initAttendance=function(){$(".qrCodeAttend").click(function(){$(".show_qrCode_window").fadeIn(300)});$(".changeSignState").on("click",".confirmSign",function(){var t=$(this).parent(".changeSignState");var a=t.data("user_id");var i=t.data("ticket_type");var n=t.data("real_name");var c=t.data("phone");$.alert('<span class="alert_real_name">姓名：'+n+'</span><span class="alert_phone">手机号：'+c+"</span>","success",{title:i==0?"免费票":"收费票",btn:3,oktext:"签到",canceltext:"关闭",onOk:function(){v(e.activity_id,a,5,function(){e.getActivityPage("get_attendance_page",{activity_id:e.activity_id,page:e.pageIndex},e.initAttendance)})}})});$(".changeSignState").on("click",".cancelSign",function(){var t=$(this).parent(".changeSignState");var a=t.data("user_id");var i=t.data("ticket_type");var n=t.data("real_name");var c=t.data("phone");$.alert('<span class="alert_real_name">姓名：'+n+'</span><span class="alert_phone">手机号：'+c+"</span>","success",{title:i==0?"免费票":"收费票",btn:3,oktext:"取消签到",canceltext:"关闭",onOk:function(){v(e.activity_id,a,1,function(){e.getActivityPage("get_attendance_page",{activity_id:e.activity_id,page:e.pageIndex},e.initAttendance)})}})});$(".searchAttendanceList").click(function(){var t=$(".phoneNumSearch").val();e.getActivityPage("get_attendance_page",{activity_id:e.activity_id,searchContent:t||""},e.initAttendance)});$(".phoneNumSearch").on("keypress",function(e){if(e.keyCode==13){$(".searchAttendanceList").click()}});$(".contentArea .list-page .pagination li a").each(function(){var e=$(this);e.attr("data-url",e.attr("href"));e.removeAttr("href")})};return e}();var arrUtils=function(){var e={};e.removeByValue=function(e,t){for(var a=0;a<e.length;a++){if(e[a]==t){e.splice(a,1);break}}return e};e.addArr=function(e,t){for(var a=0,i=t.length;a<i;a++){if(e.indexOf(t[a])===-1){e.push(t[a])}}return e};e.deleteArr=function(e,t){for(var a=0,i=t.length;a<i;a++){if(e.indexOf(t[a])!==-1){this.removeByValue(e,t[a])}}return e};e.inArr=function(e,t){for(var a=0,i=t.length;a<i;a++){if(e.indexOf(t[a])!==-1){return true}}return false};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjdGl2aXR5RW5yb2xsbWVudC5qcyJdLCJuYW1lcyI6WyIkIiwiYnVzaW5lc3MiLCJpbml0Q29tbW9uIiwib3BlcmF0ZUxpc3QiLCJzZW5kTXNnTGltaXQiLCJ1c2VyUmVhbE5hbWUiLCJ1c2VyUGhvbmUiLCJhY3Rpdml0eV9pZCIsImFjdGl2aXR5X3N0YXRlIiwicGFnZUluZGV4IiwidmFsIiwiZ2V0QWN0aXZpdHlQYWdlIiwiaW5pdEVucm9sbG1lbnQiLCJjbGljayIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImluaXRBdHRlbmRhbmNlIiwiYWN0aXZpdHlfbGluayIsImNyZWF0ZVFyQ29kZSIsImltZ1VybCIsImF0dHIiLCJkb3dubG9hZCIsImZhZGVPdXQiLCJkb2N1bWVudCIsIm9uIiwidXNlcklkIiwidGhpcyIsImRhdGEiLCJ1c2VySWRBcnIiLCJvcGVyYXRlQWN0aW9uIiwiY2xpY2tSZWZ1c2UiLCJhY3Rpdml0eUlkIiwiYWxlcnQiLCJpY29uIiwiYnRuIiwib25PayIsInBvc3QiLCJ1c2VyX2lkIiwic3RhdGUiLCJjb2RlIiwiYmFzZVV0aWxzIiwic2hvdyIsImJsdWVUaXAiLCJyZWRUaXAiLCJtc2ciLCJlIiwiZWxlIiwidGFyZ2V0IiwidXJsIiwidGV4dCIsImV2ZW50IiwibWVtYmVySW5mb0JveCIsImNsb3Nlc3QiLCJ1c2VySW5mb1dyYXBwZXIiLCJsZW5ndGgiLCJjc3MiLCJpbmZvU2hvdyIsIm1ldGhvZEFyciIsImVhY2giLCJwcm9wIiwicHVzaCIsInBhcnNlSW50IiwiY2hpbGRyZW4iLCJnZXRDaG9vc2VkVXNlciIsIm5vdGlmeV9jb250ZW50IiwidHJpbSIsIm5vdGlmeVBhcm0iLCJub3RpZnlfdHlwZSIsInVzZXJfaWRfbGlzdCIsInNlbmRNc2ciLCJoaWRlIiwic2VuZERhdGEiLCJjYWxsYmFjayIsImFyZ3MiLCJmYWRlSW4iLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwic3VjY2VzcyIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciLCJodG1sIiwiYXBwbHkiLCJ3aW5kb3ciLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsImFsbG93VXNlciIsImZhaWwiLCJhcnJVdGlscyIsImluQXJyIiwiYWRkQXJyIiwiZGVsZXRlQXJyIiwicmVmdXNlVXNlciIsInJlYXNvbiIsInJlZnVzZV9yZWFzb24iLCJpIiwiaiIsInBhcm1Db3B5IiwiZXh0ZW5kIiwic2VhcmNoQ29udGVudCIsInNldFRpbWVvdXQiLCJwYWdlIiwiY2hlY2tlZFN0YXR1cyIsIm9mZiIsInNyYyIsIiRhIiwiY2hhbmdlQWN0aXZpdHlTaWduU3RhdGUiLCJzaWduU3RhdGUiLCJjaGFuZ2VDaGVja2VkIiwiY2xhc3NOYW1lIiwia2V5Q29kZSIsImluZm9DbGlja0lkIiwidHIiLCJpbWdTcmMiLCJtZW1iZXJOYW1lIiwicmVhbE5hbWUiLCJtZW1iZXJQaG9uZSIsIm1vcmVJbmZvIiwic2xpY2UiLCJjb250ZW50IiwidGVtcGxhdGUiLCJjaGtPYmpzIiwiT2ZmaWNlMjAwMyIsIm9iaiIsImNoZWNrZWQiLCJ2YWx1ZSIsImxvY2F0aW9uIiwiaHJlZiIsImFqYXhFcnJvciIsIiRlbGUiLCJyZW1vdmVBdHRyIiwiJHBhcmVudCIsInBhcmVudCIsInRpY2tldF90eXBlIiwicmVhbF9uYW1lIiwicGhvbmUiLCJ0aXRsZSIsIm9rdGV4dCIsImNhbmNlbHRleHQiLCJzZWFyY2hfY29udGVudCIsInJlbW92ZUJ5VmFsdWUiLCJhcnIiLCJzcGxpY2UiLCJhcnJBIiwiYXJyQiIsImluZGV4T2YiXSwibWFwcGluZ3MiOiJBQUdBQSxFQUFFLFdBQ0VDLFNBQVNDLGNBS2IsSUFBSUQsVUFBVyxXQUVYLEdBQUlBLEtBR0osSUFBSUUsS0FHSixJQUFJQyxHQUFlLEtBR25CLElBQUlDLEVBR0osSUFBSUMsRUFFSkwsR0FBU00sWUFBYyxFQUN2Qk4sR0FBU08sZUFBaUIsRUFDMUJQLEdBQVNRLFVBQVksQ0FFckJSLEdBQVNDLFdBQWEsV0FDbEJELEVBQVNNLFlBQWNQ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Q2QsUUFHUixNQUFPOEMsR0FJWHJELEdBQVNFLE9BQVMsU0FBVXFELEVBQU1DLEdBQzlCLElBQUssR0FBSWpELEdBQUksRUFBR0MsRUFBSWdELEVBQUs3RixPQUFRNEMsRUFBSUMsRUFBR0QsSUFBSyxDQUN6QyxHQUFJZ0QsRUFBS0UsUUFBUUQsRUFBS2pELE9BQVMsRUFBRyxDQUM5QmdELEVBQUt0RixLQUFLdUYsRUFBS2pELEtBR3ZCLE1BQU9nRCxHQUlYdkQsR0FBU0csVUFBWSxTQUFVb0QsRUFBTUMsR0FDakMsSUFBSyxHQUFJakQsR0FBSSxFQUFHQyxFQUFJZ0QsRUFBSzdGLE9BQVE0QyxFQUFJQyxFQUFHRCxJQUFLLENBQ3pDLEdBQUlnRCxFQUFLRSxRQUFRRCxFQUFLakQsT0FBUyxFQUFHLENBQzlCeEUsS0FBS3FILGNBQWNHLEVBQU1DLEVBQUtqRCxLQUd0QyxNQUFPZ0QsR0FJWHZELEdBQVNDLE1BQVEsU0FBVXNELEVBQU1DLEdBQzdCLElBQUssR0FBSWpELEdBQUksRUFBR0MsRUFBSWdELEVBQUs3RixPQUFRNEMsRUFBSUMsRUFBR0QsSUFBSyxDQUN6QyxHQUFJZ0QsRUFBS0UsUUFBUUQsRUFBS2pELE9BQVMsRUFBRyxDQUM5QixNQUFPLE9BR2YsTUFBTyxPQUlYLE9BQU9QIiwiZmlsZSI6ImFjdGl2aXR5RW5yb2xsbWVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBOZW8gb24gMjAxNy8zLzguXG4gKi9cbiQoZnVuY3Rpb24gKCkge1xuICAgIGJ1c2luZXNzLmluaXRDb21tb24oKTtcblxufSk7XG5cbi8v5Lia5Yqh57G7XG52YXIgYnVzaW5lc3MgPSAoZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGJ1c2luZXNzID0ge307XG5cbiAgICAvLyDmk43kvZznlKjmiLflkI3ljZXvvIjpmLLmraLph43lpI3lj5HpgIHvvIlcbiAgICB2YXIgb3BlcmF0ZUxpc3QgPSBbXTtcblxuICAgIC8vIOmYsuatoumHjeWkjeWPkemAgea2iOaBr+agh+W/l1xuICAgIHZhciBzZW5kTXNnTGltaXQgPSBmYWxzZTtcblxuICAgIC8v6YCJ5Lit55So5oi355qE55yf5a6e5aeT5ZCNXG4gICAgdmFyIHVzZXJSZWFsTmFtZVxuXG4gICAgLy/pgInkuK3nlKjmiLfnmoTmiYvmnLrlj7dcbiAgICB2YXIgdXNlclBob25lXG5cbiAgICBidXNpbmVzcy5hY3Rpdml0eV9pZCA9IFwiXCI7ICAgICAgLy8gIOa0u+WKqGlkXG4gICAgYnVzaW5lc3MuYWN0aXZpdHlfc3RhdGUgPSBcIlwiOyAgICAgIC8vICDmtLvliqjnirbmgIFcbiAgICBidXNpbmVzcy5wYWdlSW5kZXggPSAxOyAgICAgICAgICAgICAvLyAg5b2T5YmN5omA5Zyo6aG16Z2iXG5cbiAgICBidXNpbmVzcy5pbml0Q29tbW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBidXNpbmVzcy5hY3Rpdml0eV9pZCA9ICQoXCIjYWN0aXZpdHlfaWRcIikudmFsKCk7XG4gICAgICAgIGJ1c2luZXNzLmFjdGl2aXR5X3N0YXRlID0gJChcIiNhY3Rpdml0eV9zdGF0ZVwiKS52YWwoKTtcblxuICAgICAgICBidXNpbmVzcy5nZXRBY3Rpdml0eVBhZ2UoXCJnZXRfZW5yb2xsbWVudF9wYWdlXCIsIHtcbiAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBidXNpbmVzcy5hY3Rpdml0eV9pZCxcbiAgICAgICAgICAgIGFjdGl2aXR5X3N0YXRlOiBidXNpbmVzcy5hY3Rpdml0eV9zdGF0ZVxuICAgICAgICB9LCBidXNpbmVzcy5pbml0RW5yb2xsbWVudCk7XG5cbiAgICAgICAgLy8gIFRBQiDliIfmjaJcbiAgICAgICAgJChcIi5iYXNlTWFuYWdlVGFiIGxpLmF0dGVuZGFuY2VNYW5hZ2VcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoJChcIi5lbnJvbGxtZW50TWFuYWdlXCIpLmhhc0NsYXNzKFwiYmFzZUFjdGl2ZVRhYlwiKSkgeyAgICAgLy8gIOWIh+aNouWIsOWPs+i+uSAtIOetvuWIsOeuoeeQhlxuICAgICAgICAgICAgICAgICQoXCIuZW5yb2xsbWVudE1hbmFnZVwiKS5yZW1vdmVDbGFzcyhcImJhc2VBY3RpdmVUYWJcIik7XG4gICAgICAgICAgICAgICAgJChcIi5hdHRlbmRhbmNlTWFuYWdlXCIpLmFkZENsYXNzKFwiYmFzZUFjdGl2ZVRhYlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZShcImdldF9hdHRlbmRhbmNlX3BhZ2VcIiwge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBidXNpbmVzcy5hY3Rpdml0eV9pZFxuICAgICAgICAgICAgfSwgYnVzaW5lc3MuaW5pdEF0dGVuZGFuY2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiLmJhc2VNYW5hZ2VUYWIgbGkuZW5yb2xsbWVudE1hbmFnZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICgkKFwiLmF0dGVuZGFuY2VNYW5hZ2VcIikuaGFzQ2xhc3MoXCJiYXNlQWN0aXZlVGFiXCIpKSB7ICAgICAgICAgLy8gIOWIh+aNouWIsOW3pui+uSAtIOaKpeWQjeeuoeeQhlxuICAgICAgICAgICAgICAgICQoXCIuYXR0ZW5kYW5jZU1hbmFnZVwiKS5yZW1vdmVDbGFzcyhcImJhc2VBY3RpdmVUYWJcIik7XG4gICAgICAgICAgICAgICAgJChcIi5lbnJvbGxtZW50TWFuYWdlXCIpLmFkZENsYXNzKFwiYmFzZUFjdGl2ZVRhYlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZShcImdldF9lbnJvbGxtZW50X3BhZ2VcIiwge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBidXNpbmVzcy5hY3Rpdml0eV9pZCxcbiAgICAgICAgICAgICAgICBhY3Rpdml0eV9zdGF0ZTogYnVzaW5lc3MuYWN0aXZpdHlfc3RhdGVcbiAgICAgICAgICAgIH0sIGJ1c2luZXNzLmluaXRFbnJvbGxtZW50KTtcblxuICAgICAgICB9KTtcblxuICAgICAgICAvL+WIneWni+WMluS6jOe7tOeggeWbvueJh1xuICAgICAgICB2YXIgYWN0aXZpdHlfbGluayA9ICQoXCIjYWN0aXZpdHlfbGlua1wiKS52YWwoKTtcbiAgICAgICAgY3JlYXRlUXJDb2RlKFwicXJDb2RlV3JhcHBlclwiLCBhY3Rpdml0eV9saW5rLCAxMTAsIDExMCk7XG5cbiAgICAgICAgLy/ngrnlh7vkuIvovb1cbiAgICAgICAgJChcIi5kb3dubG9hZFFSQ29kZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW1nVXJsID0gJChcIi5xckNvZGVXcmFwcGVyIGltZ1wiKS5hdHRyKFwic3JjXCIpO1xuICAgICAgICAgICAgZG93bmxvYWQoaW1nVXJsKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/lhbPpl63kuoznu7TnoIHnrb7liLDnqpflj6NcbiAgICAgICAgJChcIi5jbG9zZV9pY29uX3dyYXBwZXJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi5zaG93X3FyQ29kZV93aW5kb3dcIikuZmFkZU91dCgzMDApO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL+mAmui/h+eUqOaIt+WuoeaguOaTjeS9nCjljZXkuKrvvIlcbiAgICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5hbGxvd1VzZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHVzZXJJZCA9ICQodGhpcykuZGF0YShcInVzZXJpZFwiKTtcbiAgICAgICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXNlcklkQXJyID0gW3VzZXJJZF07XG4gICAgICAgICAgICAgICAgb3BlcmF0ZUFjdGlvbigxLCB1c2VySWRBcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvL+aLkue7neeUqOaIt+WuoeaguOaTjeS9nCjljZXkuKrvvIlcbiAgICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5yZWZ1c2VVc2VyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB1c2VySWQgPSAkKHRoaXMpLmRhdGEoXCJ1c2VyaWRcIik7XG4gICAgICAgICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVzZXJJZEFyciA9IFt1c2VySWRdO1xuICAgICAgICAgICAgICAgIGNsaWNrUmVmdXNlKHVzZXJJZEFycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v5L2c5bqf5Y2V5Liq55So5oi355qE56Wo5Yi45pON5L2cXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuZWplY3RVc2VyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhY3Rpdml0eUlkID0gJChcIiNhY3Rpdml0eV9pZFwiKS52YWwoKTtcbiAgICAgICAgICAgIHZhciB1c2VySWQgPSAkKHRoaXMpLmRhdGEoXCJ1c2VyaWRcIik7XG4gICAgICAgICAgICAkLmFsZXJ0KCfkvZzlup/lkI7or6XnlKjmiLflsIbkuI3lj6/lj4LkuI7mnKzmrKHmtLvliqgnLCAnaW5mbycsIHtpY29uOidyZWQnLGJ0bjozLG9uT2s6ZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5wb3N0KCcvY2hhbmdlX3NpZ25fc3RhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5X2lkOmFjdGl2aXR5SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcl9pZDp1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6NFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5jb2RlPT0wKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuS9nOW6n+aIkOWKnyFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZShcImdldF9lbnJvbGxtZW50X3BhZ2VcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlfaWQ6IGJ1c2luZXNzLmFjdGl2aXR5X2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlfc3RhdGU6IGJ1c2luZXNzLmFjdGl2aXR5X3N0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGJ1c2luZXNzLmluaXRFbnJvbGxtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v5YiG6aG16K+35rGCXG4gICAgICAgICQoXCIuY29udGVudEFyZWFcIikub24oJ2NsaWNrJywgJyAucGFnaW5hdGlvbiBhJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGVsZSA9ICQoZS50YXJnZXQpLFxuICAgICAgICAgICAgICAgIHVybCA9IGVsZS5kYXRhKCd1cmwnKTtcbiAgICAgICAgICAgIGJ1c2luZXNzLnBhZ2VJbmRleCA9IGVsZS50ZXh0KCk7XG4gICAgICAgICAgICBpZiAoJChcIi5lbnJvbGxtZW50TWFuYWdlXCIpLmhhc0NsYXNzKFwiYmFzZUFjdGl2ZVRhYlwiKSkgeyAgICAgLy8gIOWcqOW3pui+uSAtIOaKpeWQjeeuoeeQhlxuICAgICAgICAgICAgICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZSh1cmwsIG51bGwsIGJ1c2luZXNzLmluaXRFbnJvbGxtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICDlnKjlj7PovrkgLSDnrb7lkI3nrqHnkIZcbiAgICAgICAgICAgICAgICBidXNpbmVzcy5nZXRBY3Rpdml0eVBhZ2UodXJsLCBudWxsLCBidXNpbmVzcy5pbml0QXR0ZW5kYW5jZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g6ZqQ6JeP55So5oi35L+h5oGv5qCPXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIixmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7XG4gICAgICAgICAgICB2YXIgbWVtYmVySW5mb0JveCA9IHRhcmdldC5jbG9zZXN0KFwiLm1lbWJlckluZm9Cb3hcIik7XG4gICAgICAgICAgICB2YXIgdXNlckluZm9XcmFwcGVyID0gdGFyZ2V0LmNsb3Nlc3QoXCIudXNlckluZm9XcmFwcGVyXCIpO1xuICAgICAgICAgICAgaWYoIW1lbWJlckluZm9Cb3gubGVuZ3RoICYmICF1c2VySW5mb1dyYXBwZXIubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAkKFwiLm1lbWJlckluZm9Cb3hcIikuY3NzKFwicmlnaHRcIiwgXCItNDAwcHhcIik7XG4gICAgICAgICAgICAgICAgaW5mb1Nob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/lhbPpl63kuKrkurrkv6Hmga/moYZcbiAgICAgICAgJChcIi5tZW1iZXJJbmZvQm94Q2xvc2VcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi5tZW1iZXJJbmZvQm94XCIpLmNzcyhcInJpZ2h0XCIsIFwiLTQwMHB4XCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyDlj5HpgIHmtojmga/pgJrnn6VcbiAgICAgICAgJChcIiNzZW5kTXNnXCIpLm9uKFwiY2xpY2tcIixmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyDmtLvliqhpZFxuICAgICAgICAgICAgdmFyIGFjdGl2aXR5X2lkID0gJChcIiNhY3Rpdml0eV9pZFwiKS52YWwoKTtcblxuICAgICAgICAgICAgLy8g5Y+R6YCB5pa55byPXG4gICAgICAgICAgICB2YXIgbWV0aG9kQXJyID0gW107XG4gICAgICAgICAgICAkKFwiLnNlbmRNZXRob2RcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYoJCh0aGlzKS5wcm9wKFwiY2hlY2tlZFwiKSl7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZEFyci5wdXNoKHBhcnNlSW50KCQodGhpcykudmFsKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYobWV0aG9kQXJyICYmIG1ldGhvZEFyci5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuayoeaciemAieaLqeWPkemAgeaWueW8j++8gVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy8g5Y+R6YCB6IyD5Zu0XG4gICAgICAgICAgICB2YXIgYWN0aXZpdHlfc3RhdGUgPSBwYXJzZUludCgkKFwiI3NlbmRSYW5nZVwiKS5jaGlsZHJlbihcIjpzZWxlY3RlZFwiKS52YWwoKSk7XG4gICAgICAgICAgICAvLyDlj5HpgIHnlKjmiLdcbiAgICAgICAgICAgIHZhciB1c2VySWRBcnIgPSBbXTtcbiAgICAgICAgICAgIGlmKGFjdGl2aXR5X3N0YXRlID09IDIpe1xuICAgICAgICAgICAgICAgIHVzZXJJZEFyciA9IGdldENob29zZWRVc2VyKCk7XG4gICAgICAgICAgICAgICAgaWYodXNlcklkQXJyICYmIHVzZXJJZEFyci5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmsqHmnInpgInmi6nnlKjmiLfvvIFcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyDlj5HpgIHlhoXlrrlcbiAgICAgICAgICAgIHZhciBub3RpZnlfY29udGVudCA9ICQudHJpbSgkKFwiI3NlbmRDb250ZW50XCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgaWYoIW5vdGlmeV9jb250ZW50KXtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmsqHmnInloavlhpnpgJrnn6XlhoXlrrnvvIFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbm90aWZ5UGFybSA9IHtcbiAgICAgICAgICAgICAgICBhY3Rpdml0eV9pZDogYWN0aXZpdHlfaWQsXG4gICAgICAgICAgICAgICAgYWN0aXZpdHlfc3RhdGU6IGFjdGl2aXR5X3N0YXRlLFxuICAgICAgICAgICAgICAgIG5vdGlmeV90eXBlOiBcIlwiLFxuICAgICAgICAgICAgICAgIHVzZXJfaWRfbGlzdDogdXNlcklkQXJyLFxuICAgICAgICAgICAgICAgIG5vdGlmeV9jb250ZW50OiBub3RpZnlfY29udGVudFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYoIXNlbmRNc2dMaW1pdCl7XG4gICAgICAgICAgICAgICAgc2VuZE1zZ0xpbWl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyDlj5HpgIHkv6Hmga/or7fmsYJcbiAgICAgICAgICAgICAgICBzZW5kTXNnKFxuICAgICAgICAgICAgICAgICAgICBtZXRob2RBcnIsXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmeVBhcm0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tYXNzYWdlQm94LC5kYXJrU2NyZWVuJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZE1zZ0xpbWl0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1hc3NhZ2VCb3gsLmRhcmtTY3JlZW4nKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kTXNnTGltaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35Yu/6YeN5aSN5pON5L2c77yBXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZSA9IGZ1bmN0aW9uICh1cmwsIHNlbmREYXRhLCBjYWxsYmFjaywgYXJncykge1xuICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVJbigzMDApO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgZGF0YTogc2VuZERhdGEsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0Lm1zZyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmNvbnRlbnRBcmVhXCIpLmh0bWwocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseSh3aW5kb3csIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6I635Y+W5L+h5oGv5aSx6LSl77yBXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMTAwKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICAvLyDpgJrov4fnlKjmiLfor7fmsYJcbiAgICBmdW5jdGlvbiBhbGxvd1VzZXIodXNlcklkQXJyLCBzdWNjZXNzLCBmYWlsKSB7XG4gICAgICAgIHZhciBhY3Rpdml0eV9pZCA9ICQoXCIjYWN0aXZpdHlfaWRcIikudmFsKCk7XG4gICAgICAgIGlmICghYXJyVXRpbHMuaW5BcnIob3BlcmF0ZUxpc3QsIHVzZXJJZEFycikpIHtcbiAgICAgICAgICAgIGFyclV0aWxzLmFkZEFycihvcGVyYXRlTGlzdCwgdXNlcklkQXJyKTtcblxuICAgICAgICAgICAgJC5wb3N0KCcvcGFzc0FjdGl2aXR5Jywge2FjdGl2aXR5X2lkOiBhY3Rpdml0eV9pZCwgdXNlcl9pZF9saXN0OiB1c2VySWRBcnJ9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyVXRpbHMuZGVsZXRlQXJyKG9wZXJhdGVMaXN0LCB1c2VySWRBcnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiN6IO96YeN5aSN5pON5L2cXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g5ouS57ud55So5oi36K+35rGCXG4gICAgZnVuY3Rpb24gcmVmdXNlVXNlcih1c2VySWRBcnIsIHN1Y2Nlc3MsIGZhaWwpIHtcbiAgICAgICAgdmFyIGFjdGl2aXR5X2lkID0gJChcIiNhY3Rpdml0eV9pZFwiKS52YWwoKTtcbiAgICAgICAgIC8v6I635Y+W5ouS57ud5by55Ye65qGG55qE5ouS57ud55CG55SxXG4gICAgICAgIHZhciByZWFzb249JChcIiNyZWZ1c2VSZWFzb25JbnB1dFwiKS52YWwoKTtcblxuICAgICAgICBpZighcmVhc29uKXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+i+k+WFpeaLkue7neeQhueUse+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYXJyVXRpbHMuaW5BcnIob3BlcmF0ZUxpc3QsIHVzZXJJZEFycikpIHtcbiAgICAgICAgICAgIGFyclV0aWxzLmFkZEFycihvcGVyYXRlTGlzdCwgdXNlcklkQXJyKTtcblxuICAgICAgICAgICAgJC5wb3N0KCcvZGVueUFjdGl2aXR5Jywge2FjdGl2aXR5X2lkOiBhY3Rpdml0eV9pZCwgdXNlcl9pZF9saXN0OiB1c2VySWRBcnIscmVmdXNlX3JlYXNvbjpyZWFzb259LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyVXRpbHMuZGVsZXRlQXJyKG9wZXJhdGVMaXN0LCB1c2VySWRBcnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiN6IO96YeN5aSN5pON5L2cXCIpO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuICAgIC8vIOWPkemAgea2iOaBr+mAmuefpeivt+axglxuICAgIGZ1bmN0aW9uIHNlbmRNc2cobWV0aG9kQXJyLG5vdGlmeVBhcm0sc3VjY2VzcyxmYWlsKSB7XG4gICAgICAgIGZvcih2YXIgaT0wLGo9bWV0aG9kQXJyLmxlbmd0aDtpPGo7aSsrKXtcbiAgICAgICAgICAgIHZhciBwYXJtQ29weSA9e307XG4gICAgICAgICAgICBwYXJtQ29weSA9JC5leHRlbmQocGFybUNvcHksbm90aWZ5UGFybSx0cnVlKTtcbiAgICAgICAgICAgIHBhcm1Db3B5Lm5vdGlmeV90eXBlID0gbWV0aG9kQXJyW2ldO1xuICAgICAgICAgICAgJC5wb3N0KCcvYWN0aXZpdHlOb3RpZnknLHBhcm1Db3B5LGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5jb2RlID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoc3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGlmKGZhaWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbChkYXRhKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOmAmui/hy/mi5Lnu53mk43kvZzlsIHoo4UgdHlwZSAx5Li66YCa6L+H77yMMuS4uuaLkue7nVxuICAgIGZ1bmN0aW9uIG9wZXJhdGVBY3Rpb24odHlwZSwgdXNlcklkQXJyKSB7XG4gICAgICAgIHZhciBzZWFyY2hDb250ZW50ID0gJC50cmltKCQoJyNzZWFyY2hDb250ZW50JykudmFsKCkpO1xuICAgICAgICBpZih1c2VySWRBcnIgJiYgdXNlcklkQXJyLmxlbmd0aCA+MCl7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGFsbG93VXNlcihcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkQXJyLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXNpbmVzcy5nZXRBY3Rpdml0eVBhZ2UoXCJnZXRfZW5yb2xsbWVudF9wYWdlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlfaWQ6IGJ1c2luZXNzLmFjdGl2aXR5X2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eV9zdGF0ZTogYnVzaW5lc3MuYWN0aXZpdHlfc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaENvbnRlbnQ6IHNlYXJjaENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IGJ1c2luZXNzLnBhZ2VJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGJ1c2luZXNzLmluaXRFbnJvbGxtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gMikge1xuICAgICAgICAgICAgICAgIHJlZnVzZVVzZXIoXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZEFycixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubWVtYmVyUmVmdXNlQm94LC5kYXJrU2NyZWVuXCIpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzaW5lc3MuZ2V0QWN0aXZpdHlQYWdlKFwiZ2V0X2Vucm9sbG1lbnRfcGFnZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBidXNpbmVzcy5hY3Rpdml0eV9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlfc3RhdGU6IGJ1c2luZXNzLmFjdGl2aXR5X3N0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hDb250ZW50OiBzZWFyY2hDb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBidXNpbmVzcy5wYWdlSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBidXNpbmVzcy5pbml0RW5yb2xsbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLm1lbWJlclJlZnVzZUJveCwuZGFya1NjcmVlblwiKS5mYWRlT3V0KDMwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+36YCJ5oup55So5oi377yBXCIpO1xuICAgICAgICB9XG5cblxuICAgIH1cblxuICAgIC8vIOiOt+WPluaJgOaciemAieS4reeahOeUqOaIt2lkXG4gICAgZnVuY3Rpb24gZ2V0Q2hvb3NlZFVzZXIoKSB7XG4gICAgICAgIHZhciB1c2VySWRBcnIgPSBbXTtcbiAgICAgICAgJChcIi5jaG9vc2VVc2VyXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWRTdGF0dXMgPSAkKHRoaXMpLnByb3AoXCJjaGVja2VkXCIpO1xuICAgICAgICAgICAgdmFyIHVzZXJJZCA9ICQodGhpcykuZGF0YShcInVzZXJpZFwiKTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkU3RhdHVzICYmIHVzZXJJZCkge1xuICAgICAgICAgICAgICAgIHVzZXJJZEFyci5wdXNoKHVzZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdXNlcklkQXJyO1xuICAgIH1cblxuICAgIC8vIOeCueWHu+aLkue7neeQhueUsea1ruWxgumHjOeahOaLkue7neaMiemSrlxuICAgIGZ1bmN0aW9uIGNsaWNrUmVmdXNlKHVzZXJJZEFycikge1xuICAgICAgICBpZih1c2VySWRBcnIubGVuZ3RoIDwgMSl7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7fpgInmi6nnlKjmiLfvvIFcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZih1c2VySWRBcnIubGVuZ3RoID09MSl7XG4gICAgICAgICAgICB1c2VyUmVhbE5hbWU9JChcIi5cIit1c2VySWRBcnJbMF0pLmRhdGEoXCJyZWFsbmFtZVwiKTtcbiAgICAgICAgICAgIHVzZXJQaG9uZT0kKFwiLlwiK3VzZXJJZEFyclswXSkuZGF0YShcInBob25lXCIpO1xuICAgICAgICAgICAgJChcIi5yZWZ1c2VNQ29udGVudFwiKS5odG1sKHVzZXJSZWFsTmFtZStcIiZuYnNwJm5ic3B8Jm5ic3AmbmJzcFwiK3VzZXJQaG9uZSk7XG4gICAgICAgICAgICAkKFwiLm1lbWJlclJlZnVzZUJveCwuZGFya1NjcmVlblwiKS5mYWRlSW4oMzAwKTtcbiAgICAgICAgICAgICQoXCIuclJlZnVzZVwiKS5vZmYoXCJjbGlja1wiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG9wZXJhdGVBY3Rpb24oMiwgdXNlcklkQXJyKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgJChcIi5tZW1iZXJSZWZ1c2VCb3gsLmRhcmtTY3JlZW5cIikuZmFkZUluKDMwMCk7XG4gICAgICAgICAgICAkKFwiLnJlZnVzZU1Db250ZW50XCIpLmh0bWwoXCLlhbFcIit1c2VySWRBcnIubGVuZ3RoK1wi5Lq6XCIpO1xuICAgICAgICAgICAgJChcIi5yUmVmdXNlXCIpLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIixmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgb3BlcmF0ZUFjdGlvbigyLCB1c2VySWRBcnIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvd25sb2FkKHNyYykge1xuICAgICAgICB2YXIgJGEgPSAkKFwiPGE+PC9hPlwiKS5hdHRyKFwiaHJlZlwiLCBzcmMpLmF0dHIoXCJkb3dubG9hZFwiLCBcIua0u+WKqOetvuWIsOeUqOS6jOe7tOeggS5wbmdcIik7XG4gICAgICAgICRhWzBdLmNsaWNrKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hhbmdlQWN0aXZpdHlTaWduU3RhdGUoYWN0aXZpdHlJZCwgdXNlcklkLCBzaWduU3RhdGUsIGNhbGxiYWNrLCBhcmdzKSB7XG5cbiAgICAgICAgJC5hamF4KFwiL2NoYW5nZV9zaWduX3N0YXRlXCIsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBhY3Rpdml0eUlkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgICAgICBzdGF0ZTogc2lnblN0YXRlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2lnblN0YXRlID09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLnrb7liLDmiJDlip9cIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihzaWduU3RhdGUgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWPlua2iOetvuWIsOaIkOWKn1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHdpbmRvdywgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+36YeN6K+VXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIOWIneWni+WMluaKpeWQjeeuoeeQhumhtemdompzXG4gICAgICovXG4gICAgYnVzaW5lc3MuaW5pdEVucm9sbG1lbnQgPSBmdW5jdGlvbiAoKSB7XG5cblxuICAgICAgICAvLyAg5oql5ZCN566h55CG5YaF6YOoIHRhYiDliIfmjaJcbiAgICAgICAgJChcIi5hY3RpdmVOYXZQYXJ0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZWFyY2hDb250ZW50ID0gJC50cmltKCQoJyNzZWFyY2hDb250ZW50JykudmFsKCkpO1xuICAgICAgICAgICAgaWYgKCQoXCIuYWN0aXZlTmF2UGFydFwiKS5oYXNDbGFzcyhcImFjdGl2ZU5hdlBhcnRBY3RpdmVcIikpIHtcbiAgICAgICAgICAgICAgICBidXNpbmVzcy5hY3Rpdml0eV9zdGF0ZSA9ICQodGhpcykuZGF0YShcImFjdGl2aXR5X3N0YXRlXCIpO1xuICAgICAgICAgICAgICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZShcImdldF9lbnJvbGxtZW50X3BhZ2VcIiwge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eV9pZDogYnVzaW5lc3MuYWN0aXZpdHlfaWQsXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5X3N0YXRlOiBidXNpbmVzcy5hY3Rpdml0eV9zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoQ29udGVudDogc2VhcmNoQ29udGVudFxuICAgICAgICAgICAgICAgIH0sIGJ1c2luZXNzLmluaXRFbnJvbGxtZW50KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy8g5om56YeP6YCa6L+H55So5oi35a6h5qC4XG4gICAgICAgICQoXCIjYmF0Y2hBbGxvd1wiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB1c2VySWRBcnIgPSBnZXRDaG9vc2VkVXNlcigpO1xuICAgICAgICAgICAgb3BlcmF0ZUFjdGlvbigxLCB1c2VySWRBcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyDmibnph4/mi5Lnu53nlKjmiLflrqHmoLhcbiAgICAgICAgJChcIiNiYXRjaFJlZnVzZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB1c2VySWRBcnIgPSBnZXRDaG9vc2VkVXNlcigpO1xuICAgICAgICAgICAgY2xpY2tSZWZ1c2UodXNlcklkQXJyKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyDpgInkuK0v5Y+W5raI6YCJ5LitIOWFqOmDqOeUqOaIt1xuICAgICAgICAkKFwiI2FsbENob29zZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLnByb3AoXCJjaGVja2VkXCIpKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlQ2hlY2tlZChcImNob29zZVVzZXJcIiwgdHJ1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoYW5nZUNoZWNrZWQoXCJjaG9vc2VVc2VyXCIsIGZhbHNlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gY2hhbmdlQ2hlY2tlZChjbGFzc05hbWUsIHN0YXR1cykge1xuICAgICAgICAgICAgICAgICQoXCIuXCIgKyBjbGFzc05hbWUpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnByb3AoXCJjaGVja2VkXCIsIHN0YXR1cylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8v5qC55o2u5pCc57Si5YaF5a655pCc57Si5Lq65ZGYXG4gICAgICAgICQoJy5hY3RpdmVTZWFyY2hCdG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoQ29udGVudCA9ICQudHJpbSgkKCcjc2VhcmNoQ29udGVudCcpLnZhbCgpKTtcbiAgICAgICAgICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZShcImdldF9lbnJvbGxtZW50X3BhZ2VcIiwge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBidXNpbmVzcy5hY3Rpdml0eV9pZCxcbiAgICAgICAgICAgICAgICBhY3Rpdml0eV9zdGF0ZTogYnVzaW5lc3MuYWN0aXZpdHlfc3RhdGUsXG4gICAgICAgICAgICAgICAgc2VhcmNoQ29udGVudDogc2VhcmNoQ29udGVudFxuICAgICAgICAgICAgfSwgYnVzaW5lc3MuaW5pdEVucm9sbG1lbnQpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyAg5Zue6L2m5pCc57SiXG4gICAgICAgICQoXCIuU2VhcmNoSW5wdXRcIikub24oJ2tleXByZXNzJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAkKCcuYWN0aXZlU2VhcmNoQnRuJykuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g54K55Ye75raI5oGv6YCa55+lXG4gICAgICAgICQoXCIubWVzc2FnZUJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcubWFzc2FnZUJveCwuZGFya1NjcmVlbicpLmZhZGVJbigzMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgLy/lhbPpl63mtojmga/pgJrnn6XnmoTmta7lsYJcbiAgICAgICAgJChcIi5tc2dDbG9zZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcubWFzc2FnZUJveCwuZGFya1NjcmVlbicpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8v5YWz6Zet5ouS57ud5by55Ye65qGGXG4gICAgICAgICQoXCIuckNhbmNlbCwuUmVmdXNlQm94Q2xvc2VcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi5tZW1iZXJSZWZ1c2VCb3gsLmRhcmtTY3JlZW5cIikuZmFkZU91dCgzMDApO1xuICAgICAgICB9KVxuXG5cblxuICAgICAgICAvLyDnlKjmiLfkv6Hmga/moI/nmoTmmL7npLrnirbmgIFcbiAgICAgICAgdmFyIGluZm9TaG93ID0gZmFsc2U7XG4gICAgICAgIC8vIOeCueWHu+eahOadoeebruagh+iusFxuICAgICAgICB2YXIgaW5mb0NsaWNrSWQgPSBcIlwiO1xuICAgICAgICAvLyDmmL7npLrnlKjmiLfkv6Hmga/moI9cbiAgICAgICAgJChcIi5pbmZvVGJvZHlcIikub24oXCJjbGlja1wiLFwidGRcIixmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZighJCh0aGlzKS5oYXNDbGFzcyhcIm5vdFNob3dJbmZvXCIpKXtcbiAgICAgICAgICAgICAgICB2YXIgdHIgPSAkKHRoaXMpLmNsb3Nlc3QoXCIudXNlckluZm9XcmFwcGVyXCIpO1xuICAgICAgICAgICAgICAgIHZhciBpbWdTcmMgPSB0ci5kYXRhKFwiYXZhdGFyXCIpO1xuICAgICAgICAgICAgICAgIHZhciBtZW1iZXJOYW1lID0gdHIuZGF0YShcIm5pY2tuYW1lXCIpO1xuICAgICAgICAgICAgICAgIHZhciByZWFsTmFtZSA9IHRyLmRhdGEoXCJyZWFsbmFtZVwiKTtcbiAgICAgICAgICAgICAgICB2YXIgbWVtYmVyUGhvbmUgPSB0ci5kYXRhKFwicGhvbmVcIik7XG4gICAgICAgICAgICAgICAgdmFyIG1vcmVJbmZvID0gdHIuZGF0YShcImluZm9cIik7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gdHIuZGF0YShcInN0YXRlXCIpO1xuICAgICAgICAgICAgICAgIHZhciB1c2VySWQgPSB0ci5kYXRhKFwidXNlcmlkXCIpO1xuICAgICAgICAgICAgICAgIC8v5aaC5p6c55So5oi35LiN5piv5b6F5a6h5qC454q25oCB77yM5YiZ6ZqQ6JeP6YCa6L+H5ouS57ud5oyJ6ZKuXG4gICAgICAgICAgICAgICAgaWYgKG1vcmVJbmZvICYmIG1vcmVJbmZvLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9yZUluZm8gPSBtb3JlSW5mby5zbGljZSgyKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgbW9yZUluZm89W107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYodXNlcklkID09PSBpbmZvQ2xpY2tJZCAmJiBpbmZvU2hvdyl7XG4gICAgICAgICAgICAgICAgICAgICQoXCIubWVtYmVySW5mb0JveFwiKS5jc3MoXCJyaWdodFwiLCBcIi00MDBweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaW5mb0NsaWNrSWQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZ1NyYzogaW1nU3JjLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVtYmVyTmFtZTogbWVtYmVyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxOYW1lOiByZWFsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlclBob25lOiBtZW1iZXJQaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcmVJbmZvOiBtb3JlSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gdGVtcGxhdGUoJ3Blb3BsZUluZm8nLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNlbnJvbGxQZXJzb25JbmZvXCIpLmh0bWwoY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIubWVtYmVySW5mb0JveFwiKS5jc3MoXCJyaWdodFwiLCBcIjBcIik7XG4gICAgICAgICAgICAgICAgICAgIGluZm9TaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaW5mb0NsaWNrSWQgPSB1c2VySWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICDlr7zlh7pFeGNlbCDooajmoLwgIC0gICDmmoLml7bkuI3lgZrpgInmi6nvvIzlr7zlh7rlhajpg6jnlKjmiLdcbiAgICAgICAgJChcIi5leGNlbEJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiI0V4cG9ydE1vZGFsXCIpLmZhZGVJbigpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgICQoXCIjYXBwbHlFeGNlbFwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBhY3Rpdml0eV9pZCA9ICQoXCIjYWN0aXZpdHlfaWRcIikudmFsKCk7XG4gICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWN0aXZpdHlFeHBvcnRFeGNsZT9hY3Rpdml0eV9pZD0nICsgYWN0aXZpdHlfaWQ7XG4gICAgICAgICAgICB2YXIgY2hrT2Jqcz1udWxsOyBcbiAgICAgICAgICAgIHZhciBPZmZpY2UyMDAzPTA7XG4gICAgICAgICAgICB2YXIgb2JqPSQoXCJbbmFtZT0nc2VsZWN0T2ZmaWNlJ11cIik7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaT0wO2k8b2JqLmxlbmd0aDtpKyspeyAvL+mBjeWOhlJhZGlvIFxuICAgICAgICAgICAgICAgIGlmKG9ialtpXS5jaGVja2VkKXsgXG4gICAgICAgICAgICAgICAgICAgIGNoa09ianM9b2JqW2ldLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2hrT2Jqcz09MSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2ZmaWNlMjAwMz0yMDAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIC8vIGFsZXJ0KE9mZmljZTIwMDMpO1xuXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2V4Y2VsL2FjdGl2aXR5XCIgKyAnP2FjdGl2aXR5X2lkPScgKyBhY3Rpdml0eV9pZCArIFwiJnZlcnNpb249XCIgKyBPZmZpY2UyMDAzO1xuICAgICAgICB9KVxuICAgICAgICAkKFwiLmNsb3NlUG9wXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIjRXhwb3J0TW9kYWxcIikuZmFkZU91dCgpO1xuICAgICAgICB9KVxuXG5cbiAgICAgICAgLy8g5o+Q5Lqk6ZSZ6K+v5aSE55CGXG4gICAgICAgICQoZG9jdW1lbnQpLmFqYXhFcnJvcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOaTjeS9nOWksei0pSFcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v5Yid5aeL5YyW5YiG6aG1XG4gICAgICAgICQoJy5jb250ZW50QXJlYSAubGlzdC1wYWdlIC5wYWdpbmF0aW9uIGxpIGEnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICRlbGUgPSAkKHRoaXMpO1xuICAgICAgICAgICAgJGVsZS5hdHRyKCdkYXRhLXVybCcsICRlbGUuYXR0cignaHJlZicpKTtcbiAgICAgICAgICAgICRlbGUucmVtb3ZlQXR0cignaHJlZicpO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJbnrb7liLDnrqHnkIbpobXpnaJqc1xuICAgICAqL1xuICAgIGJ1c2luZXNzLmluaXRBdHRlbmRhbmNlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8v5omT5byA5LqM57u056CB562+5Yiw56qX5Y+jXG4gICAgICAgICQoXCIucXJDb2RlQXR0ZW5kXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuc2hvd19xckNvZGVfd2luZG93XCIpLmZhZGVJbigzMDApO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyAg562+5YiwXG4gICAgICAgICQoXCIuY2hhbmdlU2lnblN0YXRlXCIpLm9uKFwiY2xpY2tcIiwgXCIuY29uZmlybVNpZ25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudChcIi5jaGFuZ2VTaWduU3RhdGVcIik7XG4gICAgICAgICAgICB2YXIgdXNlcl9pZCA9ICRwYXJlbnQuZGF0YSgndXNlcl9pZCcpO1xuICAgICAgICAgICAgdmFyIHRpY2tldF90eXBlID0gJHBhcmVudC5kYXRhKCd0aWNrZXRfdHlwZScpO1xuICAgICAgICAgICAgdmFyIHJlYWxfbmFtZSA9ICRwYXJlbnQuZGF0YSgncmVhbF9uYW1lJyk7XG4gICAgICAgICAgICB2YXIgcGhvbmUgPSAkcGFyZW50LmRhdGEoJ3Bob25lJyk7XG5cbiAgICAgICAgICAgICQuYWxlcnQoJzxzcGFuIGNsYXNzPVwiYWxlcnRfcmVhbF9uYW1lXCI+5aeT5ZCN77yaJyArIHJlYWxfbmFtZSArICc8L3NwYW4+PHNwYW4gY2xhc3M9XCJhbGVydF9waG9uZVwiPuaJi+acuuWPt++8micgKyBwaG9uZSArICc8L3NwYW4+JywgXCJzdWNjZXNzXCIsIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogdGlja2V0X3R5cGUgPT0gMCA/IFwi5YWN6LS556WoXCIgOiBcIuaUtui0ueelqFwiLFxuICAgICAgICAgICAgICAgIGJ0bjogMyxcbiAgICAgICAgICAgICAgICBva3RleHQ6IFwi562+5YiwXCIsXG4gICAgICAgICAgICAgICAgY2FuY2VsdGV4dDogXCLlhbPpl61cIixcbiAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUFjdGl2aXR5U2lnblN0YXRlKGJ1c2luZXNzLmFjdGl2aXR5X2lkLCB1c2VyX2lkLCA1LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXNpbmVzcy5nZXRBY3Rpdml0eVBhZ2UoXCJnZXRfYXR0ZW5kYW5jZV9wYWdlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eV9pZDogYnVzaW5lc3MuYWN0aXZpdHlfaWQsIHBhZ2U6IGJ1c2luZXNzLnBhZ2VJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgYnVzaW5lc3MuaW5pdEF0dGVuZGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAg5Y+W5raI562+5YiwXG4gICAgICAgICQoXCIuY2hhbmdlU2lnblN0YXRlXCIpLm9uKFwiY2xpY2tcIiwgXCIuY2FuY2VsU2lnblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50KFwiLmNoYW5nZVNpZ25TdGF0ZVwiKTtcbiAgICAgICAgICAgIHZhciB1c2VyX2lkID0gJHBhcmVudC5kYXRhKCd1c2VyX2lkJyk7XG4gICAgICAgICAgICB2YXIgdGlja2V0X3R5cGUgPSAkcGFyZW50LmRhdGEoJ3RpY2tldF90eXBlJyk7XG4gICAgICAgICAgICB2YXIgcmVhbF9uYW1lID0gJHBhcmVudC5kYXRhKCdyZWFsX25hbWUnKTtcbiAgICAgICAgICAgIHZhciBwaG9uZSA9ICRwYXJlbnQuZGF0YSgncGhvbmUnKTtcblxuICAgICAgICAgICAgJC5hbGVydCgnPHNwYW4gY2xhc3M9XCJhbGVydF9yZWFsX25hbWVcIj7lp5PlkI3vvJonICsgcmVhbF9uYW1lICsgJzwvc3Bhbj48c3BhbiBjbGFzcz1cImFsZXJ0X3Bob25lXCI+5omL5py65Y+377yaJyArIHBob25lICsgJzwvc3Bhbj4nLCBcInN1Y2Nlc3NcIiwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiB0aWNrZXRfdHlwZSA9PSAwID8gXCLlhY3otLnnpahcIiA6IFwi5pS26LS556WoXCIsXG4gICAgICAgICAgICAgICAgYnRuOiAzLFxuICAgICAgICAgICAgICAgIG9rdGV4dDogXCLlj5bmtojnrb7liLBcIixcbiAgICAgICAgICAgICAgICBjYW5jZWx0ZXh0OiBcIuWFs+mXrVwiLFxuICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlQWN0aXZpdHlTaWduU3RhdGUoYnVzaW5lc3MuYWN0aXZpdHlfaWQsIHVzZXJfaWQsIDEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1c2luZXNzLmdldEFjdGl2aXR5UGFnZShcImdldF9hdHRlbmRhbmNlX3BhZ2VcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBidXNpbmVzcy5hY3Rpdml0eV9pZCwgcGFnZTogYnVzaW5lc3MucGFnZUluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBidXNpbmVzcy5pbml0QXR0ZW5kYW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICDmkJzntKJcbiAgICAgICAgJChcIi5zZWFyY2hBdHRlbmRhbmNlTGlzdFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoX2NvbnRlbnQgPSAkKFwiLnBob25lTnVtU2VhcmNoXCIpLnZhbCgpO1xuICAgICAgICAgICAgYnVzaW5lc3MuZ2V0QWN0aXZpdHlQYWdlKFwiZ2V0X2F0dGVuZGFuY2VfcGFnZVwiLCB7XG4gICAgICAgICAgICAgICAgYWN0aXZpdHlfaWQ6IGJ1c2luZXNzLmFjdGl2aXR5X2lkLFxuICAgICAgICAgICAgICAgIHNlYXJjaENvbnRlbnQ6IHNlYXJjaF9jb250ZW50IHx8IFwiXCIsXG4gICAgICAgICAgICB9LCBidXNpbmVzcy5pbml0QXR0ZW5kYW5jZSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIOWbnui9puaQnOe0olxuICAgICAgICAkKFwiLnBob25lTnVtU2VhcmNoXCIpLm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICAgICAgJCgnLnNlYXJjaEF0dGVuZGFuY2VMaXN0JykuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/liJ3lp4vljJbliIbpobVcbiAgICAgICAgJCgnLmNvbnRlbnRBcmVhIC5saXN0LXBhZ2UgLnBhZ2luYXRpb24gbGkgYScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJGVsZSA9ICQodGhpcyk7XG4gICAgICAgICAgICAkZWxlLmF0dHIoJ2RhdGEtdXJsJywgJGVsZS5hdHRyKCdocmVmJykpO1xuICAgICAgICAgICAgJGVsZS5yZW1vdmVBdHRyKCdocmVmJyk7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuXG4gICAgcmV0dXJuIGJ1c2luZXNzO1xufSkoKTtcblxuXG4vLyDmlbDnu4Tlt6Xlhbflh73mlbDvvIjlj6/nlKjkuo7pmLLmraLkv6Hmga/ph43lpI3mj5DkuqTvvIlcbnZhciBhcnJVdGlscyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyclV0aWxzID0ge307XG5cblxuICAgIC8vIOS7juaVsOe7hOS4reWIoOmZpOaMh+WumuWFg+e0oFxuICAgIGFyclV0aWxzLnJlbW92ZUJ5VmFsdWUgPSBmdW5jdGlvbiAoYXJyLCB2YWwpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJbaV0gPT0gdmFsKSB7XG4gICAgICAgICAgICAgICAgYXJyLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH07XG5cbiAgICAvLyDlsIZC5pWw57uE5YWD57Sg5re75Yqg5YiwQeaVsOe7hOS4re+8iOaXoOmHjeWkjeWFg+e0oO+8iVxuICAgIGFyclV0aWxzLmFkZEFyciA9IGZ1bmN0aW9uIChhcnJBLCBhcnJCKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gYXJyQi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJBLmluZGV4T2YoYXJyQltpXSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYXJyQS5wdXNoKGFyckJbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJBO1xuICAgIH07XG5cbiAgICAvLyDlsIZC5pWw57uE5YWD57Sg5LuOQeaVsOe7hOS4reWJlOmZpFxuICAgIGFyclV0aWxzLmRlbGV0ZUFyciA9IGZ1bmN0aW9uIChhcnJBLCBhcnJCKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gYXJyQi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJBLmluZGV4T2YoYXJyQltpXSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVCeVZhbHVlKGFyckEsIGFyckJbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJBO1xuICAgIH07XG5cbiAgICAvLyBC5Lit5YWD57Sg5piv5ZCm5a2Y5ZyoQeaVsOe7hOS4rVxuICAgIGFyclV0aWxzLmluQXJyID0gZnVuY3Rpb24gKGFyckEsIGFyckIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBhcnJCLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFyckEuaW5kZXhPZihhcnJCW2ldKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuXG4gICAgcmV0dXJuIGFyclV0aWxzO1xuXG59KSgpO1xuXG4iXX0=
