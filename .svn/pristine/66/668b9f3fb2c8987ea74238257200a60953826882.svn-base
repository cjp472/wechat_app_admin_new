$(function(){userList.init()});var userList=function(){var t={};t.submitLimit=false;t.communityId=-1;t.init=function(){t.communityId=GetQueryString("community_id");$(".moveInBlackList").click(function(){var t=$(this).parents(".userListItem").data("user_id");$.alert("移入黑名单后，该用户只能查看动态，不能发表、点赞和评论。","info",{btn:2,onOk:function(){i(t,2)}})});$(".moveOutBlackList").click(function(){var t=$(this).parents(".userListItem").data("user_id");i(t,0)});$("#searchUser").click(function(){var i=$("#userTypeSelector").val();var e=$("#userNameInput").val();window.location.href="/smallCommunity/userList?community_id="+t.communityId+"&search_content="+e+"&user_type="+i});$("#userNameInput").on("keypress",function(t){if(t.keyCode==13){$("#searchUser").click()}});$("#userTypeSelector").on("change",function(){$("#searchUser").click()})};function i(i,e){if(t.submitLimit){return false}t.submitLimit=true;$.ajax("/smallCommunity/changeUserState",{type:"POST",dataType:"json",data:{community_id:t.communityId,user_id:i,state:e},success:function(i){if(i.code==0){baseUtils.show.blueTip(e==2?"加入黑名单成功":"移出黑名单成功");setTimeout(function(){window.location.reload()},700)}else{t.submitLimit=false;console.log(i.msg);baseUtils.show.redTip(e==2?"加入黑名单失败，请稍后再试":"移出黑名单失败，请稍后再试")}},error:function(i,e,s){t.submitLimit=false;console.log(s);baseUtils.show.redTip("网络错误，请稍后再试！")}})}return t}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL2NvbW11bml0eU9wZXJhdGUvdXNlckxpc3QuanMiXSwibmFtZXMiOlsiJCIsInVzZXJMaXN0IiwiaW5pdCIsInN1Ym1pdExpbWl0IiwiY29tbXVuaXR5SWQiLCJHZXRRdWVyeVN0cmluZyIsImNsaWNrIiwidXNlcklkIiwidGhpcyIsInBhcmVudHMiLCJkYXRhIiwiYWxlcnQiLCJidG4iLCJvbk9rIiwiY2hhbmdlVXNlclN0YXRlIiwidXNlclR5cGUiLCJ2YWwiLCJzZWFyY2hDb250ZW50Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwib24iLCJlIiwia2V5Q29kZSIsInVzZXJTdGF0ZSIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJjb21tdW5pdHlfaWQiLCJ1c2VyX2lkIiwic3RhdGUiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29kZSIsImJhc2VVdGlscyIsInNob3ciLCJibHVlVGlwIiwic2V0VGltZW91dCIsInJlbG9hZCIsImNvbnNvbGUiLCJsb2ciLCJtc2ciLCJyZWRUaXAiLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciJdLCJtYXBwaW5ncyI6IkFBR0FBLEVBQUUsV0FDRUMsU0FBU0MsUUFHYixJQUFJRCxVQUFXLFdBRVgsR0FBSUEsS0FFSkEsR0FBU0UsWUFBYyxLQUN2QkYsR0FBU0csYUFBZSxDQUV4QkgsR0FBU0MsS0FBTyxXQUVaRCxFQUFTRyxZQUFjQyxlQUFlLGVBRXRDTCxHQUFFLG9CQUFvQk0sTUFBTSxXQUN4QixHQUFJQyxHQUFTUCxFQUFFUSxNQUFNQyxRQUFRLGlCQUFpQkMsS0FBSyxVQUNuRFYsR0FBRVcsTUFBTSwrQkFBZ0MsUUFDcENDLElBQUssRUFDTEMsS0FBTSxXQUNGQyxFQUFnQlAsRUFBUSxPQUtwQ1AsR0FBRSxxQkFBcUJNLE1BQU0sV0FDekIsR0FBSUMsR0FBU1AsRUFBRVEsTUFBTUMsUUFBUSxpQkFBaUJDLEtBQUssVUFDbkRJLEdBQWdCUCxFQUFRLElBSTVCUCxHQUFFLGVBQWVNLE1BQU0sV0FFbkIsR0FBSVMsR0FBV2YsRUFBRSxxQkFBcUJnQixLQUN0QyxJQUFJQyxHQUFnQmpCLEVBQUUsa0JBQWtCZ0IsS0FFeENFLFFBQU9DLFNBQVNDLEtBQU8seUNBQTJDbkIsRUFBU0csWUFBYyxtQkFBcUJhLEVBQWdCLGNBQWdCRixHQUtsSmYsR0FBRSxrQkFBa0JxQixHQUFHLFdBQVksU0FBVUMsR0FDekMsR0FBSUEsRUFBRUMsU0FBVyxHQUFJLENBQ2pCdkIsRUFBRSxlQUFlTSxVQUt6Qk4sR0FBRSxxQkFBcUJxQixHQUFHLFNBQVUsV0FDaENyQixFQUFFLGVBQWVNLFVBV3pCLFNBQVNRLEdBQWdCUCxFQUFRaUIsR0FDN0IsR0FBSXZCLEVBQVNFLFlBQWEsQ0FDdEIsTUFBTyxPQUVYRixFQUFTRSxZQUFjLElBRXZCSCxHQUFFeUIsS0FBSyxtQ0FDSEMsS0FBTSxPQUNOQyxTQUFVLE9BQ1ZqQixNQUNJa0IsYUFBYzNCLEVBQVNHLFlBQ3ZCeUIsUUFBU3RCLEVBQ1R1QixNQUFPTixHQUVYTyxRQUFTLFNBQVVDLEdBQ2YsR0FBSUEsRUFBT0MsTUFBUSxFQUFHLENBQ2xCQyxVQUFVQyxLQUFLQyxRQUFRWixHQUFhLEVBQUksVUFBWSxVQUNwRGEsWUFBVyxXQUNQbkIsT0FBT0MsU0FBU21CLFVBQ2pCLFNBQ0EsQ0FDSHJDLEVBQVNFLFlBQWMsS0FDdkJvQyxTQUFRQyxJQUFJUixFQUFPUyxJQUNuQlAsV0FBVUMsS0FBS08sT0FBT2xCLEdBQWEsRUFBSSxnQkFBa0IsbUJBR2pFbUIsTUFBTyxTQUFVQyxFQUFLQyxFQUFRQyxHQUMxQjdDLEVBQVNFLFlBQWMsS0FDdkJvQyxTQUFRQyxJQUFJTSxFQUNaWixXQUFVQyxLQUFLTyxPQUFPLGtCQU9sQyxNQUFPekMiLCJmaWxlIjoiYWRtaW4vY29tbXVuaXR5T3BlcmF0ZS91c2VyTGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFkbWluaXN0cmF0b3Igb24gMjAxNy81LzIuXHJcbiAqL1xyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHVzZXJMaXN0LmluaXQoKTtcclxufSlcclxuXHJcbnZhciB1c2VyTGlzdCA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIHVzZXJMaXN0ID0ge307XHJcblxyXG4gICAgdXNlckxpc3Quc3VibWl0TGltaXQgPSBmYWxzZTtcclxuICAgIHVzZXJMaXN0LmNvbW11bml0eUlkID0gLTE7XHJcblxyXG4gICAgdXNlckxpc3QuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgdXNlckxpc3QuY29tbXVuaXR5SWQgPSBHZXRRdWVyeVN0cmluZyhcImNvbW11bml0eV9pZFwiKTtcclxuXHJcbiAgICAgICAgJChcIi5tb3ZlSW5CbGFja0xpc3RcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdXNlcklkID0gJCh0aGlzKS5wYXJlbnRzKFwiLnVzZXJMaXN0SXRlbVwiKS5kYXRhKFwidXNlcl9pZFwiKTtcclxuICAgICAgICAgICAgJC5hbGVydChcIuenu+WFpem7keWQjeWNleWQju+8jOivpeeUqOaIt+WPquiDveafpeeci+WKqOaAge+8jOS4jeiDveWPkeihqOOAgeeCuei1nuWSjOivhOiuuuOAglwiLCBcImluZm9cIiwge1xyXG4gICAgICAgICAgICAgICAgYnRuOiAyLFxyXG4gICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVVzZXJTdGF0ZSh1c2VySWQsIDIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIi5tb3ZlT3V0QmxhY2tMaXN0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHVzZXJJZCA9ICQodGhpcykucGFyZW50cyhcIi51c2VyTGlzdEl0ZW1cIikuZGF0YShcInVzZXJfaWRcIik7XHJcbiAgICAgICAgICAgIGNoYW5nZVVzZXJTdGF0ZSh1c2VySWQsIDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDmkJzntKIgKyDnrZvpgIlcclxuICAgICAgICAkKFwiI3NlYXJjaFVzZXJcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHVzZXJUeXBlID0gJChcIiN1c2VyVHlwZVNlbGVjdG9yXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoQ29udGVudCA9ICQoXCIjdXNlck5hbWVJbnB1dFwiKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvc21hbGxDb21tdW5pdHkvdXNlckxpc3Q/Y29tbXVuaXR5X2lkPVwiICsgdXNlckxpc3QuY29tbXVuaXR5SWQgKyBcIiZzZWFyY2hfY29udGVudD1cIiArIHNlYXJjaENvbnRlbnQgKyBcIiZ1c2VyX3R5cGU9XCIgKyB1c2VyVHlwZTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICDlm57ovabop6blj5HmkJzntKJcclxuICAgICAgICAkKFwiI3VzZXJOYW1lSW5wdXRcIikub24oXCJrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3NlYXJjaFVzZXJcIikuY2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAg54K55Ye7562b6YCJ6Kem5Y+R5pCc57SiXHJcbiAgICAgICAgJChcIiN1c2VyVHlwZVNlbGVjdG9yXCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChcIiNzZWFyY2hVc2VyXCIpLmNsaWNrKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHVzZXJJZFxyXG4gICAgICogQHBhcmFtIHVzZXJTdGF0ZSAoMC3np7vlh7rpu5HlkI3ljZU7Mi3liqDlhaXpu5HlkI3ljZUpXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGNoYW5nZVVzZXJTdGF0ZSh1c2VySWQsIHVzZXJTdGF0ZSkge1xyXG4gICAgICAgIGlmICh1c2VyTGlzdC5zdWJtaXRMaW1pdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVzZXJMaXN0LnN1Ym1pdExpbWl0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgJC5hamF4KFwiL3NtYWxsQ29tbXVuaXR5L2NoYW5nZVVzZXJTdGF0ZVwiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGNvbW11bml0eV9pZDogdXNlckxpc3QuY29tbXVuaXR5SWQsXHJcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogdXNlclN0YXRlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcCh1c2VyU3RhdGUgPT0gMiA/IFwi5Yqg5YWl6buR5ZCN5Y2V5oiQ5YqfXCIgOiBcIuenu+WHuum7keWQjeWNleaIkOWKn1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJMaXN0LnN1Ym1pdExpbWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0Lm1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKHVzZXJTdGF0ZSA9PSAyID8gXCLliqDlhaXpu5HlkI3ljZXlpLHotKXvvIzor7fnqI3lkI7lho3or5VcIiA6IFwi56e75Ye66buR5ZCN5Y2V5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJMaXN0LnN1Ym1pdExpbWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG5cclxuICAgIHJldHVybiB1c2VyTGlzdDtcclxuXHJcbn0pKCk7Il19
