var needRefresh=false;var pay_type=2;var re_type=1;var re_id="";var pa_id="";var ch_type=0;var re_title="";var search_content;var comment_attr;var resource_type;function resource(e,t,i){this.id=e;this.price=t;this.title=i}$(document).ready(function(){reBack();setTopUrlCookie("channel_listop","渠道分发");re_id=$("#image_text_list").find("option:selected").attr("value");pa_id=$("#image_text_list").find("option:selected").data("package_id");re_title=$("#image_text_list").find("option:selected").html();changeResourceType();initResourceSelect();$(document).keypress(function(e){if(e.which==13){searchChannel()}})});function submitChannel(){var e=$("#channel_name").val();var t=pay_type;var i=re_type;var a=re_id;var r=pa_id;var n=ch_type;var o=re_title;if(e==""){baseUtils.show.redTip("请输入渠道名称！");return}else if(a||r||n==1){console.log("渠道名称："+e+"》》payment_type："+t+"》》resource_type："+i+"》》resource_id："+a+">>package_id："+r+">>channel_type："+n+">>resource_title："+o);showLoading();var l="/submit_channel";$.post(l,{channel_name:e,payment_type:t,resource_type:i,resource_id:a,resource_title:o,package_id:r,channel_type:n},function(e){needRefresh=true;hideLoading();var t=e.code;var i=e.msg;setTimeout(function(){if(t==0){baseUtils.show.blueTip(i);refresh()}else{baseUtils.show.redTip(e.msg,function(){},2e3)}$("#channel_Modal").modal("hide")},100)})}else{baseUtils.show.redTip("请选择对应内容！");return}}function refresh(){if(needRefresh){location.reload()}}function orderByView(e){var t=GetQueryString("order_view");var i=window.location.href;if(t){i=i.replace("order_view="+t,"order_view="+e)}else{if(i.indexOf("order_view")>0){i=i.replace("order_view="+t,"order_view="+e)}else{var a=i.indexOf("?")>0?"&":"?";i=i+a+"order_view="+e}}if(i.indexOf("page")>0){i=i.replace("page="+GetQueryString("page"),"page=1")}window.location.href=i}function reBack(){$("#channel_search_content").val(search_content);if(!!comment_attr)$("#channel_attr option[value="+comment_attr+"]").prop("selected",true);if(!!resource_type)$("#resource_type option[value="+resource_type+"]").prop("selected",true)}function searchChannel(){showLoading();var e=$("#channel_attr").val();var t=$("#resource_type").val();var i=$.trim($("#channel_search_content").val());if(i.length==0){var a="/channel_admin?channel_attr="+encodeURI(e)+"&resource_type="+encodeURI(t)}else{var a="/channel_admin?channel_attr="+encodeURI(e)+"&resource_type="+encodeURI(t)+"&search_content="+encodeURI(i)}window.location=a}function changeResourceType(){$("#type_list").change(function(){var e=$("#type_list").find("option:selected").attr("value");e=parseInt(e);$(".long").addClass("hide");console.log(e);switch(e){case 0:$("#image_text_list").removeClass("hide");re_id=$("#image_text_list").find("option:selected").attr("value");re_title=$("#image_text_list").find("option:selected").html();console.log(0);pa_id=$("#image_text_list").find("option:selected").data("package_id");pay_type=2;re_type=1;ch_type=0;break;case 1:$("#audio_list").removeClass("hide");re_id=$("#audio_list").find("option:selected").attr("value");re_title=$("#audio_list").find("option:selected").html();console.log(1);pa_id=$("#audio_list").find("option:selected").data("package_id");pay_type=2;re_type=2;ch_type=0;break;case 2:$("#video_list").removeClass("hide");re_id=$("#video_list").find("option:selected").attr("value");re_title=$("#video_list").find("option:selected").html();console.log(2);pa_id=$("#video_list").find("option:selected").data("package_id");pay_type=2;re_type=3;ch_type=0;break;case 3:$("#alive_list").removeClass("hide");re_id=$("#alive_list").find("option:selected").attr("value");re_title=$("#alive_list").find("option:selected").html();console.log(2);pa_id=$("#alive_list").find("option:selected").data("package_id");pay_type=2;re_type=4;ch_type=0;break;case 4:$("#package_list").removeClass("hide");console.log(3);re_id="";pa_id=$("#package_list").find("option:selected").attr("value");re_title=$("#package_list").find("option:selected").html();pay_type=3;re_type=0;ch_type=0;break;case 5:$(".long").addClass("hide");console.log(4);re_id="";pa_id="";re_title="首页";pay_type=0;re_type=0;ch_type=1;break}})}function initResourceSelect(){ChangeResourceId("image_text_list");ChangeResourceId("audio_list");ChangeResourceId("video_list");ChangeResourceId("alive_list");ChangeResourceId("package_list")}function ChangeResourceId(e){$("#"+e).change(function(){var e=$(this).find("option:selected").attr("value");var t=$(this).find("option:selected").html();if(re_type==0){pa_id=e}else{pa_id=$(this).find("option:selected").data("package_id");re_id=e}re_title=t})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL2NoYW5uZWxBZG1pbi5qcyJdLCJuYW1lcyI6WyJuZWVkUmVmcmVzaCIsInBheV90eXBlIiwicmVfdHlwZSIsInJlX2lkIiwicGFfaWQiLCJjaF90eXBlIiwicmVfdGl0bGUiLCJzZWFyY2hfY29udGVudCIsImNvbW1lbnRfYXR0ciIsInJlc291cmNlX3R5cGUiLCJyZXNvdXJjZSIsImlkIiwicHJpY2UiLCJ0aXRsZSIsInRoaXMiLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInJlQmFjayIsInNldFRvcFVybENvb2tpZSIsImZpbmQiLCJhdHRyIiwiZGF0YSIsImh0bWwiLCJjaGFuZ2VSZXNvdXJjZVR5cGUiLCJpbml0UmVzb3VyY2VTZWxlY3QiLCJrZXlwcmVzcyIsImUiLCJ3aGljaCIsInNlYXJjaENoYW5uZWwiLCJzdWJtaXRDaGFubmVsIiwiY2hhbm5lbF9uYW1lIiwidmFsIiwicGF5bWVudF90eXBlIiwicmVzb3VyY2VfaWQiLCJwYWNrYWdlX2lkIiwiY2hhbm5lbF90eXBlIiwicmVzb3VyY2VfdGl0bGUiLCJiYXNlVXRpbHMiLCJzaG93IiwicmVkVGlwIiwiY29uc29sZSIsImxvZyIsInNob3dMb2FkaW5nIiwidXJsIiwicG9zdCIsInJlc3VsdCIsImhpZGVMb2FkaW5nIiwiY29kZSIsImluZm8iLCJtc2ciLCJzZXRUaW1lb3V0IiwiYmx1ZVRpcCIsInJlZnJlc2giLCJtb2RhbCIsImxvY2F0aW9uIiwicmVsb2FkIiwib3JkZXJCeVZpZXciLCJvcmRlclZpZXciLCJvcmRlcl92aWV3IiwiR2V0UXVlcnlTdHJpbmciLCJvYmpVcmwiLCJ3aW5kb3ciLCJocmVmIiwicmVwbGFjZSIsImluZGV4T2YiLCJqb2luIiwicHJvcCIsImNoYW5uZWxBdHRyIiwicmVzb3VyY2VUeXBlIiwidHJpbSIsImxlbmd0aCIsImVuY29kZVVSSSIsImNoYW5nZSIsInR5cGUiLCJwYXJzZUludCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJDaGFuZ2VSZXNvdXJj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RSxFQUFFLElBQUlnRSxHQUFVTixPQUFPLFdBQ25CLEdBQUk5RCxHQUFLSSxFQUFFRCxNQUFNTSxLQUFLLG1CQUFtQkMsS0FBSyxRQUM5QyxJQUFJUixHQUFRRSxFQUFFRCxNQUFNTSxLQUFLLG1CQUFtQkcsTUFFNUMsSUFBR3JCLFNBQVMsRUFBRSxDQUNWRSxNQUFRTyxNQUNQLENBQ0RQLE1BQVFXLEVBQUVELE1BQU1NLEtBQUssbUJBQW1CRSxLQUFLLGFBQzdDbkIsT0FBUVEsRUFFWkwsU0FBV08iLCJmaWxlIjoiYWRtaW4vY2hhbm5lbEFkbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG5lZWRSZWZyZXNoID0gZmFsc2U7XHJcbnZhciBwYXlfdHlwZSA9IDI7IC8v57G75Z6L44CBMuihqOekuuWNleS4quS7mOi0uSwz6KGo56S65LiT5qCP44CCXHJcbnZhciByZV90eXBlID0gMSA7Ly8g6LWE5rqQ57G75Z6LIDAg5LiT5qCPIDEg5Zu+5paHIDIg6Z+z6aKRIDMg6KeG6aKRIDQg55u05pKtXHJcbnZhciByZV9pZCA9IFwiXCI7IC8v6LWE5rqQaWRcclxudmFyIHBhX2lkID0gXCJcIjsgLy/kuJPmoI9pZFxyXG52YXIgY2hfdHlwZSA9IDA7IC8v5rig6YGT57G75Z6L77yaMC3pkojlr7nlhbfkvZPotYTmupDvvIjljZXnrJTmiJbkuJPmoI/vvInvvIwxLemmlumhte+8iOS4jemSiOWvueWFt+S9k+i1hOa6kO+8iVxyXG52YXIgcmVfdGl0bGUgPSBcIlwiIDsvL+a4oOmBk+i1hOa6kOeahOagh+mimFxyXG5cclxudmFyIHNlYXJjaF9jb250ZW50O1xyXG52YXIgY29tbWVudF9hdHRyO1xyXG52YXIgcmVzb3VyY2VfdHlwZTtcclxuXHJcbmZ1bmN0aW9uIHJlc291cmNlKGlkLCBwcmljZSwgdGl0bGUpe1xyXG4gICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgdGhpcy5wcmljZSA9IHByaWNlO1xyXG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG59XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICByZUJhY2soKTtcclxuICAgIHNldFRvcFVybENvb2tpZSgnY2hhbm5lbF9saXN0b3AnLCfmuKDpgZPliIblj5EnKTtcclxuICAgIHJlX2lkID0gJCgnI2ltYWdlX3RleHRfbGlzdCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikuYXR0cigndmFsdWUnKTtcclxuICAgIHBhX2lkID0gJCgnI2ltYWdlX3RleHRfbGlzdCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikuZGF0YSgncGFja2FnZV9pZCcpO1xyXG4gICAgcmVfdGl0bGUgPSAkKCcjaW1hZ2VfdGV4dF9saXN0JykuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS5odG1sKCk7XHJcblxyXG4gICAgLy/liJ3lp4vljJbotYTmupDjgJDnsbvlnovjgJHkuIvmi4nmoYZcclxuICAgIGNoYW5nZVJlc291cmNlVHlwZSgpO1xyXG4gICAgLy/liJ3lp4vljJbotYTmupDjgJDliJfooajjgJHkuIvmi4nmoYZcclxuICAgIGluaXRSZXNvdXJjZVNlbGVjdCgpO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLmtleXByZXNzKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAvLyDlm57ovabplK7kuovku7ZcclxuICAgICAgICBpZihlLndoaWNoID09IDEzKSB7XHJcbiAgICAgICAgICAgIHNlYXJjaENoYW5uZWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn0pXHJcblxyXG4vL+aPkOS6pOa4oOmBk1xyXG5mdW5jdGlvbiBzdWJtaXRDaGFubmVsKCkge1xyXG4gICAgLy/ojrflj5bliLDlkI3np7BcclxuICAgIHZhciBjaGFubmVsX25hbWUgPSAkKFwiI2NoYW5uZWxfbmFtZVwiKS52YWwoKTtcclxuICAgIHZhciBwYXltZW50X3R5cGUgPSBwYXlfdHlwZTtcclxuICAgIHZhciByZXNvdXJjZV90eXBlID0gcmVfdHlwZTtcclxuICAgIHZhciByZXNvdXJjZV9pZCA9IHJlX2lkO1xyXG4gICAgdmFyIHBhY2thZ2VfaWQgPSBwYV9pZDtcclxuICAgIHZhciBjaGFubmVsX3R5cGUgPSBjaF90eXBlO1xyXG4gICAgdmFyIHJlc291cmNlX3RpdGxlID0gcmVfdGl0bGU7XHJcblxyXG4gICAgaWYoY2hhbm5lbF9uYW1lPT0nJykge1xyXG4gICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn6K+36L6T5YWl5rig6YGT5ZCN56ew77yBJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIGlmIChyZXNvdXJjZV9pZCB8fCBwYWNrYWdlX2lkIHx8IGNoYW5uZWxfdHlwZSA9PSAxKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+a4oOmBk+WQjeensO+8micrY2hhbm5lbF9uYW1lK1wi44CL44CLcGF5bWVudF90eXBl77yaXCIrcGF5bWVudF90eXBlK1wi44CL44CLcmVzb3VyY2VfdHlwZe+8mlwiK3Jlc291cmNlX3R5cGUrXCLjgIvjgItyZXNvdXJjZV9pZO+8mlwiK3Jlc291cmNlX2lkK1wiPj5wYWNrYWdlX2lk77yaXCIrcGFja2FnZV9pZCtcIj4+Y2hhbm5lbF90eXBl77yaXCIrY2hhbm5lbF90eXBlK1wiPj5yZXNvdXJjZV90aXRsZe+8mlwiK3Jlc291cmNlX3RpdGxlKTtcclxuICAgICAgICBzaG93TG9hZGluZygpO1xyXG4gICAgICAgIHZhciB1cmwgPSBcIi9zdWJtaXRfY2hhbm5lbFwiO1xyXG4gICAgICAgICQucG9zdCh1cmwsIHsnY2hhbm5lbF9uYW1lJzogY2hhbm5lbF9uYW1lLCdwYXltZW50X3R5cGUnOnBheW1lbnRfdHlwZSwncmVzb3VyY2VfdHlwZSc6cmVzb3VyY2VfdHlwZSwncmVzb3VyY2VfaWQnOnJlc291cmNlX2lkLCdyZXNvdXJjZV90aXRsZSc6cmVzb3VyY2VfdGl0bGUsICdwYWNrYWdlX2lkJzpwYWNrYWdlX2lkLCAnY2hhbm5lbF90eXBlJzpjaGFubmVsX3R5cGV9LCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIG5lZWRSZWZyZXNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcclxuICAgICAgICAgICAgdmFyIGNvZGUgPSByZXN1bHQuY29kZTtcclxuICAgICAgICAgICAgdmFyIGluZm8gPSByZXN1bHQubXNnO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmKGNvZGU9PTApe1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoaW5mbyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChyZXN1bHQubXNnLGZ1bmN0aW9uKCl7fSwyMDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICQoXCIjY2hhbm5lbF9Nb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn6K+36YCJ5oup5a+55bqU5YaF5a6577yBJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gcmVmcmVzaCgpIHtcclxuICAgIC8v5Yik5pat5piv5ZCm6ZyA6KaB5Yi35paw55WM6Z2iXHJcbiAgICBpZiAobmVlZFJlZnJlc2gpIHtcclxuICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsgLy/ph43mlrDliqDovb3pobXpnaJcclxuICAgIH1cclxufVxyXG5cclxuLy/liIfmjaLmjpLluo9cclxuZnVuY3Rpb24gb3JkZXJCeVZpZXcob3JkZXJWaWV3KSB7XHJcbiAgICB2YXIgb3JkZXJfdmlldyA9IEdldFF1ZXJ5U3RyaW5nKCdvcmRlcl92aWV3Jyk7XHJcbiAgICAvL+iOt+WPluW9k+WJjemhtXVybFxyXG4gICAgdmFyIG9ialVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOyAvL2FsZXJ0KHJldXJsKTtcclxuICAgIGlmKG9yZGVyX3ZpZXcpe1xyXG4gICAgICAgIG9ialVybCA9IG9ialVybC5yZXBsYWNlKCdvcmRlcl92aWV3PScrb3JkZXJfdmlldywnb3JkZXJfdmlldz0nK29yZGVyVmlldyk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBpZihvYmpVcmwuaW5kZXhPZignb3JkZXJfdmlldycpPjApe1xyXG4gICAgICAgICAgICBvYmpVcmwgPSBvYmpVcmwucmVwbGFjZSgnb3JkZXJfdmlldz0nK29yZGVyX3ZpZXcsJ29yZGVyX3ZpZXc9JytvcmRlclZpZXcpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB2YXIgam9pbiA9IG9ialVybC5pbmRleE9mKCc/Jyk+MD8gJyYnIDogJz8nO1xyXG4gICAgICAgICAgICBvYmpVcmwgPSBvYmpVcmwgKyBqb2luICsnb3JkZXJfdmlldz0nICsgb3JkZXJWaWV3O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5bCG6aG156CB6YeN572u5Yiw56ys5LiA6aG1XHJcbiAgICBpZihvYmpVcmwuaW5kZXhPZigncGFnZScpPjApIHtcclxuICAgICAgICBvYmpVcmwgPSBvYmpVcmwucmVwbGFjZSgncGFnZT0nKyBHZXRRdWVyeVN0cmluZygncGFnZScpLCAncGFnZT0xJyk7XHJcbiAgICB9XHJcbiAgICAvL+i9rOWQkeebruagh+WcsOWdgFxyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBvYmpVcmw7XHJcbn1cclxuXHJcbi8v5Zue5pi+6L6T5YWl5qGG5ZKM6YCJ5oup5qGG55qE5YC8XHJcbmZ1bmN0aW9uIHJlQmFjaygpIHtcclxuICAgICQoJyNjaGFubmVsX3NlYXJjaF9jb250ZW50JykudmFsKHNlYXJjaF9jb250ZW50KTtcclxuICAgIGlmKCEhY29tbWVudF9hdHRyKSAkKCcjY2hhbm5lbF9hdHRyIG9wdGlvblt2YWx1ZT0nK2NvbW1lbnRfYXR0cisnXScpLnByb3AoJ3NlbGVjdGVkJywgdHJ1ZSk7XHJcbiAgICBpZighIXJlc291cmNlX3R5cGUpICQoJyNyZXNvdXJjZV90eXBlIG9wdGlvblt2YWx1ZT0nK3Jlc291cmNlX3R5cGUrJ10nKS5wcm9wKCdzZWxlY3RlZCcsIHRydWUpO1xyXG4gICAgLy9jb25zb2xlLmxvZygkKCcjY2hhbm5lbF9hdHRyIG9wdGlvblt2YWx1ZT0nK2NvbW1lbnRfYXR0cisnXScpKTtcclxufVxyXG5cclxuXHJcbi8v5qih57OK5p+l6K+i5rig6YGTXHJcbmZ1bmN0aW9uIHNlYXJjaENoYW5uZWwoKXtcclxuICAgIHNob3dMb2FkaW5nKCk7XHJcbiAgICB2YXIgY2hhbm5lbEF0dHIgPSAkKFwiI2NoYW5uZWxfYXR0clwiKS52YWwoKTsgLy/ojrflj5bliLDpgInkuK3nmoTlgLxcclxuICAgIHZhciByZXNvdXJjZVR5cGUgPSAkKFwiI3Jlc291cmNlX3R5cGVcIikudmFsKCk7XHJcbiAgICAvL+iOt+WPluaQnOe0ouWGheWuuVxyXG4gICAgdmFyIHNlYXJjaF9jb250ZW50ID0gJC50cmltKCAkKFwiI2NoYW5uZWxfc2VhcmNoX2NvbnRlbnRcIikudmFsKCkgKTsgLy/ojrflj5bliLDpgInkuK3nmoTlgLxcclxuICAgIGlmIChzZWFyY2hfY29udGVudC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgIHZhciB1cmwgPSBcIi9jaGFubmVsX2FkbWluP2NoYW5uZWxfYXR0cj1cIiArIGVuY29kZVVSSShjaGFubmVsQXR0cikgKyBcIiZyZXNvdXJjZV90eXBlPVwiICsgZW5jb2RlVVJJKHJlc291cmNlVHlwZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciB1cmwgPSBcIi9jaGFubmVsX2FkbWluP2NoYW5uZWxfYXR0cj1cIiArIGVuY29kZVVSSShjaGFubmVsQXR0cikgKyBcIiZyZXNvdXJjZV90eXBlPVwiICsgZW5jb2RlVVJJKHJlc291cmNlVHlwZSkgKyBcIiZzZWFyY2hfY29udGVudD1cIiArIGVuY29kZVVSSShzZWFyY2hfY29udGVudCk7XHJcbiAgICB9XHJcbiAgICB3aW5kb3cubG9jYXRpb24gPSB1cmw7XHJcblxyXG59XHJcblxyXG4vL+WIh+aNoui1hOa6kOexu+Wei1xyXG5mdW5jdGlvbiBjaGFuZ2VSZXNvdXJjZVR5cGUoKSB7XHJcbiAgICAkKCcjdHlwZV9saXN0JykuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdHlwZSA9ICQoJyN0eXBlX2xpc3QnKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgdHlwZSA9IHBhcnNlSW50KHR5cGUpO1xyXG4gICAgICAgICQoJy5sb25nJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0eXBlKTtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpe1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAkKCcjaW1hZ2VfdGV4dF9saXN0JykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgIHJlX2lkID0gJCgnI2ltYWdlX3RleHRfbGlzdCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikuYXR0cigndmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIHJlX3RpdGxlID0gJCgnI2ltYWdlX3RleHRfbGlzdCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikuaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coMCk7XHJcbiAgICAgICAgICAgICAgICBwYV9pZCA9ICQoJyNpbWFnZV90ZXh0X2xpc3QnKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLmRhdGEoJ3BhY2thZ2VfaWQnKTtcclxuICAgICAgICAgICAgICAgIHBheV90eXBlID0gMjtcclxuICAgICAgICAgICAgICAgIHJlX3R5cGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgY2hfdHlwZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgJCgnI2F1ZGlvX2xpc3QnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICAgICAgcmVfaWQgPSAkKCcjYXVkaW9fbGlzdCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikuYXR0cigndmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIHJlX3RpdGxlID0gJCgnI2F1ZGlvX2xpc3QnKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLmh0bWwoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKDEpO1xyXG4gICAgICAgICAgICAgICAgcGFfaWQgPSAkKCcjYXVkaW9fbGlzdCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikuZGF0YSgncGFja2FnZV9pZCcpO1xyXG4gICAgICAgICAgICAgICAgcGF5X3R5cGUgPSAyO1xyXG4gICAgICAgICAgICAgICAgcmVfdHlwZSA9IDI7XHJcbiAgICAgICAgICAgICAgICBjaF90eXBlID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAkKCcjdmlkZW9fbGlzdCcpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICByZV9pZCA9ICQoJyN2aWRlb19saXN0JykuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgcmVfdGl0bGUgPSAkKCcjdmlkZW9fbGlzdCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikuaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coMik7XHJcbiAgICAgICAgICAgICAgICBwYV9pZCA9ICQoJyN2aWRlb19saXN0JykuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS5kYXRhKCdwYWNrYWdlX2lkJyk7XHJcbiAgICAgICAgICAgICAgICBwYXlfdHlwZSA9IDI7XHJcbiAgICAgICAgICAgICAgICByZV90eXBlID0gMztcclxuICAgICAgICAgICAgICAgIGNoX3R5cGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICQoJyNhbGl2ZV9saXN0JykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgIHJlX2lkID0gJCgnI2FsaXZlX2xpc3QnKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICByZV90aXRsZSA9ICQoJyNhbGl2ZV9saXN0JykuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS5odG1sKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygyKTtcclxuICAgICAgICAgICAgICAgIHBhX2lkID0gJCgnI2FsaXZlX2xpc3QnKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLmRhdGEoJ3BhY2thZ2VfaWQnKTtcclxuICAgICAgICAgICAgICAgIHBheV90eXBlID0gMjtcclxuICAgICAgICAgICAgICAgIHJlX3R5cGUgPSA0O1xyXG4gICAgICAgICAgICAgICAgY2hfdHlwZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgJCgnI3BhY2thZ2VfbGlzdCcpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygzKTtcclxuICAgICAgICAgICAgICAgIHJlX2lkID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIHBhX2lkID0gJCgnI3BhY2thZ2VfbGlzdCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikuYXR0cigndmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIHJlX3RpdGxlID0gJCgnI3BhY2thZ2VfbGlzdCcpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikuaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgcGF5X3R5cGUgPSAzO1xyXG4gICAgICAgICAgICAgICAgcmVfdHlwZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBjaF90eXBlID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAvL+mmlumhtVxyXG4gICAgICAgICAgICAgICAgJCgnLmxvbmcnKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coNCk7XHJcbiAgICAgICAgICAgICAgICByZV9pZCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBwYV9pZCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICByZV90aXRsZSA9IFwi6aaW6aG1XCI7XHJcbiAgICAgICAgICAgICAgICBwYXlfdHlwZSA9IDA7XHJcbiAgICAgICAgICAgICAgICByZV90eXBlID0gMDtcclxuICAgICAgICAgICAgICAgIGNoX3R5cGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuLy/liJ3lp4vljJbotYTmupDkuIvmi4nmoYZcclxuZnVuY3Rpb24gaW5pdFJlc291cmNlU2VsZWN0KCkge1xyXG4gICAgQ2hhbmdlUmVzb3VyY2VJZCgnaW1hZ2VfdGV4dF9saXN0Jyk7XHJcbiAgICBDaGFuZ2VSZXNvdXJjZUlkKCdhdWRpb19saXN0Jyk7XHJcbiAgICBDaGFuZ2VSZXNvdXJjZUlkKCd2aWRlb19saXN0Jyk7XHJcbiAgICBDaGFuZ2VSZXNvdXJjZUlkKCdhbGl2ZV9saXN0Jyk7XHJcbiAgICBDaGFuZ2VSZXNvdXJjZUlkKCdwYWNrYWdlX2xpc3QnKTtcclxufVxyXG5cclxuLy/orr7nva7otYTmupDnmoRpZCDlkowg5qCH6aKYXHJcbmZ1bmN0aW9uIENoYW5nZVJlc291cmNlSWQoU2VsZWN0SWQpIHtcclxuICAgICQoJyMnK1NlbGVjdElkKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpZCA9ICQodGhpcykuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIHZhciB0aXRsZSA9ICQodGhpcykuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS5odG1sKCk7XHJcbiAgICAgICAgLy/lvZPliY3lnKjpgInmi6nnmoTmmK/kuJPmoI9cclxuICAgICAgICBpZihyZV90eXBlPT0wKXtcclxuICAgICAgICAgICAgcGFfaWQgPSBpZDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcGFfaWQgPSAkKHRoaXMpLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikuZGF0YSgncGFja2FnZV9pZCcpO1xyXG4gICAgICAgICAgICByZV9pZCA9IGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZV90aXRsZSA9IHRpdGxlO1xyXG4gICAgfSlcclxufSJdfQ==
