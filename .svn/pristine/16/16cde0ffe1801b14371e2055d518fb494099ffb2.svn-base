$(function(){manageArticle.init()});var manageArticle=function(){var e={};var r;function t(e){if($formCheck.emptyString(e.title)){baseUtils.show.redTip("图文名称不能为空！");return false}if($formCheck.emptyString(e.img_url)){baseUtils.show.redTip("请上传您的图文封面！");return false}if($formCheck.emptyString(e.start_at)){baseUtils.show.redTip("请填入您的图文上架时间！");return false}if(!$formCheck.checkTime(e.start_at)){baseUtils.show.redTip("图文上架时间错误");return false}if(uploadChannelType==1&&e.payment_type==2&&$formCheck.emptyString(e.piece_price)){baseUtils.show.redTip("您选择的付费形式为付费，请输入价格！");return false}if(uploadChannelType==1&&e.payment_type==2&&!$formCheck.checkNum(e.piece_price)){baseUtils.show.redTip("您的价格输入格式有误，请重新输入！");return false}if(uploadChannelType==1&&e.payment_type==2&&e.piece_price>baseUtils.maxInputPrice*100){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}return true}function a(e,r){showLoading();$.ajax(e,{type:"POST",dataType:"json",data:r,success:function(e){if(parseInt(e.code)===0){baseUtils.show.blueTip("保存成功");setTimeout(function(){window.location.href=backURL},700)}else{hideLoading();baseUtils.show.redTip(e.msg);submitLimt=false}},error:function(e,r,t){hideLoading();console.error(t);baseUtils.show.redTip("网络错误，请稍后再试！");submitLimt=false}})}e.init=function(){$(".completeBtn").click(function(){var e=$.trim($(".resName").val());var r=$.trim($("#Image1Url").val());var i=UE.getEditor("resource_desc");var s=i.getContent();var n=UE.getEditor("contentTry");var o=ue1.getContent();var l=i.getPlainTxt();if(l.length==0){baseUtils.show.redTip("描述不能为空!");return false}var c=n.getPlainTxt();if(c.length==0){baseUtils.show.redTip("描述不能为空!");return false}var p=$.trim($(".resPrize").val())*100;$('input[name="aliveClass"]:checked').each(function(){classArray.push($(this).attr("id"))});console.log(classArray);var u=$.trim($("#dateInput").val());var m={title:e,img_url:r,org_content:s,try_content:c,try_org_content:o,content:l,piece_price:p,start_at:u,id:GetQueryString("id")||null};var f=$("#serviceToggle :radio:checked").val();if(f){m.push_state=f}if(resourceFree){m.payment_type=resourceFree}if(t(m)){var d={params:m,resource_type:resourceType,upload_channel_type:uploadChannelType,package_id:packageId,resource_params:resourceParams,package_name:packageName,roleParams:roleParams,category_type:classArray};a(golbalUrl,d)}else{return false}})};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL3Jlc01hbmFnZS9tYW5hZ2VBcnRpY2xlLmpzIl0sIm5hbWVzIjpbIiQiLCJtYW5hZ2VBcnRpY2xlIiwiaW5pdCIsInJlc1VybCIsImNoZWNrQXJ0aWNsZUZvcm0iLCJpbmZvIiwiJGZvcm1DaGVjayIsImVtcHR5U3RyaW5nIiwidGl0bGUiLCJiYXNlVXRpbHMiLCJzaG93IiwicmVkVGlwIiwiaW1nX3VybCIsInN0YXJ0X2F0IiwiY2hlY2tUaW1lIiwidXBsb2FkQ2hhbm5lbFR5cGUiLCJwYXltZW50X3R5cGUiLCJwaWVjZV9wcmljZSIsImNoZWNrTnVtIiwibWF4SW5wdXRQcmljZSIsInN1Ym1pdEZvcm0iLCJ1cmwiLCJhbGxQYXJhbXMiLCJzaG93TG9hZGluZyIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJkYXRhIiwic3VjY2VzcyIsInBhcnNlSW50IiwiY29kZSIsImJsdWVUaXAiLCJzZXRUaW1lb3V0Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiYmFja1VSTCIsImhpZGVMb2FkaW5nIiwibXNnIiwic3VibWl0TGltdCIsImVycm9yIiwieGhyIiwic3RhdHVzIiwiZXJyIiwiY29uc29sZSIsImNsaWNrIiwidHJpbSIsInZhbCIsImltYWdlMVVybCIsInVlIiwiVUUiLCJnZXRFZGl0b3IiLCJvcmdDb250ZW50IiwiZ2V0Q29udGVudCIsInVlVHJ5Iiwib3JnQ29udGVudFRyeSIsInVlMSIsImRlc2NyaWIiLCJnZXRQbGFpblR4dCIsImxlbmd0aCIsImRlc2NyaWJUcnkiLCJyZXNQcml6ZSIsImVhY2giLCJjbGFzc0FycmF5IiwicHVzaCIsInRoaXMiLCJhdHRyIiwibG9nIiwic3RhcnRBdCIsInJlc0luZm8iLCJvcmdfY29udGVudCIsInRyeV9jb250ZW50IiwidHJ5X29yZ19jb250ZW50IiwiY29udGVudCIsImlkIiwiR2V0UXVlcnlTdHJpbmciLCJwdXNoU3RhdGUiLCJwdXNoX3N0YXRlIiwicmVzb3VyY2VGcmVlIiwicGFyYW1zIiwicmVzb3VyY2VfdHlwZSIsInJlc291cmNlVHlwZSIsInVwbG9hZF9jaGFubmVsX3R5cGUiLCJwYWNrYWdlX2lkIiwicGFja2FnZUlkIiwicmVzb3VyY2VfcGFyYW1zIiwicmVzb3VyY2VQYXJhbXMiLCJwYWNrYWdlX25hbWUiLCJwYWNrYWdlTmFtZSIsInJvbGVQYXJhbXMiLCJjYXRlZ29yeV90eXBlIiwiZ29sYmFsVXJsIl0sIm1hcHBpbmdzIjoiQUFNQUEsRUFBRSxXQUVFQyxjQUFjQyxRQUdsQixJQUFJRCxlQUFnQixXQUNoQixHQUFJQSxLQUVKLElBQUlFLEVBR0osU0FBU0MsR0FBaUJDLEdBQ3RCLEdBQUlDLFdBQVdDLFlBQVlGLEVBQUtHLE9BQVEsQ0FDcENDLFVBQVVDLEtBQUtDLE9BQU8sWUFDdEIsT0FBTyxPQUVYLEdBQUlMLFdBQVdDLFlBQVlGLEVBQUtPLFNBQVUsQ0FDdENILFVBQVVDLEtBQUtDLE9BQU8sYUFDdEIsT0FBTyxPQUVYLEdBQUlMLFdBQVdDLFlBQVlGLEVBQUtRLFVBQVcsQ0FDdkNKLFVBQVVDLEtBQUtDLE9BQU8sZUFDdEIsT0FBTyxPQUVYLElBQUtMLFdBQVdRLFVBQVVULEVBQUtRLFVBQVcsQ0FDdENKLFVBQVVDLEtBQUtDLE9BQU8sV0FDdEIsT0FBTyxPQUVYLEdBQUdJLG1CQUFtQixHQUFHVixFQUFLVyxjQUFjLEdBQUtWLFdBQVdDLFlBQVlGLEVBQUtZLGFBQWEsQ0FDdEZSLFVBQVVDLEtBQUtDLE9BQU8scUJBQ3RCLE9BQU8sT0FFWCxHQUFHSSxtQkFBbUIsR0FBR1YsRUFBS1csY0FBYyxJQUFNVixXQUFXWSxTQUFTYixFQUFLWSxhQUFhLENBQ3BGUixVQUFVQyxLQUFLQyxPQUFPLG9CQUN0QixPQUFPLE9BRVgsR0FBR0ksbUJBQW1CLEdBQUdWLEVBQUtXLGNBQWMsR0FBS1gsRUFBS1ksWUFBY1IsVUFBVVUsY0FBZ0IsSUFBSSxDQUM5RlYsVUFBVUMsS0FBS0MsT0FBTyxVQUFZRixVQUFVVSxjQUFnQixLQUM1RCxPQUFPLE9BRVgsTUFBTyxNQUlYLFFBQVNDLEdBQVdDLEVBQUtDLEdBQ3JCQyxhQUNBdkIsR0FBRXdCLEtBQUtILEdBQ0hJLEtBQU0sT0FDTkMsU0FBVSxPQUNWQyxLQUFLTCxFQUNMTSxRQUFRLFNBQVVELEdBQ2QsR0FBSUUsU0FBU0YsRUFBS0csUUFBVSxFQUFHLENBQzNCckIsVUFBVUMsS0FBS3FCLFFBQVEsT0FDdkJDLFlBQVcsV0FDUEMsT0FBT0MsU0FBU0MsS0FBT0MsU0FDekIsU0FFRCxDQUNEQyxhQUNBNUIsV0FBVUMsS0FBS0MsT0FBT2dCLEVBQUtXLElBQzNCQyxZQUFhLFFBR3JCQyxNQUFPLFNBQVNDLEVBQUlDLEVBQU9DLEdBQ3ZCTixhQUNBTyxTQUFRSixNQUFNRyxFQUNkbEMsV0FBVUMsS0FBS0MsT0FBTyxjQUN0QjRCLFlBQWEsU0FNekJ0QyxFQUFjQyxLQUFPLFdBS2pCRixFQUFFLGdCQUFnQjZDLE1BQU0sV0FJcEIsR0FBSXJDLEdBQVFSLEVBQUU4QyxLQUFLOUMsRUFBRSxZQUFZK0MsTUFHakMsSUFBSUMsR0FBWWhELEVBQUU4QyxLQUFLOUMsRUFBRSxjQUFjK0MsTUFHdkMsSUFBSUUsR0FBS0MsR0FBR0MsVUFBVSxnQkFDdEIsSUFBSUMsR0FBYUgsRUFBR0ksWUFHcEIsSUFBSUMsR0FBUUosR0FBR0MsVUFBVSxhQUN6QixJQUFJSSxHQUFnQkMsSUFBSUgsWUFHeEIsSUFBSUksR0FBVVIsRUFBR1MsYUFDakIsSUFBSUQsRUFBUUUsUUFBVSxFQUFHLENBQ3JCbEQsVUFBVUMsS0FBS0MsT0FBTyxVQUN0QixPQUFPLE9BSVgsR0FBSWlELEdBQWFOLEVBQU1JLGFBQ3ZCLElBQUlFLEVBQVdELFFBQVUsRUFBRyxDQUN4QmxELFVBQVVDLEtBQUtDLE9BQU8sVUFDdEIsT0FBTyxPQUlYLEdBQUlrRCxHQUFXN0QsRUFBRThDLEtBQUs5QyxFQUFFLGFBQWErQyxPQUFPLEdBRzVDL0MsR0FBRSxvQ0FBb0M4RCxLQUFLLFdBQ3ZDQyxXQUFXQyxLQUFLaEUsRUFBRWlFLE1BQU1DLEtBQUssUUFFakN0QixTQUFRdUIsSUFBSUosV0FHWixJQUFJSyxHQUFVcEUsRUFBRThDLEtBQUs5QyxFQUFFLGNBQWMrQyxNQUdyQyxJQUFJc0IsSUFFQTdELE1BQU9BLEVBRVBJLFFBQVNvQyxFQUVUc0IsWUFBWWxCLEVBRVptQixZQUFZWCxFQUVaWSxnQkFBZ0JqQixFQUVoQmtCLFFBQVFoQixFQUdSeEMsWUFBYTRDLEVBRWJoRCxTQUFVdUQsRUFFVk0sR0FBSUMsZUFBZSxPQUFTLEtBSWhDLElBQUlDLEdBQVk1RSxFQUFFLGlDQUFpQytDLEtBQ25ELElBQUc2QixFQUFVLENBQ1RQLEVBQVFRLFdBQWFELEVBR3pCLEdBQUdFLGFBQWMsQ0FDYlQsRUFBUXJELGFBQWU4RCxhQUszQixHQUFJMUUsRUFBaUJpRSxHQUFVLENBQzNCLEdBQUkvQyxJQUNBeUQsT0FBUVYsRUFDUlcsY0FBZUMsYUFDZkMsb0JBQXFCbkUsa0JBQ3JCb0UsV0FBWUMsVUFDWkMsZ0JBQWlCQyxlQUNqQkMsYUFBY0MsWUFDZEMsV0FBWUEsV0FDWkMsY0FBYzNCLFdBRWxCM0MsR0FBV3VFLFVBQVVyRSxPQUdsQixDQUNILE1BQU8sVUFLbkIsT0FBT3JCIiwiZmlsZSI6ImFkbWluL3Jlc01hbmFnZS9tYW5hZ2VBcnRpY2xlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGpzZXJrIG9uIDIwMTcvMy8yMy5cbiAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IGpzZXJrIG9uIDIwMTcvMy8yMy5cbiAqL1xuJChmdW5jdGlvbiAoKSB7XG5cbiAgICBtYW5hZ2VBcnRpY2xlLmluaXQoKTtcblxufSk7XG52YXIgbWFuYWdlQXJ0aWNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbWFuYWdlQXJ0aWNsZSA9IHt9O1xuXG4gICAgdmFyIHJlc1VybDtcblxuICAgIC8v5qOA5p+l5Zu+5paH5o+Q5Lqk6KGo5Y2VXG4gICAgZnVuY3Rpb24gY2hlY2tBcnRpY2xlRm9ybShpbmZvKSB7XG4gICAgICAgIGlmICgkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8udGl0bGUpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLlm77mloflkI3np7DkuI3og73kuLrnqbrvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby5pbWdfdXJsKSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35LiK5Lyg5oKo55qE5Zu+5paH5bCB6Z2i77yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8uc3RhcnRfYXQpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7floavlhaXmgqjnmoTlm77mlofkuIrmnrbml7bpl7TvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEkZm9ybUNoZWNrLmNoZWNrVGltZShpbmZvLnN0YXJ0X2F0KSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Zu+5paH5LiK5p625pe26Ze06ZSZ6K+vXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmKHVwbG9hZENoYW5uZWxUeXBlPT0xJiZpbmZvLnBheW1lbnRfdHlwZT09MiAmJiAkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8ucGllY2VfcHJpY2UpKXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaCqOmAieaLqeeahOS7mOi0ueW9ouW8j+S4uuS7mOi0ue+8jOivt+i+k+WFpeS7t+agvO+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZih1cGxvYWRDaGFubmVsVHlwZT09MSYmaW5mby5wYXltZW50X3R5cGU9PTIgJiYgISRmb3JtQ2hlY2suY2hlY2tOdW0oaW5mby5waWVjZV9wcmljZSkpe1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5oKo55qE5Lu35qC86L6T5YWl5qC85byP5pyJ6K+v77yM6K+36YeN5paw6L6T5YWl77yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmKHVwbG9hZENoYW5uZWxUeXBlPT0xJiZpbmZvLnBheW1lbnRfdHlwZT09MiAmJiBpbmZvLnBpZWNlX3ByaWNlID4gYmFzZVV0aWxzLm1heElucHV0UHJpY2UgKiAxMDApe1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Lu35qC85LiN6IO95aSn5LqOIFwiICsgYmFzZVV0aWxzLm1heElucHV0UHJpY2UgKyBcIiDlhYNcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy/mj5DkuqTkv6Hmga9cbiAgICBmdW5jdGlvbiBzdWJtaXRGb3JtKHVybCwgYWxsUGFyYW1zKSB7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOmFsbFBhcmFtcyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoZGF0YS5jb2RlKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5L+d5a2Y5oiQ5YqfXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYmFja1VSTDtcbiAgICAgICAgICAgICAgICAgICAgfSw3MDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0TGltdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLHN0YXR1cyxlcnIpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+e9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gScpO1xuICAgICAgICAgICAgICAgIHN1Ym1pdExpbXQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBtYW5hZ2VBcnRpY2xlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG5cblxuXG4gICAgICAgIC8vIOaPkOS6pOWbvuaWh+ihqOWNlVxuICAgICAgICAkKFwiLmNvbXBsZXRlQnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLy/ojrflj5blm77mlofooajljZXmlbDmja5cbiAgICAgICAgICAgIC8v5Zu+5paH5ZCN56ewXG4gICAgICAgICAgICB2YXIgdGl0bGUgPSAkLnRyaW0oJChcIi5yZXNOYW1lXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgLy/lm77mloflsIHpnaLlnLDlnYBcbiAgICAgICAgICAgIHZhciBpbWFnZTFVcmwgPSAkLnRyaW0oJChcIiNJbWFnZTFVcmxcIikudmFsKCkpO1xuXG4gICAgICAgICAgICAvL+WbvuaWh+WOn+Wni+WGheWuueivpuaDhVxuICAgICAgICAgICAgdmFyIHVlID0gVUUuZ2V0RWRpdG9yKCdyZXNvdXJjZV9kZXNjJyk7XG4gICAgICAgICAgICB2YXIgb3JnQ29udGVudCA9IHVlLmdldENvbnRlbnQoKTtcblxuICAgICAgICAgICAgLy/lm77mlofor5XnnIvor6bmg4VcbiAgICAgICAgICAgIHZhciB1ZVRyeSA9IFVFLmdldEVkaXRvcignY29udGVudFRyeScpO1xuICAgICAgICAgICAgdmFyIG9yZ0NvbnRlbnRUcnkgPSB1ZTEuZ2V0Q29udGVudCgpO1xuXG4gICAgICAgICAgICAvL+i1hOa6kOWGheWuueaPj+i/sFxuICAgICAgICAgICAgdmFyIGRlc2NyaWIgPSB1ZS5nZXRQbGFpblR4dCgpO1xuICAgICAgICAgICAgaWYgKGRlc2NyaWIubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aPj+i/sOS4jeiDveS4uuepuiEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8v5Zu+5paH6K+V55yL5o+P6L+wXG4gICAgICAgICAgICB2YXIgZGVzY3JpYlRyeSA9IHVlVHJ5LmdldFBsYWluVHh0KCk7XG4gICAgICAgICAgICBpZiAoZGVzY3JpYlRyeS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5o+P6L+w5LiN6IO95Li656m6IScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy/ku5jotLnku7fmoLxcbiAgICAgICAgICAgIHZhciByZXNQcml6ZSA9ICQudHJpbSgkKFwiLnJlc1ByaXplXCIpLnZhbCgpKSoxMDA7XG5cbiAgICAgICAgICAgIC8v55u05pKt6YCJ5oup5YiG57G7XG4gICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiYWxpdmVDbGFzc1wiXTpjaGVja2VkJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGNsYXNzQXJyYXkucHVzaCgkKHRoaXMpLmF0dHIoJ2lkJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjbGFzc0FycmF5KTtcblxuICAgICAgICAgICAgLy/kuIrmnrbml7bpl7RcbiAgICAgICAgICAgIHZhciBzdGFydEF0ID0gJC50cmltKCQoXCIjZGF0ZUlucHV0XCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgLy/lm77mlofljZXlk4HkuIrkvKDkv6Hmga9cbiAgICAgICAgICAgIHZhciByZXNJbmZvID0ge1xuICAgICAgICAgICAgICAgIC8vIOWbvuaWh+WQjeensFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAvLyDlm77mloflsIHpnaLlnLDlnYBcbiAgICAgICAgICAgICAgICBpbWdfdXJsOiBpbWFnZTFVcmwsXG4gICAgICAgICAgICAgICAgLy/ljp/lp4vmlofmnKxcbiAgICAgICAgICAgICAgICBvcmdfY29udGVudDpvcmdDb250ZW50LFxuICAgICAgICAgICAgICAgIC8v5Zu+5paH6K+m5oOFXG4gICAgICAgICAgICAgICAgdHJ5X2NvbnRlbnQ6ZGVzY3JpYlRyeSxcbiAgICAgICAgICAgICAgICAvL+ivleeci+WOn+Wni+aWh+acrFxuICAgICAgICAgICAgICAgIHRyeV9vcmdfY29udGVudDpvcmdDb250ZW50VHJ5LFxuICAgICAgICAgICAgICAgIC8v6K+V55yL5Zu+5paH6K+m5oOFXG4gICAgICAgICAgICAgICAgY29udGVudDpkZXNjcmliLFxuICAgICAgICAgICAgICAgIC8v5LuY6LS55b2i5byPXG4gICAgICAgICAgICAgICAgLy/ku5jotLnku7fmoLxcbiAgICAgICAgICAgICAgICBwaWVjZV9wcmljZTogcmVzUHJpemUsXG4gICAgICAgICAgICAgICAgLy/kuIrmnrbml7bpl7RcbiAgICAgICAgICAgICAgICBzdGFydF9hdDogc3RhcnRBdCxcbiAgICAgICAgICAgICAgICAvL2lkXG4gICAgICAgICAgICAgICAgaWQ6IEdldFF1ZXJ5U3RyaW5nKCdpZCcpIHx8IG51bGxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8v5raI5oGv5o6o6YCBXG4gICAgICAgICAgICB2YXIgcHVzaFN0YXRlID0gJCgnI3NlcnZpY2VUb2dnbGUgOnJhZGlvOmNoZWNrZWQnKS52YWwoKTtcbiAgICAgICAgICAgIGlmKHB1c2hTdGF0ZSl7Ly/lpoLmnpzmnInmtojmga/mjqjpgIHmnYPpmZBcbiAgICAgICAgICAgICAgICByZXNJbmZvLnB1c2hfc3RhdGUgPSBwdXNoU3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL+aYr+WQpuS7mOi0ue+8iDHooajnpLrlhY3otLnvvIwy6KGo56S65Y2V56yU77yJXG4gICAgICAgICAgICBpZihyZXNvdXJjZUZyZWUpIHtcbiAgICAgICAgICAgICAgICByZXNJbmZvLnBheW1lbnRfdHlwZSA9IHJlc291cmNlRnJlZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc0luZm8pO1xuICAgICAgICAgICAgLy/ojrflj5booajljZXkuK3nmoTmlbDmja5cblxuICAgICAgICAgICAgaWYgKGNoZWNrQXJ0aWNsZUZvcm0ocmVzSW5mbykpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxsUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHJlc0luZm8sXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IHJlc291cmNlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkX2NoYW5uZWxfdHlwZTogdXBsb2FkQ2hhbm5lbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHBhY2thZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfcGFyYW1zOiByZXNvdXJjZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgcGFja2FnZV9uYW1lOiBwYWNrYWdlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcm9sZVBhcmFtczogcm9sZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlfdHlwZTpjbGFzc0FycmF5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzdWJtaXRGb3JtKGdvbGJhbFVybCxhbGxQYXJhbXMpO1xuXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBtYW5hZ2VBcnRpY2xlO1xufSgpOyJdfQ==
