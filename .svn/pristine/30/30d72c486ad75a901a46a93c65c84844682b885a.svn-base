$(document).ready(function(){$manageFunction.init()});$manageFunction={currentInfo:{},editState:"",init:function(){this.editState=GetQueryString("state");$("._switchOperateArea").on("click","._functionSwitch",function(e){var t=$(e.delegateTarget),n=t.data("switch_id");$manageFunction.currentInfo={$delegateDom:t,$currentDom:$(this),switchState:t.data("switch_state"),onText:t.data("on_text"),offText:t.data("off_text")};switch(n){case"category_navigation":$manageFunction.handleCategoryNavigation();break;case"subscribe_count":$manageFunction.handleSubscribeCount();break;case"update_num":$manageFunction.handleUpdateNum();break;case"message_remind":$manageFunction.handleMessageRemind();break;default:console.log("参数错误！");break}});$("#editCategoryNav").click(function(){window.location.href="/category_setting"});if($manageFunction.editState=="finish_edit"){baseUtils.show.blueTip("分类导航编辑完成!");history.replaceState(null,"","/manage_function")}},handleCategoryNavigation:function(){if(this.currentInfo.switchState){$.alert("关闭分类导航后，分类将会隐藏，所有内容均展示在首页","info",{btn:3,oktext:"确认关闭",onOk:function(){$.ajax("/category_switch",{type:"POST",dataType:"json",data:{type:0},success:function(e){if(e.ret==0){$switchBtn.changeSwitchBtnState($manageFunction.currentInfo);baseUtils.show.blueTip("分类导航已隐藏！")}else{if(e.msg!=""&&e.msg!=undefined){baseUtils.show.redTip(e.msg)}else{baseUtils.show.redTip("关闭分类导航失败！")}}},error:function(e,t,n){console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})}})}else{showLoading();$.ajax("/category_switch",{type:"POST",dataType:"json",data:{type:1},success:function(e){hideLoading();if(e.ret==0){$.alert("已成功开启首页分类导航，您现在可以在编辑专栏时选择专栏的所属分类了","info",{btn:2});$switchBtn.changeSwitchBtnState($manageFunction.currentInfo)}else{if(e.msg!=""&&e.msg!=undefined){$.alert("您还未完成首页分类导航的编辑，暂时无法开启该功能","info",{btn:3,onOk:function(){window.location.href="/category_setting"}})}else{baseUtils.show.redTip("开启分类导航失败！")}}},error:function(e,t,n){hideLoading();console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})}},handleSubscribeCount:function(){var e=$(".user_version_num").data("version_type");if(e&&e==3){if(this.currentInfo.switchState){$.alert("关闭后用户将无法看到商品订阅数","error",{title:"提示",icon:"blue",btn:3,onOk:function(){$.ajax("/set_hid_sub",{type:"POST",dataType:"json",data:{status:0},success:function(e){if(e.code==0){baseUtils.show.blueTip("关闭成功！");$switchBtn.changeSwitchBtnState($manageFunction.currentInfo)}else{baseUtils.show.redTip("关闭失败！")}},error:function(e,t,n){console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})}})}else{$.alert("开启后您的用户可以看到商品的订阅数","success",{title:"提示",icon:"blue",btn:3,onOk:function(){$.ajax("/set_hid_sub",{type:"POST",dataType:"json",data:{status:1},success:function(e){console.log(e);if(e.code==0){baseUtils.show.blueTip("开启成功！");$switchBtn.changeSwitchBtnState($manageFunction.currentInfo)}else{baseUtils.show.redTip("开启失败！")}},error:function(e,t,n){console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})}})}}else{baseUtils.show.redTip("当前版本不支持订阅量展示控制功能，如需使用请升级至专业版")}},handleUpdateNum:function(){var e=$(".user_version_num").data("version_type");if(e&&e==3){if(this.currentInfo.switchState){$.alert("关闭后用户将无法看到商品的更新期数","error",{title:"提示",icon:"blue",btn:3,onOk:function(){$.ajax("/set_resource_count",{type:"POST",dataType:"json",data:{status:0},success:function(e){if(e.code==0){baseUtils.show.blueTip("关闭成功！");$switchBtn.changeSwitchBtnState($manageFunction.currentInfo)}else{baseUtils.show.redTip("关闭失败！")}},error:function(e,t,n){console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})}})}else{$.alert("开启后您的用户可以看到商品的更新期数","success",{title:"提示",icon:"blue",btn:3,onOk:function(){$.ajax("/set_resource_count",{type:"POST",dataType:"json",data:{status:1},success:function(e){if(e.code==0){baseUtils.show.blueTip("开启成功！");$switchBtn.changeSwitchBtnState($manageFunction.currentInfo)}else{baseUtils.show.redTip("开启失败！")}},error:function(e,t,n){console.error(n);baseUtils.show.redTip("网络错误，请稍后再试！")}})}})}}else{baseUtils.show.redTip("当前版本不支持更新期数展控制功能，如需使用请升级至专业版")}},handleMessageRemind:function(){$.ajax("/set_alert_message",{type:"POST",dataType:"json",data:{},success:function(e){if(e.code==0){if($manageFunction.currentInfo.switchState){baseUtils.show.blueTip("已关闭消息提醒")}else{baseUtils.show.blueTip("已开启消息提醒")}$switchBtn.changeSwitchBtnState($manageFunction.currentInfo)}else{baseUtils.show.redTip("操作失败，请稍后再试。")}},error:function(e,t,n){console.log(n);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})}};$switchBtn={changeSwitchBtnState:function(e){var t=!e.switchState;if(t){e.$currentDom.css({"background-color":"#2FCE6F"});e.$currentDom.children("._switchDescText").css({left:"9px"});e.$currentDom.children("._switchDescText").text(e.onText);e.$currentDom.children("._switchButtonIcon").css({left:"40px"})}else{e.$currentDom.css({"background-color":"#c2c2c2"});e.$currentDom.children("._switchDescText").css({left:"44px"});e.$currentDom.children("._switchDescText").text(e.offText);e.$currentDom.children("._switchButtonIcon").css({left:"0px"})}e.$delegateDom.data("switch_state",t)}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL21hbmFnZUZ1bmN0aW9uLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiJG1hbmFnZUZ1bmN0aW9uIiwiaW5pdCIsImN1cnJlbnRJbmZvIiwiZWRpdFN0YXRlIiwidGhpcyIsIkdldFF1ZXJ5U3RyaW5nIiwib24iLCJlIiwiJGRlbGVnYXRlRG9tIiwiZGVsZWdhdGVUYXJnZXQiLCJzd2l0Y2hJZCIsImRhdGEiLCIkY3VycmVudERvbSIsInN3aXRjaFN0YXRlIiwib25UZXh0Iiwib2ZmVGV4dCIsImhhbmRsZUNhdGVnb3J5TmF2aWdhdGlvbiIsImhhbmRsZVN1YnNjcmliZUNvdW50IiwiaGFuZGxlVXBkYXRlTnVtIiwiaGFuZGxlTWVzc2FnZVJlbWluZCIsImNvbnNvbGUiLCJsb2ciLCJjbGljayIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImJhc2VVdGlscyIsInNob3ciLCJibHVlVGlwIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsImFsZXJ0IiwiYnRuIiwib2t0ZXh0Iiwib25PayIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwicmV0IiwiJHN3aXRjaEJ0biIsImNoYW5nZVN3aXRjaEJ0blN0YXRlIiwibXNnIiwidW5kZWZpbmVkIiwicmVkVGlwIiwiZXJyb3IiLCJ4aHIiLCJzdGF0dXMiLCJlcnIiLCJzaG93TG9hZGluZyIsImhpZGVMb2FkaW5nIiwidmVyc2lvbiIsInRpdGxlIiwiaWNvbiIsImNvZGUiLCJyZXN1bHQiLCJzdGF0ZSIsImNzcyIsImJhY2tncm91bmQtY29sb3IiLCJjaGlsZHJlbiIsImxlZnQiLCJ0ZXh0Il0sIm1hcHBpbmdzIjoiQUFJQUEsRUFBRUMsVUFBVUMsTUFBTSxXQUNkQyxnQkFBZ0JDLFFBR3BCRCxrQkFFSUUsZUFFQUMsVUFBVyxHQUVYRixLQUFNLFdBRUZHLEtBQUtELFVBQVlFLGVBQWUsUUFHaENSLEdBQUUsdUJBQXVCUyxHQUFHLFFBQVMsbUJBQW9CLFNBQVVD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M0QsRUFBWVksT0FDdEVaLEdBQVlVLFlBQVkrQyxTQUFTLHNCQUFzQkYsS0FBS0csS0FBUSxhQUNqRSxDQUNIMUQsRUFBWVUsWUFBWTZDLEtBQUtDLG1CQUFvQixXQUNqRHhELEdBQVlVLFlBQVkrQyxTQUFTLG9CQUFvQkYsS0FBS0csS0FBUSxRQUNsRTFELEdBQVlVLFlBQVkrQyxTQUFTLG9CQUFvQkUsS0FBSzNELEVBQVlhLFFBQ3RFYixHQUFZVSxZQUFZK0MsU0FBUyxzQkFBc0JGLEtBQUtHLEtBQVEsUUFFeEUxRCxFQUFZTSxhQUFhRyxLQUFLLGVBQWdCNkMiLCJmaWxlIjoiYWRtaW4vbWFuYWdlRnVuY3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBBZG1pbmlzdHJhdG9yIG9uIDIwMTcvMy8xMy5cclxuICovXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAkbWFuYWdlRnVuY3Rpb24uaW5pdCgpO1xyXG59KTtcclxuXHJcbiRtYW5hZ2VGdW5jdGlvbiA9IHtcclxuXHJcbiAgICBjdXJyZW50SW5mbzoge30sICAgIC8v54K55Ye76IqC54K55L+h5oGvXHJcblxyXG4gICAgZWRpdFN0YXRlOiBcIlwiLCAvL+aYr+WQpue8lui+keaIkOWKn+eKtuaAgeWPmOmHj1xyXG5cclxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5lZGl0U3RhdGUgPSBHZXRRdWVyeVN0cmluZyhcInN0YXRlXCIpO1xyXG5cclxuICAgICAgICAvL+W8gOWFs1xyXG4gICAgICAgICQoXCIuX3N3aXRjaE9wZXJhdGVBcmVhXCIpLm9uKFwiY2xpY2tcIiwgXCIuX2Z1bmN0aW9uU3dpdGNoXCIsIGZ1bmN0aW9uIChlKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgJGRlbGVnYXRlRG9tID0gJChlLmRlbGVnYXRlVGFyZ2V0KSxcclxuICAgICAgICAgICAgICAgIHN3aXRjaElkID0gJGRlbGVnYXRlRG9tLmRhdGEoXCJzd2l0Y2hfaWRcIik7XHJcblxyXG4gICAgICAgICAgICAkbWFuYWdlRnVuY3Rpb24uY3VycmVudEluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICAkZGVsZWdhdGVEb206ICRkZWxlZ2F0ZURvbSxcclxuICAgICAgICAgICAgICAgICRjdXJyZW50RG9tOiAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgc3dpdGNoU3RhdGU6ICRkZWxlZ2F0ZURvbS5kYXRhKFwic3dpdGNoX3N0YXRlXCIpLCAgICAvL+W9k+WJjeW8gOWFs+eahOeKtuaAgTx0cnVlL2ZhbHNlPlxyXG4gICAgICAgICAgICAgICAgb25UZXh0OiAkZGVsZWdhdGVEb20uZGF0YShcIm9uX3RleHRcIiksXHJcbiAgICAgICAgICAgICAgICBvZmZUZXh0OiAkZGVsZWdhdGVEb20uZGF0YShcIm9mZl90ZXh0XCIpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHN3aXRjaElkKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2F0ZWdvcnlfbmF2aWdhdGlvblwiOiAvL+mmlumhteWIhuexu+WvvOiIqlxyXG4gICAgICAgICAgICAgICAgICAgICRtYW5hZ2VGdW5jdGlvbi5oYW5kbGVDYXRlZ29yeU5hdmlnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzdWJzY3JpYmVfY291bnRcIjogLy/orqLpmIXph4/lsZXnpLpcclxuICAgICAgICAgICAgICAgICAgICAkbWFuYWdlRnVuY3Rpb24uaGFuZGxlU3Vic2NyaWJlQ291bnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1cGRhdGVfbnVtXCI6ICAvL+abtOaWsOacn+aVsOWxleekulxyXG4gICAgICAgICAgICAgICAgICAgICRtYW5hZ2VGdW5jdGlvbi5oYW5kbGVVcGRhdGVOdW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlX3JlbWluZFwiOiAgLy/mtojmga/mj5DphpJcclxuICAgICAgICAgICAgICAgICAgICAkbWFuYWdlRnVuY3Rpb24uaGFuZGxlTWVzc2FnZVJlbWluZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPguaVsOmUmeivr++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy/nvJbovpHliIbnsbvlr7zoiKpcclxuICAgICAgICAkKFwiI2VkaXRDYXRlZ29yeU5hdlwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvY2F0ZWdvcnlfc2V0dGluZ1wiO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAg5Yid5aeL5YyW5pe25p+l55yL5piv5ZCm57yW6L6R5YiG57G75a+86Iiq5oiQ5YqfXHJcbiAgICAgICAgaWYgKCRtYW5hZ2VGdW5jdGlvbi5lZGl0U3RhdGUgPT0gXCJmaW5pc2hfZWRpdFwiKSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLliIbnsbvlr7zoiKrnvJbovpHlrozmiJAhXCIpO1xyXG4gICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCBcIi9tYW5hZ2VfZnVuY3Rpb25cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgaGFuZGxlQ2F0ZWdvcnlOYXZpZ2F0aW9uOiBmdW5jdGlvbiAoKSB7ICAvLyAg54K55Ye75YiH5o2i5YiG57G75a+86Iiq5byA5YWzXHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5mby5zd2l0Y2hTdGF0ZSkgeyAgICAgIC8vICDlhbPpl63liIbnsbvlr7zoiKpcclxuICAgICAgICAgICAgICAgICQuYWxlcnQoXCLlhbPpl63liIbnsbvlr7zoiKrlkI7vvIzliIbnsbvlsIbkvJrpmpDol4/vvIzmiYDmnInlhoXlrrnlnYflsZXnpLrlnKjpppbpobVcIiwgXCJpbmZvXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBidG46IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgb2t0ZXh0OiBcIuehruiupOWFs+mXrVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KFwiL2NhdGVnb3J5X3N3aXRjaFwiLHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge3R5cGU6IDB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZXQgPT0gMCkgeyAgICAgICAgLy8gIOWFs+mXreWIhuexu+WvvOiIquaIkOWKnyAtIOaYvuekuuaPkOekulxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3dpdGNoQnRuLmNoYW5nZVN3aXRjaEJ0blN0YXRlKCRtYW5hZ2VGdW5jdGlvbi5jdXJyZW50SW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLliIbnsbvlr7zoiKrlt7LpmpDol4/vvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubXNnICE9IFwiXCIgJiYgZGF0YS5tc2cgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5YWz6Zet5YiG57G75a+86Iiq5aSx6LSl77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICDmiZPlvIDliIbnsbvlr7zoiKpcclxuICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5hamF4KCcvY2F0ZWdvcnlfc3dpdGNoJyx7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTpcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTpcImpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOnt0eXBlOiAxfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZXQgPT0gMCkgeyAgICAgICAgLy8gIOW8gOWQr+WIhuexu+WvvOiIquaIkOWKnyAtIOaYvuekuuaPkOekulxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuW3suaIkOWKn+W8gOWQr+mmlumhteWIhuexu+WvvOiIqu+8jOaCqOeOsOWcqOWPr+S7peWcqOe8lui+keS4k+agj+aXtumAieaLqeS4k+agj+eahOaJgOWxnuWIhuexu+S6hlwiLCBcImluZm9cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN3aXRjaEJ0bi5jaGFuZ2VTd2l0Y2hCdG5TdGF0ZSgkbWFuYWdlRnVuY3Rpb24uY3VycmVudEluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubXNnICE9IFwiXCIgJiYgZGF0YS5tc2cgIT0gdW5kZWZpbmVkKSB7ICAvL+Wksei0peWOn+WboCAtIC0g5pyq5a6M5oiQ5YiG57G75a+86Iiq55qE57yW6L6RXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuaCqOi/mOacquWujOaIkOmmlumhteWIhuexu+WvvOiIqueahOe8lui+ke+8jOaaguaXtuaXoOazleW8gOWQr+ivpeWKn+iDvVwiLCBcImluZm9cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHsgLy/nq4vljbPnvJbovpFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9jYXRlZ29yeV9zZXR0aW5nJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5aSx6LSl5Y6f5ZugIC0gLSDlhbblroPplJnor69cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLlvIDlkK/liIbnsbvlr7zoiKrlpLHotKXvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVTdWJzY3JpYmVDb3VudDogZnVuY3Rpb24gKCkgeyAvL+aYvuekum9y6ZqQ6JeP55So5oi36K6i6ZiF5pWwXHJcblxyXG4gICAgICAgICAgICB2YXIgdmVyc2lvbj0kKFwiLnVzZXJfdmVyc2lvbl9udW1cIikuZGF0YShcInZlcnNpb25fdHlwZVwiKTtcclxuICAgICAgICAgICAgaWYodmVyc2lvbiAmJiB2ZXJzaW9uPT0zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5mby5zd2l0Y2hTdGF0ZSkgeyAvL+makOiXj+iuoumYheaVsOaYvuekulxyXG4gICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLlhbPpl63lkI7nlKjmiLflsIbml6Dms5XnnIvliLDllYblk4HorqLpmIXmlbBcIiwgXCJlcnJvclwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuaPkOekulwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnYmx1ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KFwiL3NldF9oaWRfc3ViXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge3N0YXR1czogMH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5YWz6Zet5oiQ5Yqf77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN3aXRjaEJ0bi5jaGFuZ2VTd2l0Y2hCdG5TdGF0ZSgkbWFuYWdlRnVuY3Rpb24uY3VycmVudEluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5YWz6Zet5aSx6LSl77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvL+W8gOWQr+iuoumYheaVsOaYvuekulxyXG4gICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLlvIDlkK/lkI7mgqjnmoTnlKjmiLflj6/ku6XnnIvliLDllYblk4HnmoTorqLpmIXmlbBcIiwgXCJzdWNjZXNzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi5o+Q56S6XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdibHVlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoXCIvc2V0X2hpZF9zdWJcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7c3RhdHVzOiAxfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5byA5ZCv5oiQ5Yqf77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN3aXRjaEJ0bi5jaGFuZ2VTd2l0Y2hCdG5TdGF0ZSgkbWFuYWdlRnVuY3Rpb24uY3VycmVudEluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5byA5ZCv5aSx6LSl77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuW9k+WJjeeJiOacrOS4jeaUr+aMgeiuoumYhemHj+WxleekuuaOp+WItuWKn+iDve+8jOWmgumcgOS9v+eUqOivt+WNh+e6p+iHs+S4k+S4mueJiFwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcbiAgICBoYW5kbGVVcGRhdGVOdW06IGZ1bmN0aW9uICgpIHsgIC8v5pi+56S6b3LpmpDol4/kuJPmoI/kvJrlkZjmnJ/mlbBcclxuXHJcbiAgICAgICAgICAgIHZhciB2ZXJzaW9uID0gJChcIi51c2VyX3ZlcnNpb25fbnVtXCIpLmRhdGEoXCJ2ZXJzaW9uX3R5cGVcIik7XHJcbiAgICAgICAgICAgIGlmKHZlcnNpb24gJiYgdmVyc2lvbiA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5mby5zd2l0Y2hTdGF0ZSkgeyAvL+makOiXj+iuoumYheaVsOaYvuekulxyXG4gICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLlhbPpl63lkI7nlKjmiLflsIbml6Dms5XnnIvliLDllYblk4HnmoTmm7TmlrDmnJ/mlbBcIiwgXCJlcnJvclwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuaPkOekulwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnYmx1ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KFwiL3NldF9yZXNvdXJjZV9jb3VudFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtzdGF0dXM6IDB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWFs+mXreaIkOWKn++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzd2l0Y2hCdG4uY2hhbmdlU3dpdGNoQnRuU3RhdGUoJG1hbmFnZUZ1bmN0aW9uLmN1cnJlbnRJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWFs+mXreWksei0pe+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHsvL+W8gOWQr+iuoumYheaVsOaYvuekulxyXG4gICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLlvIDlkK/lkI7mgqjnmoTnlKjmiLflj6/ku6XnnIvliLDllYblk4HnmoTmm7TmlrDmnJ/mlbBcIiwgXCJzdWNjZXNzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi5o+Q56S6XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdibHVlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoXCIvc2V0X3Jlc291cmNlX2NvdW50XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge3N0YXR1czogMX0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5byA5ZCv5oiQ5Yqf77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN3aXRjaEJ0bi5jaGFuZ2VTd2l0Y2hCdG5TdGF0ZSgkbWFuYWdlRnVuY3Rpb24uY3VycmVudEluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5byA5ZCv5aSx6LSl77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLlvZPliY3niYjmnKzkuI3mlK/mjIHmm7TmlrDmnJ/mlbDlsZXmjqfliLblip/og73vvIzlpoLpnIDkvb/nlKjor7fljYfnuqfoh7PkuJPkuJrniYhcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTWVzc2FnZVJlbWluZDogZnVuY3Rpb24gKCkgeyAvL+a2iOaBr+aPkOmGkuW8gOWFs1xyXG5cclxuICAgICAgICAgICAgJC5hamF4KFwiL3NldF9hbGVydF9tZXNzYWdlXCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRtYW5hZ2VGdW5jdGlvbi5jdXJyZW50SW5mby5zd2l0Y2hTdGF0ZSkgeyAgICAgICAvL+W9k+WJjeeKtuaAgSAtIOW8gOWQr1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuW3suWFs+mXrea2iOaBr+aPkOmGklwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlt7LlvIDlkK/mtojmga/mj5DphpJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHN3aXRjaEJ0bi5jaGFuZ2VTd2l0Y2hCdG5TdGF0ZSgkbWFuYWdlRnVuY3Rpb24uY3VycmVudEluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivleOAglwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmnI3liqHlmajlh7rlsI/lt67kuobvvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH0sXHJcblxyXG59O1xyXG5cclxuJHN3aXRjaEJ0biA9IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIh+aNouaMiemSrueahOeKtuaAgVxyXG4gICAgICovXHJcbiAgICBjaGFuZ2VTd2l0Y2hCdG5TdGF0ZTogZnVuY3Rpb24gKGN1cnJlbnRJbmZvKSB7XHJcbiAgICAgICAgdmFyIHN0YXRlID0gIWN1cnJlbnRJbmZvLnN3aXRjaFN0YXRlOyAgICAvL+imgei9rOWPmOWIsOeahOeKtuaAgVxyXG4gICAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50SW5mby4kY3VycmVudERvbS5jc3Moe1wiYmFja2dyb3VuZC1jb2xvclwiOiBcIiMyRkNFNkZcIn0pO1xyXG4gICAgICAgICAgICBjdXJyZW50SW5mby4kY3VycmVudERvbS5jaGlsZHJlbihcIi5fc3dpdGNoRGVzY1RleHRcIikuY3NzKHtcImxlZnRcIjogXCI5cHhcIn0pO1xyXG4gICAgICAgICAgICBjdXJyZW50SW5mby4kY3VycmVudERvbS5jaGlsZHJlbihcIi5fc3dpdGNoRGVzY1RleHRcIikudGV4dChjdXJyZW50SW5mby5vblRleHQpO1xyXG4gICAgICAgICAgICBjdXJyZW50SW5mby4kY3VycmVudERvbS5jaGlsZHJlbihcIi5fc3dpdGNoQnV0dG9uSWNvblwiKS5jc3Moe1wibGVmdFwiOiBcIjQwcHhcIn0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbmZvLiRjdXJyZW50RG9tLmNzcyh7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwiI2MyYzJjMlwifSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbmZvLiRjdXJyZW50RG9tLmNoaWxkcmVuKFwiLl9zd2l0Y2hEZXNjVGV4dFwiKS5jc3Moe1wibGVmdFwiOiBcIjQ0cHhcIn0pO1xyXG4gICAgICAgICAgICBjdXJyZW50SW5mby4kY3VycmVudERvbS5jaGlsZHJlbihcIi5fc3dpdGNoRGVzY1RleHRcIikudGV4dChjdXJyZW50SW5mby5vZmZUZXh0KTtcclxuICAgICAgICAgICAgY3VycmVudEluZm8uJGN1cnJlbnREb20uY2hpbGRyZW4oXCIuX3N3aXRjaEJ1dHRvbkljb25cIikuY3NzKHtcImxlZnRcIjogXCIwcHhcIn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyZW50SW5mby4kZGVsZWdhdGVEb20uZGF0YShcInN3aXRjaF9zdGF0ZVwiLCBzdGF0ZSk7XHJcblxyXG4gICAgfSxcclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXX0=
