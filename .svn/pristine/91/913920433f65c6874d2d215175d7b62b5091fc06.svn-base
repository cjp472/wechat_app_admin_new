$(function(){manageAudio.init()});var manageAudio=function(){var e={};var a;function r(e){if($formCheck.emptyString(e.title)){baseUtils.show.redTip("音频名称不能为空！");return false}if($formCheck.emptyString(e.audio_url)){baseUtils.show.redTip("请上传正式音频资源！");return false}if($formCheck.emptyString(e.img_url)){baseUtils.show.redTip("请填入您的音频图片！");return false}if($formCheck.emptyString(e.start_at)){baseUtils.show.redTip("请填入您的音频上架时间！");return false}if(!$formCheck.checkTime(e.start_at)){baseUtils.show.redTip("音频上架时间错误");return false}if(uploadChannelType==1&&e.payment_type==2&&$formCheck.emptyString(e.piece_price)){baseUtils.show.redTip("您选择的付费形式为付费，请输入价格！");return false}if(uploadChannelType==1&&e.payment_type==2&&!$formCheck.checkNum(e.piece_price)){baseUtils.show.redTip("您的价格输入格式有误，请重新输入！");return false}if(uploadChannelType==1&&e.payment_type==2&&e.piece_price>baseUtils.maxInputPrice*100){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}return true}function t(e,a){showLoading();$.ajax(e,{type:"POST",dataType:"json",data:a,success:function(e){if(parseInt(e.code)===0){baseUtils.show.blueTip("保存成功");setTimeout(function(){window.location.href=backURL},700)}else{hideLoading();baseUtils.show.redTip(e.msg);submitLimt=false}},error:function(e,a,r){hideLoading();console.error(r);baseUtils.show.redTip("网络错误，请稍后再试！");submitLimt=false}})}e.init=function(){var e=GetQueryString("package_id");var a=$("#dateInput").val();$("#dateInput").on("change",function(e){a=$(this).val();console.log(currentDate);if(a>currentDate){$("#nextDay").html("上架当日")}else{$("#nextDay").html("今日")}i();console.log(a)});console.log(packageId);i();function i(){$.get("/check_goods_message_push/"+e+"/"+a,function(e){console.log(e);$("#valid_push").html(e.data.valid_push);if(e.data.has_push>=3){$("#fBtn1").attr("disabled",true);$("#has_push").html(3)}else{$("#has_push").html(e.data.has_push);$("#fBtn1").attr("disabled",false)}if(e.code==-1){$("#subMsg").css("display","none")}})}$(".completeBtn").click(function(){var e=$.trim($(".resName").val());var a=$.trim($("#Audio1Url").val());var i=$.trim($("#Image1Url").val());var s=UE.getEditor("resource_desc");var n=s.getContent();var l=s.getPlainTxt();if(l.length==0){baseUtils.show.redTip("描述不能为空!");return false}var o=$.trim($("#Audio2Url").val());var u=$.trim($("#Image2Url").val());var c=$.trim($(".resPrize").val())*100;$('input[name="aliveClass"]:checked').each(function(){classArray.push($(this).attr("id"))});console.log(classArray);var p=$.trim($("#dateInput").val());var d={title:e,audio_url:a,img_url:i,audio_size:fileAudio1Size,file_name:AudioName,audio_length:resAudio1Length,descrb:l,org_content:n,try_audio_url:o,try_audio_length:resAudio2Length,try_file_name:tryAudioName,sign_url:u,piece_price:c,start_at:p,id:GetQueryString("id")||null};var h=$("#serviceToggle :radio:checked").val();if(h){d.push_state=h}if(resourceFree){d.payment_type=resourceFree}if(r(d)){var m={params:d,resource_type:resourceType,upload_channel_type:uploadChannelType,package_id:packageId,resource_params:resourceParams,package_name:packageName,roleParams:roleParams,category_type:classArray};t(golbalUrl,m)}else{return false}})};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hbmFnZUF1ZGlvLmpzIl0sIm5hbWVzIjpbIiQiLCJtYW5hZ2VBdWRpbyIsImluaXQiLCJyZXNVcmwiLCJjaGVja0F1ZGlvRm9ybSIsImluZm8iLCIkZm9ybUNoZWNrIiwiZW1wdHlTdHJpbmciLCJ0aXRsZSIsImJhc2VVdGlscyIsInNob3ciLCJyZWRUaXAiLCJhdWRpb191cmwiLCJpbWdfdXJsIiwic3RhcnRfYXQiLCJjaGVja1RpbWUiLCJ1cGxvYWRDaGFubmVsVHlwZSIsInBheW1lbnRfdHlwZSIsInBpZWNlX3ByaWNlIiwiY2hlY2tOdW0iLCJtYXhJbnB1dFByaWNlIiwic3VibWl0Rm9ybSIsInVybCIsImFsbFBhcmFtcyIsInNob3dMb2FkaW5nIiwiYWpheCIsInR5cGUiLCJkYXRhVHlwZSIsImRhdGEiLCJzdWNjZXNzIiwicGFyc2VJbnQiLCJjb2RlIiwiYmx1ZVRpcCIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJiYWNrVVJMIiwiaGlkZUxvYWRpbmciLCJtc2ciLCJzdWJtaXRMaW10IiwiZXJyb3IiLCJ4aHIiLCJzdGF0dXMiLCJlcnIiLCJjb25zb2xlIiwicF9pZCIsIkdldFF1ZXJ5U3RyaW5nIiwic2VsZWN0VGltZSIsInZhbCIsIm9uIiwiZSIsInRoaXMiLCJsb2ciLCJjdXJyZW50RGF0ZSIsImh0bWwiLCJwdXNoRnVuY3Rpb24iLCJwYWNrYWdlSWQiLCJnZXQiLCJ2YWxpZF9wdXNoIiwiaGFzX3B1c2giLCJhdHRyIiwiY3NzIiwiY2xpY2siLCJ0cmltIiwiYXVkaW8xVXJsIiwiaW1hZ2UxVXJsIiwidWUiLCJVRSIsImdldEVkaXRvciIsIm9yZ0NvbnRlbnQiLCJnZXRDb250ZW50IiwiZGVzY3JpYiIsImdldFBsYWluVHh0IiwibGVuZ3RoIiwiYXVkaW8yVXJsIiwiaW1hZ2UyVXJsIiwicmVzUHJpemUiLCJlYWNoIiwiY2xhc3NBcnJheSIsInB1c2giLCJzdGFydEF0IiwicmVzSW5mbyIsImF1ZGlvX3NpemUiLCJmaWxlQXVkaW8xU2l6ZSIsImZpbGVfbmFtZSIsIkF1ZGlvTmFtZSIsImF1ZGlvX2xlbmd0aCIsInJlc0F1ZGlvMUxlbmd0aCIsImRlc2NyYiIsIm9yZ19jb250ZW50IiwidHJ5X2F1ZGlvX3VybCIsInRyeV9hdWRpb19sZW5ndGgiLCJyZXNBdWRpbzJMZW5ndGgiLCJ0cnlfZmlsZV9uYW1lIiwidHJ5QXVkaW9OYW1lIiwic2lnbl91cmwiLCJpZCIsInB1c2hTdGF0ZSIsInB1c2hfc3RhdGUiLCJyZXNvdXJjZUZyZWUiLCJwYXJhbXMiLCJyZXNvdXJjZV90eXBlIiwicmVzb3VyY2VUeXBlIiwidXBsb2FkX2NoYW5uZWxfdHlwZSIsInBhY2thZ2VfaWQiLCJyZXNvdXJjZV9wYXJhbXMiLCJyZXNvdXJjZVBhcmFtcyIsInBhY2thZ2VfbmFtZSIsInBhY2thZ2VOYW1lIiwicm9sZVBhcmFtcyIsImNhdGVnb3J5X3R5cGUiLCJnb2xiYWxVcmwiXSwibWFwcGluZ3MiOiJBQUdBQSxFQUFFLFdBRUVDLFlBQVlDLFFBR2hCLElBQUlELGFBQWMsV0FDZCxHQUFJQSxLQUVKLElBQUlFLEVBR0osU0FBU0MsR0FBZUMsR0FDcEIsR0FBSUMsV0FBV0MsWUFBWUYsRUFBS0csT0FBUSxDQUNwQ0MsVUFBVUMsS0FBS0MsT0FBTyxZQUN0QixPQUFPLE9BRVgsR0FBSUwsV0FBV0MsWUFBWUYsRUFBS08sV0FBWSxDQUN4Q0gsVUFBVUMsS0FBS0MsT0FBTyxhQUN0QixPQUFPLE9BRVgsR0FBSUwsV0FBV0MsWUFBWUYsRUFBS1EsU0FBVSxDQUN0Q0osVUFBVUMsS0FBS0MsT0FBTyxhQUN0QixPQUFPLE9BRVgsR0FBSUwsV0FBV0MsWUFBWUYsRUFBS1MsVUFBVyxDQUN2Q0wsVUFBVUMsS0FBS0MsT0FBTyxlQUN0QixPQUFPLE9BRVgsSUFBS0wsV0FBV1MsVUFBVVYsRUFBS1MsVUFBVyxDQUN0Q0wsVUFBVUMsS0FBS0MsT0FBTyxXQUN0QixPQUFPLE9BRVgsR0FBR0ssbUJBQW1CLEdBQUdYLEVBQUtZLGNBQWMsR0FBR1gsV0FB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LFdBR1osSUFBSUUsR0FBVWpGLEVBQUVnRSxLQUFLaEUsRUFBRSxjQUFjaUQsTUFJckMsSUFBSWlDLElBRUExRSxNQUFPQSxFQUVQSSxVQUFXcUQsRUFFWHBELFFBQVNxRCxFQUVUaUIsV0FBV0MsZUFFWEMsVUFBV0MsVUFFWEMsYUFBYUMsZ0JBRWJDLE9BQU9qQixFQUVQa0IsWUFBWXBCLEVBRVpxQixjQUFjaEIsRUFFZGlCLGlCQUFpQkMsZ0JBRWpCQyxjQUFlQyxhQUVmQyxTQUFVcEIsRUFFVjFELFlBQWEyRCxFQUViL0QsU0FBVW1FLEVBRVZnQixHQUFJbEQsZUFBZSxPQUFTLEtBSWhDLElBQUltRCxHQUFZbEcsRUFBRSxpQ0FBaUNpRCxLQUNuRCxJQUFHaUQsRUFBVSxDQUNUaEIsRUFBUWlCLFdBQWFELEVBR3pCLEdBQUdFLGFBQWMsQ0FDYmxCLEVBQVFqRSxhQUFlbUYsYUFNM0IsR0FBSWhHLEVBQWU4RSxHQUFVLENBQ3pCLEdBQUkzRCxJQUNBOEUsT0FBUW5CLEVBQ1JvQixjQUFlQyxhQUNmQyxvQkFBcUJ4RixrQkFDckJ5RixXQUFZaEQsVUFDWmlELGdCQUFpQkMsZUFDakJDLGFBQWNDLFlBQ2RDLFdBQVlBLFdBQ1pDLGNBQWNoQyxXQUVsQjFELEdBQVcyRixVQUFVekYsT0FFbEIsQ0FDSCxNQUFPLFVBS25CLE9BQU90QiIsImZpbGUiOiJtYW5hZ2VBdWRpby5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBqc2VyayBvbiAyMDE3LzMvMjMuXG4gKi9cbiQoZnVuY3Rpb24gKCkge1xuXG4gICAgbWFuYWdlQXVkaW8uaW5pdCgpO1xuXG59KTtcbnZhciBtYW5hZ2VBdWRpbyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbWFuYWdlQXVkaW8gPSB7fTtcblxuICAgIHZhciByZXNVcmw7XG5cbiAgICAvL+ajgOafpemfs+mikeaPkOS6pOihqOWNlVxuICAgIGZ1bmN0aW9uIGNoZWNrQXVkaW9Gb3JtKGluZm8pIHtcbiAgICAgICAgaWYgKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby50aXRsZSkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIumfs+mikeWQjeensOS4jeiDveS4uuepuu+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLmF1ZGlvX3VybCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+S4iuS8oOato+W8j+mfs+mikei1hOa6kO+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLmltZ191cmwpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7floavlhaXmgqjnmoTpn7PpopHlm77niYfvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby5zdGFydF9hdCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+Whq+WFpeaCqOeahOmfs+mikeS4iuaetuaXtumXtO+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISRmb3JtQ2hlY2suY2hlY2tUaW1lKGluZm8uc3RhcnRfYXQpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLpn7PpopHkuIrmnrbml7bpl7TplJnor69cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYodXBsb2FkQ2hhbm5lbFR5cGU9PTEmJmluZm8ucGF5bWVudF90eXBlPT0yJiYkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8ucGllY2VfcHJpY2UpKXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaCqOmAieaLqeeahOS7mOi0ueW9ouW8j+S4uuS7mOi0ue+8jOivt+i+k+WFpeS7t+agvO+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZih1cGxvYWRDaGFubmVsVHlwZT09MSYmaW5mby5wYXltZW50X3R5cGU9PTImJiEkZm9ybUNoZWNrLmNoZWNrTnVtKGluZm8ucGllY2VfcHJpY2UpKXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaCqOeahOS7t+agvOi+k+WFpeagvOW8j+acieivr++8jOivt+mHjeaWsOi+k+WFpe+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBsb2FkQ2hhbm5lbFR5cGU9PTEmJmluZm8ucGF5bWVudF90eXBlPT0yICYmIGluZm8ucGllY2VfcHJpY2UgPiBiYXNlVXRpbHMubWF4SW5wdXRQcmljZSAqIDEwMCkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Lu35qC85LiN6IO95aSn5LqOIFwiICsgYmFzZVV0aWxzLm1heElucHV0UHJpY2UgKyBcIiDlhYNcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy/mj5DkuqTkv6Hmga9cbiAgICBmdW5jdGlvbiBzdWJtaXRGb3JtKHVybCwgYWxsUGFyYW1zKSB7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOmFsbFBhcmFtcyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoZGF0YS5jb2RlKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5L+d5a2Y5oiQ5YqfXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYmFja1VSTDtcbiAgICAgICAgICAgICAgICAgICAgfSw3MDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0TGltdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLHN0YXR1cyxlcnIpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+e9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gScpO1xuICAgICAgICAgICAgICAgIHN1Ym1pdExpbXQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBtYW5hZ2VBdWRpby5pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8v5paw54mI5raI5oGv5o6o6YCB5ouJ5Y+W5pWw5o2uXG4gICAgICAgIHZhciBwX2lkID1HZXRRdWVyeVN0cmluZygncGFja2FnZV9pZCcpO1xuICAgICAgICB2YXIgc2VsZWN0VGltZSA9ICQoJyNkYXRlSW5wdXQnKS52YWwoKTtcbiAgICAgICAgLy/nm5Hmjqfml7bpl7TlvLnnqpfnu4Tku7ZcbiAgICAgICAgJCgnI2RhdGVJbnB1dCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBzZWxlY3RUaW1lID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnREYXRlKTtcbiAgICAgICAgICAgIGlmKHNlbGVjdFRpbWU+Y3VycmVudERhdGUpe1xuICAgICAgICAgICAgICAgICQoJyNuZXh0RGF5JykuaHRtbCgn5LiK5p625b2T5pelJyk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAkKCcjbmV4dERheScpLmh0bWwoJ+S7iuaXpScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHVzaEZ1bmN0aW9uKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzZWxlY3RUaW1lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHBhY2thZ2VJZCk7XG4gICAgICAgIHB1c2hGdW5jdGlvbigpO1xuICAgICAgICBmdW5jdGlvbiBwdXNoRnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkLmdldCgnL2NoZWNrX2dvb2RzX21lc3NhZ2VfcHVzaC8nICsgcF9pZCArICcvJyArIHNlbGVjdFRpbWUsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgJCgnI3ZhbGlkX3B1c2gnKS5odG1sKGRhdGEuZGF0YS52YWxpZF9wdXNoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLmhhc19wdXNoID49IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2ZCdG4xJykuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2hhc19wdXNoJykuaHRtbCgzKTsvL+WGmeatu+W3suWPkTPmnaFcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2hhc19wdXNoJykuaHRtbChkYXRhLmRhdGEuaGFzX3B1c2gpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjZkJ0bjEnKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjc3ViTXNnJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5o+Q5Lqk6Z+z6aKR6KGo5Y2VXG4gICAgICAgICQoXCIuY29tcGxldGVCdG5cIikuY2xpY2soZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAvL+iOt+WPlumfs+mikeihqOWNleaVsOaNrlxuICAgICAgICAgICAgLy/pn7PpopHlkI3np7BcbiAgICAgICAgICAgIHZhciB0aXRsZSA9ICQudHJpbSgkKFwiLnJlc05hbWVcIikudmFsKCkpO1xuXG4gICAgICAgICAgICAvL+ato+W8j+mfs+mikeWcsOWdgFxuICAgICAgICAgICAgdmFyIGF1ZGlvMVVybCA9ICQudHJpbSgkKFwiI0F1ZGlvMVVybFwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIC8v6Z+z6aKR5bCB6Z2i5Zyw5Z2AXG4gICAgICAgICAgICB2YXIgaW1hZ2UxVXJsID0gJC50cmltKCQoXCIjSW1hZ2UxVXJsXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgLy/pn7PpopHljp/lp4vlhoXlrrnor6bmg4VcbiAgICAgICAgICAgIHZhciB1ZSA9IFVFLmdldEVkaXRvcigncmVzb3VyY2VfZGVzYycpO1xuICAgICAgICAgICAgdmFyIG9yZ0NvbnRlbnQgPSB1ZS5nZXRDb250ZW50KCk7XG5cbiAgICAgICAgICAgIC8v6Z+z6aKR5YaF5a655o+P6L+wXG4gICAgICAgICAgICB2YXIgZGVzY3JpYiA9IHVlLmdldFBsYWluVHh0KCk7XG4gICAgICAgICAgICBpZiAoZGVzY3JpYi5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5o+P6L+w5LiN6IO95Li656m6IScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8v6K+V5ZCs6Z+z6aKR5Zyw5Z2AXG4gICAgICAgICAgICB2YXIgYXVkaW8yVXJsID0gJC50cmltKCQoXCIjQXVkaW8yVXJsXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgLy/ml6Xnrb7lm77niYflnLDlnYBcbiAgICAgICAgICAgIHZhciBpbWFnZTJVcmwgPSAkLnRyaW0oJChcIiNJbWFnZTJVcmxcIikudmFsKCkpO1xuXG5cblxuICAgICAgICAgICAgLy/ku5jotLnku7fmoLxcbiAgICAgICAgICAgIHZhciByZXNQcml6ZSA9ICQudHJpbSgkKFwiLnJlc1ByaXplXCIpLnZhbCgpKSoxMDA7XG5cbiAgICAgICAgICAgIC8v55u05pKt6YCJ5oup5YiG57G7XG4gICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiYWxpdmVDbGFzc1wiXTpjaGVja2VkJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGNsYXNzQXJyYXkucHVzaCgkKHRoaXMpLmF0dHIoJ2lkJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjbGFzc0FycmF5KTtcblxuICAgICAgICAgICAgLy/kuIrmnrbml7bpl7RcbiAgICAgICAgICAgIHZhciBzdGFydEF0ID0gJC50cmltKCQoXCIjZGF0ZUlucHV0XCIpLnZhbCgpKTtcblxuXG4gICAgICAgICAgICAvL+mfs+mikeWNleWTgeS4iuS8oOS/oeaBr1xuICAgICAgICAgICAgdmFyIHJlc0luZm8gPSB7XG4gICAgICAgICAgICAgICAgLy8g6Z+z6aKR5ZCN56ewXG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgIC8vICDmraPlvI/pn7PpopHlnLDlnYBcbiAgICAgICAgICAgICAgICBhdWRpb191cmw6IGF1ZGlvMVVybCxcbiAgICAgICAgICAgICAgICAvLyAgIOmfs+mikeWwgemdouWcsOWdgFxuICAgICAgICAgICAgICAgIGltZ191cmw6IGltYWdlMVVybCxcbiAgICAgICAgICAgICAgICAvLyDmraPlvI/pn7PpopHlpKflsI9cbiAgICAgICAgICAgICAgICBhdWRpb19zaXplOmZpbGVBdWRpbzFTaXplLFxuICAgICAgICAgICAgICAgIC8v6Z+z6aKR5ZCNXG4gICAgICAgICAgICAgICAgZmlsZV9uYW1lOiBBdWRpb05hbWUsXG4gICAgICAgICAgICAgICAgLy/mraPlvI/pn7PpopHml7bplb9cbiAgICAgICAgICAgICAgICBhdWRpb19sZW5ndGg6cmVzQXVkaW8xTGVuZ3RoLFxuICAgICAgICAgICAgICAgIC8v6Z+z6aKR6K+m5oOFXG4gICAgICAgICAgICAgICAgZGVzY3JiOmRlc2NyaWIsXG4gICAgICAgICAgICAgICAgLy/ljp/lp4vmlofmnKxcbiAgICAgICAgICAgICAgICBvcmdfY29udGVudDpvcmdDb250ZW50LFxuICAgICAgICAgICAgICAgIC8v6K+V5ZCs6Z+z6aKR5Zyw5Z2AXG4gICAgICAgICAgICAgICAgdHJ5X2F1ZGlvX3VybDphdWRpbzJVcmwsXG4gICAgICAgICAgICAgICAgLy/or5XlkKzpn7PpopHml7bplb9cbiAgICAgICAgICAgICAgICB0cnlfYXVkaW9fbGVuZ3RoOnJlc0F1ZGlvMkxlbmd0aCxcbiAgICAgICAgICAgICAgICAvL+ivleWQrOmfs+mikeWQjVxuICAgICAgICAgICAgICAgIHRyeV9maWxlX25hbWU6IHRyeUF1ZGlvTmFtZSxcbiAgICAgICAgICAgICAgICAvLyAgIOaXpeetvuWbvueJh+WcsOWdgFxuICAgICAgICAgICAgICAgIHNpZ25fdXJsOiBpbWFnZTJVcmwsXG4gICAgICAgICAgICAgICAgLy/ku5jotLnku7fmoLxcbiAgICAgICAgICAgICAgICBwaWVjZV9wcmljZTogcmVzUHJpemUsXG4gICAgICAgICAgICAgICAgLy/kuIrmnrbml7bpl7RcbiAgICAgICAgICAgICAgICBzdGFydF9hdDogc3RhcnRBdCxcbiAgICAgICAgICAgICAgICAvL2lkXG4gICAgICAgICAgICAgICAgaWQ6IEdldFF1ZXJ5U3RyaW5nKCdpZCcpIHx8IG51bGxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8v5raI5oGv5o6o6YCBXG4gICAgICAgICAgICB2YXIgcHVzaFN0YXRlID0gJCgnI3NlcnZpY2VUb2dnbGUgOnJhZGlvOmNoZWNrZWQnKS52YWwoKTtcbiAgICAgICAgICAgIGlmKHB1c2hTdGF0ZSl7Ly/lpoLmnpzmnInmtojmga/mjqjpgIHmnYPpmZBcbiAgICAgICAgICAgICAgICByZXNJbmZvLnB1c2hfc3RhdGUgPSBwdXNoU3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL+aYr+WQpuS7mOi0ue+8iDHooajnpLrlhY3otLnvvIwy6KGo56S65Y2V56yU77yJXG4gICAgICAgICAgICBpZihyZXNvdXJjZUZyZWUpIHtcbiAgICAgICAgICAgICAgICByZXNJbmZvLnBheW1lbnRfdHlwZSA9IHJlc291cmNlRnJlZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNJbmZvKTtcbiAgICAgICAgICAgIC8v6I635Y+W6KGo5Y2V5Lit55qE5pWw5o2uXG5cbiAgICAgICAgICAgIGlmIChjaGVja0F1ZGlvRm9ybShyZXNJbmZvKSkge1xuICAgICAgICAgICAgICAgIHZhciBhbGxQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczogcmVzSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogcmVzb3VyY2VUeXBlLFxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRfY2hhbm5lbF90eXBlOiB1cGxvYWRDaGFubmVsVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcGFja2FnZV9pZDogcGFja2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV9wYXJhbXM6IHJlc291cmNlUGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBwYWNrYWdlX25hbWU6IHBhY2thZ2VOYW1lLFxuICAgICAgICAgICAgICAgICAgICByb2xlUGFyYW1zOiByb2xlUGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeV90eXBlOmNsYXNzQXJyYXlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHN1Ym1pdEZvcm0oZ29sYmFsVXJsLGFsbFBhcmFtcyk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBtYW5hZ2VBdWRpbztcbn0oKTsiXX0=
