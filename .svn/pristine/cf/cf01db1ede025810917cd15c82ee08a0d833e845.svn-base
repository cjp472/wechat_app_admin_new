var newaAvatar="";function getObjectURL(e){var n=null;if(window.createObjectURL!=undefined){n=window.createObjectURL(e)}else if(window.URL!=undefined){n=window.URL.createObjectURL(e)}else if(window.webkitURL!=undefined){n=window.webkitURL.createObjectURL(e)}return n}function removeObjectURL(e){if(window.revokeObjectURL!=undefined){window.revokeObjectURL(e)}else if(window.URL!=undefined){window.URL.revokeObjectURL(e)}else if(window.webkitURL!=undefined){window.webkitURL.revokeObjectURL(e)}}function resUpload(e,n,i){console.log(e);if(e&&e.length>0){var r=e[0],s=getObjectURL(r);if($uploadFile.checkFileSize(r,i)){$uploadFile.uploadRes(r,n,function(e){},function(e){console.log(e);baseUtils.show.blueTip("上传成功！");var i=e.data.access_url;newaAvatar=i;console.log(i);$("#imgUrl").val(i);if(n=="image"){$(".avatarIcon").load(function(){removeObjectURL(s)}).attr("src",s)}},function(e){console.error("上传失败!!!");console.log(e);baseUtils.show.redTip("上传失败！")})}else{baseUtils.show.redTip("上传资源限制在"+i+"MB内！");$("#upLoadImage").val("")}}else{baseUtils.show.redTip("网络错误，请稍后再试！")}}$(function(){var e=false;$("#uploadImage").on("change",function(){resUpload(this.files,"image",5)});$("#saveAnswererInfo").click(function(){if(e){console.log("正在提交中，不能重复提交");return false}var r=$.trim($("#responderName").val()),s=$.trim($("#responderPhone").val()),t=$.trim($("#responderPosition").val()),a=$.trim($("#responderSummary").val()),o=$.trim($("#responderPrice").val()),l=$.trim($("#sharerTrader").val()),d=$.trim($("#sharerResponder").val());if(r.length==0){baseUtils.show.redTip("答主姓名不能为空");return false}if(s.length==0){baseUtils.show.redTip("答主手机号码不能为空");return false}if(t.length==0){baseUtils.show.redTip("答主职位/头衔不能为空");return false}if(a.length==0){baseUtils.show.redTip("答主简介不能为空");return false}if(i(a)>128){baseUtils.show.redTip("答主简介输入字符长度不能超过128字符（1个中文按两个字符计算）");return false}if(o.length==0){baseUtils.show.redTip("提问价格不能为空");return false}if(o<.1){baseUtils.show.redTip("提问价格不能低于0.1元");return false}if(o>1e3){baseUtils.show.redTip("价格不能大于 "+1e4+" 元");return false}if(l.length==0||d.length==0){baseUtils.show.redTip("提问分成不能为空");return false}var w=+l+ +d;if(w!=100){baseUtils.show.redTip("商家、答主，二者分成总和必须等于100%");return false}var f={answerer_id:GetQueryString("answerer_id"),answerer_name:r,phone:s,position:t,summary:a,price:o*100,profit_business:l,profit_answer:d};if(newaAvatar){f.answerer_avatar=newaAvatar}showLoading();$.ajax("/QA/saveAnswerer",{type:"POST",dataType:"json",data:f,success:function(e){var i=Date.parse(new Date);hideLoading();if(e.code==0){var r=GetQueryString("state");if(r==1){$.alert("已保存，是否上线答主？","info",{btn:3,oktext:"立即上线",canceltext:"暂不上线",onCancel:function(){window.location.href="/QA/questionAndAnswerDetail?page_type=1&set=answerer"},onClose:function(){window.location.href="/QA/questionAndAnswerDetail?page_type=1&set=answerer"},onOk:function(){n()}})}else{baseUtils.show.blueTip("保存成功");window.location.href="/QA/questionAndAnswerDetail?page_type=1&set=answerer"}}else{console.log(e);baseUtils.show.redTip("网络错误，请稍后再试！")}},error:function(e,n,i){hideLoading();console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})});function n(){$.ajax("/QA/changeAnswererState",{type:"POST",dataType:"json",data:{answerer_id:GetQueryString("answerer_id"),state:0},success:function(e){if(e.code==0){baseUtils.show.blueTip("答主上线成功");window.location.href="/QA/questionAndAnswerDetail?page_type=1"}else{baseUtils.show.redTip("网络错误，请稍后再试！");return false}},error:function(e,n,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})}function i(e){var n=e.replace(/[^\x00-\xff]/g,"**").length;return n}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXRBbnN3ZXJlci5qcyJdLCJuYW1lcyI6WyJuZXdhQXZhdGFyIiwiZ2V0T2JqZWN0VVJMIiwiZmlsZSIsInVybCIsIndpbmRvdyIsImNyZWF0ZU9iamVjdFVSTCIsInVuZGVmaW5lZCIsIlVSTCIsIndlYmtpdFVSTCIsInJlbW92ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsInJlc1VwbG9hZCIsImZpbGVzIiwicmVzVHlwZSIsInJlc0xpbWl0U2l6ZSIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJyZXNvdXJjZUxvY2FsVXJsIiwiJHVwbG9hZEZpbGUiLCJjaGVja0ZpbGVTaXplIiwidXBsb2FkUmVzIiwiZGF0YSIsImJhc2VVdGlscyIsInNob3ciLCJibHVlVGlwIiwicmVzVXJsIiwiYWNjZXNzX3VybCIsIiQiLCJ2YWwiLCJsb2FkIiwiYXR0ciIsImVycm9yIiwicmVkVGlwIiwic3VibWl0TGltaXQiLCJvbiIsInRoaXMiLCJjbGljayIsIm5hbWUiLCJ0cmltIiwicGhvbmVOdW0iLCJwb3NpdGlvbiIsInN1bW1hcnkiLCJwcmljZSIsInNoYXJlclRyYWRlciIsInNoYXJlclJlc3BvbmRlciIsImNoRW5Xb3JkQ291bnQiLCJzdW0iLCJwYXJhbXMiLCJhbnN3ZXJlcl9pZCIsIkdldFF1ZXJ5U3RyaW5nIiwiYW5zd2VyZXJfbmFtZSIsInBob25lIiwicHJvZml0X2J1c2luZXNzIiwicHJvZml0X2Fuc3dlciIsImFuc3dlcmVyX2F2YXRhciIsInNob3dMb2FkaW5nIiwiYWpheCIsInR5cGUiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJ0aW1lc3RhbXAiLCJEYXRlIiwicGFyc2UiLCJoaWRlTG9hZGluZyIsImNvZGUiLCJzdGF0ZSIsImFsZXJ0IiwiYnRuIiwib2t0ZXh0IiwiY2FuY2VsdGV4dCIsIm9uQ2FuY2VsIiwibG9jYXRpb24iLCJocmVmIiwib25DbG9zZSIsIm9uT2siLCJzaG93QW5zd2VyZXIiLCJ4aHIiLCJzdGF0dXMiLCJlcnIiLCJz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QU9vRSxTQUFTQyxLQUFPLDREQUd4QixDQUNIMUQsUUFBUUMsSUFBSU0sRUFDWkMsV0FBVUMsS0FBS1MsT0FBTyxpQkFHOUJELE1BQU8sU0FBVTZDLEVBQUtDLEVBQVFDLEdBQzFCZixhQUNBakQsU0FBUUMsSUFBSStELEVBQ1p4RCxXQUFVQyxLQUFLUyxPQUFPLG1CQU9sQyxTQUFTMkMsS0FFTGhELEVBQUU2QixLQUFLLDJCQUNIQyxLQUFNLE9BQ05DLFNBQVUsT0FDVnJDLE1BQ0kyQixZQUFhQyxlQUFlLGVBQzVCZ0IsTUFBTyxHQUVYTixRQUFTLFNBQVV0QyxHQUNmLEdBQUlBLEVBQUsyQyxNQUFRLEVBQUcsQ0FDaEIxQyxVQUFVQyxLQUFLQyxRQUFRLFNBQ3ZCckIsUUFBT29FLFNBQVNDLEtBQU8sOENBQ3BCLENBQ0hsRCxVQUFVQyxLQUFLUyxPQUFPLGNBQ3RCLE9BQU8sU0FHZkQsTUFBTyxTQUFVNkMsRUFBS0MsRUFBUUMsR0FDMUJoRSxRQUFRQyxJQUFJK0QsRUFDWnhELFdBQVVDLEtBQUtTLE9BQU8sa0JBU2xDLFFBQVNhLEdBQWNrQyxHQUNuQixHQUFJQyxHQUFRRCxFQUFJRSxRQUFRLGdCQUFnQixNQUFNakUsTUFDOUMsT0FBT2dFIiwiZmlsZSI6ImVkaXRBbnN3ZXJlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFkbWluaXN0cmF0b3Igb24gMjAxNy81LzEwLlxyXG4gKi9cclxuXHJcbnZhciBuZXdhQXZhdGFyID0gJyc7XHJcbmZ1bmN0aW9uIGdldE9iamVjdFVSTChmaWxlKSB7XHJcbiAgICB2YXIgdXJsID0gbnVsbDtcclxuICAgIGlmICh3aW5kb3cuY3JlYXRlT2JqZWN0VVJMICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHVybCA9IHdpbmRvdy5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5VUkwgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy53ZWJraXRVUkwgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdXJsID0gd2luZG93LndlYmtpdFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdXJsO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVtb3ZlT2JqZWN0VVJMKHVybCkgey8v6YeK5pS+6LWE5rqQVVJMXHJcbiAgICBpZiAod2luZG93LnJldm9rZU9iamVjdFVSTCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICB3aW5kb3cucmV2b2tlT2JqZWN0VVJMKHVybCk7XHJcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5VUkwgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgIH0gZWxzZSBpZiAod2luZG93LndlYmtpdFVSTCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICB3aW5kb3cud2Via2l0VVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog6LWE5rqQ5LiK5Lyg5Ye95pWwKOWPguaVsO+8mnJlc1R5cGU66LWE5rqQ57G75Z6LLHJlc1R5cGVDbGFzczrotYTmupDnsbvlnovkuK3nu4bliIbnmoTnp43nsbsscmVzTGltaXRTaXplOui1hOa6kOmZkOWItuWkp+WwjylcclxuICovXHJcbmZ1bmN0aW9uIHJlc1VwbG9hZChmaWxlcywgcmVzVHlwZSwgcmVzTGltaXRTaXplKSB7XHJcbiAgICBjb25zb2xlLmxvZyhmaWxlcyk7XHJcbiAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF0sXHJcbiAgICAgICAgICAgIHJlc291cmNlTG9jYWxVcmwgPSBnZXRPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgLy8g6ZmQ5Yi26LWE5rqQ5ZyoKk1C5YaFXHJcbiAgICAgICAgaWYgKCR1cGxvYWRGaWxlLmNoZWNrRmlsZVNpemUoZmlsZSwgcmVzTGltaXRTaXplKSkge1xyXG4gICAgICAgICAgICAkdXBsb2FkRmlsZS51cGxvYWRSZXMoZmlsZSwgcmVzVHlwZSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvLyDkuIrkvKDmiJDlip/lm57osINcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuS4iuS8oOaIkOWKn++8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzVXJsID0gZGF0YS5kYXRhLmFjY2Vzc191cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3YUF2YXRhciA9IHJlc1VybDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNVcmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjaW1nVXJsXCIpLnZhbChyZXNVcmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr+WbvueJh+i1hOa6kO+8jOWImeWxleekuuWbvueJh+mihOiniFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNUeXBlID09ICdpbWFnZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/nm7TmjqXliqDovb3mnKzlnLDlm77niYfov5vooYzpooTop4hcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5hdmF0YXJJY29uXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubG9hZChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT2JqZWN0VVJMKHJlc291cmNlTG9jYWxVcmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwic3JjXCIsIHJlc291cmNlTG9jYWxVcmwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8vIOS4iuS8oOWksei0peWbnuiwg1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5LiK5Lyg5aSx6LSlISEhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS4iuS8oOWksei0pe+8gVwiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS4iuS8oOi1hOa6kOmZkOWItuWcqFwiICsgcmVzTGltaXRTaXplICsgXCJNQuWGhe+8gVwiKTtcclxuICAgICAgICAgICAgJChcIiN1cExvYWRJbWFnZVwiKS52YWwoXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgc3VibWl0TGltaXQgPSBmYWxzZTtcclxuXHJcblxyXG4gICAgJChcIiN1cGxvYWRJbWFnZVwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVzVXBsb2FkKHRoaXMuZmlsZXMsIFwiaW1hZ2VcIiwgNSk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgJChcIiNzYXZlQW5zd2VyZXJJbmZvXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgaWYgKHN1Ym1pdExpbWl0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5q2j5Zyo5o+Q5Lqk5Lit77yM5LiN6IO96YeN5aSN5o+Q5LqkXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbmFtZSA9ICQudHJpbSgkKFwiI3Jlc3BvbmRlck5hbWVcIikudmFsKCkpLFxyXG4gICAgICAgICAgICBwaG9uZU51bSA9ICQudHJpbSgkKFwiI3Jlc3BvbmRlclBob25lXCIpLnZhbCgpKSxcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAkLnRyaW0oJChcIiNyZXNwb25kZXJQb3NpdGlvblwiKS52YWwoKSksXHJcbiAgICAgICAgICAgIHN1bW1hcnkgPSAkLnRyaW0oJChcIiNyZXNwb25kZXJTdW1tYXJ5XCIpLnZhbCgpKSxcclxuICAgICAgICAgICAgcHJpY2UgPSAkLnRyaW0oJChcIiNyZXNwb25kZXJQcmljZVwiKS52YWwoKSksXHJcblxyXG4gICAgICAgICAgICBzaGFyZXJUcmFkZXIgPSAkLnRyaW0oJChcIiNzaGFyZXJUcmFkZXJcIikudmFsKCkpLFxyXG4gICAgICAgICAgICBzaGFyZXJSZXNwb25kZXIgPSAkLnRyaW0oJChcIiNzaGFyZXJSZXNwb25kZXJcIikudmFsKCkpO1xyXG5cclxuICAgICAgICBpZiAobmFtZS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnrZTkuLvlp5PlkI3kuI3og73kuLrnqbpcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBob25lTnVtLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuetlOS4u+aJi+acuuWPt+eggeS4jeiDveS4uuepulwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocG9zaXRpb24ubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi562U5Li76IGM5L2NL+WktOihlOS4jeiDveS4uuepulwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3VtbWFyeS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnrZTkuLvnroDku4vkuI3og73kuLrnqbpcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoRW5Xb3JkQ291bnQoc3VtbWFyeSkgPiAxMjgpIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi562U5Li7566A5LuL6L6T5YWl5a2X56ym6ZW/5bqm5LiN6IO96LaF6L+HMTI45a2X56ym77yIMeS4quS4reaWh+aMieS4pOS4quWtl+espuiuoeeul++8iVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJpY2UubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5o+Q6Zeu5Lu35qC85LiN6IO95Li656m6XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcmljZSA8IDAuMSkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmj5Dpl67ku7fmoLzkuI3og73kvY7kuo4wLjHlhYNcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByaWNlID4gMTAwMCkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLku7fmoLzkuI3og73lpKfkuo4gXCIgKyAxMDAwMCArIFwiIOWFg1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hhcmVyVHJhZGVyLmxlbmd0aCA9PSAwIHx8IHNoYXJlclJlc3BvbmRlci5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmj5Dpl67liIbmiJDkuI3og73kuLrnqbpcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHN1bSA9ICtzaGFyZXJUcmFkZXIgKyArc2hhcmVyUmVzcG9uZGVyO1xyXG4gICAgICAgIGlmIChzdW0gIT0gMTAwKSB7XHJcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWVhuWutuOAgeetlOS4u++8jOS6jOiAheWIhuaIkOaAu+WSjOW/hemhu+etieS6jjEwMCVcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBwYXJhbXMgPSB7XHJcbiAgICAgICAgICAgIGFuc3dlcmVyX2lkOkdldFF1ZXJ5U3RyaW5nKFwiYW5zd2VyZXJfaWRcIiksXHJcbiAgICAgICAgICAgIGFuc3dlcmVyX25hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIHBob25lOiBwaG9uZU51bSxcclxuICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxyXG4gICAgICAgICAgICBzdW1tYXJ5OiBzdW1tYXJ5LFxyXG4gICAgICAgICAgICBwcmljZTogcHJpY2UgKiAxMDAsXHJcblxyXG4gICAgICAgICAgICBwcm9maXRfYnVzaW5lc3M6IHNoYXJlclRyYWRlcixcclxuICAgICAgICAgICAgcHJvZml0X2Fuc3dlcjogc2hhcmVyUmVzcG9uZGVyLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmKG5ld2FBdmF0YXIpe1xyXG4gICAgICAgICAgICBwYXJhbXMuYW5zd2VyZXJfYXZhdGFyID0gbmV3YUF2YXRhcjtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocGFyYW1zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICAkLmFqYXgoXCIvUUEvc2F2ZUFuc3dlcmVyXCIsIHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgZGF0YTogcGFyYW1zLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpbWVzdGFtcCA9IERhdGUucGFyc2UobmV3IERhdGUoKSk7XHJcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gR2V0UXVlcnlTdHJpbmcoXCJzdGF0ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gMSkgeyAgIC8v5LiL57q/54q25oCBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLlt7Lkv53lrZjvvIzmmK/lkKbkuIrnur/nrZTkuLvvvJ9cIiwgXCJpbmZvXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rdGV4dDogXCLnq4vljbPkuIrnur9cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbHRleHQ6IFwi5pqC5LiN5LiK57q/XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvUUEvcXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWw/cGFnZV90eXBlPTEmc2V0PWFuc3dlcmVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvUUEvcXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWw/cGFnZV90eXBlPTEmc2V0PWFuc3dlcmVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dBbnN3ZXJlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcCgn5L+d5a2Y5oiQ5YqfJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvUUEvcXVlc3Rpb25BbmRBbnN3ZXJEZXRhaWw/cGFnZV90eXBlPTEmc2V0PWFuc3dlcmVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcclxuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNob3dBbnN3ZXJlcigpIHtcclxuXHJcbiAgICAgICAgJC5hamF4KFwiL1FBL2NoYW5nZUFuc3dlcmVyU3RhdGVcIiwge1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBhbnN3ZXJlcl9pZDogR2V0UXVlcnlTdHJpbmcoXCJhbnN3ZXJlcl9pZFwiKSxcclxuICAgICAgICAgICAgICAgIHN0YXRlOiAwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKCfnrZTkuLvkuIrnur/miJDlip8nKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1FBL3F1ZXN0aW9uQW5kQW5zd2VyRGV0YWlsP3BhZ2VfdHlwZT0xXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuK3oi7Hmlofnu5/orqEo5LiA5Liq5Lit5paH566X5Lik5Liq5a2X56ymKVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBjaEVuV29yZENvdW50KHN0cil7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gc3RyLnJlcGxhY2UoL1teXFx4MDAtXFx4ZmZdL2csXCIqKlwiKS5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgfTtcclxuXHJcblxyXG59KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl19
