$(function(){manageAlive.init()});var manageAlive=function(){var e={};var a;function r(e){if($formCheck.emptyString(e.title)){baseUtils.show.redTip("直播名称不能为空！");return false}if($formCheck.emptyString(e.summary)){baseUtils.show.redTip("直播简介不能为空！");return false}if(e.alive_type==1&&fileId==null){baseUtils.show.redTip("请上传直播资源！");return false}if(is_edit){baseUtils.show.redTip("直播资源上传中！");return false}if($formCheck.emptyString(e.img_url)){baseUtils.show.redTip("请上传您的直播封面！");return false}if($formCheck.emptyString(e.start_at)){baseUtils.show.redTip("请填入您的直播上架时间！");return false}if($formCheck.emptyString(e.zb_start_at)){baseUtils.show.redTip("请填入您的直播开始时间！");return false}if($formCheck.emptyString(e.zb_stop_at)){baseUtils.show.redTip("请填入您的直播结束时间！");return false}if(!$formCheck.checkTime(e.start_at)){baseUtils.show.redTip("直播上架时间错误");return false}if(!$formCheck.checkTime(e.zb_start_at)){baseUtils.show.redTip("直播开始时间错误");return false}if(!$formCheck.checkTime(e.zb_stop_at)){baseUtils.show.redTip("直播结束时间错误");return false}if(uploadChannelType==1&&e.payment_type==2&&$formCheck.emptyString(e.piece_price)){baseUtils.show.redTip("您选择的付费形式为付费，请输入价格！");return false}if(uploadChannelType==1&&e.payment_type==2&&!$formCheck.checkNum(e.piece_price)){baseUtils.show.redTip("您的价格输入格式有误，请重新输入！");return false}if(uploadChannelType==1&&e.payment_type==2&&e.piece_price>baseUtils.maxInputPrice*100){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}if(!$formCheck.checkTimeOrder(e.zb_start_at,e.zb_stop_at)){baseUtils.show.redTip("直播结束时间必须大于直播开始时间！");return false}return true}function t(e,a){showLoading();$.ajax(e,{type:"POST",dataType:"json",data:a,success:function(e){if(parseInt(e.code)===0){baseUtils.show.blueTip("保存成功");window.location.href=backURL}else{hideLoading();baseUtils.show.redTip(e.msg);submitLimt=false}},error:function(e,a,r){hideLoading();console.error(r);baseUtils.show.redTip("网络错误，请稍后再试！");submitLimt=false}})}var i="";var s;var l;var n;classArray=[];var o;var c;var m;var d;function p(){$("#searchInput").val("");$(".memberPart").remove();$(".darkScreen").fadeOut(300)}e.init=function(){aliveTimeConfig("#zb_start_at");aliveTimeConfig("#zb_stop_at");$(".memberClassAdd").click(function(){i="";$(".eachLineContent").append("<div class='eachLine'>"+"<div class='memberName'>点击添加</div>"+"<input type='text' class='inputDefault memberCall' value='讲师'>"+"<div class='memberClear'>清空</div>"+"<input type='hidden' class='userId' />"+"<div class='btnLine'></div>"+"<div class='memberClassDelete'>删除</div>"+"</div>")});$(".eachLineContent").on("click",".memberClassDelete",function(){$(this).prev().prev().click();$(this).parent().remove()});$(".eachLineContent").on("click",".memberName",function(){l=$(".memberName").index($(this));console.log($(".memberName").eq(l).text());if($(".memberName").eq(l).text()=="点击添加"){console.log(l);c="";var e=" <p class='search_none'>暂无搜索结果，已成为讲师的用户可以在直播间快速邀请好友成为讲师</p>";$(".darkScreen").find(".memberList").html(e);$(".darkScreen").show()}});$(".eachLineContent").on("click",".memberClear",function(){var e=$(".memberClear").index($(this));$(".memberName").eq(e).text("点击添加");$(".memberCall").eq(e).val("讲师");$(".userId").eq(e).val("")});$(".boxCancel,.userSelectBoxClose").click(function(){p()});$(".memberList").on("click",".memberPart",function(){$(this).find("input").prop("checked",true);i=$(this).attr("id");console.log(i);s=$(this).find(".memberNickName").text()});$(".boxConfirm").click(function(){console.log(i);if(i==""){baseUtils.show.redTip("亲,请选择人哦~");return false}else{$(".userId").each(function(e){if($(this).val()==i){n=true}})}if(n){baseUtils.show.redTip("亲，请勿重复选择人员哦~");n=false;return false}if(i==""){baseUtils.show.redTip("亲，请选择人员哦~")}else{n=false;$(".memberName").eq(l).html(s);$(".userId").eq(l).val(i);i="";p()}});$("#searchInput").on("keypress",function(e){if(e.keyCode==13){$(".memberSearchBtn").click()}});$(".memberSearchBtn").click(function(){isDown=false;c=$("#searchInput").val();o=1;if(c.length==0){baseUtils.show.redTip("请输入搜索内容！");return false}e()});function e(){d=true;$("#loadingRefund").show();$.get("/zbsearch",{search:c,page:o},function(e){console.log(e);var a="",r=$(".memberList");if(e.data.length==0){$("#loadingRefund").fadeOut(100);a+='<div class="contentNoneTip">暂无数据</div>';r.html(a)}else{for(var t=0;t<e.data.length;t++){a+="<div class='memberPart' id='"+e.data[t].user_id+"'> "+"<div class='memberCheck'> <input class='with-gap' name='group10' type='radio' id='test"+t+"'/> "+"<label for='test"+t+"'></label> </div> "+"<div class='memberlogo'> <div class='memberImage'><img src="+e.data[t].wx_avatar+" alt=''>"+"</div> <div class='memberNickName'>"+e.data[t].wx_nickname+"</div> </div>"+"<div class='memberSex'>"+e.data[t].wx_gender+"</div>"+"<div class='memberPhone'>"+e.data[t].phone+"</div>"+" </div>"}$("#loadingRefund").fadeOut(100);if(o==1){r.html(a);r.append('<div class="hasDown">资源加载中...</div>')}else{r.find(".hasDown").before(a)}if(e.page_offset.current_page>=e.page_offset.total_pages){r.find(".hasDown").html("数据加载完毕。");isDown=true}d=false;o++}})}$(".darkScreen .memberListWrapper").scroll(function(a){var r=$(".memberList").height(),t=$(this).height(),i=$(this).scrollTop();if(i+t>=r-5&&!isDown&&!d){e()}});$(".completeBtn").click(function(){var e=$.trim($(".resName").val());var a=$.trim($("#aliveAbstract").val());var i=aliveT;var s=fileId;var l=$.trim($("#zb_start_at").val());var n=$.trim($("#zb_stop_at").val());var o=videoGsize;var c=$.trim($("#Image1Url").val());var m=$.trim($("#Image3Url").val());var d=UE.getEditor("resource_desc");var p=d.getContent();var f=d.getPlainTxt();if(f.length==0){baseUtils.show.redTip("描述不能为空!");return false}var u=$.trim($(".resPrize").val())*100;$('input[name="aliveClass"]:checked').each(function(){classArray.push($(this).attr("id"))});console.log(classArray);var h=aliveState;var v=$.trim($("#dateInput").val());for(var b=0,_=0;b<$(".eachLine").length;b++){var g={};g["role_name"]=$(".memberCall").eq(b).val().trim();g["user_name"]=$(".memberName").eq(b).html().trim();g["user_id"]=$(".userId").eq(b).val().trim();if(g["user_id"].length!=0){roleParams[_]=g;_++}}var k={title:e,summary:a,alive_type:i,img_url:c,alive_img_url:m,file_name:VideoName,zb_start_at:l,zb_stop_at:n,descrb:f,org_content:p,piece_price:u,state:h,start_at:v,id:GetQueryString("id")||null};var y={public_video:s,public_size_text:o};if(resourceFree){k.payment_type=resourceFree}k.if_push=if_push;if(if_push==0||if_push==1){k.push_ahead=push_ahead}if(r(k)){var T={params:k,resource_type:resourceType,upload_channel_type:uploadChannelType,package_id:packageId,resource_params:y,package_name:packageName,roleParams:roleParams,category_type:classArray};t(golbalUrl,T);console.log(T)}else{return false}})};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL3Jlc01hbmFnZS9tYW5hZ2VBbGl2ZS5qcyJdLCJuYW1lcyI6WyIkIiwibWFuYWdlQWxpdmUiLCJpbml0IiwicmVzVXJsIiwiY2hlY2tBbGl2ZUZvcm0iLCJpbmZvIiwiJGZvcm1DaGVjayIsImVtcHR5U3RyaW5nIiwidGl0bGUiLCJiYXNlVXRpbHMiLCJzaG93IiwicmVkVGlwIiwic3VtbWFyeSIsImFsaXZlX3R5cGUiLCJmaWxlSWQiLCJpc19lZGl0IiwiaW1nX3VybCIsInN0YXJ0X2F0IiwiemJfc3RhcnRfYXQiLCJ6Yl9zdG9wX2F0IiwiY2hlY2tUaW1lIiwidXBsb2FkQ2hhbm5lbFR5cGUiLCJwYXltZW50X3R5cGUiLCJwaWVjZV9wcmljZSIsImNoZWNrTnVtIiwibWF4SW5wdXRQcmljZSIsImNoZWNrVGltZU9yZGVyIiwic3VibWl0Rm9ybSIsInVybCIsImFsbFBhcmFtcyIsInNob3dMb2FkaW5nIiwiYWpheCIsInR5cGUiLCJkYXRhVHlwZSIsImRhdGEiLCJzdWNjZXNzIiwicGFyc2VJbnQiLCJjb2RlIiwiYmx1ZVRpcCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImJhY2tVUkwiLCJoaWRlTG9hZGluZyIsIm1zZyIsInN1Ym1pdExpbXQiLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsImNvbnNvbGUiLCJub3dVc2VyaWQiLCJub3dVc2VyTmFtZSIsImFkZEluZGV4Iiwic2FtZUlkIiwiY2xhc3NBcnJheSIsInBhZ2UiLCJzZWFjaGVyIiwiaGFzRG93biIsImlzTG9hZGluZyIsImJveENvbnRlbnRSZXNldCIsInZhbCIsInJlbW92ZSIsImZhZGVPdXQiLCJhbGl2ZVRpbWVDb25maWciLCJjbGljayIsImFwcGVuZCIsIm9uIiwidGhpcyIsInByZXYiLCJwYXJlbnQiLCJpbmRleCIsImxvZyIsImVxIiwidGV4dCIsInN0ciIsImZpbmQiLCJodG1sIiwidGVtcEluZGV4IiwicHJvcCIsImF0dHIiLCJlYWNoIiwiaSIsImUiLCJrZXlDb2RlIiwiaXNEb3duIiwibGVuZ3RoIiwiZ2V0VXNlckxpc3QiLCJnZXQiLCJzZWFyY2giLCIkYXJlYSIsInVzZXJfaWQiLCJ3eF9hdmF0YXIiLCJ3eF9uaWNrbmFtZSIsInd4X2dlbmRlciIsInBob25lIiwiYmVmb3JlIiwicGFnZV9vZmZzZXQiLCJjdXJyZW50X3BhZ2UiLCJ0b3RhbF9wYWdlcyIsInNjcm9sbCIsIkRpdkhlaWdodCIsImhlaWdodCIsIlNjcm9sbEhlaWdodCIsIlNjcm9sbFRvcCIsInNjcm9sbFRvcCIsInRyaW0iLCJhbGl2ZVR5cGUiLCJhbGl2ZVQiLCJBbGl2ZUZpbGVJZCIsInpiU3RhcnRBdCIsInpiRW5kQXQiLCJBbGl2ZVNpemUiLCJ2aWRlb0dzaXplIiwiaW1hZ2UxVXJsIiwiaW1hZ2UzVXJsIiwidWUiLCJVRSIsImdldEVkaXRvciIsIm9yZ0NvbnRlbnQiLCJnZXRDb250ZW50IiwiZGVzY3JpYiIsImdldFBsYWluVHh0IiwicmVzUHJpemUiLCJwdXNoIiwic3RhdGUiLCJhbGl2ZVN0YXRlIiwic3RhcnRBdCIsImoiLCJ0bXAiLCJyb2xlUGFyYW1zIiwicmVzSW5mbyIsImFsaXZlX2ltZ191cmwiLCJmaWxlX25hbWUiLCJWaWRlb05hbWUiLCJkZXNjcmIiLCJvcmdfY29udGVudCIsImlkIiwiR2V0UXVlcnlTdHJpbmciLCJyZXNvdXJjZVBhcmFtcyIsInB1YmxpY192aWRlbyIsInB1YmxpY19zaXplX3RleHQiLCJyZXNvdXJjZUZyZWUiLCJpZl9wdXNoIiwicHVzaF9haGVhZCIsInBhcmFtcyIsInJlc291cmNlX3R5cGUiLCJyZXNvdXJjZVR5cGUiLCJ1cGxvYWRfY2hhbm5lbF90eXBlIiwicGFja2FnZV9pZCIsInBhY2thZ2VJZCIsInJlc291cmNlX3BhcmFtcyIsInBhY2thZ2VfbmFtZSIsInBhY2thZ2VOYW1lIiwiY2F0ZWdvcnlfdHlwZSIsImdvbGJhbFVybCJdLCJtYXBwaW5ncyI6IkFBSUFBLEVBQUUsV0FDRUMsWUFBWUMsUUFFaEIsSUFBSUQsYUFBYyxXQUNk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WjNGLFdBQVc0RixFQU1Yd0IsT0FBUWQsRUFFUmUsWUFBYWpCLEVBRWJoRyxZQUFhb0csRUFFYkUsTUFBTUEsRUFFTjVHLFNBQVU4RyxFQUVWVSxHQUFJQyxlQUFlLE9BQVMsS0FHaEMsSUFBSUMsSUFFQUMsYUFBYy9CLEVBRWRnQyxpQkFBa0I3QixFQUd0QixJQUFHOEIsYUFBYyxDQUNiWCxFQUFRN0csYUFBZXdILGFBSTNCWCxFQUFRWSxRQUFVQSxPQUNsQixJQUFHQSxTQUFTLEdBQUtBLFNBQVMsRUFBRSxDQUN4QlosRUFBUWEsV0FBYUEsV0FJekIsR0FBSTVJLEVBQWUrSCxHQUFVLENBQ3pCLEdBQUl0RyxJQUNBb0gsT0FBUWQsRUFDUmUsY0FBZUMsYUFDZkMsb0JBQXFCL0gsa0JBQ3JCZ0ksV0FBWUMsVUFDWkMsZ0JBQWlCWixFQUNqQmEsYUFBY0MsWUFDZHZCLFdBQVlBLFdBQ1p3QixjQUFjbkcsV0FFbEI1QixHQUFXZ0ksVUFBVzlILEVBQ3RCcUIsU0FBUXNCLElBQUkzQyxPQUNULENBQ0gsTUFBTyxVQUtuQixPQUFPNUIiLCJmaWxlIjoiYWRtaW4vcmVzTWFuYWdlL21hbmFnZUFsaXZlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGpzZXJrIG9uIDIwMTcvMy8yMy5cbiAqL1xuXG4kKGZ1bmN0aW9uICgpIHtcbiAgICBtYW5hZ2VBbGl2ZS5pbml0KCk7XG59KTtcbnZhciBtYW5hZ2VBbGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbWFuYWdlQWxpdmUgPSB7fTtcblxuICAgIHZhciByZXNVcmw7XG5cbiAgICAvL+ajgOafpeebtOaSreaPkOS6pOihqOWNlVxuICAgIGZ1bmN0aW9uIGNoZWNrQWxpdmVGb3JtKGluZm8pIHtcbiAgICAgICAgaWYgKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby50aXRsZSkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuebtOaSreWQjeensOS4jeiDveS4uuepuu+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLnN1bW1hcnkpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnm7Tmkq3nroDku4vkuI3og73kuLrnqbrvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZm8uYWxpdmVfdHlwZT09MSYmKGZpbGVJZCA9PSBudWxsKSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35LiK5Lyg55u05pKt6LWE5rqQ77yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc19lZGl0KSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnm7Tmkq3otYTmupDkuIrkvKDkuK3vvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby5pbWdfdXJsKSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35LiK5Lyg5oKo55qE55u05pKt5bCB6Z2i77yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8uc3RhcnRfYXQpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7floavlhaXmgqjnmoTnm7Tmkq3kuIrmnrbml7bpl7TvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby56Yl9zdGFydF9hdCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+Whq+WFpeaCqOeahOebtOaSreW8gOWni+aXtumXtO+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLnpiX3N0b3BfYXQpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7floavlhaXmgqjnmoTnm7Tmkq3nu5PmnZ/ml7bpl7TvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEkZm9ybUNoZWNrLmNoZWNrVGltZShpbmZvLnN0YXJ0X2F0KSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi55u05pKt5LiK5p625pe26Ze06ZSZ6K+vXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghJGZvcm1DaGVjay5jaGVja1RpbWUoaW5mby56Yl9zdGFydF9hdCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuebtOaSreW8gOWni+aXtumXtOmUmeivr1wiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISRmb3JtQ2hlY2suY2hlY2tUaW1lKGluZm8uemJfc3RvcF9hdCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuebtOaSree7k+adn+aXtumXtOmUmeivr1wiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBsb2FkQ2hhbm5lbFR5cGU9PTEgJiYgaW5mby5wYXltZW50X3R5cGUgPT0gMiAmJiAkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8ucGllY2VfcHJpY2UpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmgqjpgInmi6nnmoTku5jotLnlvaLlvI/kuLrku5jotLnvvIzor7fovpPlhaXku7fmoLzvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwbG9hZENoYW5uZWxUeXBlPT0xICYmIGluZm8ucGF5bWVudF90eXBlID09IDIgJiYgISRmb3JtQ2hlY2suY2hlY2tOdW0oaW5mby5waWVjZV9wcmljZSkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaCqOeahOS7t+agvOi+k+WFpeagvOW8j+acieivr++8jOivt+mHjeaWsOi+k+WFpe+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZih1cGxvYWRDaGFubmVsVHlwZT09IDEgJiYgaW5mby5wYXltZW50X3R5cGU9PSAyICYmIGluZm8ucGllY2VfcHJpY2UgPiBiYXNlVXRpbHMubWF4SW5wdXRQcmljZSAqIDEwMCl7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLku7fmoLzkuI3og73lpKfkuo4gXCIgKyBiYXNlVXRpbHMubWF4SW5wdXRQcmljZSArIFwiIOWFg1wiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZighJGZvcm1DaGVjay5jaGVja1RpbWVPcmRlcihpbmZvLnpiX3N0YXJ0X2F0LGluZm8uemJfc3RvcF9hdCkpe1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi55u05pKt57uT5p2f5pe26Ze05b+F6aG75aSn5LqO55u05pKt5byA5aeL5pe26Ze077yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvL+aPkOS6pOS/oeaBr1xuICAgIGZ1bmN0aW9uIHN1Ym1pdEZvcm0odXJsLCBhbGxQYXJhbXMpIHtcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgJC5hamF4KHVybCwge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGRhdGE6YWxsUGFyYW1zLFxuICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChkYXRhLmNvZGUpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLkv53lrZjmiJDlip9cIik7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYmFja1VSTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdExpbXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocixzdGF0dXMsZXJyKSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIEnKTtcbiAgICAgICAgICAgICAgICBzdWJtaXRMaW10ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8v5b2T5YmN5re75Yqg55qE55So5oi3XG4gICAgdmFyIG5vd1VzZXJpZCA9ICcnO1xuXG4gICAgLy/pgInkuK3nlKjmiLfnmoTnlKjmiLflkI1cbiAgICB2YXIgbm93VXNlck5hbWU7XG5cbiAgICAvL+W9k+WJjemAieS4reeahOasoeW6j1xuICAgIHZhciBhZGRJbmRleDtcblxuICAgIC8v55u45ZCM5a+85biI5Yik5a6aaWRcbiAgICB2YXIgIHNhbWVJZDtcblxuICAgIC8v572u56m65YiG57G75pWw57uEXG4gICAgY2xhc3NBcnJheT1bXTtcbiAgICB2YXIgcGFnZTtcbiAgICB2YXIgc2VhY2hlciA7XG4gICAgdmFyIGhhc0Rvd24gO1xuICAgIHZhciBpc0xvYWRpbmc7XG4gICAgLy/ph43nva7lvLnlh7rmoYblhoXlrrnlubblhbPpl63lvLnlh7rmoYZcbiAgICBmdW5jdGlvbiBib3hDb250ZW50UmVzZXQoKXtcbiAgICAgICAgJChcIiNzZWFyY2hJbnB1dFwiKS52YWwoXCJcIik7XG4gICAgICAgICQoXCIubWVtYmVyUGFydFwiKS5yZW1vdmUoKTtcbiAgICAgICAgJChcIi5kYXJrU2NyZWVuXCIpLmZhZGVPdXQoMzAwKTtcbiAgICB9XG5cbiAgICBtYW5hZ2VBbGl2ZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGFsaXZlVGltZUNvbmZpZyhcIiN6Yl9zdGFydF9hdFwiKTtcbiAgICAgICAgYWxpdmVUaW1lQ29uZmlnKFwiI3piX3N0b3BfYXRcIik7XG4gICAgICAgIC8vIOa3u+WKoOiusuW4iOexu1xuICAgICAgICAkKFwiLm1lbWJlckNsYXNzQWRkXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBub3dVc2VyaWQ9Jyc7XG4gICAgICAgICAgICAkKFwiLmVhY2hMaW5lQ29udGVudFwiKS5hcHBlbmQoXCI8ZGl2IGNsYXNzPSdlYWNoTGluZSc+XCIrXG4gICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtZW1iZXJOYW1lJz7ngrnlh7vmt7vliqA8L2Rpdj5cIitcbiAgICAgICAgICAgICAgICBcIjxpbnB1dCB0eXBlPSd0ZXh0JyBjbGFzcz0naW5wdXREZWZhdWx0IG1lbWJlckNhbGwnIHZhbHVlPSforrLluIgnPlwiK1xuICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbWVtYmVyQ2xlYXInPua4heepujwvZGl2PlwiK1xuICAgICAgICAgICAgICAgIFwiPGlucHV0IHR5cGU9J2hpZGRlbicgY2xhc3M9J3VzZXJJZCcgLz5cIitcbiAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J2J0bkxpbmUnPjwvZGl2PlwiK1xuICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbWVtYmVyQ2xhc3NEZWxldGUnPuWIoOmZpDwvZGl2PlwiK1xuICAgICAgICAgICAgICAgIFwiPC9kaXY+XCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL+WIoOmZpOWvvOW4iOexu1xuICAgICAgICAkKFwiLmVhY2hMaW5lQ29udGVudFwiKS5vbihcImNsaWNrXCIsXCIubWVtYmVyQ2xhc3NEZWxldGVcIixmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnByZXYoKS5wcmV2KCkuY2xpY2soKTtcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCkucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v54K55Ye75re75YqgXG4gICAgICAgICQoXCIuZWFjaExpbmVDb250ZW50XCIpLm9uKFwiY2xpY2tcIixcIi5tZW1iZXJOYW1lXCIsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFkZEluZGV4ID0gKCQoXCIubWVtYmVyTmFtZVwiKS5pbmRleCgkKHRoaXMpKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygkKFwiLm1lbWJlck5hbWVcIikuZXEoYWRkSW5kZXgpLnRleHQoKSk7XG4gICAgICAgICAgICBpZigkKFwiLm1lbWJlck5hbWVcIikuZXEoYWRkSW5kZXgpLnRleHQoKT09XCLngrnlh7vmt7vliqBcIikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFkZEluZGV4KTtcbiAgICAgICAgICAgICAgIC8vIHBhZ2U9MTtcbiAgICAgICAgICAgICAgIC8vIHNlYWNoZXI9XCJcIiA7XG4gICAgICAgICAgICAgICAvLyBoYXNEb3duID1mYWxzZTtcbiAgICAgICAgICAgICAgICAvL2lzTG9hZGluZz1mYWxzZTtcbiAgICAgICAgICAgICAgICBzZWFjaGVyPVwiXCIgO1xuICAgICAgICAgICAgICAgIHZhciBzdHIgPVwiIDxwIGNsYXNzPSdzZWFyY2hfbm9uZSc+5pqC5peg5pCc57Si57uT5p6c77yM5bey5oiQ5Li66K6y5biI55qE55So5oi35Y+v5Lul5Zyo55u05pKt6Ze05b+r6YCf6YKA6K+35aW95Y+L5oiQ5Li66K6y5biIPC9wPlwiO1xuICAgICAgICAgICAgICAgICQoXCIuZGFya1NjcmVlblwiKS5maW5kKCcubWVtYmVyTGlzdCcpLmh0bWwoc3RyKTtcbiAgICAgICAgICAgICAgICAkKFwiLmRhcmtTY3JlZW5cIikuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvL+a4heepulxuICAgICAgICAkKFwiLmVhY2hMaW5lQ29udGVudFwiKS5vbihcImNsaWNrXCIsXCIubWVtYmVyQ2xlYXJcIixmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGVtcEluZGV4ID0gJChcIi5tZW1iZXJDbGVhclwiKS5pbmRleCgkKHRoaXMpKTtcbiAgICAgICAgICAgICQoXCIubWVtYmVyTmFtZVwiKS5lcSh0ZW1wSW5kZXgpLnRleHQoXCLngrnlh7vmt7vliqBcIik7XG4gICAgICAgICAgICAkKFwiLm1lbWJlckNhbGxcIikuZXEodGVtcEluZGV4KS52YWwoXCLorrLluIhcIik7XG4gICAgICAgICAgICAkKFwiLnVzZXJJZFwiKS5lcSh0ZW1wSW5kZXgpLnZhbChcIlwiKTtcbiAgICAgICAgfSlcblxuICAgICAgICAvL+WFs+mXreW8ueWHuuahhlxuICAgICAgICAkKFwiLmJveENhbmNlbCwudXNlclNlbGVjdEJveENsb3NlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJveENvbnRlbnRSZXNldCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL+e7meW8ueWHuuahhueUqOaIt+WIl+ihqOWtkOWNleWFg+e7keWummNsaWNr5LqL5Lu2XG4gICAgICAgICQoXCIubWVtYmVyTGlzdFwiKS5vbihcImNsaWNrXCIsIFwiLm1lbWJlclBhcnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiaW5wdXRcIikucHJvcChcImNoZWNrZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyAgICDojrflj5bpgInkuK3nlKjmiLfnmoRpZOWQjVxuICAgICAgICAgICAgbm93VXNlcmlkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobm93VXNlcmlkKTtcbiAgICAgICAgICAgIC8vICAgIOiOt+WPlumAieS4reeUqOaIt+eahOaYteensFxuICAgICAgICAgICAgbm93VXNlck5hbWUgPSAkKHRoaXMpLmZpbmQoXCIubWVtYmVyTmlja05hbWVcIikudGV4dCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL+ehruiupOa3u+WKoOiusui/sFxuICAgICAgICAkKFwiLmJveENvbmZpcm1cIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2cobm93VXNlcmlkKTtcbiAgICAgICAgICAgIGlmKG5vd1VzZXJpZD09JycpIHtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkurIs6K+36YCJ5oup5Lq65ZOmflwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgJChcIi51c2VySWRcIikuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PSBub3dVc2VyaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbWVJZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHNhbWVJZCl7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Lqy77yM6K+35Yu/6YeN5aSN6YCJ5oup5Lq65ZGY5ZOmflwiKTtcbiAgICAgICAgICAgICAgICBzYW1lSWQ9ZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3dVc2VyaWQgPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkurLvvIzor7fpgInmi6nkurrlkZjlk6Z+XCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNhbWVJZD1mYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAg6Z2i5p2/6LWL5YC8XG4gICAgICAgICAgICAgICAgICAgICQoXCIubWVtYmVyTmFtZVwiKS5lcShhZGRJbmRleCkuaHRtbChub3dVc2VyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIC8v5bim5YWldXNlcmlkXG4gICAgICAgICAgICAgICAgICAgICQoXCIudXNlcklkXCIpLmVxKGFkZEluZGV4KS52YWwobm93VXNlcmlkKTtcbiAgICAgICAgICAgICAgICAgICAgbm93VXNlcmlkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgYm94Q29udGVudFJlc2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgICQoXCIjc2VhcmNoSW5wdXRcIikub24oXCJrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgJChcIi5tZW1iZXJTZWFyY2hCdG5cIikuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAkKFwiLm1lbWJlclNlYXJjaEJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpc0Rvd24gPSBmYWxzZTtcbiAgICAgICAgICAgIHNlYWNoZXIgPSAkKFwiI3NlYXJjaElucHV0XCIpLnZhbCgpO1xuICAgICAgICAgICAgcGFnZSA9IDE7XG4gICAgICAgICAgICBpZiAoc2VhY2hlci5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+i+k+WFpeaQnOe0ouWGheWuue+8gVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRVc2VyTGlzdCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBnZXRVc2VyTGlzdCgpe1xuICAgICAgICAgICAgaXNMb2FkaW5nID10cnVlO1xuICAgICAgICAgICAgJChcIiNsb2FkaW5nUmVmdW5kXCIpLnNob3coKTtcbiAgICAgICAgICAgICQuZ2V0KFwiL3pic2VhcmNoXCIsIHtcInNlYXJjaFwiOiBzZWFjaGVyLFwicGFnZVwiOnBhZ2V9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIHZhciBzdHI9XCJcIixcbiAgICAgICAgICAgICAgICAgICAgJGFyZWEgPSAgJChcIi5tZW1iZXJMaXN0XCIpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEubGVuZ3RoID09IDApe1xuICAgICAgICAgICAgICAgICAgICAkKFwiI2xvYWRpbmdSZWZ1bmRcIikuZmFkZU91dCgxMDApO1xuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJzxkaXYgY2xhc3M9XCJjb250ZW50Tm9uZVRpcFwiPuaaguaXoOaVsOaNrjwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgICRhcmVhLmh0bWwoc3RyKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIrPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbWVtYmVyUGFydCcgaWQ9J1wiICsgZGF0YS5kYXRhW2ldLnVzZXJfaWQgKyBcIic+IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtZW1iZXJDaGVjayc+IDxpbnB1dCBjbGFzcz0nd2l0aC1nYXAnIG5hbWU9J2dyb3VwMTAnIHR5cGU9J3JhZGlvJyBpZD0ndGVzdFwiICsgaSArIFwiJy8+IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8bGFiZWwgZm9yPSd0ZXN0XCIgKyBpICsgXCInPjwvbGFiZWw+IDwvZGl2PiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbWVtYmVybG9nbyc+IDxkaXYgY2xhc3M9J21lbWJlckltYWdlJz48aW1nIHNyYz1cIiArIGRhdGEuZGF0YVtpXS53eF9hdmF0YXIgKyBcIiBhbHQ9Jyc+XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjwvZGl2PiA8ZGl2IGNsYXNzPSdtZW1iZXJOaWNrTmFtZSc+XCIgKyBkYXRhLmRhdGFbaV0ud3hfbmlja25hbWUgKyBcIjwvZGl2PiA8L2Rpdj5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbWVtYmVyU2V4Jz5cIiArZGF0YS5kYXRhW2ldLnd4X2dlbmRlciArIFwiPC9kaXY+XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbWVtYmVyUGhvbmUnPlwiICsgZGF0YS5kYXRhW2ldLnBob25lICsgXCI8L2Rpdj5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgPC9kaXY+XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJChcIiNsb2FkaW5nUmVmdW5kXCIpLmZhZGVPdXQoMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIHBhZ2UgPT0xICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYXJlYS5odG1sKHN0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYXJlYS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJoYXNEb3duXCI+6LWE5rqQ5Yqg6L295LitLi4uPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgJGFyZWEuZmluZCgnLmhhc0Rvd24nKS5iZWZvcmUoc3RyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wYWdlX29mZnNldC5jdXJyZW50X3BhZ2UgPj0gZGF0YS5wYWdlX29mZnNldC50b3RhbF9wYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAkYXJlYS5maW5kKCcuaGFzRG93bicpLmh0bWwoXCLmlbDmja7liqDovb3lrozmr5XjgIJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzRG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2UrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG5cbiAgICAgICAgJCgnLmRhcmtTY3JlZW4gLm1lbWJlckxpc3RXcmFwcGVyJykuc2Nyb2xsKGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgdmFyIERpdkhlaWdodCA9ICQoJy5tZW1iZXJMaXN0JykuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgU2Nyb2xsSGVpZ2h0ID0gJCh0aGlzKS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBTY3JvbGxUb3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuICAgICAgICAgICAgaWYgKChTY3JvbGxUb3AgKyBTY3JvbGxIZWlnaHQgPj0gRGl2SGVpZ2h0IC0gNSkgJiZcbiAgICAgICAgICAgICAgICAhaXNEb3duICYmICFpc0xvYWRpbmcgKSB7XG4gICAgICAgICAgICAgICAgZ2V0VXNlckxpc3QoKTtcbiAgICAgICAgICAgICAgIC8qICQoXCIjbG9hZGluZ1JlZnVuZFwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgZ2V0VXNlckxpc3QoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKFwiI2xvYWRpbmdSZWZ1bmRcIikuZmFkZU91dCgxMDApO1xuICAgICAgICAgICAgICAgIH0pOyovXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICDlvLnnqpfmj5DnpLrpgoDor7forrLluIjpooTop4jlm75cbiAgICAgICAgLy8gJChcIi5pbnZpdGVfdGVhY2hlcl90aXAgc3BhblwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vIH0pO1xuXG5cblxuICAgICAgICAvLyDmj5DkuqTnm7Tmkq3ooajljZVcbiAgICAgICAgJChcIi5jb21wbGV0ZUJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8v6I635Y+W55u05pKt6KGo5Y2V5pWw5o2uXG4gICAgICAgICAgICAvL+ebtOaSreWQjeensFxuICAgICAgICAgICAgdmFyIHRpdGxlID0gJC50cmltKCQoXCIucmVzTmFtZVwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIC8v55u05pKt566A5LuLXG4gICAgICAgICAgICB2YXIgc3VtbWFyeT0kLnRyaW0oJChcIiNhbGl2ZUFic3RyYWN0XCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgLy/nm7Tmkq3nsbvlnotcbiAgICAgICAgICAgIHZhciBhbGl2ZVR5cGU9YWxpdmVUO1xuXG4gICAgICAgICAgICAvL+ebtOaSreeCueaSrWlkXG4gICAgICAgICAgICB2YXIgQWxpdmVGaWxlSWQgPSBmaWxlSWQ7XG5cbiAgICAgICAgICAgIC8v55u05pKt5byA5aeL5pe26Ze0XG4gICAgICAgICAgICB2YXIgemJTdGFydEF0ID0gJC50cmltKCQoXCIjemJfc3RhcnRfYXRcIikudmFsKCkpO1xuXG4gICAgICAgICAgICAvL+ebtOaSree7k+adn+aXtumXtFxuICAgICAgICAgICAgdmFyIHpiRW5kQXQgPSAkLnRyaW0oJChcIiN6Yl9zdG9wX2F0XCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgLy/nm7Tmkq3lpKflsI9cbiAgICAgICAgICAgIHZhciBBbGl2ZVNpemUgPSB2aWRlb0dzaXplO1xuXG4gICAgICAgICAgICAvL+ebtOaSreWwgemdouWcsOWdgFxuICAgICAgICAgICAgdmFyIGltYWdlMVVybCA9ICQudHJpbSgkKFwiI0ltYWdlMVVybFwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIC8v55u05pKt6LS054mH5Zyw5Z2AXG4gICAgICAgICAgICB2YXIgaW1hZ2UzVXJsID0gJC50cmltKCQoXCIjSW1hZ2UzVXJsXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgLy/nm7Tmkq3ljp/lp4vlhoXlrrnor6bmg4VcbiAgICAgICAgICAgIHZhciB1ZSA9IFVFLmdldEVkaXRvcigncmVzb3VyY2VfZGVzYycpO1xuICAgICAgICAgICAgdmFyIG9yZ0NvbnRlbnQgPSB1ZS5nZXRDb250ZW50KCk7XG5cbiAgICAgICAgICAgIC8v55u05pKt5YaF5a655o+P6L+wXG4gICAgICAgICAgICB2YXIgZGVzY3JpYiA9IHVlLmdldFBsYWluVHh0KCk7XG4gICAgICAgICAgICBpZiAoZGVzY3JpYi5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5o+P6L+w5LiN6IO95Li656m6IScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvL+S7mOi0ueS7t+agvFxuICAgICAgICAgICAgdmFyIHJlc1ByaXplID0gJC50cmltKCQoXCIucmVzUHJpemVcIikudmFsKCkpICogMTAwO1xuXG4gICAgICAgICAgICAvL+ebtOaSremAieaLqeWIhuexu1xuICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cImFsaXZlQ2xhc3NcIl06Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBjbGFzc0FycmF5LnB1c2goJCh0aGlzKS5hdHRyKCdpZCcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2xhc3NBcnJheSk7XG5cbiAgICAgICAgICAgIC8v55u05pKt54q25oCBXG4gICAgICAgICAgICB2YXIgc3RhdGU9YWxpdmVTdGF0ZTtcbiAgICAgICAgICAgIC8v5LiK5p625pe26Ze0XG4gICAgICAgICAgICB2YXIgc3RhcnRBdCA9ICQudHJpbSgkKFwiI2RhdGVJbnB1dFwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIGZvcih2YXIgaT0wLGo9MDtpPCQoXCIuZWFjaExpbmVcIikubGVuZ3RoO2krKykge1xuICAgICAgICAgICAgICAgIC8v55u05pKt6KeS6Imy55qE5YC8XG4gICAgICAgICAgICAgICAgdmFyIHRtcCA9IHt9O1xuICAgICAgICAgICAgICAgIHRtcFtcInJvbGVfbmFtZVwiXSA9ICQoXCIubWVtYmVyQ2FsbFwiKS5lcShpKS52YWwoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgdG1wW1widXNlcl9uYW1lXCJdID0gJChcIi5tZW1iZXJOYW1lXCIpLmVxKGkpLmh0bWwoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgdG1wW1widXNlcl9pZFwiXSA9ICQoXCIudXNlcklkXCIpLmVxKGkpLnZhbCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAodG1wW1widXNlcl9pZFwiXS5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvL+iusuW4iOWIl+ihqFxuICAgICAgICAgICAgICAgICAgICByb2xlUGFyYW1zW2pdID0gdG1wO1xuICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/nm7Tmkq3ljZXlk4HkuIrkvKDkv6Hmga9cbiAgICAgICAgICAgIHZhciByZXNJbmZvID0ge1xuICAgICAgICAgICAgICAgIC8vIOebtOaSreWQjeensFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAvL+ebtOaSreeugOS7i1xuICAgICAgICAgICAgICAgIHN1bW1hcnk6c3VtbWFyeSxcbiAgICAgICAgICAgICAgICAvL+ebtOaSreexu+Wei1xuICAgICAgICAgICAgICAgIGFsaXZlX3R5cGU6YWxpdmVUeXBlLFxuICAgICAgICAgICAgICAgIC8vICAg55u05pKt5bCB6Z2i5Zyw5Z2AXG4gICAgICAgICAgICAgICAgaW1nX3VybDogaW1hZ2UxVXJsLFxuICAgICAgICAgICAgICAgIC8v55u05pKt5a6j5Lyg5bCB6Z2i5Zyw5Z2AXG4gICAgICAgICAgICAgICAgYWxpdmVfaW1nX3VybDogaW1hZ2UzVXJsLFxuICAgICAgICAgICAgICAgIC8v6KeG6aKR5ZCN56ewXG4gICAgICAgICAgICAgICAgZmlsZV9uYW1lOiBWaWRlb05hbWUsXG4gICAgICAgICAgICAgICAgLy/nm7Tmkq3lvIDlp4vml7bpl7RcbiAgICAgICAgICAgICAgICB6Yl9zdGFydF9hdDp6YlN0YXJ0QXQsXG4gICAgICAgICAgICAgICAgLy/nm7Tmkq3nu5PmnZ/ml7bpl7RcbiAgICAgICAgICAgICAgICB6Yl9zdG9wX2F0OnpiRW5kQXQsXG4gICAgICAgICAgICAgICAgLy/kupHngrnmkq3mlofku7ZpZFxuICAgICAgICAgICAgICAgIC8vZmlsZV9pZDogQWxpdmVGaWxlSWQsXG4gICAgICAgICAgICAgICAgLy8vLyDnm7Tmkq3lpKflsI9cbiAgICAgICAgICAgICAgICAvL3ZpZGVvX3NpemU6IEFsaXZlU2l6ZSxcbiAgICAgICAgICAgICAgICAvL+ebtOaSreivpuaDhVxuICAgICAgICAgICAgICAgIGRlc2NyYjogZGVzY3JpYixcbiAgICAgICAgICAgICAgICAvL+WOn+Wni+aWh+acrFxuICAgICAgICAgICAgICAgIG9yZ19jb250ZW50OiBvcmdDb250ZW50LFxuICAgICAgICAgICAgICAgIC8v5LuY6LS55Lu35qC8XG4gICAgICAgICAgICAgICAgcGllY2VfcHJpY2U6IHJlc1ByaXplLFxuICAgICAgICAgICAgICAgIC8v55u05pKt54q25oCBXG4gICAgICAgICAgICAgICAgc3RhdGU6c3RhdGUsXG4gICAgICAgICAgICAgICAgLy/kuIrmnrbml7bpl7RcbiAgICAgICAgICAgICAgICBzdGFydF9hdDogc3RhcnRBdCxcbiAgICAgICAgICAgICAgICAvL2lkXG4gICAgICAgICAgICAgICAgaWQ6IEdldFF1ZXJ5U3RyaW5nKCdpZCcpIHx8IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvL+ebtOaSremineWkluS/oeaBr1xuICAgICAgICAgICAgdmFyIHJlc291cmNlUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIC8v5LqR54K55pKt55u05pKtaWRcbiAgICAgICAgICAgICAgICBwdWJsaWNfdmlkZW86IEFsaXZlRmlsZUlkLFxuICAgICAgICAgICAgICAgIC8v55u05pKt5aSn5bCPXG4gICAgICAgICAgICAgICAgcHVibGljX3NpemVfdGV4dDogQWxpdmVTaXplXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL+aYr+WQpuS7mOi0ue+8iDHooajnpLrlhY3otLnvvIwy6KGo56S65Y2V56yU77yJXG4gICAgICAgICAgICBpZihyZXNvdXJjZUZyZWUpIHtcbiAgICAgICAgICAgICAgICByZXNJbmZvLnBheW1lbnRfdHlwZSA9IHJlc291cmNlRnJlZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy/nm7Tmkq3mj5DphpJcbiAgICAgICAgICAgIHJlc0luZm8uaWZfcHVzaCA9IGlmX3B1c2g7XG4gICAgICAgICAgICBpZihpZl9wdXNoPT0wIHx8IGlmX3B1c2g9PTEpe1xuICAgICAgICAgICAgICAgIHJlc0luZm8ucHVzaF9haGVhZCA9IHB1c2hfYWhlYWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8v6I635Y+W6KGo5Y2V5Lit55qE5pWw5o2uXG4gICAgICAgICAgICBpZiAoY2hlY2tBbGl2ZUZvcm0ocmVzSW5mbykpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxsUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHJlc0luZm8sXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IHJlc291cmNlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkX2NoYW5uZWxfdHlwZTogdXBsb2FkQ2hhbm5lbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHBhY2thZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfcGFyYW1zOiByZXNvdXJjZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgcGFja2FnZV9uYW1lOiBwYWNrYWdlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcm9sZVBhcmFtczogcm9sZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlfdHlwZTpjbGFzc0FycmF5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzdWJtaXRGb3JtKGdvbGJhbFVybCwgYWxsUGFyYW1zKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhbGxQYXJhbXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIG1hbmFnZUFsaXZlO1xufSgpO1xuIl19
