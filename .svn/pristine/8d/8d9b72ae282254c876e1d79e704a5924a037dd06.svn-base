$(document).ready(function(){Business.init()});var Business=function(){var e={};e.isLoading=false;e.tabState="singleList";e.member_id=-1;e.member_price=0;e.searchContentForSingle="";e.searchContentForPackage="";e.resource_type=0;e.pageIndex=1;e.init=function(){e.member_id=GetQueryString("id");modal.id=GetQueryString("id");e.member_price=$(".admin_data").data("member_price");$(".addMemberRights").hover(function(){$(".clickBtnWrapper").removeClass("hide")},function(){$(".clickBtnWrapper").addClass("hide")});$(".toolBox").on("click","li",function(){var a=$(this).data("type");switch(a){case"edit":window.location.href="/edit_member_page?id="+e.member_id+"&page_origin=member_detail";break;case"newListShow":memberDetailUtils.changeNewlListState(e.member_id,0,0);break;case"newListHide":memberDetailUtils.changeNewlListState(e.member_id,0,1);break;case"show_member":memberDetailUtils.changeGoodsState(e.member_id,0,0);break;case"hide_member":memberDetailUtils.changeGoodsState(e.member_id,0,1);break;case"openForm":memberDetailUtils.packageForm(e.member_id,1);break;case"closeForm":memberDetailUtils.packageForm(e.member_id,0);break;default:console.log("会员操作，参数错误。");break}});$(".member_list_wrapper").on("click",".hover_tool_box li.operate",function(a){a.stopPropagation();var t=$(this).parents(".member_list_item").data("resource_id"),i=$(this).parents(".member_list_item").data("resource_type"),s=$(this).parents(".member_list_item").data("res_title"),o=$(this).parents(".member_list_item").data("is_try"),r=$(this).parents(".member_list_item").data("show_time"),n=$(this).parents(".member_list_item").data("img_url"),c=$(this).parents(".member_list_item").data("payment_type");var l=$(this).data("type");switch(l){case"to_top":memberDetailUtils.setResourceTop(e.member_id,i,t,1);break;case"cancel_top":memberDetailUtils.setResourceTop(e.member_id,i,t,0);break;case"look_comments":if(i==4){contentDetail("/alivecomment?alive_id="+t)}else{contentDetail("/comment_admin?type="+(i-1)+"&record_id="+t)}break;case"edit":window.location.href="/edit_resource_page?type="+i+"&id="+t+"&upload_channel_type=3"+"&package_id="+e.member_id+"&price="+e.member_price;break;case"set_try":memberDetailUtils.setResourceTry(e.member_id,i,t,c,1);break;case"cancel_try":memberDetailUtils.setResourceTry(e.member_id,i,t,c,0);break;case"export_audio":memberDetailUtils.exportAudio(t);break;case"set_single_sale":memberDetailUtils.setSingleSale(i,t,s,o,r,n);break;case"cancel_single_sale":memberDetailUtils.cancelSingleSale(i,t,c);break;case"show_resource":memberDetailUtils.changeGoodsState(t,i,0);break;case"hide_resource":memberDetailUtils.changeGoodsState(t,i,1);break;case"delete":memberDetailUtils.querySingleResource(t,i,e.member_id);break;case"enable_copy":memberDetailUtils.changeCanSelectState(t,true);break;case"forbid_copy":$.alert("禁止复制后，该篇图文的图片点击放大和长按识别二维码功能将被禁用","info",{btn:3,onOk:function(){memberDetailUtils.changeCanSelectState(t,false)}});break;default:console.error("参数错误");break}});$(".member_list_wrapper").on("click","#package_item_operate li.operate",function(e){e.stopPropagation();var a=$(this).parents(".package_list_item").data("package_id"),t=$(this).data("type");switch(t){case"soldout":memberDetailUtils.packageisShow(a,false);break;case"putaway":memberDetailUtils.packageisShow(a,true);break;case"edit_package":window.location.href="edit_package_page?id="+a+"&member_id="+modal.id;break;case"remove_package":memberDetailUtils.queryPackageResource(a);break;default:console.log("参数错误");break}});(function(){var e=new Clipboard(".copyHref");e.on("success",function(e){if(e.trigger.id=="copy_app_href"){baseUtils.show.blueTip("复制成功！")}else{baseUtils.show.blueTip("复制成功！请在微信内打开哦 。")}e.clearSelection()})})();$(".content_tab_wrapper li").click(function(){if(!e.isLoading){$(".inputSearchAll").val("");e.pageIndex=1;e.isLoading=true;var a=$(this).text();if(!$(this).hasClass("activeContentTab")){if(a=="专栏"){$("#packageTab").addClass("activeContentTab");$("#singleTab").removeClass("activeContentTab");$(".selector_resource_type").addClass("hide")}else if(a=="单品"){$("#singleTab").addClass("activeContentTab");$("#packageTab").removeClass("activeContentTab");$(".selector_resource_type").removeClass("hide")}}if(a=="专栏"){e.searchContentForPackage="";e.tabState="packageList";memberDetailUtils.switchWindowTab("packageTab");modal.initPackageListOfMember()}else if(a=="单品"){e.searchContentForSingle="";e.resource_type=0;$("#firstOption").removeAttr("selected").attr("selected","selected");e.tabState="singleList";memberDetailUtils.switchWindowTab("singleTab");modal.initResourceListOfMember()}}});modal.selectResource();modal.initResourceAndPackageSearch();memberDetailUtils.initListPagination();$(".member_list_wrapper").on("click"," .pagination li a",function(a){var t=$(a.target),i=t.data("url");e.pageIndex=t.text();if(e.tabState=="packageList"){modal.initPackageListOfMember()}else if(e.tabState=="singleList"){modal.initResourceListOfMember()}});$(".userDefined").click(function(){var e=$(".admin_data").data("member_id");window.location.href="/user_defined?id="+e})};return e}();var modal=function(){var e={};e.initResourceListOfMember=function(){$(".loadingS").fadeIn(300);$.ajax("/singe_list_member",{type:"GET",dataType:"html",data:{id:Business.member_id,search_content:Business.searchContentForSingle,resource_type:Business.resource_type,page:Business.pageIndex},success:function(e){Business.isLoading=false;$(".loadingS").fadeOut(100);if(e&&e.length>0){$(".member_list_wrapper").html(e);memberDetailUtils.initListPagination()}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,a,t){Business.isLoading=false;$(".loadingS").fadeOut(100);console.log(t);baseUtils.show.redTip("获取单品列表失败")}})};e.initPackageListOfMember=function(){$(".loadingS").fadeIn(300);$.ajax("/package_list_member",{type:"GET",dataType:"html",data:{id:Business.member_id,search_content:Business.searchContentForPackage,page:Business.pageIndex},success:function(e){Business.isLoading=false;$(".loadingS").fadeOut(100);if(e&&e.length>0){$(".member_list_wrapper").html(e);memberDetailUtils.initListPagination()}else{console.log("请求数据为空");baseUtils.show.redTip("网络问题，请稍后再试")}},error:function(e,a,t){Business.isLoading=false;$(".loadingS").fadeOut(100);console.log(t);baseUtils.show.redTip("获取单品列表失败")}})};e.hasDown=false;e.hasClose=true;e.page=1;e.searchContent="";e.isLoading=false;e.resType=0;e.tabState="singleList";e.selectResource=function(){var a=this;$("#addSingle").on("click",function(){a.page=1;a.hasDown=false;a.hasClose=false;a.getSelectData()});$("#selectWindow #selctClose, #selectWindow #selectCancelBtn").on("click",function(){var e=$("#selectWindow");e.fadeOut("normal",function(){$(this).find("#selectAreaList").html("")});e.find(".inputSearchPart").val("");a.page=1;a.hasClose=true;a.searchContent=""});$("#selectWindow #selectSearchBtn").on("click",function(){var e=$.trim($(this).prev().val());a.searchContent=e;a.page=1;a.hasClose=true;a.getSelectData()}).prev().on("keypress",function(e){if(e.keyCode=="13"){$("#selectWindow #selectSearchBtn").click()}});$(".selectGoodTabWrapper li").click(function(){var t=$(this).val();if(!e.isLoading){a.page=1;$("#selectWindow #selectAreaListWrapper").scrollTop(0);e.isLoading=true;if(t==1){memberDetailUtils.switchWindowTab("singleTab")}else{memberDetailUtils.switchWindowTab("packageTab")}a.getSelectData()}});$("#selectWindow #selectAreaListWrapper").scroll(function(e){var t=$("#selectAreaList").height(),i=$(this).height(),s=$(this).scrollTop();if(s+i>=t-5&&!a.hasDown&&!a.hasClose){a.hasClose=true;a.getSelectData()}else{}});$("#selectWindow #selectOkBtn").on("click",function(t){var i=$("#selectWindow #selectAreaListWrapper"),s=[];i.find(":checkbox:checked").each(function(a,t){if(e.tabState=="packageList"){var i={resource_id:t.getAttribute("id"),resource_type:6}}else if(e.tabState=="singleList"){var i={resource_id:t.getAttribute("id"),resource_type:t.getAttribute("value")}}s[s.length]=i});$.ajax("/submit_choice_resource",{type:"POST",dataType:"json",data:{channel_type:3,resource_list:s,package_id:a.id},success:function(a){console.log(a);if(a.code==0){$("#selectWindow #selctClose").click();baseUtils.show.blueTip(a.msg);if(e.tabState=="packageList"){$("#packageTab").click()}else if(e.tabState=="singleList"){$("#singleTab").click()}}else{baseUtils.show.redTip(a.msg)}},error:function(e,a,t){console.error(t);baseUtils.show.redTip("操作失败，请稍后再试")}})})};e.getSelectData=function(){var a=this;if(a.page==1){$(".loadingS_in_window").fadeIn(300)}$.ajax("/choice_resource_list",{type:"POST",dataType:"json",data:{search_content:a.searchContent||"",channel_type:3,resource_type:a.resType,package_id:a.id,page:a.page},success:function(t){$(".loadingS_in_window").fadeOut(300);e.isLoading=false;console.log(t);if(t.code==0){var i=$("#selectAreaList"),s="",o=JSON.parse(t.data.page_offset);$.each(t.data.resource_list,function(e,t){var i="";if(a.resType==0){switch(+this.resource_type){case 1:i="图文";break;case 2:i="音频";break;case 3:i="视频";break;case 4:i="直播";break;default:i="无";break}}if(a.resType==0){s+='<div class="resourceItemWrapper">'+'<input value="'+this.resource_type+'" id="'+this.id+'" class="with-gap resource_radio" name="select_resource" type="checkbox">'+'<label for="'+this.id+'" class="radio_desc">'+'<div class="resource_icon_wrapper">'+'<img class="resource_icon" src="'+this.img_url+'">'+"</div>"+this.title+"</label>"+'<span class="resource_type">'+i+"</span>"+'<span class="resource_time">'+this.start_at+"</span>"+"</div>"}else{s+='<div class="resourceItemWrapper">'+"<input"+' id="'+this.id+'" class="with-gap resource_radio" name="select_resource" type="checkbox">'+'<label for="'+this.id+'" class="radio_desc">'+'<div class="resource_icon_wrapper">'+'<img class="resource_icon" src="'+this.img_url+'">'+"</div>"+this.name+"</label>"+'<span class="resource_time">'+this.updated_at+"</span>"+"</div>"}});if(a.page==1||!a.page){i.html(s);i.append('<div class="isDown">资源加载中</div>');a.hasClose=false;if(!a.searchContent){$("#selectWindow").fadeIn()}}else if(a.page>1){i.find(".isDown").before(s);a.hasClose=false}if(o.current_page>=o.total_pages){i.find(".isDown").hide();a.hasDown=true}a.page++}else{baseUtils.show.redTip("拉取已有单品失败！")}},error:function(a,t,i){$(".loadingS_in_window").fadeOut(300);e.isLoading=false;console.error(i);baseUtils.show.redTip("操作失败，请稍后再试")}})};e.initResourceAndPackageSearch=function(){$(".searchAllBtn").click(function(){if(Business.tabState=="packageList"){Business.searchContentForPackage=$.trim($(".inputSearchAll").val());e.initPackageListOfMember()}else if(Business.tabState=="singleList"){Business.resource_type=$(".selector_resource_type").val();Business.searchContentForSingle=$.trim($(".inputSearchAll").val());e.initResourceListOfMember()}});$(".inputSearchAll").on("keypress",function(e){if(e.keyCode==13){$(".searchAllBtn").click()}});$(".selector_resource_type").on("change",function(){$(".searchAllBtn").click()})};e.initSetSingleSaleWindow=function(a,t,i,s,o){$(".resource_icon_3").attr("src",a);$(".resource_title_3").html(t);switch(i){case 1:$(".resource_type_3").html("图文");break;case 2:$(".resource_type_3").html("音频");break;case 3:$(".resource_type_3").html("视频");break;case 4:$(".resource_type_3").html("直播");break;default:break}$(".resource_time_3").html(s);$(".close_icon_wrapper_2, .cancel_set_price").click(function(){$(".set_price_window").fadeOut(300)});$(".confirm_price_btn").click(function(){var a=$.trim($(".input_setting_price").val());var t=/^([1-9][\d]*|0)([\/.][\d]{1,2})?$/;if(!t.test(a)){baseUtils.show.redTip("价格输入有误");$(".input_setting_price").val("");return false}if(a<=0){baseUtils.show.redTip("价格不能为0 或 负数!");return false}if(a>baseUtils.maxInputPrice){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}var s={};s["resource_id"]=o;s["resource_type"]=i;var r=[s];showLoading();$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:r,piece_price:a*100,submit_type:0},success:function(a){hideLoading();if(a.code==0){$(".set_price_window").fadeOut(300);baseUtils.show.blueTip("设为单卖成功");e.initResourceListOfMember()}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,a,t){hideLoading();console.log(t);baseUtils.show.redTip("服务器开小差啦，请稍后再操作！")}})})};return e}();var memberDetailUtils=function(){var e={};e.changeGoodsState=function(e,a,t){if(a==0){var i=t==0?"上架后该会员将对外显示":"下架后该会员将不对外显示"}else if(a==1||a==2||a==3||a==4){var i=t==0?"上架后该单品将对外显示":"下架后该单品将不对外显示"}$.alert(i,"info",{onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:a,operate_type:t},success:function(e){hideLoading();if(e.code==0){if(t==0){baseUtils.show.blueTip("上架成功！")}else{baseUtils.show.blueTip("下架成功！")}if(a==0){setTimeout(function(){window.location.reload()},1500)}else{modal.initResourceListOfMember()}}else{baseUtils.show.redTip("操作失败，请稍后重试！")}},error:function(e,a,t){hideLoading();console.log(t);baseUtils.show.redTip("操作失败，请稍后重试！")}})}})};e.changeNewlListState=function(e,a,t){showLoading();$.ajax("/set_h5_newest_hide",{type:"POST",dataType:"json",data:{id:e,h5_newest_hide:t},success:function(e){hideLoading();if(e.code==0){if(t==0){baseUtils.show.blueTip("设置成功！")}else{baseUtils.show.blueTip("设置成功！")}if(a==0){setTimeout(function(){window.location.reload()},1500)}else{modal.initResourceListOfMember()}}else{baseUtils.show.redTip("操作失败，请稍后重试！")}},error:function(e,a,t){hideLoading();console.log(t);baseUtils.show.redTip("操作失败，请稍后重试！")}})};e.setResourceTop=function(e,a,t,i){showLoading();$.ajax("/set_package_resource_top",{type:"POST",dataType:"json",data:{package_id:e,resource_type:a,resource_id:t,top_state:i},success:function(e){hideLoading();if(e.code==0){if(i==0){baseUtils.show.blueTip("已经取消置顶！")}else{baseUtils.show.blueTip("置顶成功！")}modal.initResourceListOfMember()}else{baseUtils.show.redTip(e.msg)}},error:function(e,a,t){hideLoading();console.error(t);baseUtils.show.redTip("操作失败，请稍后再试")}})};e.packageisShow=function(e,a){$.alert(a?"上架后该专栏将对外显示":"下架后该专栏将不对外显示","info",{onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:0,operate_type:a?0:1},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{baseUtils.show.redTip(e.msg);hideLoading();self.btnState=true}},error:function(e,a,t){console.error(t);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}})};e.querySingleResource=function(a,t,i){showLoading();$.ajax("/query_goods_state",{type:"POST",dataType:"json",data:{goods_id:a,goods_type:t,channel_type:2,package_id:i},success:function(s){hideLoading();if(s.code==0){var o=s.data["is_exist"],r=s.data["records_list"],n=Object.keys(r).length,c="";if(o==0){c="确认移除该内容，移除后所有用户将无法查看此内容且<spa style='color: red;'>不可恢复</spa>"}else if(r[0]==undefined){for(var l=1;l<=n;l++){c+="《"+r[l]["title"]+"》"}c="确认移除该内容，移除后该会员用户将无法查看此内容。此内容仍存在于"+c+"中"}else{if(n==1){c="确认移除该内容，移除后该会员用户将无法查看此内容。此内容仍在单品列表且单独售卖"}else{for(var l=1;l<n;l++){c+="《"+r[l]["title"]+"》"}c="确认移除该内容，移除后该会员用户将无法查看此内容。此内容单独售卖且仍存在于"+c+"中"}}$.alert(c,"info",{oktext:"确认移除",onOk:function(){e.deleteSingleResource(a,t,i)}})}else{baseUtils.show.redTip("操作失败！")}},error:function(e,a,t){hideLoading();console.log(t);baseUtils.show.redTip("服务器开小差了，请稍后再试！")}})};e.queryPackageResource=function(a){showLoading();$.ajax("/query_goods_state",{type:"POST",dataType:"json",data:{goods_id:a,goods_type:6,channel_type:2,package_id:Business.member_id},success:function(t){hideLoading();if(t.code==0){var i=t.data["is_exist"],s=t.data["records_list"],o=Object.keys(s).length,r="";if(i==0){r="确认移除该专栏，移除后该会员用户将无法查看此专栏，此专栏仍在专栏列表且单独售卖"}else{for(var n=1;n<=o;n++){r+="《"+s[n]["title"]+"》"}r="确认移除该专栏，移除后该会员用户将无法查看此专栏，此专栏仍存在于"+r+"中"}$.alert(r,"info",{oktext:"确认移除",onOk:function(){e.deleteSingleResource(a,6,Business.member_id)}})}else{baseUtils.show.redTip("操作失败！");console.log(t.msg)}},error:function(e,a,t){hideLoading();console.log(t);baseUtils.show.redTip("服务器开小差了，请稍后再试！")}})};e.packageForm=function(e,a){var t=$(".user_version_num").data("version_type");if(t&&t==3){$.alert(a?"开启资料填写后，用户在付费购买本会员前将填写个人信息，您确认要开启么？":"关闭资料填写后，用户在付费购买本会员前将不再填写个人信息，您确认要关闭么？","info",{icon:"blue",onOk:function(){showLoading();$.ajax("/set_is_complete_info",{type:"POST",dataType:"json",data:{id:e,is_complete_info:a},success:function(e){console.log(e);location.reload();if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},200)}else{baseUtils.show.redTip(e.msg);hideLoading()}}})}})}else{baseUtils.show.redTip("当前版本不支持开启资料填写，如需开启请升级至专业版")}};e.deleteSingleResource=function(e,a,t){$.ajax("/move_goods",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:a,channel_type:2,package_id:t},success:function(e){$(".loadingS").fadeOut(300);if(e.code==0){baseUtils.show.blueTip("移除成功！")}else{baseUtils.show.redTip("移除失败，请稍后再试")}if(a==6){modal.initPackageListOfMember()}else{modal.initResourceListOfMember()}},error:function(e,a,t){$(".loadingS").fadeOut(300);console.log(t);baseUtils.show.redTip("服务器开小差了，请稍后再试！")}})};e.setResourceTry=function(e,a,t,i,s){if(i==1||i==2){if(a==2){$.alert("该单品已设为单卖，取消单卖后方可设为试听","info",{btn:2})}else if(a==1||a==3||a==4){$.alert("该单品已设为单卖，取消单卖后方可设为试看","info",{btn:2})}return false}showLoading();$.ajax("/set_package_resource_try",{type:"POST",dataType:"json",data:{package_id:e,resource_type:a,resource_id:t,try_state:s},success:function(e){hideLoading();if(e.code==0){if(s==1){baseUtils.show.blueTip("设置成功！")}else{baseUtils.show.blueTip("取消成功！")}modal.initResourceListOfMember()}else{baseUtils.show.redTip("操作失败！")}},error:function(e,a,t){console.error(t);hideLoading();baseUtils.show.redTip("操作失败，请稍后再试")}})};e.exportAudio=function(e){$.ajax("/async_download_alive_voice",{type:"POST",dataType:"json",data:{alive_id:e},success:function(e){switch(e.code){case 0:window.location.href=e.data["url"];break;case 1:$.alert("语音正在合成中，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 2:$.alert("开始进行语音合成，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 3:$.alert("服务器正在维护，直播音频导出功能受到影响，请稍后再试。","info",{btn:2});break;case 4:$.alert("该直播没有音频。","info",{btn:2});break;case 5:$.alert("这个直播不是语音类型的，不支持音频导出。","info",{btn:2});break;case 6:$.alert("这个直播还没结束，暂不支持音频导出。","info",{btn:2});break;default:console.log("参数错误");baseUtils.show.redTip(e.msg);break}console.log(e.msg)},error:function(e,a,t){console.log(t);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})};e.setSingleSale=function(e,a,t,i,s,o){if(i==1){if(e==2){$.alert("该单品已设为试听，取消试听后方可设为单卖","info",{btn:2})}else if(e==1||e==3||e==4){$.alert("该单品已设为试看，取消试看后方可设为单卖","info",{btn:2})}}else{modal.initSetSingleSaleWindow(o,t,e,s,a);$(".set_price_window").fadeIn(300)}};e.cancelSingleSale=function(e,a,t){if(t==1){var i="取消单卖后，未开通会员的用户将不可单独查看该单品!"}else if(t==2){var i="取消单卖后，未开通会员的用户将不可单独付费购买该单品!"}$.alert(i,"info",{onOk:function(){showLoading();var t={};t["resource_id"]=a;t["resource_type"]=e;var i=[t];$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:i,submit_type:1},success:function(e){hideLoading();if(e.code==0){baseUtils.show.blueTip("取消单卖成功！");modal.initResourceListOfMember()}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,a,t){hideLoading();console.log(t);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})}})};e.changeCanSelectState=function(e,a){$.ajax("/set_resource_select_can",{type:"POST",dataType:"json",data:{id:e,resource_type:1,can_select:a?1:0},success:function(e){if(e.code==0){if(a){baseUtils.show.blueTip("已经允许复制")}else{baseUtils.show.blueTip("已经禁止复制")}window.location.reload()}else{baseUtils.show.redTip("操作失败，请稍后再试")}},error:function(e,a,t){console.log(t);baseUtils.show.redTip("网络错误，请稍后再试！")}})};e.initListPagination=function(){$(".list-page .pagination li a").each(function(){var e=$(this);e.attr("data-url",e.attr("href"));e.removeAttr("href")})};e.switchWindowTab=function(e){var a=$(".selectGoodTabWrapper>li.activeContentTab").val();if(a==1&&e=="singleTab"||a==0&&e=="packageTab"){return false}if(e=="singleTab"){$("#selectGoodSingleTab").addClass("activeContentTab");$("#selectGoodPackageTab").removeClass("activeContentTab");modal.tabState="singleList";modal.resType=0}else if(e=="packageTab"){$("#selectGoodPackageTab").addClass("activeContentTab");$("#selectGoodSingleTab").removeClass("activeContentTab");modal.tabState="packageList";modal.resType=6}};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlckRldGFpbC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIkJ1c2luZXNzIiwiaW5pdCIsImlzTG9hZGluZyIsInRhYlN0YXRlIiwibWVtYmVyX2lkIiwibWVtYmVyX3ByaWNlIiwic2VhcmNoQ29udGVudEZvclNpbmdsZSIsInNlYXJjaENvbnRlbnRGb3JQYWNrYWdlIiwicmVzb3VyY2VfdHlwZSIsInBhZ2VJbmRleCIsIkdldFF1ZXJ5U3RyaW5nIiwibW9kYWwiLCJpZCIsImRhdGEiLCJob3ZlciIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJvbiIsInR5cGUiLCJ0aGlzIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwibWVtYmVyRGV0YWlsVXRpbHMiLCJjaGFuZ2VOZXdsTGlzdFN0YXRlIiwiY2hhbmdlR29vZHNTdGF0ZSIsInBhY2thZ2VGb3JtIiwiY29uc29sZSIsImxvZyIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJyZXNJZCIsInBhcmVudHMiLCJyZXNUeXBlIiwicmVzVGl0bGUiLCJpc1RyeSIsInNob3dUaW1lIiwicmVzSW1nVXJsIiwicGF5bWVudFR5cGUiLCJzZXRSZXNvdXJjZVRvcCIsImNvbnRlbnREZXRhaWwiLCJzZXRSZXNvdXJjZVRyeSIsImV4cG9ydEF1ZGlvIiwic2V0U2luZ2xlU2FsZSIsImNhbmNlbFNpbmdsZVNhbGUiLCJxdWVyeVNpbmdsZVJlc291cmNlIiwiY2hhbmdlQ2FuU2VsZWN0U3RhdGUiLCJhbGVydCIsImJ0biIsIm9uT2siLCJlcnJvciIsInBhY2thZ2VJZCIsInBhY2thZ2Vpc1Nob3ciLCJxdWVyeVBhY2thZ2VSZXNvdXJjZSIsImNsaXBib2FyZCIsIkNsaXBib2FyZCIsInRyaWdnZXIiLCJiYXNlVXRpbHMiLCJzaG93IiwiYmx1ZVRpcCIsImNsZWFyU2VsZWN0aW9uIiwiY2xpY2siLCJ2YWwiLCJ0ZXh0IiwiaGFzQ2xhc3MiLCJzd2l0Y2hXaW5kb3dUYWIiLCJpbml0UGFja2FnZUxpc3RPZk1lbWJlciIsInJlbW92ZUF0dHIiLCJhdHRyIiwiaW5pdFJlc291cmNlTGlzdE9mTWVtYmVyIiwic2VsZWN0UmVzb3VyY2UiLCJpbml0UmVzb3VyY2VBbmRQYWNrYWdlU2VhcmNoIiwiaW5pdExpc3RQYWdpbmF0aW9uIiwiZWxlIiwidGFyZ2V0IiwidXJsIiwicGlkIiwiZmFkZUluIiwiYWpheCIsImRhdGFUeXBlIiwic2VhcmNoX2NvbnRlbnQiLCJwYWdlIiwic3VjY2VzcyIsInJlc3VsdCIsImZhZGVPdXQiLCJsZW5ndGgiLCJodG1sIiwicmVkVGlwIiwieGhyIiwic3RhdHVzIiwiZXJyIiwiaGFzRG93biIsImhhc0Nsb3NlIiwic2VhcmNoQ29udGVudCIsInNlbGYiLCJnZXRTZWxlY3REYXRhIiwiJHNlbGVjdFdpbiIsImZpbmQiLCJzZWFyY2hWYWwiLCJ0cmltIiwicHJldiIsImtleUNvZGUiLCJ2YWx1ZSIsInNjcm9sbFRvcCIsInNjcm9sbCIsIkRpdkhlaWdodCIsImhlaWdodCIsIlNjcm9sbEhlaWdodCIsIlNjcm9sbFRvcCIsIiRzZWxlY3RBcmVhIiwicmVzTGlzdCIsImVhY2giLCJpIiwiaXRlbSIsInJlc09iaiIsInJlc291cmNlX2lkIiwiZ2V0QXR0cmlidXRlIiwiY2hhbm5lbF90eXBlIiwicmVzb3VyY2VfbGlzdCIsInBhY2thZ2VfaWQiLCJjb2RlIiwibXNnIiwic2VsZWN0U3RyIiwicGFnZU9iaiIsIkpTT04iLCJwYXJzZSIsInBhZ2Vfb2Zmc2V0IiwiaW1nX3VybCIsInRpdGxlIiwic3RhcnRfYXQiLCJuYW1lIiwidXBkYXRlZF9hdCIsImFwcGVuZCIsImJlZm9yZSIsImN1cnJlbnRfcGFnZSIsInRvdGFsX3BhZ2VzIiwiaGlkZSIsImluaXRTZXRTaW5nbGVTYWxlV2luZG93IiwicHJpY2UiLCJyZWciLCJ0ZXN0IiwibWF4SW5wdXRQcmljZSIsImFyciIsInJlc291cmNlTGlzdEFyciIsInNob3dMb2FkaW5nIiwicGllY2VfcHJpY2UiLCJzdWJtaXRfdHlwZSIsImhpZGVMb2FkaW5nIiwidXRpbHMiLCJnb29kc0lkIiwiZ29vZHNUeXBlIiwib3BlcmF0ZV90eXBlIiwiZ29vZHNfaWQiLCJnb29kc190eXBlIiwic2V0VGltZW91dCIsInJlbG9hZCIsImg1X25ld2VzdF9oaWRlIiwicmVzb3VyY2VUeXBlIiwicmVzb3VyY2VJZCIsInRvcFN0YXRlIiwidG9wX3N0YXRlIiwiY2hhbmdlVHlwZSIsInJlbG9hZFBhZ2UiLCJidG5TdGF0ZSIsImlzRXhpc3QiLCJyZWNvcmRzTGlzdCIsImFyckxlbmd0aCIsIk9iamVjdCIsImtleXMiLCJ1bmRlZmluZWQiLCJpbmRleCIsIm9rdGV4dCIsImRlbGV0ZVNpbmdsZVJlc291cmNlIiwiZm9ybVR5cGUiLCJ2ZXJzaW9uIiwiaWNvbiIsImlzX2NvbXBsZXRlX2luZm8iLCJtZW1iZXJJZCIsInRyeVN0YXRlIiwidHJ5X3N0YXRlIiwiYWxpdmVJZCIsImFsaXZlX2lkIiwiY2FuU2VsZWN0IiwiY2FuX3NlbGVjdCIsIiRlbGUiLCJ0YWJWYWx1ZSJdLCJtYXBwaW5ncyI6IkFBSUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FDZEMsU0FBU0MsUUFJYixJQUFJRCxVQUFXLFdBRVgsR0FBSUEsS0FFSkEsR0FBU0UsVUFBWSxLQUNyQkYsR0FBU0csU0FBVyxZQUVwQkgsR0FBU0ksV0FBYSxDQUN0QkosR0FBU0ssYUFBZSxDQUd4QkwsR0FBU00sdUJBQXlCLEVBQ2xDTixHQUFTTyx3QkFBMEIsRUFDbkNQLEdBQVNRLGNBQWdCLENBRXpCUixHQUFTUyxVQUFZLENBRXJCVCxHQUFTQyxLQUFPLFdBRVpELEVBQVNJLFVBQVlNLGVBQWUsS0FDcENDLE9BQU1DLEdBQUtGLGVBQWUsS0FDMUJWLEdBQVNLLGFBQWVSLEVBQUUsZUFBZWdCLEtBQUssZUFHOUNoQixHQUFFLG9CQUFvQmlCLE1BQU0sV0FDeEJqQixFQUFFLG9CQUFvQmtCLFlBQVksU0FDbkMsV0FDQ2xCLEVBQUUsb0JBQW9CbUIsU0FBUyxTQUluQ25CLEdBQUUsWUFBWW9CLEdBQUcsUUFBUyxLQUFNLFdBQzVCLEdBQUlDLEdBQU9yQixFQUFFc0IsTUFBTU4sS0FBSyxPQUN4QixRQUFRSyxHQUNKLElBQUssT0FDREUsT0FBT0MsU0FBU0MsS0FBTyx3QkFBMEJ0QixFQUFTSSxVQUFZLDRCQUN0RSxNQUNKLEtBQUssY0FDRG1CLGtCQUFrQkMsb0JBQW9CeEIsRUFBU0ksVUFBVyxFQUFHLEVBQzdELE1BQ0osS0FBSyxjQUNEbUIsa0JBQWtCQyxvQkFBb0J4QixFQUFTSSxVQUFXLEVBQUcsRUFDN0QsTUFDSixLQUFLLGNBQ0RtQixrQkFBa0JFLGlCQUFpQnpCLEVBQVNJLFVBQVcsRUFBRyxFQUMxRCxNQUNKLEtBQUssY0FDRG1CLGtCQUFrQkUsaUJBQWlCekIsRUFBU0ksVUFBVyxFQUFHLEVBQzFELE1BQ0osS0FBSyxXQUNEbUIsa0JBQWtCRyxZQUFZMUIsRUFBU0ksVUFBVyxFQUNsRCxNQUNKLEtBQUssWUFDRG1CLGtCQUFrQkcsWUFBWTFCLEVBQVNJLFVBQVcsRUFDbEQsTUFDSixTQUNJdUIsUUFBUUMsSUFBSSxhQUNaLFNBTVovQixHQUFFLHdCQUF3Qm9CLEdBQUcsUUFBUyw2QkFBOEIsU0FBU1ksR0FFekVBLEVBQUVDLGlCQUdGLElBQUlDLEdBQVFsQyxFQUFFc0IsTUFBTWEsUUFBUSxxQkFBcUJuQixLQUFLLGVBQ2xEb0IsRUFBVXBDLEVBQUVzQixNQUFNYSxRQUFRLHFCQUFxQm5CLEtBQUssaUJBQ3BEcUIsRUFBV3JDLEVBQUVzQixNQUFNYSxRQUFRLHFCQUFxQm5CLEtBQUssYUFDckRzQixFQUFRdEMsRUFBRXNCLE1BQU1hLFFBQVEscUJBQXFCbkIsS0FBSyxVQUNsRHVCLEVBQVd2QyxFQUFFc0IsTUFBTWEsUUFBUSxxQkFBcUJuQixLQUFLLGFBQ3JEd0IsRUFBWXhDLEVBQUVzQixNQUFNYSxRQUFRLHFCQUFxQm5CLEtBQUssV0FDdER5QixFQUFjekMsRUFBRXNCLE1BQU1hLFFBQVEscUJBQXFCbkIsS0FBSyxlQUU1RCxJQUFJSyxHQUFPckIsRUFBRXNCLE1BQU1OLEtBQUssT0FDeEIsUUFBUUssR0FDSixJQUFLLFNBQ0RLLGtCQUFrQmdCLGVBQWV2QyxFQUFTSSxVQUFXNkIsRUFBU0YsRUFBTyxFQUNyRSxNQUNKLEtBQUssYUFDRFIsa0JBQWtCZ0IsZUFBZXZDLEVBQVNJLFVBQVc2QixFQUFTRixFQUFPLEVBQ3JFLE1BQ0osS0FBSyxnQkFDRCxHQUFJRSxHQUFXLEVBQUcsQ0FDZE8sY0FBYywwQkFBNEJULE9BQ3ZDLENBQ0hTLGNBQWMsd0JBQTBCUCxFQUFVLEdBQUssY0FBZ0JGLEdBRTNFLEtBQ0osS0FBSyxPQUNEWCxPQUFPQyxTQUFTQyxLQUFPLDRCQUE4QlcsRUFBVSxPQUFTRixFQUNwRSx5QkFBMkIsZUFBaUIvQixFQUFTSSxVQUFZLFVBQVlKLEVBQVNLLFlBQzFGLE1BQ0osS0FBSyxVQUNEa0Isa0JBQWtCa0IsZUFBZXpDLEVBQVNJLFVBQVc2QixFQUFTRixFQUFPTyxFQUFhLEVBQ2xGLE1BQ0osS0FBSyxhQUNEZixrQkFBa0JrQixlQUFlekMsRUFBU0ksVUFBVzZCLEVBQVNGLEVBQU9PLEVBQWEsRUFDbEYsTUFDSixLQUFLLGVBQ0RmLGtCQUFrQm1CLFlBQVlYLEVBQzlCLE1BQ0osS0FBSyxrQkFDRFIsa0JBQWtCb0IsY0FBY1YsRUFBU0YsRUFBT0csRUFBVUMsRUFBT0MsRUFBVUMsRUFDM0UsTUFDSixLQUFLLHFCQUNEZCxrQkFBa0JxQixpQkFBaUJYLEVBQVNGLEVBQU9PLEVBQ25ELE1BQ0osS0FBSyxnQkFDRGYsa0JBQWtCRSxpQkFBaUJNLEVBQU9FLEVBQVMsRUFDbkQsTUFDSixLQUFLLGdCQUNEVixrQkFBa0JFLGlCQUFpQk0sRUFBT0UsRUFBUyxFQUNuRCxNQUNKLEtBQUssU0FDRFYsa0JBQWtCc0Isb0JBQW9CZCxFQUFPRSxFQUFTakMsRUFBU0ksVUFDL0QsTUFDSixLQUFLLGNBQ0RtQixrQkFBa0J1QixxQkFBcUJmLEVBQU8sS0FDOUMsTUFDSixLQUFLLGNBQ0RsQyxFQUFFa0QsTUFBTSxrQ0FBbUMsUUFDdkNDLElBQUssRUFDTEMsS0FBTSxXQUNGMUIsa0JBQWtCdUIscUJBQXFCZixFQUFPLFNBR3RELE1BQ0osU0FDSUosUUFBUXVCLE1BQU0sT0FDZCxTQU1ackQsR0FBRSx3QkFBd0JvQixHQUFHLFFBQVMsbUNBQW9DLFNBQVVZLEdBQ2hGQSxFQUFFQyxpQkFDRixJQUFJcUIsR0FBWXRELEVBQUVzQixNQUFNYSxRQUFRLHNCQUFzQm5CLEtBQUssY0FDdkRLLEVBQU9yQixFQUFFc0IsTUFBTU4sS0FBSyxPQUN4QixRQUFRSyxHQU9KLElBQUssVUFDREssa0JBQWtCNkIsY0FBY0QsRUFBVyxNQUMzQyxNQUNKLEtBQUssVUFDRDVCLGtCQUFrQjZCLGNBQWNELEVBQVcsS0FDM0MsTUFDSixLQUFLLGVBQ0QvQixPQUFPQyxTQUFTQyxLQUFPLHdCQUEwQjZCLEVBQVksY0FBZ0J4QyxNQUFNQyxFQUNuRixNQUNKLEtBQUssaUJBQ0RXLGtCQUFrQjhCLHFCQUFxQkYsRUFDdkMsTUFDSixTQUNJeEIsUUFBUUMsSUFBSSxPQUNaLFdBS1osV0FDSSxHQUFJMEIsR0FBWSxHQUFJQyxXQUFVLFlBQzlCRCxHQUFVckMsR0FBRyxVQUFXLFNBQVNZLEdBQzdCLEdBQUdBLEVBQUUyQixRQUFRNUMsSUFBSSxnQkFBZ0IsQ0FDN0I2QyxVQUFVQyxLQUFLQyxRQUFRLGFBRXRCLENBQ0RGLFVBQVVDLEtBQUtDLFFBQVEsbUJBRTNCOUIsRUFBRStCLHNCQUtWL0QsR0FBRSwyQkFBMkJnRSxNQUFNLFdBQy9CLElBQUs3RCxFQUFTRSxVQUFXLENBQ3JCTCxFQUFFLG1CQUFtQmlFLElBQUksR0FDekI5RCxHQUFTUyxVQUFZLENBQ3JCVCxHQUFTRSxVQUFZLElBQ3JCLElBQUk2RCxHQUFPbEUsRUFBRXNCLE1BQU00QyxNQUNuQixLQUFLbEUsRUFBRXNCLE1BQU02QyxTQUFTLG9CQUFxQixDQUN2QyxHQUFJRCxHQUFRLEtBQU0sQ0FDZGxFLEVBQUUsZUFBZW1CLFNBQVMsbUJBQzFCbkIsR0FBRSxjQUFja0IsWUFBWSxtQkFDNUJsQixHQUFFLDJCQUEyQm1CLFNBQVMsWUFDbkMsSUFBSStDLEdBQVEsS0FBTSxDQUNyQmxFLEVBQUUsY0FBY21CLFNBQVMsbUJBQ3pCbkIsR0FBRSxlQUFla0IsWUFBWSxtQkFDN0JsQixHQUFFLDJCQUEyQmtCLFlBQVksU0FHakQsR0FBSWdELEdBQVEsS0FBTSxDQUNkL0QsRUFBU08sd0JBQTBCLEVBQ25DUCxHQUFTRyxTQUFXLGFBQ3BCb0IsbUJBQWtCMEMsZ0JBQWdCLGFBQ2xDdEQsT0FBTXVELDhCQUVILElBQUlILEdBQVEsS0FBTSxDQUNyQi9ELEVBQVNNLHVCQUF5QixFQUNsQ04sR0FBU1EsY0FBZ0IsQ0FDekJYLEdBQUUsZ0JBQWdCc0UsV0FBVyxZQUFZQyxLQUFLLFdBQVcsV0FDekRwRSxHQUFTRyxTQUFXLFlBQ3BCb0IsbUJBQWtCMEMsZ0JBQWdCLFlBQ2xDdEQsT0FBTTBELDhCQVNsQjFELE9BQU0yRCxnQkFHTjNELE9BQU00RCw4QkFHTmhELG1CQUFrQmlELG9CQUdsQjNFLEdBQUUsd0JBQXdCb0IsR0FBRyxRQUFTLG9CQUFxQixTQUFTWSxHQUNoRSxHQUFJNEMsR0FBTTVFLEVBQUVnQyxFQUFFNkMsUUFDVkMsRUFBTUYsRUFBSTVELEtBQUssTUFDbkJiLEdBQVNTLFVBQVlnRSxFQUFJVixNQUN6QixJQUFJL0QsRUFBU0csVUFBWSxjQUFlLENBQ3BDUSxNQUFNdUQsOEJBQ0gsSUFBSWxFLEVBQVNHLFVBQVksYUFBYyxDQUMxQ1EsTUFBTTBELDZCQUtkeEUsR0FBRSxnQkFBZ0JnRSxNQUFNLFdBQ3BCLEdBQUllLEdBQU0vRSxFQUFFLGVBQWVnQixLQUFLLFlBQ2hDTyxRQUFPQyxTQUFTQyxLQUFLLG9CQUFzQnNELElBS25ELE9BQU81RSxLQUlYLElBQUlXLE9BQVEsV0FFUixHQUFJQSxLQUtKQSxHQUFNMEQseUJBQTJCLFdBQzdCeEUsRUFBRSxhQUFhZ0YsT0FBTyxJQUV0QmhGLEdBQUVpRixLQUFLLHNCQUNINUQsS0FBTSxNQUNONkQsU0FBVSxPQUNWbEUsTUFDSUQsR0FBTVosU0FBU0ksVUFDZjRFLGVBQWtCaEYsU0FBU00sdUJBQzNCRSxjQUFpQlIsU0FBU1EsY0FDMUJ5RSxLQUFRakYsU0FBU1MsV0FFckJ5RSxRQUFTLFNBQVNDLEdBQ2RuRixTQUFTRSxVQUFZLEtBQ3JCTCxHQUFFLGFBQWF1RixRQUFRLElBQ3ZCLElBQUlELEdBQVVBLEVBQU9FLE9BQVMsRUFBRyxDQUM3QnhGLEVBQUUsd0JBQXdCeUYsS0FBS0gsRUFDL0I1RCxtQkFBa0JpRCx5QkFDZixDQUNIN0MsUUFBUUMsSUFBSSxTQUNaNkIsV0FBVUMsS0FBSzZCLE9BQU8sZ0JBRzlCckMsTUFBTyxTQUFTc0MsRUFBS0MsRUFBUUMsR0FDekIxRixTQUFTRSxVQUFZLEtBQ3JCTCxHQUFFLGFBQWF1RixRQUFRLElBQ3ZCekQsU0FBUUMsSUFBSThELEVBQ1pqQyxXQUFVQyxLQUFLNkIsT0FBTyxlQVNsQzVFLEdBQU11RCx3QkFBMEIsV0FDNUJyRSxFQUFFLGFBQWFnRixPQUFPLElBQ3RCaEYsR0FBRWlGLEtBQUssd0JBQ0g1RCxLQUFNLE1BQ042RCxTQUFVLE9BQ1ZsRSxNQUNJRCxHQUFJWixTQUFTSSxVQUNiNEUsZUFBZ0JoRixTQUFTTyx3QkFDekIwRSxLQUFNakYsU0FBU1MsV0FFbkJ5RSxRQUFTLFNBQVNDLEdBQ2RuRixTQUFTRSxVQUFZLEtBQ3JCTCxHQUFFLGFBQWF1RixRQUFRLElBQ3ZCLElBQUlELEdBQVVBLEVBQU9FLE9BQVMsRUFBRyxDQUM3QnhGLEVBQUUsd0JBQXdCeUYsS0FBS0gsRUFDL0I1RCxtQkFBa0JpRCx5QkFFZixDQUNIN0MsUUFBUUMsSUFBSSxTQUNaNkIsV0FBVUMsS0FBSzZCLE9BQU8sZ0JBRzlCckMsTUFBTyxTQUFTc0MsRUFBS0MsRUFBUUMsR0FDekIxRixTQUFTRSxVQUFZLEtBQ3JCTCxHQUFFLGFBQWF1RixRQUFRLElBQ3ZCekQsU0FBUUMsSUFBSThELEVBQ1pqQyxXQUFVQyxLQUFLNkIsT0FBTyxlQVFsQzVFLEdBQU1nRixRQUFVLEtBQ2hCaEYsR0FBTWlGLFNBQVcsSUFDakJqRixHQUFNc0UsS0FBTyxDQUNidEUsR0FBTWtGLGNBQWdCLEVBRXRCbEYsR0FBTVQsVUFBWSxLQUNsQlMsR0FBTXNCLFFBQVUsQ0FDaEJ0QixHQUFNUixTQUFXLFlBR2pCUSxHQUFNMkQsZUFBaUIsV0FDbkIsR0FBSXdCLEdBQU8zRSxJQUNYdEIsR0FBRSxjQUFjb0IsR0FBRyxRQUFTLFdBQ3hCNkUsRUFBS2IsS0FBTyxDQUNaYSxHQUFLSCxRQUFVLEtBQ2ZHLEdBQUtGLFNBQVcsS0FDaEJFLEdBQUtDLGlCQUdUbEcsR0FBRSw2REFBNkRvQixHQUFHLFFBQVMsV0FDdkUsR0FBSStFLEdBQWFuRyxFQUFFLGdCQUNuQm1HLEdBQVdaLFFBQVEsU0FBVSxXQUN6QnZGLEVBQUVzQixNQUFNOEUsS0FBSyxtQkFBbUJYLEtBQUssS0FFekNVLEdBQVdDLEtBQUssb0JBQW9CbkMsSUFBSSxHQUN4Q2dDLEdBQUtiLEtBQU8sQ0FDWmEsR0FBS0YsU0FBVyxJQUNoQkUsR0FBS0QsY0FBZ0IsSUFHekJoRyxHQUFFLGtDQUFrQ29CLEdBQUcsUUFBUyxXQUM1QyxHQUFJaUYsR0FBWXJHLEVBQUVzRyxLQUFLdEcsRUFBRXNCLE1BQU1pRixPQUFPdEMsTUFDdENnQyxHQUFLRCxjQUFnQkssQ0FDckJKLEdBQUtiLEtBQU8sQ0FDWmEsR0FBS0YsU0FBVyxJQUNoQkUsR0FBS0Msa0JBRVJLLE9BQU9uRixHQUFHLFdBQVksU0FBU1ksR0FDNUIsR0FBSUEsRUFBRXdFLFNBQVcsS0FBTSxDQUNuQnhHLEVBQUUsa0NBQWtDZ0UsVUFLNUNoRSxHQUFFLDRCQUE0QmdFLE1BQU0sV0FDaEMsR0FBSXlDLEdBQVF6RyxFQUFFc0IsTUFBTTJDLEtBRXBCLEtBQUtuRCxFQUFNVCxVQUFXLENBQ2xCNEYsRUFBS2IsS0FBTyxDQUNacEYsR0FBRSx3Q0FBd0MwRyxVQUFVLEVBQ3BENUYsR0FBTVQsVUFBWSxJQUVsQixJQUFJb0csR0FBUyxFQUFHLENBQ1ovRSxrQkFBa0IwQyxnQkFBZ0IsaUJBQy9CLENBQ0gxQyxrQkFBa0IwQyxnQkFBZ0IsY0FFdEM2QixFQUFLQyxrQkFNYmxHLEdBQUUsd0NBQXdDMkcsT0FBTyxTQUFTM0UsR0FDdEQsR0FBSTRFLEdBQVk1RyxFQUFFLG1CQUFtQjZHLFNBQ2pDQyxFQUFlOUcsRUFBRXNCLE1BQU11RixTQUN2QkUsRUFBWS9HLEVBQUVzQixNQUFNb0YsV0FFeEIsSUFBS0ssRUFBWUQsR0FBZ0JGLEVBQVksSUFDeENYLEVBQUtILFVBRUxHLEVBQUtGLFNBQ1IsQ0FDRUUsRUFBS0YsU0FBVyxJQUNoQkUsR0FBS0Msb0JBQ0YsSUFNWGxHLEdBQUUsOEJBQThCb0IsR0FBRyxRQUFTLFNBQVNZLEdBQ2pELEdBQUlnRixHQUFjaEgsRUFBRSx3Q0FDaEJpSCxJQUVKRCxHQUFZWixLQUFLLHFCQUFxQmMsS0FBSyxTQUFTQyxFQUFHQyxHQUNuRCxHQUFJdEcsRUFBTVIsVUFBWSxjQUFlLENBQ2pDLEdBQUkrRyxJQUNBQyxZQUFhRixFQUFLRyxhQUFhLE1BQy9CNUcsY0FBZSxPQUVoQixJQUFJRyxFQUFNUixVQUFZLGFBQWMsQ0FDdkMsR0FBSStHLElBQ0FDLFlBQWFGLEVBQUtHLGFBQWEsTUFDL0I1RyxjQUFleUcsRUFBS0csYUFBYSxVQUd6Q04sRUFBUUEsRUFBUXpCLFFBQVU2QixHQVE5QnJILEdBQUVpRixLQUFLLDJCQUNINUQsS0FBTSxPQUNONkQsU0FBVSxPQUNWbEUsTUFDSXdHLGFBQWMsRUFDZEMsY0FBZVIsRUFDZlMsV0FBWXpCLEVBQUtsRixJQUVyQnNFLFFBQVMsU0FBU3JFLEdBQ2RjLFFBQVFDLElBQUlmLEVBQ1osSUFBSUEsRUFBSzJHLE1BQVEsRUFBRyxDQUVoQjNILEVBQUUsNkJBQTZCZ0UsT0FDL0JKLFdBQVVDLEtBQUtDLFFBQVE5QyxFQUFLNEcsSUFDNUIsSUFBSTlHLEVBQU1SLFVBQVksY0FBZSxDQUNqQ04sRUFBRSxlQUFlZ0UsWUFDZCxJQUFJbEQsRUFBTVIsVUFBWSxhQUFjLENBQ3ZDTixFQUFFLGNBQWNnRSxhQUVqQixDQUNISixVQUFVQyxLQUFLNkIsT0FBTzFFLEVBQUs0RyxPQUduQ3ZFLE1BQU8sU0FBU3NDLEVBQUtDLEVBQVFDLEdBQ3pCL0QsUUFBUXVCLE1BQU13QyxFQUNkakMsV0FBVUMsS0FBSzZCLE9BQU8sbUJBT3RDNUUsR0FBTW9GLGNBQWdCLFdBQ2xCLEdBQUlELEdBQU8zRSxJQUNYLElBQUkyRSxFQUFLYixNQUFRLEVBQUcsQ0FDaEJwRixFQUFFLHVCQUF1QmdGLE9BQU8sS0FFcENoRixFQUFFaUYsS0FBSyx5QkFDSDVELEtBQU0sT0FDTjZELFNBQVUsT0FRVmxFLE1BQ0ltRSxlQUFnQmMsRUFBS0QsZUFBaUIsR0FDdEN3QixhQUFjLEVBQ2Q3RyxjQUFlc0YsRUFBSzdELFFBQ3BCc0YsV0FBWXpCLEVBQUtsRixHQUNqQnFFLEtBQU1hLEVBQUtiLE1BRWZDLFFBQVMsU0FBU0MsR0FDZHRGLEVBQUUsdUJBQXVCdUYsUUFBUSxJQUNqQ3pFLEdBQU1ULFVBQVksS0FDbEJ5QixTQUFRQyxJQUFJdUQsRUFDWixJQUFJQSxFQUFPcUMsTUFBUSxFQUFHLENBQ2xCLEdBQUlYLEdBQWNoSCxFQUFFLG1CQUNoQjZILEVBQVksR0FDWkMsRUFBVUMsS0FBS0MsTUFBTTFDLEVBQU90RSxLQUFLaUgsWUFDckNqSSxHQUFFa0gsS0FBSzVCLEVBQU90RSxLQUFLeUcsY0FBZSxTQUFTTixFQUFHQyxHQUMxQyxHQUFJekcsR0FBZ0IsRUFDcEIsSUFBSXNGLEVBQUs3RCxTQUFXLEVBQUcsQ0FDbkIsUUFBU2QsS0FBS1gsZUFDVixJQUFLLEdBQ0RBLEVBQWdCLElBQ2hCLE1BQ0osS0FBSyxHQUNEQSxFQUFnQixJQUNoQixNQUNKLEtBQUssR0FDREEsRUFBZ0IsSUFDaEIsTUFDSixLQUFLLEdBQ0RBLEVBQWdCLElBQ2hCLE1BQ0osU0FDSUEsRUFBZ0IsR0FDaEIsUUFJWixHQUFJc0YsRUFBSzdELFNBQVcsRUFBRyxDQUNuQnlGLEdBQWEsb0NBQ1QsaUJBQW1CdkcsS0FBS1gsY0FBZ0IsU0FBV1csS0FBS1AsR0FBSyw0RUFDN0QsZUFBaUJPLEtBQUtQLEdBQUssd0JBQzNCLHNDQUNBLG1DQUFxQ08sS0FBSzRHLFFBQVUsS0FDcEQsU0FDQTVHLEtBQUs2RyxNQUNMLFdBQ0EsK0JBQWlDeEgsRUFBZ0IsVUFDakQsK0JBQWlDVyxLQUFLOEcsU0FBVyxVQUNqRCxhQUNELENBQ0hQLEdBQWEsb0NBQ1QsU0FBVyxRQUFVdkcsS0FBS1AsR0FBSyw0RUFDL0IsZUFBaUJPLEtBQUtQLEdBQUssd0JBQzNCLHNDQUNBLG1DQUFxQ08sS0FBSzRHLFFBQVUsS0FDcEQsU0FDQTVHLEtBQUsrRyxLQUNMLFdBQ0EsK0JBQWlDL0csS0FBS2dILFdBQWEsVUFDbkQsV0FHWixJQUFJckMsRUFBS2IsTUFBUSxJQUFNYSxFQUFLYixLQUFNLENBQzlCNEIsRUFBWXZCLEtBQUtvQyxFQUNqQmIsR0FBWXVCLE9BQU8sa0NBQ25CdEMsR0FBS0YsU0FBVyxLQUVoQixLQUFLRSxFQUFLRCxjQUFlLENBQ3JCaEcsRUFBRSxpQkFBaUJnRixjQUVwQixJQUFJaUIsRUFBS2IsS0FBTyxFQUFHLENBQ3RCNEIsRUFBWVosS0FBSyxXQUFXb0MsT0FBT1gsRUFDbkM1QixHQUFLRixTQUFXLE1BSXBCLEdBQUkrQixFQUFRVyxjQUFnQlgsRUFBUVksWUFBYSxDQUM3QzFCLEVBQVlaLEtBQUssV0FBV3VDLE1BQzVCMUMsR0FBS0gsUUFBVSxLQUVuQkcsRUFBS2IsV0FFRixDQUNIeEIsVUFBVUMsS0FBSzZCLE9BQU8sZUFHOUJyQyxNQUFPLFNBQVNzQyxFQUFLQyxFQUFRQyxHQUN6QjdGLEVBQUUsdUJBQXVCdUYsUUFBUSxJQUNqQ3pFLEdBQU1ULFVBQVksS0FDbEJ5QixTQUFRdUIsTUFBTXdDLEVBQ2RqQyxXQUFVQyxLQUFLNkIsT0FBTyxpQkFRbEM1RSxHQUFNNEQsNkJBQStCLFdBR2pDMUUsRUFBRSxpQkFBaUJnRSxNQUFNLFdBRXJCLEdBQUk3RCxTQUFTRyxVQUFZLGNBQWUsQ0FDcENILFNBQVNPLHdCQUEwQlYsRUFBRXNHLEtBQUt0RyxFQUFFLG1CQUFtQmlFLE1BQy9EbkQsR0FBTXVELDhCQUNILElBQUlsRSxTQUFTRyxVQUFZLGFBQWMsQ0FDMUNILFNBQVNRLGNBQWdCWCxFQUFFLDJCQUEyQmlFLEtBQ3REOUQsVUFBU00sdUJBQXlCVCxFQUFFc0csS0FBS3RHLEVBQUUsbUJBQW1CaUUsTUFDOURuRCxHQUFNMEQsNkJBT2R4RSxHQUFFLG1CQUFtQm9CLEdBQUcsV0FBWSxTQUFVWSxHQUMxQyxHQUFJQSxFQUFFd0UsU0FBVyxHQUFJLENBQ2pCeEcsRUFBRSxpQkFBaUJnRSxVQUszQmhFLEdBQUUsMkJBQTJCb0IsR0FBRyxTQUFVLFdBQ3RDcEIsRUFBRSxpQkFBaUJnRSxVQVEzQmxELEdBQU04SCx3QkFBMEIsU0FBU3BHLEVBQVdILEVBQVVELEVBQVNHLEVBQVVMLEdBRzdFbEMsRUFBRSxvQkFBb0J1RSxLQUFLLE1BQU8vQixFQUNsQ3hDLEdBQUUscUJBQXFCeUYsS0FBS3BELEVBQzVCLFFBQVFELEdBQ0osSUFBSyxHQUNEcEMsRUFBRSxvQkFBb0J5RixLQUFLLEtBQzNCLE1BQ0osS0FBSyxHQUNEekYsRUFBRSxvQkFBb0J5RixLQUFLLEtBQzNCLE1BQ0osS0FBSyxHQUNEekYsRUFBRSxvQkFBb0J5RixLQUFLLEtBQzNCLE1BQ0osS0FBSyxHQUNEekYsRUFBRSxvQkFBb0J5RixLQUFLLEtBQzNCLE1BQ0osU0FDSSxNQUVSekYsRUFBRSxvQkFBb0J5RixLQUFLbEQsRUFFM0J2QyxHQUFFLDRDQUE0Q2dFLE1BQU0sV0FDaERoRSxFQUFFLHFCQUFxQnVGLFFBQVEsTUFHbkN2RixHQUFFLHNCQUFzQmdFLE1BQU0sV0FFMUIsR0FBSTZFLEdBQVE3SSxFQUFFc0csS0FBS3RHLEVBQUUsd0JBQXdCaUUsTUFFN0MsSUFBSTZFLEdBQU0sbUNBQ1YsS0FBS0EsRUFBSUMsS0FBS0YsR0FBUSxDQUNsQmpGLFVBQVVDLEtBQUs2QixPQUFPLFNBQ3RCMUYsR0FBRSx3QkFBd0JpRSxJQUFJLEdBQzlCLE9BQU8sT0FFWCxHQUFJNEUsR0FBUyxFQUFHLENBQ1pqRixVQUFVQyxLQUFLNkIsT0FBTyxlQUN0QixPQUFPLE9BR1gsR0FBSW1ELEVBQVFqRixVQUFVb0YsY0FBZSxDQUNqQ3BGLFVBQVVDLEtBQUs2QixPQUFPLFVBQVk5QixVQUFVb0YsY0FBZ0IsS0FDNUQsT0FBTyxPQUdYLEdBQUlDLEtBQ0pBLEdBQUksZUFBaUIvRyxDQUNyQitHLEdBQUksaUJBQW1CN0csQ0FDdkIsSUFBSThHLElBQW1CRCxFQUV2QkUsY0FDQW5KLEdBQUVpRixLQUFLLDJCQUNINUQsS0FBTSxPQUNOTCxNQUNJd0csYUFBZ0IsRUFDaEJDLGNBQWlCeUIsRUFDakJFLFlBQWVQLEVBQVEsSUFDdkJRLFlBQWUsR0FFbkJoRSxRQUFTLFNBQVNDLEdBQ2RnRSxhQUNBLElBQUloRSxFQUFPcUMsTUFBUSxFQUFHLENBQ2xCM0gsRUFBRSxxQkFBcUJ1RixRQUFRLElBQy9CM0IsV0FBVUMsS0FBS0MsUUFBUSxTQUN2QmhELEdBQU0wRCwrQkFDSCxDQUNIWixVQUFVQyxLQUFLNkIsT0FBTyxpQkFHOUJyQyxNQUFPLFNBQVNzQyxFQUFLQyxFQUFRQyxHQUN6QnlELGFBQ0F4SCxTQUFRQyxJQUFJOEQsRUFDWmpDLFdBQVVDLEtBQUs2QixPQUFPLHdCQVN0QyxPQUFPNUUsS0FLWCxJQUFJWSxtQkFBb0IsV0FFcEIsR0FBSTZILEtBT0pBLEdBQU0zSCxpQkFBbUIsU0FBUzRILEVBQVNDLEVBQVdDLEdBRWxELEdBQUlELEdBQWEsRUFBRyxDQUNoQixHQUFJdkYsR0FBT3dGLEdBQWdCLEVBQUksY0FBZ0IsbUJBQzVDLElBQUlELEdBQWEsR0FBS0EsR0FBYSxHQUFLQSxHQUFhLEdBQUtBLEdBQWEsRUFBRyxDQUM3RSxHQUFJdkYsR0FBT3dGLEdBQWdCLEVBQUksY0FBZ0IsZUFHbkQxSixFQUFFa0QsTUFBTWdCLEVBQU0sUUFDVmQsS0FBTSxXQUNGK0YsYUFDQW5KLEdBQUVpRixLQUFLLHVCQUNINUQsS0FBTSxPQUNONkQsU0FBVSxPQUNWbEUsTUFDSTJJLFNBQVlILEVBQ1pJLFdBQWNILEVBQ2RDLGFBQWdCQSxHQUVwQnJFLFFBQVMsU0FBU0MsR0FDZGdFLGFBQ0EsSUFBSWhFLEVBQU9xQyxNQUFRLEVBQUcsQ0FDbEIsR0FBSStCLEdBQWdCLEVBQUcsQ0FDbkI5RixVQUFVQyxLQUFLQyxRQUFRLGFBQ3BCLENBQ0hGLFVBQVVDLEtBQUtDLFFBQVEsU0FFM0IsR0FBSTJGLEdBQWEsRUFBRyxDQUNoQkksV0FBVyxXQUNQdEksT0FBT0MsU0FBU3NJLFVBQ2pCLFVBQ0EsQ0FDSGhKLE1BQU0wRCxnQ0FFUCxDQUNIWixVQUFVQyxLQUFLNkIsT0FBTyxpQkFHOUJyQyxNQUFPLFNBQVNzQyxFQUFLQyxFQUFRQyxHQUN6QnlELGFBQ0F4SCxTQUFRQyxJQUFJOEQsRUFDWmpDLFdBQVVDLEtBQUs2QixPQUFPLHFCQWMxQzZELEdBQU01SCxvQkFBc0IsU0FBUzZILEVBQVNDLEVBQVdDLEdBQ3JEUCxhQUNBbkosR0FBRWlGLEtBQUssdUJBQ0g1RCxLQUFNLE9BQ042RCxTQUFVLE9BQ1ZsRSxNQUNJRCxHQUFNeUksRUFDTk8sZUFBa0JMLEdBRXRCckUsUUFBUyxTQUFTQyxHQUNkZ0UsYUFDQSxJQUFJaEUsRUFBT3FDLE1BQVEsRUFBRyxDQUNsQixHQUFJK0IsR0FBZ0IsRUFBRyxDQUNuQjlGLFVBQVVDLEtBQUtDLFFBQVEsYUFDcEIsQ0FDSEYsVUFBVUMsS0FBS0MsUUFBUSxTQUUzQixHQUFJMkYsR0FBYSxFQUFHLENBQ2hCSSxXQUFXLFdBQ1B0SSxPQUFPQyxTQUFTc0ksVUFDakIsVUFDQSxDQUNIaEosTUFBTTBELGdDQUVQLENBQ0haLFVBQVVDLEtBQUs2QixPQUFPLGlCQUc5QnJDLE1BQU8sU0FBU3NDLEVBQUtDLEVBQVFDLEdBQ3pCeUQsYUFDQXhILFNBQVFDLElBQUk4RCxFQUNaakMsV0FBVUMsS0FBSzZCLE9BQU8sa0JBY2xDNkQsR0FBTTdHLGVBQWlCLFNBQVNZLEVBQVcwRyxFQUFjQyxFQUFZQyxHQUNqRWYsYUFFQW5KLEdBQUVpRixLQUFLLDZCQUNINUQsS0FBTSxPQUNONkQsU0FBVSxPQUNWbEUsTUFDSTBHLFdBQVlwRSxFQUNaM0MsY0FBZXFKLEVBQ2YxQyxZQUFhMkMsRUFDYkUsVUFBV0QsR0FFZjdFLFFBQVMsU0FBU3JFLEdBQ2RzSSxhQUNBLElBQUl0SSxFQUFLMkcsTUFBUSxFQUFHLENBQ2hCLEdBQUl1QyxHQUFZLEVBQUcsQ0FDZnRHLFVBQVVDLEtBQUtDLFFBQVEsZUFDcEIsQ0FDSEYsVUFBVUMsS0FBS0MsUUFBUSxTQUUzQmhELE1BQU0wRCwrQkFDSCxDQUNIWixVQUFVQyxLQUFLNkIsT0FBTzFFLEVBQUs0RyxPQUduQ3ZFLE1BQU8sU0FBU3NDLEVBQUtDLEVBQVFDLEdBQ3pCeUQsYUFDQXhILFNBQVF1QixNQUFNd0MsRUFDZGpDLFdBQVVDLEtBQUs2QixPQUFPLGlCQVdsQzZELEdBQU1oRyxjQUFnQixTQUFTeEMsRUFBSXFKLEdBQy9CcEssRUFBRWtELE1BQU1rSCxFQUFhLGNBQWdCLGVBQWdCLFFBQ2pEaEgsS0FBTSxXQUNGK0YsYUFDQW5KLEdBQUVpRixLQUFLLHVCQUNINUQsS0FBTSxPQUNONkQsU0FBVSxPQUNWbEUsTUFNSTJJLFNBQVU1SSxFQUNWNkksV0FBWSxFQUNaRixhQUFjVSxFQUFhLEVBQUksR0FFbkMvRSxRQUFTLFNBQVNyRSxHQUVkLEdBQUlBLEVBQUsyRyxNQUFRLEVBQUcsQ0FDaEIvRCxVQUFVQyxLQUFLQyxRQUFROUMsRUFBSzRHLElBQzVCaUMsWUFBVyxXQUNQUSxjQUNELFNBQ0EsQ0FDSHpHLFVBQVVDLEtBQUs2QixPQUFPMUUsRUFBSzRHLElBQzNCMEIsY0FDQXJELE1BQUtxRSxTQUFXLE9BR3hCakgsTUFBTyxTQUFTc0MsRUFBS0MsRUFBUUMsR0FDekIvRCxRQUFRdUIsTUFBTXdDLEVBQ2R5RCxjQUNBckQsTUFBS3FFLFNBQVcsSUFDaEIxRyxXQUFVQyxLQUFLNkIsT0FBTyxvQkFnQjFDNkQsR0FBTXZHLG9CQUFzQixTQUFTc0UsRUFBYTNHLEVBQWUrRyxHQUM3RHlCLGFBQ0FuSixHQUFFaUYsS0FBSyxzQkFDSDVELEtBQU0sT0FDTjZELFNBQVUsT0FDVmxFLE1BQ0kySSxTQUFVckMsRUFDVnNDLFdBQVlqSixFQUNaNkcsYUFBYyxFQUNkRSxXQUFZQSxHQUVoQnJDLFFBQVMsU0FBU0MsR0FDZGdFLGFBQ0EsSUFBSWhFLEVBQU9xQyxNQUFRLEVBQUcsQ0FDbEIsR0FBSTRDLEdBQVVqRixFQUFPdEUsS0FBSyxZQUN0QndKLEVBQWNsRixFQUFPdEUsS0FBSyxnQkFDMUJ5SixFQUFZQyxPQUFPQyxLQUFLSCxHQUFhaEYsT0FDckN0QixFQUFPLEVBRVgsSUFBSXFHLEdBQVcsRUFBRyxDQUNkckcsRUFBTyxrRUFDSixJQUFJc0csRUFBWSxJQUFNSSxVQUFXLENBRXBDLElBQUssR0FBSUMsR0FBUSxFQUFHQSxHQUFTSixFQUFXSSxJQUFVLENBQzlDM0csR0FBUyxJQUFNc0csRUFBWUssR0FBTyxTQUFXLElBRWpEM0csRUFBUSxtQ0FBcUNBLEVBQU8sUUFFakQsQ0FDSCxHQUFJdUcsR0FBYSxFQUFHLENBQ2hCdkcsRUFBTyw4Q0FDSixDQUVILElBQUssR0FBSTJHLEdBQVEsRUFBR0EsRUFBUUosRUFBV0ksSUFBVSxDQUM3QzNHLEdBQVMsSUFBTXNHLEVBQVlLLEdBQU8sU0FBVyxJQUVqRDNHLEVBQU8sd0NBQTBDQSxFQUFPLEtBR2hFbEUsRUFBRWtELE1BQU1nQixFQUFNLFFBQ1Y0RyxPQUFRLE9BQ1IxSCxLQUFNLFdBQ0ZtRyxFQUFNd0IscUJBQXFCekQsRUFBYTNHLEVBQWUrRyxVQUk1RCxDQUNIOUQsVUFBVUMsS0FBSzZCLE9BQU8sV0FHOUJyQyxNQUFPLFNBQVNzQyxFQUFLQyxFQUFRQyxHQUN6QnlELGFBQ0F4SCxTQUFRQyxJQUFJOEQsRUFDWmpDLFdBQVVDLEtBQUs2QixPQUFPLHFCQU9sQzZELEdBQU0vRixxQkFBdUIsU0FBVThELEdBQ25DNkIsYUFDQW5KLEdBQUVpRixLQUFLLHNCQUNINUQsS0FBTSxPQUNONkQsU0FBVSxPQUNWbEUsTUFDSTJJLFNBQVVyQyxFQUNWc0MsV0FBWSxFQUNacEMsYUFBYyxFQUNkRSxXQUFZdkgsU0FBU0ksV0FFekI4RSxRQUFTLFNBQVNDLEdBQ2RnRSxhQUNBLElBQUloRSxFQUFPcUMsTUFBUSxFQUFHLENBQ2xCLEdBQUk0QyxHQUFVakYsRUFBT3RFLEtBQUssWUFDdEJ3SixFQUFjbEYsRUFBT3RFLEtBQUssZ0JBQzFCeUosRUFBWUMsT0FBT0MsS0FBS0gsR0FBYWhGLE9BQ3JDdEIsRUFBTyxFQUVYLElBQUlxRyxHQUFXLEVBQUcsQ0FDZHJHLEVBQU8sOENBQ0osQ0FDSCxJQUFLLEdBQUkyRyxHQUFRLEVBQUdBLEdBQVNKLEVBQVdJLElBQVUsQ0FDOUMzRyxHQUFTLElBQU1zRyxFQUFZSyxHQUFPLFNBQVcsSUFFakQzRyxFQUFRLG1DQUFxQ0EsRUFBTyxJQUd4RGxFLEVBQUVrRCxNQUFNZ0IsRUFBTSxRQUNWNEcsT0FBUSxPQUNSMUgsS0FBTSxXQUNGbUcsRUFBTXdCLHFCQUFxQnpELEVBQWEsRUFBR25ILFNBQVNJLGtCQUl6RCxDQUNIcUQsVUFBVUMsS0FBSzZCLE9BQU8sUUFDdEI1RCxTQUFRQyxJQUFJdUQsRUFBT3NDLE9BRzNCdkUsTUFBTyxTQUFTc0MsRUFBS0MsRUFBUUMsR0FDekJ5RCxhQUNBeEgsU0FBUUMsSUFBSThELEVBQ1pqQyxXQUFVQyxLQUFLNkIsT0FBTyxxQkFNbEM2RCxHQUFNMUgsWUFBYyxTQUFTZCxFQUFHaUssR0FFNUIsR0FBSUMsR0FBUWpMLEVBQUUscUJBQXFCZ0IsS0FBSyxlQUN4QyxJQUFHaUssR0FBV0EsR0FBUyxFQUFHLENBQ3RCakwsRUFBRWtELE1BQU04SCxFQUFXLHNDQUNmLHdDQUF5QyxRQUN6Q0UsS0FBTSxPQUNOOUgsS0FBTSxXQUNGK0YsYUFDQW5KLEdBQUVpRixLQUFLLHlCQUNINUQsS0FBTSxPQUNONkQsU0FBVSxPQUNWbEUsTUFDSUQsR0FBSUEsRUFDSm9LLGlCQUFrQkgsR0FFdEIzRixRQUFTLFNBQVVyRSxHQUNmYyxRQUFRQyxJQUFJZixFQUNaUSxVQUFTc0ksUUFDVCxJQUFJOUksRUFBSzJHLE1BQVEsRUFBRyxDQUNoQi9ELFVBQVVDLEtBQUtDLFFBQVE5QyxFQUFLNEcsSUFDNUJpQyxZQUFXLFdBQ1BRLGNBQ0QsU0FDQSxDQUNIekcsVUFBVUMsS0FBSzZCLE9BQU8xRSxFQUFLNEcsSUFDM0IwQiwwQkFPbkIsQ0FDRDFGLFVBQVVDLEtBQUs2QixPQUFPLDhCQVU5QjZELEdBQU13QixxQkFBdUIsU0FBU2QsRUFBWUQsRUFBY29CLEdBRTVEcEwsRUFBRWlGLEtBQUssZUFDSDVELEtBQU0sT0FDTjZELFNBQVUsT0FDVmxFLE1BQ0kySSxTQUFVTSxFQUNWTCxXQUFZSSxFQUNaeEMsYUFBYyxFQUNkRSxXQUFZMEQsR0FFaEIvRixRQUFTLFNBQVNDLEdBQ2R0RixFQUFFLGFBQWF1RixRQUFRLElBQ3ZCLElBQUlELEVBQU9xQyxNQUFRLEVBQUcsQ0FDbEIvRCxVQUFVQyxLQUFLQyxRQUFRLGFBQ3BCLENBQ0hGLFVBQVVDLEtBQUs2QixPQUFPLGNBRTFCLEdBQUlzRSxHQUFnQixFQUFHLENBQ25CbEosTUFBTXVELDhCQUNILENBQ0h2RCxNQUFNMEQsNkJBR2RuQixNQUFPLFNBQVNzQyxFQUFLQyxFQUFRQyxHQUN6QjdGLEVBQUUsYUFBYXVGLFFBQVEsSUFDdkJ6RCxTQUFRQyxJQUFJOEQsRUFDWmpDLFdBQVVDLEtBQUs2QixPQUFPLHFCQVlsQzZELEdBQU0zRyxlQUFpQixTQUFTVSxFQUFXbEIsRUFBU0YsRUFBT08sRUFBYTRJLEdBTXBFLEdBQUk1SSxHQUFlLEdBQUtBLEdBQWUsRUFBRyxDQUN0QyxHQUFJTCxHQUFXLEVBQUcsQ0FDZHBDLEVBQUVrRCxNQUFNLHVCQUF3QixRQUM1QkMsSUFBSyxRQUVOLElBQUlmLEdBQVcsR0FBS0EsR0FBVyxHQUFLQSxHQUFXLEVBQUcsQ0FDckRwQyxFQUFFa0QsTUFBTSx1QkFBd0IsUUFDNUJDLElBQUssSUFHYixNQUFPLE9BR1hnRyxhQUNBbkosR0FBRWlGLEtBQUssNkJBQ0g1RCxLQUFNLE9BQ042RCxTQUFVLE9BQ1ZsRSxNQUNJMEcsV0FBWXBFLEVBQ1ozQyxjQUFleUIsRUFDZmtGLFlBQWFwRixFQUNib0osVUFBV0QsR0FFZmhHLFFBQVMsU0FBU3JFLEdBQ2RzSSxhQUNBLElBQUl0SSxFQUFLMkcsTUFBUSxFQUFHLENBQ2hCLEdBQUkwRCxHQUFZLEVBQUcsQ0FDZnpILFVBQVVDLEtBQUtDLFFBQVEsYUFDcEIsQ0FDSEYsVUFBVUMsS0FBS0MsUUFBUSxTQUUzQmhELE1BQU0wRCwrQkFDSCxDQUNIWixVQUFVQyxLQUFLNkIsT0FBTyxXQUc5QnJDLE1BQU8sU0FBU3NDLEVBQUtDLEVBQVFDLEdBQ3pCL0QsUUFBUXVCLE1BQU13QyxFQUNkeUQsY0FDQTFGLFdBQVVDLEtBQUs2QixPQUFPLGlCQU9sQzZELEdBQU0xRyxZQUFjLFNBQVUwSSxHQUUxQnZMLEVBQUVpRixLQUFLLCtCQUNINUQsS0FBTSxPQUNONkQsU0FBVSxPQUNWbEUsTUFDSXdLLFNBQVVELEdBRWRsRyxRQUFTLFNBQVVDLEdBQ2YsT0FBUUEsRUFBT3FDLE1BQ1gsSUFBSyxHQUNEcEcsT0FBT0MsU0FBU0MsS0FBTzZELEVBQU90RSxLQUFLLE1BQ25DLE1BQ0osS0FBSyxHQUNEaEIsRUFBRWtELE1BQU0sMkNBQTRDLFFBQ2hEQyxJQUFLLEdBRVQsTUFDSixLQUFLLEdBQ0RuRCxFQUFFa0QsTUFBTSw0Q0FBNkMsUUFDakRDLElBQUssR0FFVCxNQUNKLEtBQUssR0FDRG5ELEVBQUVrRCxNQUFNLDhCQUErQixRQUNuQ0MsSUFBSyxHQUVULE1BQ0osS0FBSyxHQUNEbkQsRUFBRWtELE1BQU0sV0FBWSxRQUNoQkMsSUFBSyxHQUVULE1BQ0osS0FBSyxHQUNEbkQsRUFBRWtELE1BQU0sdUJBQXdCLFFBQzVCQyxJQUFLLEdBRVQsTUFDSixLQUFLLEdBQ0RuRCxFQUFFa0QsTUFBTSxxQkFBc0IsUUFDMUJDLElBQUssR0FFVCxNQUNKLFNBQ0lyQixRQUFRQyxJQUFJLE9BQ1o2QixXQUFVQyxLQUFLNkIsT0FBT0osRUFBT3NDLElBQzdCLE9BRVI5RixRQUFRQyxJQUFJdUQsRUFBT3NDLE1BRXZCdkUsTUFBTyxTQUFVc0MsRUFBS0MsRUFBUUMsR0FDMUIvRCxRQUFRQyxJQUFJOEQsRUFDWmpDLFdBQVVDLEtBQUs2QixPQUFPLHFCQU1sQzZELEdBQU16RyxjQUFnQixTQUFTVixFQUFTRixFQUFPRyxFQUFVQyxFQUFPQyxFQUFVQyxHQUV0RSxHQUFJRixHQUFTLEVBQUcsQ0FDWixHQUFJRixHQUFXLEVBQUcsQ0FDZHBDLEVBQUVrRCxNQUFNLHVCQUF3QixRQUM1QkMsSUFBSyxRQUVOLElBQUlmLEdBQVcsR0FBS0EsR0FBVyxHQUFLQSxHQUFXLEVBQUcsQ0FDckRwQyxFQUFFa0QsTUFBTSx1QkFBd0IsUUFDNUJDLElBQUssU0FHVixDQUNIckMsTUFBTThILHdCQUF3QnBHLEVBQVdILEVBQVVELEVBQVNHLEVBQVVMLEVBQ3RFbEMsR0FBRSxxQkFBcUJnRixPQUFPLE1BS3RDdUUsR0FBTXhHLGlCQUFtQixTQUFTWCxFQUFTRixFQUFPTyxHQUU5QyxHQUFJQSxHQUFlLEVBQUcsQ0FDbEIsR0FBSXlCLEdBQU8sZ0NBQ1IsSUFBSXpCLEdBQWUsRUFBRyxDQUN6QixHQUFJeUIsR0FBTyw4QkFFZmxFLEVBQUVrRCxNQUFNZ0IsRUFBTSxRQUNWZCxLQUFNLFdBQ0YrRixhQUNBLElBQUlGLEtBQ0pBLEdBQUksZUFBaUIvRyxDQUNyQitHLEdBQUksaUJBQW1CN0csQ0FDdkIsSUFBSThHLElBQW1CRCxFQUV2QmpKLEdBQUVpRixLQUFLLDJCQUNINUQsS0FBTSxPQUNOTCxNQUNJd0csYUFBZ0IsRUFDaEJDLGNBQWlCeUIsRUFDakJHLFlBQWUsR0FFbkJoRSxRQUFTLFNBQVNDLEdBQ2RnRSxhQUNBLElBQUloRSxFQUFPcUMsTUFBUSxFQUFHLENBQ2xCL0QsVUFBVUMsS0FBS0MsUUFBUSxVQUN2QmhELE9BQU0wRCwrQkFDSCxDQUNIWixVQUFVQyxLQUFLNkIsT0FBTyxpQkFHOUJyQyxNQUFPLFNBQVNzQyxFQUFLQyxFQUFRQyxHQUN6QnlELGFBQ0F4SCxTQUFRQyxJQUFJOEQsRUFDWmpDLFdBQVVDLEtBQUs2QixPQUFPLHlCQVMxQzZELEdBQU10RyxxQkFBdUIsU0FBVWYsRUFBT3VKLEdBRTFDekwsRUFBRWlGLEtBQUssNEJBQ0g1RCxLQUFNLE9BQ042RCxTQUFVLE9BQ1ZsRSxNQUNJRCxHQUFJbUIsRUFDSnZCLGNBQWUsRUFDZitLLFdBQVlELEVBQVksRUFBSSxHQUVoQ3BHLFFBQVMsU0FBVUMsR0FDZixHQUFJQSxFQUFPcUMsTUFBUSxFQUFHLENBQ2xCLEdBQUk4RCxFQUFXLENBQ1g3SCxVQUFVQyxLQUFLQyxRQUFRLGNBQ3BCLENBQ0hGLFVBQVVDLEtBQUtDLFFBQVEsVUFFM0J2QyxPQUFPQyxTQUFTc0ksYUFFYixDQUNIbEcsVUFBVUMsS0FBSzZCLE9BQU8sZ0JBRzlCckMsTUFBTyxTQUFVc0MsRUFBS0MsRUFBUUMsR0FDMUIvRCxRQUFRQyxJQUFJOEQsRUFDWmpDLFdBQVVDLEtBQUs2QixPQUFPLGtCQU1sQzZELEdBQU01RSxtQkFBcUIsV0FFdkIzRSxFQUFFLCtCQUErQmtILEtBQUssV0FDbEMsR0FBSXlFLEdBQU8zTCxFQUFFc0IsS0FDYnFLLEdBQUtwSCxLQUFLLFdBQVlvSCxFQUFLcEgsS0FBSyxRQUNoQ29ILEdBQUtySCxXQUFXLFVBU3hCaUYsR0FBTW5GLGdCQUFrQixTQUFVUyxHQUU5QixHQUFJK0csR0FBVzVMLEVBQUUsNkNBQTZDaUUsS0FFOUQsSUFBSzJILEdBQVksR0FBSy9HLEdBQVUsYUFBaUIrRyxHQUFZLEdBQUsvRyxHQUFVLGFBQWUsQ0FDdkYsTUFBTyxPQUVYLEdBQUlBLEdBQVUsWUFBYSxDQUN2QjdFLEVBQUUsd0JBQXdCbUIsU0FBUyxtQkFDbkNuQixHQUFFLHlCQUF5QmtCLFlBQVksbUJBRXZDSixPQUFNUixTQUFXLFlBQ2pCUSxPQUFNc0IsUUFBVSxNQUViLElBQUl5QyxHQUFVLGFBQWMsQ0FDL0I3RSxFQUFFLHlCQUF5Qm1CLFNBQVMsbUJBQ3BDbkIsR0FBRSx3QkFBd0JrQixZQUFZLG1CQUV0Q0osT0FBTVIsU0FBVyxhQUNqQlEsT0FBTXNCLFFBQVUsR0FNeEIsT0FBT21IIiwiZmlsZSI6Im1lbWJlckRldGFpbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBBZG1pbmlzdHJhdG9yIG9uIDIwMTcvMy8yMS5cbiAqL1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICBCdXNpbmVzcy5pbml0KCk7XG5cbn0pO1xuXG52YXIgQnVzaW5lc3MgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgQnVzaW5lc3MgPSB7fTtcblxuICAgIEJ1c2luZXNzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIEJ1c2luZXNzLnRhYlN0YXRlID0gXCJzaW5nbGVMaXN0XCI7ICAvLyDpu5jorqTmmL7npLrkuJPmoI/liJfooaggICAgIO+8iFwicGFja2FnZUxpc3RcIiwgXCJzaW5nbGVMaXN0XCLvvIlcblxuICAgIEJ1c2luZXNzLm1lbWJlcl9pZCA9IC0xO1xuICAgIEJ1c2luZXNzLm1lbWJlcl9wcmljZSA9IDA7XG5cbiAgICAvLyAg5pCc57SiXG4gICAgQnVzaW5lc3Muc2VhcmNoQ29udGVudEZvclNpbmdsZSA9IFwiXCI7XG4gICAgQnVzaW5lc3Muc2VhcmNoQ29udGVudEZvclBhY2thZ2UgPSBcIlwiO1xuICAgIEJ1c2luZXNzLnJlc291cmNlX3R5cGUgPSAwO1xuXG4gICAgQnVzaW5lc3MucGFnZUluZGV4ID0gMTtcblxuICAgIEJ1c2luZXNzLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gIOS7juW9k+WJjVVSTOS4reWPluWHuuWPguaVsFxuICAgICAgICBCdXNpbmVzcy5tZW1iZXJfaWQgPSBHZXRRdWVyeVN0cmluZyhcImlkXCIpO1xuICAgICAgICBtb2RhbC5pZCA9IEdldFF1ZXJ5U3RyaW5nKFwiaWRcIik7XG4gICAgICAgIEJ1c2luZXNzLm1lbWJlcl9wcmljZSA9ICQoXCIuYWRtaW5fZGF0YVwiKS5kYXRhKFwibWVtYmVyX3ByaWNlXCIpO1xuXG4gICAgICAgIC8vICDmt7vliqDljZXlk4FcbiAgICAgICAgJChcIi5hZGRNZW1iZXJSaWdodHNcIikuaG92ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKFwiLmNsaWNrQnRuV3JhcHBlclwiKS5yZW1vdmVDbGFzcyhcImhpZGVcIik7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJChcIi5jbGlja0J0bldyYXBwZXJcIikuYWRkQ2xhc3MoXCJoaWRlXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyAg6ZKI5a+55Lya5ZGY5L+h5oGv55qE5pON5L2cXG4gICAgICAgICQoJy50b29sQm94Jykub24oXCJjbGlja1wiLCBcImxpXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmRhdGEoXCJ0eXBlXCIpO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVkaXRcIjovLyAg57yW6L6RXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvZWRpdF9tZW1iZXJfcGFnZT9pZD1cIiArIEJ1c2luZXNzLm1lbWJlcl9pZCArIFwiJnBhZ2Vfb3JpZ2luPW1lbWJlcl9kZXRhaWxcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5ld0xpc3RTaG93XCI6Ly/lnKjmnIDmlrDliJfooajkuK3mmL7npLpcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuY2hhbmdlTmV3bExpc3RTdGF0ZShCdXNpbmVzcy5tZW1iZXJfaWQsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibmV3TGlzdEhpZGVcIjovL+WcqOacgOaWsOWIl+ihqOS4reaYvuekulxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5jaGFuZ2VOZXdsTGlzdFN0YXRlKEJ1c2luZXNzLm1lbWJlcl9pZCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzaG93X21lbWJlclwiOi8vICDkuIrmnrZcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuY2hhbmdlR29vZHNTdGF0ZShCdXNpbmVzcy5tZW1iZXJfaWQsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiaGlkZV9tZW1iZXJcIjovLyAg5LiL5p62XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLmNoYW5nZUdvb2RzU3RhdGUoQnVzaW5lc3MubWVtYmVyX2lkLCAwLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9wZW5Gb3JtXCI6Ly8gIOW8gOWQr+i1hOaWmeWhq+WGmVxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5wYWNrYWdlRm9ybShCdXNpbmVzcy5tZW1iZXJfaWQsIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2xvc2VGb3JtXCI6Ly8gIOWFs+mXrei1hOaWmeWhq+WGmVxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5wYWNrYWdlRm9ybShCdXNpbmVzcy5tZW1iZXJfaWQsIDApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuS8muWRmOaTjeS9nO+8jOWPguaVsOmUmeivr+OAglwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIOmSiOWvueWNleWTgeWIl+ihqOS4reavj+S4gOS4quadoeebrueahOaTjeS9nFxuICAgICAgICAkKFwiLm1lbWJlcl9saXN0X3dyYXBwZXJcIikub24oXCJjbGlja1wiLCBcIi5ob3Zlcl90b29sX2JveCBsaS5vcGVyYXRlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIC8vICDpmLvmraLkuovku7blkJHkuIvkvKDpgJJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIC8vICDlvZPliY3mnaHnm67nmoTotYTmupBpZFxuICAgICAgICAgICAgdmFyIHJlc0lkID0gJCh0aGlzKS5wYXJlbnRzKFwiLm1lbWJlcl9saXN0X2l0ZW1cIikuZGF0YShcInJlc291cmNlX2lkXCIpLFxuICAgICAgICAgICAgICAgIHJlc1R5cGUgPSAkKHRoaXMpLnBhcmVudHMoXCIubWVtYmVyX2xpc3RfaXRlbVwiKS5kYXRhKFwicmVzb3VyY2VfdHlwZVwiKSxcbiAgICAgICAgICAgICAgICByZXNUaXRsZSA9ICQodGhpcykucGFyZW50cyhcIi5tZW1iZXJfbGlzdF9pdGVtXCIpLmRhdGEoXCJyZXNfdGl0bGVcIiksXG4gICAgICAgICAgICAgICAgaXNUcnkgPSAkKHRoaXMpLnBhcmVudHMoXCIubWVtYmVyX2xpc3RfaXRlbVwiKS5kYXRhKFwiaXNfdHJ5XCIpLFxuICAgICAgICAgICAgICAgIHNob3dUaW1lID0gJCh0aGlzKS5wYXJlbnRzKFwiLm1lbWJlcl9saXN0X2l0ZW1cIikuZGF0YShcInNob3dfdGltZVwiKSxcbiAgICAgICAgICAgICAgICByZXNJbWdVcmwgPSAkKHRoaXMpLnBhcmVudHMoXCIubWVtYmVyX2xpc3RfaXRlbVwiKS5kYXRhKFwiaW1nX3VybFwiKSxcbiAgICAgICAgICAgICAgICBwYXltZW50VHlwZSA9ICQodGhpcykucGFyZW50cyhcIi5tZW1iZXJfbGlzdF9pdGVtXCIpLmRhdGEoXCJwYXltZW50X3R5cGVcIik7XG5cbiAgICAgICAgICAgIHZhciB0eXBlID0gJCh0aGlzKS5kYXRhKFwidHlwZVwiKTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0b190b3BcIjovLyAg572u6aG2XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLnNldFJlc291cmNlVG9wKEJ1c2luZXNzLm1lbWJlcl9pZCwgcmVzVHlwZSwgcmVzSWQsIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2FuY2VsX3RvcFwiOi8vICDlj5bmtojnva7pobZcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuc2V0UmVzb3VyY2VUb3AoQnVzaW5lc3MubWVtYmVyX2lkLCByZXNUeXBlLCByZXNJZCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsb29rX2NvbW1lbnRzXCI6Ly8gIOafpeeci+ivhOiuulxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzVHlwZSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50RGV0YWlsKFwiL2FsaXZlY29tbWVudD9hbGl2ZV9pZD1cIiArIHJlc0lkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnREZXRhaWwoXCIvY29tbWVudF9hZG1pbj90eXBlPVwiICsgKHJlc1R5cGUgLSAxKSArIFwiJnJlY29yZF9pZD1cIiArIHJlc0lkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZWRpdFwiOi8vICDnvJbovpFcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9lZGl0X3Jlc291cmNlX3BhZ2U/dHlwZT1cIiArIHJlc1R5cGUgKyBcIiZpZD1cIiArIHJlc0lkICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiJnVwbG9hZF9jaGFubmVsX3R5cGU9M1wiICsgXCImcGFja2FnZV9pZD1cIiArIEJ1c2luZXNzLm1lbWJlcl9pZCArIFwiJnByaWNlPVwiICsgQnVzaW5lc3MubWVtYmVyX3ByaWNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic2V0X3RyeVwiOi8vICDorr7kuLror5XlkKwg5oiWIOivleeci1xuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5zZXRSZXNvdXJjZVRyeShCdXNpbmVzcy5tZW1iZXJfaWQsIHJlc1R5cGUsIHJlc0lkLCBwYXltZW50VHlwZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjYW5jZWxfdHJ5XCI6Ly8gIOWPlua2iOivleWQrCDmiJYg6K+V55yLXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLnNldFJlc291cmNlVHJ5KEJ1c2luZXNzLm1lbWJlcl9pZCwgcmVzVHlwZSwgcmVzSWQsIHBheW1lbnRUeXBlLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImV4cG9ydF9hdWRpb1wiOi8vICDlr7zlh7rpn7PpopFcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuZXhwb3J0QXVkaW8ocmVzSWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic2V0X3NpbmdsZV9zYWxlXCI6Ly8gIOiuvue9ruWNleWNllxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5zZXRTaW5nbGVTYWxlKHJlc1R5cGUsIHJlc0lkLCByZXNUaXRsZSwgaXNUcnksIHNob3dUaW1lLCByZXNJbWdVcmwpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2FuY2VsX3NpbmdsZV9zYWxlXCI6Ly8gIOWPlua2iOWNleWNllxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5jYW5jZWxTaW5nbGVTYWxlKHJlc1R5cGUsIHJlc0lkLCBwYXltZW50VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzaG93X3Jlc291cmNlXCI6Ly8gIOS4iuaetlxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5jaGFuZ2VHb29kc1N0YXRlKHJlc0lkLCByZXNUeXBlLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImhpZGVfcmVzb3VyY2VcIjovLyAg5LiL5p62XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLmNoYW5nZUdvb2RzU3RhdGUocmVzSWQsIHJlc1R5cGUsIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVsZXRlXCI6Ly8gIOenu+mZpOivpeWVhuWTgVxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5xdWVyeVNpbmdsZVJlc291cmNlKHJlc0lkLCByZXNUeXBlLCBCdXNpbmVzcy5tZW1iZXJfaWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdlbmFibGVfY29weSc6Ly/lhYHorrjlpI3liLZcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuY2hhbmdlQ2FuU2VsZWN0U3RhdGUocmVzSWQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmb3JiaWRfY29weSc6Ly/npoHmraLlpI3liLZcbiAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuemgeatouWkjeWItuWQju+8jOivpeevh+WbvuaWh+eahOWbvueJh+eCueWHu+aUvuWkp+WSjOmVv+aMieivhuWIq+S6jOe7tOeggeWKn+iDveWwhuiiq+emgeeUqFwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLmNoYW5nZUNhblNlbGVjdFN0YXRlKHJlc0lkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCflj4LmlbDplJnor68nKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIOmSiOWvueS4k+agj+WIl+ihqOS4reavj+S4gOS4quadoeebrueahOaTjeS9nFxuICAgICAgICAkKFwiLm1lbWJlcl9saXN0X3dyYXBwZXJcIikub24oXCJjbGlja1wiLCBcIiNwYWNrYWdlX2l0ZW1fb3BlcmF0ZSBsaS5vcGVyYXRlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgdmFyIHBhY2thZ2VJZCA9ICQodGhpcykucGFyZW50cyhcIi5wYWNrYWdlX2xpc3RfaXRlbVwiKS5kYXRhKFwicGFja2FnZV9pZFwiKSxcbiAgICAgICAgICAgICAgICB0eXBlID0gJCh0aGlzKS5kYXRhKFwidHlwZVwiKTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIGNhc2UgXCJ0b190b3BcIjogIC8v572u6aG2XG4gICAgICAgICAgICAgICAgLy8gICAgIG1lbWJlckRldGFpbFV0aWxzLnNldFJlc291cmNlVG9wKEJ1c2luZXNzLm1lbWJlcl9pZCwgNiwgcGFja2FnZUlkLCAxKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gY2FzZSBcImNhbmNlbF90b3BcIjogIC8v572u6aG2XG4gICAgICAgICAgICAgICAgLy8gICAgIG1lbWJlckRldGFpbFV0aWxzLnNldFJlc291cmNlVG9wKEJ1c2luZXNzLm1lbWJlcl9pZCwgNiwgcGFja2FnZUlkLCAwKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc29sZG91dCc6XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLnBhY2thZ2Vpc1Nob3cocGFja2FnZUlkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3B1dGF3YXknOlxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5wYWNrYWdlaXNTaG93KHBhY2thZ2VJZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlZGl0X3BhY2thZ2VcIjogICAgLy/nvJbovpFcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImVkaXRfcGFja2FnZV9wYWdlP2lkPVwiICsgcGFja2FnZUlkICsgXCImbWVtYmVyX2lkPVwiICsgbW9kYWwuaWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVfcGFja2FnZVwiOiAgLy/np7vpmaTor6XmnYPnm4pcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMucXVlcnlQYWNrYWdlUmVzb3VyY2UocGFja2FnZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlj4LmlbDplJnor69cIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAg5pON5L2cIC0g5aSN5Yi25Yiw5Ymq6LS05p2/XG4gICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKCcuY29weUhyZWYnKTtcbiAgICAgICAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZihlLnRyaWdnZXIuaWQ9PSdjb3B5X2FwcF9ocmVmJyl7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlpI3liLbmiJDlip/vvIFcIik7XG5cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWkjeWItuaIkOWKn++8geivt+WcqOW+ruS/oeWGheaJk+W8gOWTpiDjgIJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSgpO1xuXG4gICAgICAgIC8vIOS4k+agjyArIOWNleWTgSB0YWIg5YiH5o2iXG4gICAgICAgICQoXCIuY29udGVudF90YWJfd3JhcHBlciBsaVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIUJ1c2luZXNzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICQoXCIuaW5wdXRTZWFyY2hBbGxcIikudmFsKFwiXCIpO1xuICAgICAgICAgICAgICAgIEJ1c2luZXNzLnBhZ2VJbmRleCA9IDE7ICAgICAvL+WIh+aNouWQju+8jOWIhumhtemhteeggee9ruS4ujFcbiAgICAgICAgICAgICAgICBCdXNpbmVzcy5pc0xvYWRpbmcgPSB0cnVlOyAgLy/orrDlvZXliqDovb3nirbmgIHvvIzpmLLph43lpI3ngrnlh7tcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9ICQodGhpcykudGV4dCgpO1xuICAgICAgICAgICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQgPT0gXCLkuJPmoI9cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwYWNrYWdlVGFiXCIpLmFkZENsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjc2luZ2xlVGFiXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQ29udGVudFRhYlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuc2VsZWN0b3JfcmVzb3VyY2VfdHlwZVwiKS5hZGRDbGFzcyhcImhpZGVcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dCA9PSBcIuWNleWTgVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3NpbmdsZVRhYlwiKS5hZGRDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3BhY2thZ2VUYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGV4dCA9PSBcIuS4k+agj1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIEJ1c2luZXNzLnNlYXJjaENvbnRlbnRGb3JQYWNrYWdlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgQnVzaW5lc3MudGFiU3RhdGUgPSBcInBhY2thZ2VMaXN0XCI7XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLnN3aXRjaFdpbmRvd1RhYihcInBhY2thZ2VUYWJcIik7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRQYWNrYWdlTGlzdE9mTWVtYmVyKCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gXCLljZXlk4FcIikge1xuICAgICAgICAgICAgICAgICAgICBCdXNpbmVzcy5zZWFyY2hDb250ZW50Rm9yU2luZ2xlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgQnVzaW5lc3MucmVzb3VyY2VfdHlwZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICQoJyNmaXJzdE9wdGlvbicpLnJlbW92ZUF0dHIoXCJzZWxlY3RlZFwiKS5hdHRyKFwic2VsZWN0ZWRcIixcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBCdXNpbmVzcy50YWJTdGF0ZSA9IFwic2luZ2xlTGlzdFwiO1xuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5zd2l0Y2hXaW5kb3dUYWIoXCJzaW5nbGVUYWJcIik7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRSZXNvdXJjZUxpc3RPZk1lbWJlcigpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIOWIneWni+WMlumAieaLqeW3suacieWNleWTgVxuICAgICAgICBtb2RhbC5zZWxlY3RSZXNvdXJjZSgpO1xuXG4gICAgICAgIC8vICDliJ3lp4vljJbmkJzntKLnrZvpgIlcbiAgICAgICAgbW9kYWwuaW5pdFJlc291cmNlQW5kUGFja2FnZVNlYXJjaCgpO1xuXG4gICAgICAgIC8vICDliJ3lp4vljJbliJfooajnmoTliIbpobVcbiAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuaW5pdExpc3RQYWdpbmF0aW9uKCk7XG5cbiAgICAgICAgLy/liIbpobXor7fmsYJcbiAgICAgICAgJChcIi5tZW1iZXJfbGlzdF93cmFwcGVyXCIpLm9uKCdjbGljaycsICcgLnBhZ2luYXRpb24gbGkgYScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBlbGUgPSAkKGUudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICB1cmwgPSBlbGUuZGF0YSgndXJsJyk7XG4gICAgICAgICAgICBCdXNpbmVzcy5wYWdlSW5kZXggPSBlbGUudGV4dCgpO1xuICAgICAgICAgICAgaWYgKEJ1c2luZXNzLnRhYlN0YXRlID09IFwicGFja2FnZUxpc3RcIikge1xuICAgICAgICAgICAgICAgIG1vZGFsLmluaXRQYWNrYWdlTGlzdE9mTWVtYmVyKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJ1c2luZXNzLnRhYlN0YXRlID09IFwic2luZ2xlTGlzdFwiKSB7XG4gICAgICAgICAgICAgICAgbW9kYWwuaW5pdFJlc291cmNlTGlzdE9mTWVtYmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8v5ZC05pmT5rOi5LiT55So6Ieq5a6a5LmJ5YaF5a655YiX6KGo6Lez6L2s5oyJ6ZKuXG4gICAgICAgICQoXCIudXNlckRlZmluZWRcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBwaWQgPSAkKCcuYWRtaW5fZGF0YScpLmRhdGEoXCJtZW1iZXJfaWRcIik7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj1cIi91c2VyX2RlZmluZWQ/aWQ9XCIgKyBwaWQ7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIHJldHVybiBCdXNpbmVzcztcblxufSkoKTtcblxudmFyIG1vZGFsID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIG1vZGFsID0ge307XG5cbiAgICAvKipcbiAgICAgKiDmqKHlnZfkuIDvvJrliJ3lp4vljJbljZXlk4HliJfooahcbiAgICAgKi9cbiAgICBtb2RhbC5pbml0UmVzb3VyY2VMaXN0T2ZNZW1iZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlSW4oMzAwKTtcblxuICAgICAgICAkLmFqYXgoXCIvc2luZ2VfbGlzdF9tZW1iZXJcIiwge1xuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBcImlkXCI6IEJ1c2luZXNzLm1lbWJlcl9pZCxcbiAgICAgICAgICAgICAgICBcInNlYXJjaF9jb250ZW50XCI6IEJ1c2luZXNzLnNlYXJjaENvbnRlbnRGb3JTaW5nbGUsXG4gICAgICAgICAgICAgICAgXCJyZXNvdXJjZV90eXBlXCI6IEJ1c2luZXNzLnJlc291cmNlX3R5cGUsXG4gICAgICAgICAgICAgICAgXCJwYWdlXCI6IEJ1c2luZXNzLnBhZ2VJbmRleFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIEJ1c2luZXNzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tZW1iZXJfbGlzdF93cmFwcGVyXCIpLmh0bWwocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuaW5pdExpc3RQYWdpbmF0aW9uKCk7Ly/liJ3lp4vljJbliIbpobXmjInpkq5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuivt+axguaVsOaNruS4uuepulwiKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6Zeu6aKY77yM6K+356iN5ZCO5YaN6K+VXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIEJ1c2luZXNzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6I635Y+W5Y2V5ZOB5YiX6KGo5aSx6LSlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDmqKHlnZfkuozvvJrliJ3lp4vljJbkuJPmoI/liJfooahcbiAgICAgKi9cbiAgICBtb2RhbC5pbml0UGFja2FnZUxpc3RPZk1lbWJlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVJbigzMDApO1xuICAgICAgICAkLmFqYXgoXCIvcGFja2FnZV9saXN0X21lbWJlclwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkOiBCdXNpbmVzcy5tZW1iZXJfaWQsXG4gICAgICAgICAgICAgICAgc2VhcmNoX2NvbnRlbnQ6IEJ1c2luZXNzLnNlYXJjaENvbnRlbnRGb3JQYWNrYWdlLFxuICAgICAgICAgICAgICAgIHBhZ2U6IEJ1c2luZXNzLnBhZ2VJbmRleFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIEJ1c2luZXNzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICQoXCIubG9hZGluZ1NcIikuZmFkZU91dCgxMDApO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tZW1iZXJfbGlzdF93cmFwcGVyXCIpLmh0bWwocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGV0YWlsVXRpbHMuaW5pdExpc3RQYWdpbmF0aW9uKCk7Ly/liJ3lp4vljJbliIbpobXmjInpkq5cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6K+35rGC5pWw5o2u5Li656m6XCIpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zpl67popjvvIzor7fnqI3lkI7lho3or5VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgQnVzaW5lc3MuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDEwMCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLojrflj5bljZXlk4HliJfooajlpLHotKVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiAg5qih5Z2X5LiJIO+8miDpgInmi6nlt7LmnInljZXlk4FcbiAgICAgKi9cbiAgICBtb2RhbC5oYXNEb3duID0gZmFsc2U7XG4gICAgbW9kYWwuaGFzQ2xvc2UgPSB0cnVlO1xuICAgIG1vZGFsLnBhZ2UgPSAxOyAvL+a3u+WKoOW3suacieWNleWTgeeahOmhteeggVxuICAgIG1vZGFsLnNlYXJjaENvbnRlbnQgPSAnJztcblxuICAgIG1vZGFsLmlzTG9hZGluZyA9IGZhbHNlOyAgICAvL+aYr+WQpuWkhOS6juWKoOi9veeKtuaAgVxuICAgIG1vZGFsLnJlc1R5cGUgPSAwOyAgLy8gIDYt6I635Y+W5LiT5qCP5L+h5oGv77yMIDAt6I635Y+W5Y2V5ZOB5L+h5oGvXG4gICAgbW9kYWwudGFiU3RhdGUgPSBcInNpbmdsZUxpc3RcIjsgIC8vIOm7mOiupOaYvuekuuWNleWTgeWIl+ihqCAgICAg77yIXCJwYWNrYWdlTGlzdFwiLCBcInNpbmdsZUxpc3RcIu+8iVxuXG5cbiAgICBtb2RhbC5zZWxlY3RSZXNvdXJjZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICQoJyNhZGRTaW5nbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsgLy/lvLnlh7rpgInmi6nmoYZcbiAgICAgICAgICAgIHNlbGYucGFnZSA9IDE7XG4gICAgICAgICAgICBzZWxmLmhhc0Rvd24gPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuZ2V0U2VsZWN0RGF0YSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjc2VsZWN0V2luZG93ICNzZWxjdENsb3NlLCAjc2VsZWN0V2luZG93ICNzZWxlY3RDYW5jZWxCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsgLy/lhbPpl63pgInmi6nlvLnnqpdcbiAgICAgICAgICAgIHZhciAkc2VsZWN0V2luID0gJCgnI3NlbGVjdFdpbmRvdycpO1xuICAgICAgICAgICAgJHNlbGVjdFdpbi5mYWRlT3V0KCdub3JtYWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJyNzZWxlY3RBcmVhTGlzdCcpLmh0bWwoJycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2VsZWN0V2luLmZpbmQoJy5pbnB1dFNlYXJjaFBhcnQnKS52YWwoJycpOyAvL+a4heepuuaQnOe0ouahhlxuICAgICAgICAgICAgc2VsZi5wYWdlID0gMTtcbiAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5zZWFyY2hDb250ZW50ID0gJyc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGVjdFNlYXJjaEJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgeyAvL+mAieaLqeahhueahOWNleWTgeaQnOe0olxuICAgICAgICAgICAgdmFyIHNlYXJjaFZhbCA9ICQudHJpbSgkKHRoaXMpLnByZXYoKS52YWwoKSk7XG4gICAgICAgICAgICBzZWxmLnNlYXJjaENvbnRlbnQgPSBzZWFyY2hWYWw7XG4gICAgICAgICAgICBzZWxmLnBhZ2UgPSAxO1xuICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLmdldFNlbGVjdERhdGEoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnByZXYoKS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IFwiMTNcIikge1xuICAgICAgICAgICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGVjdFNlYXJjaEJ0bicpLmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vdGFi5YiH5o2iXG4gICAgICAgICQoXCIuc2VsZWN0R29vZFRhYldyYXBwZXIgbGlcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gJCh0aGlzKS52YWwoKTtcblxuICAgICAgICAgICAgaWYgKCFtb2RhbC5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGVjdEFyZWFMaXN0V3JhcHBlcicpLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgICAgICAgICBtb2RhbC5pc0xvYWRpbmcgPSB0cnVlOyAgLy/orrDlvZXliqDovb3nirbmgIHvvIzpmLLph43lpI3ngrnlh7tcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlckRldGFpbFV0aWxzLnN3aXRjaFdpbmRvd1RhYihcInNpbmdsZVRhYlwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtZW1iZXJEZXRhaWxVdGlscy5zd2l0Y2hXaW5kb3dUYWIoXCJwYWNrYWdlVGFiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxmLmdldFNlbGVjdERhdGEoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGVjdEFyZWFMaXN0V3JhcHBlcicpLnNjcm9sbChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgRGl2SGVpZ2h0ID0gJCgnI3NlbGVjdEFyZWFMaXN0JykuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgU2Nyb2xsSGVpZ2h0ID0gJCh0aGlzKS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBTY3JvbGxUb3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICBpZiAoKFNjcm9sbFRvcCArIFNjcm9sbEhlaWdodCA+PSBEaXZIZWlnaHQgLSA1KSAmJlxuICAgICAgICAgICAgICAgICFzZWxmLmhhc0Rvd24gLy/liKTmlq3mmK/lkKbliLDovr7lupXpg6hcbiAgICAgICAgICAgICAgICAmJlxuICAgICAgICAgICAgICAgICFzZWxmLmhhc0Nsb3NlIC8v5Yik5pat5by55qGG5piv5ZCm5YWz6ZetXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxmLmdldFNlbGVjdERhdGEoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gJChcIiNzZWxlY3RBcmVhTGlzdCAuaXNEb3duXCIpLmFkZENsYXNzKFwiaGlkZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/mj5DkuqTopoHmt7vliqDnmoTljZXlk4FcbiAgICAgICAgJCgnI3NlbGVjdFdpbmRvdyAjc2VsZWN0T2tCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgJHNlbGVjdEFyZWEgPSAkKCcjc2VsZWN0V2luZG93ICNzZWxlY3RBcmVhTGlzdFdyYXBwZXInKSxcbiAgICAgICAgICAgICAgICByZXNMaXN0ID0gW107XG5cbiAgICAgICAgICAgICRzZWxlY3RBcmVhLmZpbmQoJzpjaGVja2JveDpjaGVja2VkJykuZWFjaChmdW5jdGlvbihpLCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGFsLnRhYlN0YXRlID09IFwicGFja2FnZUxpc3RcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfaWQ6IGl0ZW0uZ2V0QXR0cmlidXRlKCdpZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogNlxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kYWwudGFiU3RhdGUgPT0gXCJzaW5nbGVMaXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc09iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX2lkOiBpdGVtLmdldEF0dHJpYnV0ZSgnaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IGl0ZW0uZ2V0QXR0cmlidXRlKCd2YWx1ZScpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc0xpc3RbcmVzTGlzdC5sZW5ndGhdID0gcmVzT2JqO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgICAxLWNoYW5uZWxfdHlwZSgxLeWNleWTgSwyLeS4k+agjywzLeS8muWRmCk7XG4gICAgICAgICAgICAgMi1yZXNvdXJjZV9saXN0KOmAieS4reeahOi1hOa6kOmbhuWQiCjmlbDnu4QpLFxuICAgICAgICAgICAgIOmUruWAvOWvueeahOagvOW8j+WmgjpyZXNvdXJjZV9pZDphX2tqamFrMzQ1LHJlc291cmNlX3R5cGU6MSk7XG4gICAgICAgICAgICAgMy1wYWNrYWdlX2lkKOW9k2NoYW5uZWxfdHlwZT0y44CBM+aXtizmnInlgLwpO1xuICAgICAgICAgICAgIDQtcGllY2VfcHJpY2Uo5L2GY2hhbm5lbF90eXBlPTHml7bmnInlgLwpKi9cbiAgICAgICAgICAgICQuYWpheCgnL3N1Ym1pdF9jaG9pY2VfcmVzb3VyY2UnLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDMsXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX2xpc3Q6IHJlc0xpc3QsXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHNlbGYuaWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NlbGVjdFdpbmRvdyAjc2VsY3RDbG9zZScpLmNsaWNrKCk7IC8v6YCJ5oup5oiQ5Yqf77yM5Li75Yqo5YWz6Zet6YCJ5oup5by556qXXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RhbC50YWJTdGF0ZSA9PSBcInBhY2thZ2VMaXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3BhY2thZ2VUYWJcIikuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kYWwudGFiU3RhdGUgPT0gXCJzaW5nbGVMaXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3NpbmdsZVRhYlwiKS5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICBtb2RhbC5nZXRTZWxlY3REYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYucGFnZSA9PSAxKSB7XG4gICAgICAgICAgICAkKFwiLmxvYWRpbmdTX2luX3dpbmRvd1wiKS5mYWRlSW4oMzAwKTtcbiAgICAgICAgfVxuICAgICAgICAkLmFqYXgoJy9jaG9pY2VfcmVzb3VyY2VfbGlzdCcsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgICAxLWNoYW5uZWxfdHlwZSgxLeWNleWTgSwyLeS4k+agjywzLeS8muWRmClcbiAgICAgICAgICAgICAyLeaQnOe0ouWGheWuuS1zZWFyY2hfY29udGVudDtcbiAgICAgICAgICAgICAzLXJlc291cmNlX3R5cGUoMC3lhajpg6gsMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgIDQtcGFnZSjliIbpobXpobXnoIEpO1xuICAgICAgICAgICAgIDUtcGFja2FnZV9pZCjlvZNjaGFubmVsX3R5cGU9MuOAgTPml7Ys5pyJ5YC8KVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc2VhcmNoX2NvbnRlbnQ6IHNlbGYuc2VhcmNoQ29udGVudCB8fCAnJyxcbiAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDMsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogc2VsZi5yZXNUeXBlLFxuICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHNlbGYuaWQsXG4gICAgICAgICAgICAgICAgcGFnZTogc2VsZi5wYWdlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU19pbl93aW5kb3dcIikuZmFkZU91dCgzMDApO1xuICAgICAgICAgICAgICAgIG1vZGFsLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRzZWxlY3RBcmVhID0gJCgnI3NlbGVjdEFyZWFMaXN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RTdHIgPSAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VPYmogPSBKU09OLnBhcnNlKHJlc3VsdC5kYXRhLnBhZ2Vfb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlc3VsdC5kYXRhLnJlc291cmNlX2xpc3QsIGZ1bmN0aW9uKGksIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZV90eXBlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5yZXNUeXBlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCt0aGlzLnJlc291cmNlX3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZSA9ICflm77mlocnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGUgPSAn6Z+z6aKRJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlID0gJ+inhumikSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZSA9ICfnm7Tmkq0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlID0gJ+aXoCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlc1R5cGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFN0ciArPSAnPGRpdiBjbGFzcz1cInJlc291cmNlSXRlbVdyYXBwZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB2YWx1ZT1cIicgKyB0aGlzLnJlc291cmNlX3R5cGUgKyAnXCIgaWQ9XCInICsgdGhpcy5pZCArICdcIiBjbGFzcz1cIndpdGgtZ2FwIHJlc291cmNlX3JhZGlvXCIgbmFtZT1cInNlbGVjdF9yZXNvdXJjZVwiIHR5cGU9XCJjaGVja2JveFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGxhYmVsIGZvcj1cIicgKyB0aGlzLmlkICsgJ1wiIGNsYXNzPVwicmFkaW9fZGVzY1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInJlc291cmNlX2ljb25fd3JhcHBlclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBjbGFzcz1cInJlc291cmNlX2ljb25cIiBzcmM9XCInICsgdGhpcy5pbWdfdXJsICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGl0bGUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicmVzb3VyY2VfdHlwZVwiPicgKyByZXNvdXJjZV90eXBlICsgJzwvc3Bhbj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicmVzb3VyY2VfdGltZVwiPicgKyB0aGlzLnN0YXJ0X2F0ICsgJzwvc3Bhbj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFN0ciArPSAnPGRpdiBjbGFzcz1cInJlc291cmNlSXRlbVdyYXBwZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCcgKyAnIGlkPVwiJyArIHRoaXMuaWQgKyAnXCIgY2xhc3M9XCJ3aXRoLWdhcCByZXNvdXJjZV9yYWRpb1wiIG5hbWU9XCJzZWxlY3RfcmVzb3VyY2VcIiB0eXBlPVwiY2hlY2tib3hcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxsYWJlbCBmb3I9XCInICsgdGhpcy5pZCArICdcIiBjbGFzcz1cInJhZGlvX2Rlc2NcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZXNvdXJjZV9pY29uX3dyYXBwZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgY2xhc3M9XCJyZXNvdXJjZV9pY29uXCIgc3JjPVwiJyArIHRoaXMuaW1nX3VybCArICdcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicmVzb3VyY2VfdGltZVwiPicgKyB0aGlzLnVwZGF0ZWRfYXQgKyAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnBhZ2UgPT0gMSB8fCAhc2VsZi5wYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0QXJlYS5odG1sKHNlbGVjdFN0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0QXJlYS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJpc0Rvd25cIj7otYTmupDliqDovb3kuK08L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v6aaW5qyh5Yqg6L2977yM5pi+56S6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuc2VhcmNoQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzZWxlY3RXaW5kb3cnKS5mYWRlSW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLnBhZ2UgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0QXJlYS5maW5kKCcuaXNEb3duJykuYmVmb3JlKHNlbGVjdFN0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvL+aVsOaNruWKoOi9veWujOavleWQjueahOaTjeS9nFxuICAgICAgICAgICAgICAgICAgICBpZiAocGFnZU9iai5jdXJyZW50X3BhZ2UgPj0gcGFnZU9iai50b3RhbF9wYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdEFyZWEuZmluZCgnLmlzRG93bicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFzRG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlKys7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmi4nlj5blt7LmnInljZXlk4HlpLHotKXvvIFcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU19pbl93aW5kb3dcIikuZmFkZU91dCgzMDApO1xuICAgICAgICAgICAgICAgIG1vZGFsLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmqKHlnZflm5vvvJog5Y2V5ZOBL+S4k+agj+WIl+ihqOeahOaQnOe0olxuICAgICAqL1xuICAgIG1vZGFsLmluaXRSZXNvdXJjZUFuZFBhY2thZ2VTZWFyY2ggPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAvLyAgMeOAgeW8gOWni+aQnOe0ouOAgeWNleWTgS/kuJPmoI9cbiAgICAgICAgJChcIi5zZWFyY2hBbGxCdG5cIikuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIGlmIChCdXNpbmVzcy50YWJTdGF0ZSA9PSBcInBhY2thZ2VMaXN0XCIpIHtcbiAgICAgICAgICAgICAgICBCdXNpbmVzcy5zZWFyY2hDb250ZW50Rm9yUGFja2FnZSA9ICQudHJpbSgkKFwiLmlucHV0U2VhcmNoQWxsXCIpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICBtb2RhbC5pbml0UGFja2FnZUxpc3RPZk1lbWJlcigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChCdXNpbmVzcy50YWJTdGF0ZSA9PSBcInNpbmdsZUxpc3RcIikge1xuICAgICAgICAgICAgICAgIEJ1c2luZXNzLnJlc291cmNlX3R5cGUgPSAkKFwiLnNlbGVjdG9yX3Jlc291cmNlX3R5cGVcIikudmFsKCk7XG4gICAgICAgICAgICAgICAgQnVzaW5lc3Muc2VhcmNoQ29udGVudEZvclNpbmdsZSA9ICQudHJpbSgkKFwiLmlucHV0U2VhcmNoQWxsXCIpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICBtb2RhbC5pbml0UmVzb3VyY2VMaXN0T2ZNZW1iZXIoKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIDHjgIHovpPlhaXlrozmiJDlkI7vvIzlm57ovablvIDlp4vmkJzntKIgLSDlhajpg6jljZXlk4Ev5LiT5qCPXG4gICAgICAgICQoXCIuaW5wdXRTZWFyY2hBbGxcIikub24oJ2tleXByZXNzJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAkKCcuc2VhcmNoQWxsQnRuJykuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIOebkeWQrOetm+mAieahhumAieaLqeS6i+S7tlxuICAgICAgICAkKFwiLnNlbGVjdG9yX3Jlc291cmNlX3R5cGVcIikub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJy5zZWFyY2hBbGxCdG4nKS5jbGljaygpO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDmqKHlnZfkupTvvJog5Yid5aeL5YyW5Lya5ZGY5aSW5Y2V5Y2W6K6+572u56qX5Y+jXG4gICAgICovXG4gICAgbW9kYWwuaW5pdFNldFNpbmdsZVNhbGVXaW5kb3cgPSBmdW5jdGlvbihyZXNJbWdVcmwsIHJlc1RpdGxlLCByZXNUeXBlLCBzaG93VGltZSwgcmVzSWQpIHtcblxuICAgICAgICAvLyAg57uZ6K6+572u5Lu35qC85aGr5YWF5pWw5o2uXG4gICAgICAgICQoXCIucmVzb3VyY2VfaWNvbl8zXCIpLmF0dHIoXCJzcmNcIiwgcmVzSW1nVXJsKTtcbiAgICAgICAgJChcIi5yZXNvdXJjZV90aXRsZV8zXCIpLmh0bWwocmVzVGl0bGUpO1xuICAgICAgICBzd2l0Y2ggKHJlc1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAkKFwiLnJlc291cmNlX3R5cGVfM1wiKS5odG1sKFwi5Zu+5paHXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICQoXCIucmVzb3VyY2VfdHlwZV8zXCIpLmh0bWwoXCLpn7PpopFcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgJChcIi5yZXNvdXJjZV90eXBlXzNcIikuaHRtbChcIuinhumikVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAkKFwiLnJlc291cmNlX3R5cGVfM1wiKS5odG1sKFwi55u05pKtXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAkKFwiLnJlc291cmNlX3RpbWVfM1wiKS5odG1sKHNob3dUaW1lKTtcblxuICAgICAgICAkKFwiLmNsb3NlX2ljb25fd3JhcHBlcl8yLCAuY2FuY2VsX3NldF9wcmljZVwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoXCIuc2V0X3ByaWNlX3dpbmRvd1wiKS5mYWRlT3V0KDMwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoXCIuY29uZmlybV9wcmljZV9idG5cIikuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIHZhciBwcmljZSA9ICQudHJpbSgkKFwiLmlucHV0X3NldHRpbmdfcHJpY2VcIikudmFsKCkpO1xuXG4gICAgICAgICAgICB2YXIgcmVnID0gL14oWzEtOV1bXFxkXSp8MCkoWy8uXVtcXGRdezEsMn0pPyQvO1xuICAgICAgICAgICAgaWYgKCFyZWcudGVzdChwcmljZSkpIHtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+S7t+agvOi+k+WFpeacieivrycpO1xuICAgICAgICAgICAgICAgICQoJy5pbnB1dF9zZXR0aW5nX3ByaWNlJykudmFsKFwiXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmljZSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Lu35qC85LiN6IO95Li6MCDmiJYg6LSf5pWwIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcmljZSA+IGJhc2VVdGlscy5tYXhJbnB1dFByaWNlKSB7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Lu35qC85LiN6IO95aSn5LqOIFwiICsgYmFzZVV0aWxzLm1heElucHV0UHJpY2UgKyBcIiDlhYNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYXJyID0ge307XG4gICAgICAgICAgICBhcnJbXCJyZXNvdXJjZV9pZFwiXSA9IHJlc0lkO1xuICAgICAgICAgICAgYXJyW1wicmVzb3VyY2VfdHlwZVwiXSA9IHJlc1R5cGU7XG4gICAgICAgICAgICB2YXIgcmVzb3VyY2VMaXN0QXJyID0gW2Fycl07XG5cbiAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAkLmFqYXgoXCIvc3VibWl0X2Nob2ljZV9yZXNvdXJjZVwiLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBcImNoYW5uZWxfdHlwZVwiOiAxLFxuICAgICAgICAgICAgICAgICAgICBcInJlc291cmNlX2xpc3RcIjogcmVzb3VyY2VMaXN0QXJyLFxuICAgICAgICAgICAgICAgICAgICBcInBpZWNlX3ByaWNlXCI6IHByaWNlICogMTAwLCAvLyDljZXkvY3vvJog5YiGXG4gICAgICAgICAgICAgICAgICAgIFwic3VibWl0X3R5cGVcIjogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnNldF9wcmljZV93aW5kb3dcIikuZmFkZU91dCgzMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuiuvuS4uuWNleWNluaIkOWKn1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRSZXNvdXJjZUxpc3RPZk1lbWJlcigpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5ZWm77yM6K+356iN5ZCO5YaN5pON5L2c77yBXCIpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuXG4gICAgcmV0dXJuIG1vZGFsO1xuXG59KSgpO1xuXG5cbnZhciBtZW1iZXJEZXRhaWxVdGlscyA9IChmdW5jdGlvbigpIHtcblxuICAgIHZhciB1dGlscyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICog5Lya5ZGYIOaIluiAhSDljZXlk4Eg5a6e546w5LiK5p62ICsg5LiL5p62XG4gICAgICogQHBhcmFtIG1lbWJlcklkXG4gICAgICogQHBhcmFtIG9wZXJhdGVfdHlwZVxuICAgICAqL1xuICAgIHV0aWxzLmNoYW5nZUdvb2RzU3RhdGUgPSBmdW5jdGlvbihnb29kc0lkLCBnb29kc1R5cGUsIG9wZXJhdGVfdHlwZSkge1xuXG4gICAgICAgIGlmIChnb29kc1R5cGUgPT0gMCkge1xuICAgICAgICAgICAgdmFyIHRleHQgPSBvcGVyYXRlX3R5cGUgPT0gMCA/IFwi5LiK5p625ZCO6K+l5Lya5ZGY5bCG5a+55aSW5pi+56S6XCIgOiBcIuS4i+aetuWQjuivpeS8muWRmOWwhuS4jeWvueWkluaYvuekulwiO1xuICAgICAgICB9IGVsc2UgaWYgKGdvb2RzVHlwZSA9PSAxIHx8IGdvb2RzVHlwZSA9PSAyIHx8IGdvb2RzVHlwZSA9PSAzIHx8IGdvb2RzVHlwZSA9PSA0KSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IG9wZXJhdGVfdHlwZSA9PSAwID8gXCLkuIrmnrblkI7or6XljZXlk4HlsIblr7nlpJbmmL7npLpcIiA6IFwi5LiL5p625ZCO6K+l5Y2V5ZOB5bCG5LiN5a+55aSW5pi+56S6XCI7XG4gICAgICAgIH1cblxuICAgICAgICAkLmFsZXJ0KHRleHQsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICBvbk9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgICAgICQuYWpheChcIi9jaGFuZ2VfZ29vZHNfc3RhdGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImdvb2RzX2lkXCI6IGdvb2RzSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImdvb2RzX3R5cGVcIjogZ29vZHNUeXBlLCAvLyAgZ29vZHNfdHlwZSgwLeS4k+agjyDmiJYg5Lya5ZGYLDEt5Zu+5paHLDIt6Z+z6aKRLDMt6KeG6aKRLDQt55u05pKtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwib3BlcmF0ZV90eXBlXCI6IG9wZXJhdGVfdHlwZSAvLyAgMC3kuIrmnrYsMS3kuIvmnrZcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0ZV90eXBlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuS4iuaetuaIkOWKn++8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5LiL5p625oiQ5Yqf77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ29vZHNUeXBlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwuaW5pdFJlc291cmNlTGlzdE9mTWVtYmVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIzor7fnqI3lkI7ph43or5XvvIFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjumHjeivle+8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIOaYr+WQpuWcqOacgOaWsOWIl+ihqOS4reaYvuekulxuICAgICAqIEBwYXJhbSBtZW1iZXJJZFxuICAgICAqIEBwYXJhbSBvcGVyYXRlX3R5cGVcbiAgICAgKi9cbiAgICB1dGlscy5jaGFuZ2VOZXdsTGlzdFN0YXRlID0gZnVuY3Rpb24oZ29vZHNJZCwgZ29vZHNUeXBlLCBvcGVyYXRlX3R5cGUpIHtcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgJC5hamF4KFwiL3NldF9oNV9uZXdlc3RfaGlkZVwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBcImlkXCI6IGdvb2RzSWQsXG4gICAgICAgICAgICAgICAgXCJoNV9uZXdlc3RfaGlkZVwiOiBvcGVyYXRlX3R5cGUgLy8gIDAt5pi+56S6LDEt6ZqQ6JePXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3BlcmF0ZV90eXBlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLorr7nva7miJDlip/vvIFcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi6K6+572u5oiQ5Yqf77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChnb29kc1R5cGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRSZXNvdXJjZUxpc3RPZk1lbWJlcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO6YeN6K+V77yBXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIzor7fnqI3lkI7ph43or5XvvIFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICog572u6aG25pON5L2cXG4gICAgICogQHBhcmFtIHBhY2thZ2VJZFxuICAgICAqIEBwYXJhbSByZXNvdXJjZVR5cGUgIC0+ICgwLeS4k+agjywxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XG4gICAgICogQHBhcmFtIHJlc291cmNlSWRcbiAgICAgKiBAcGFyYW0gdG9wU3RhdGUgICAgICAtPiAoMC3lj5bmtojnva7pobYsMS3orr7nva7nva7pobYpXG4gICAgICovXG4gICAgdXRpbHMuc2V0UmVzb3VyY2VUb3AgPSBmdW5jdGlvbihwYWNrYWdlSWQsIHJlc291cmNlVHlwZSwgcmVzb3VyY2VJZCwgdG9wU3RhdGUpIHtcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcblxuICAgICAgICAkLmFqYXgoJy9zZXRfcGFja2FnZV9yZXNvdXJjZV90b3AnLCB7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHBhY2thZ2VJZCxcbiAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlOiByZXNvdXJjZVR5cGUsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfaWQ6IHJlc291cmNlSWQsXG4gICAgICAgICAgICAgICAgdG9wX3N0YXRlOiB0b3BTdGF0ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9wU3RhdGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuW3sue7j+WPlua2iOe9rumhtu+8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLnva7pobbmiJDlip/vvIFcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuaW5pdFJlc291cmNlTGlzdE9mTWVtYmVyKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDljZXlk4HkuIrkuIvmnrZcbiAgICAgKiBAcGFyYW0gcmVzb3VyY2VfaWRcbiAgICAgKiBAcGFyYW0gY2hhbmdlVHlwZSAgdHJ1ZS3kuIrmnrbvvIwgZmFsc2Ut5LiL5p62XG4gICAgICovXG4gICAgdXRpbHMucGFja2FnZWlzU2hvdyA9IGZ1bmN0aW9uKGlkLCBjaGFuZ2VUeXBlKSB7IC8v5LiT5qCP5LiK5LiL5p62XG4gICAgICAgICQuYWxlcnQoY2hhbmdlVHlwZSA/IFwi5LiK5p625ZCO6K+l5LiT5qCP5bCG5a+55aSW5pi+56S6XCIgOiBcIuS4i+aetuWQjuivpeS4k+agj+WwhuS4jeWvueWkluaYvuekulwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAkLmFqYXgoJy9jaGFuZ2VfZ29vZHNfc3RhdGUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgIDEtZ29vZHNfaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAyLWdvb2RzX3R5cGUoMC3kuJPmoI8sMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgMy1vcGVyYXRlX3R5cGUoMC3kuIrmnrYsMS3kuIvmnrYpXG4gICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZHNfaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGVfdHlwZTogY2hhbmdlVHlwZSA/IDAgOiAxLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIOafpeivouWNleWTgSDmmK/lkKblnKjljZXlk4HliJfooagg5oiWIOS4k+agj+WIl+ihqFxuICAgICAqIEBwYXJhbSByZXNvdXJjZV9pZFxuICAgICAqIEBwYXJhbSByZXNvdXJjZV90eXBlICAoMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAqIEBwYXJhbSBwYWNrYWdlX2lkICAo5b2TY2hhbm5lbF90eXBlPTHml7bmnInlgLwpXG4gICAgICovXG4gICAgdXRpbHMucXVlcnlTaW5nbGVSZXNvdXJjZSA9IGZ1bmN0aW9uKHJlc291cmNlX2lkLCByZXNvdXJjZV90eXBlLCBwYWNrYWdlX2lkKSB7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheChcIi9xdWVyeV9nb29kc19zdGF0ZVwiLCB7IC8vICAxIC0+IOafpeivouWNleWTgSDmmK/lkKblnKjljZXlk4HliJfooajmiJbogIXlhbblroPkuJPmoI/jgIHkvJrlkZjliJfooahcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGdvb2RzX2lkOiByZXNvdXJjZV9pZCxcbiAgICAgICAgICAgICAgICBnb29kc190eXBlOiByZXNvdXJjZV90eXBlLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxfdHlwZTogMiwgLy8gIGNoYW5uZWxfdHlwZSAoIDAt5Y2V5ZOBLDEt5LiT5qCP5YaF6LWE5rqQLDIt5Lya5ZGY5YaFIClcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBwYWNrYWdlX2lkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNFeGlzdCA9IHJlc3VsdC5kYXRhWydpc19leGlzdCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3Jkc0xpc3QgPSByZXN1bHQuZGF0YVsncmVjb3Jkc19saXN0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJMZW5ndGggPSBPYmplY3Qua2V5cyhyZWNvcmRzTGlzdCkubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXhpc3QgPT0gMCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOWPquWxnuS6juafkOS4quS4k+agj+eahOWNleWTgSzlhbblroPlnLDmlrnkuI3lrZjlnKhcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBcIuehruiupOenu+mZpOivpeWGheWuue+8jOenu+mZpOWQjuaJgOacieeUqOaIt+WwhuaXoOazleafpeeci+atpOWGheWuueS4lDxzcGEgc3R5bGU9J2NvbG9yOiByZWQ7Jz7kuI3lj6/mgaLlpI08L3NwYT5cIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZWNvcmRzTGlzdFswXSA9PSB1bmRlZmluZWQpIHsgICAgICAgLy8gIOWPquWxnuS6juWkmuS4quS4k+agj+eahOWNleWTgVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDw9IGFyckxlbmd0aDsgaW5kZXggKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IChcIuOAilwiICsgcmVjb3Jkc0xpc3RbaW5kZXhdWyd0aXRsZSddICsgXCLjgItcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IChcIuehruiupOenu+mZpOivpeWGheWuue+8jOenu+mZpOWQjuivpeS8muWRmOeUqOaIt+WwhuaXoOazleafpeeci+atpOWGheWuueOAguatpOWGheWuueS7jeWtmOWcqOS6jlwiICsgdGV4dCArIFwi5LitXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyTGVuZ3RoID09IDEpIHsgICAgICAgICAgICAgIC8vICDljZXlk4HljZXljZbkuJTlsZ7kuo7kuIDkuKrkuJPmoI9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCLnoa7orqTnp7vpmaTor6XlhoXlrrnvvIznp7vpmaTlkI7or6XkvJrlkZjnlKjmiLflsIbml6Dms5Xmn6XnnIvmraTlhoXlrrnjgILmraTlhoXlrrnku43lnKjljZXlk4HliJfooajkuJTljZXni6zllK7ljZZcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOWNleWTgeWNleWNluS4lOWxnuS6juWkmuS4quS4k+agj1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyckxlbmd0aDsgaW5kZXggKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSAoXCLjgIpcIiArIHJlY29yZHNMaXN0W2luZGV4XVsndGl0bGUnXSArIFwi44CLXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFwi56Gu6K6k56e76Zmk6K+l5YaF5a6577yM56e76Zmk5ZCO6K+l5Lya5ZGY55So5oi35bCG5peg5rOV5p+l55yL5q2k5YaF5a6544CC5q2k5YaF5a655Y2V54us5ZSu5Y2W5LiU5LuN5a2Y5Zyo5LqOXCIgKyB0ZXh0ICsgXCLkuK1cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KHRleHQsIFwiaW5mb1wiLCB7IC8vIDIgLT4g5L2c5Ye655u45bqU55qE5o+Q56S6XG4gICAgICAgICAgICAgICAgICAgICAgICBva3RleHQ6ICfnoa7orqTnp7vpmaQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuZGVsZXRlU2luZ2xlUmVzb3VyY2UocmVzb3VyY2VfaWQsIHJlc291cmNlX3R5cGUsIHBhY2thZ2VfaWQpOyAvLyAzIC0+IOenu+mZpFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8gVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICAvLyAg5p+l6K+i5LiT5qCPIOaYr+WQpuWcqOWFtuWug+S8muWRmOWIl+ihqFxuICAgIHV0aWxzLnF1ZXJ5UGFja2FnZVJlc291cmNlID0gZnVuY3Rpb24gKHJlc291cmNlX2lkKSB7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheChcIi9xdWVyeV9nb29kc19zdGF0ZVwiLCB7IC8vICAxIC0+IOafpeivouS4k+agjyDmmK/lkKblnKjlhbblroPkvJrlkZjliJfooahcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGdvb2RzX2lkOiByZXNvdXJjZV9pZCxcbiAgICAgICAgICAgICAgICBnb29kc190eXBlOiA2LFxuICAgICAgICAgICAgICAgIGNoYW5uZWxfdHlwZTogMiwgLy8gIGNoYW5uZWxfdHlwZSAoIDAt5Y2V5ZOBLDEt5LiT5qCP5YaF6LWE5rqQLDIt5Lya5ZGY5YaFIClcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBCdXNpbmVzcy5tZW1iZXJfaWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0V4aXN0ID0gcmVzdWx0LmRhdGFbJ2lzX2V4aXN0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRzTGlzdCA9IHJlc3VsdC5kYXRhWydyZWNvcmRzX2xpc3QnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyckxlbmd0aCA9IE9iamVjdC5rZXlzKHJlY29yZHNMaXN0KS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFeGlzdCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCLnoa7orqTnp7vpmaTor6XkuJPmoI/vvIznp7vpmaTlkI7or6XkvJrlkZjnlKjmiLflsIbml6Dms5Xmn6XnnIvmraTkuJPmoI/vvIzmraTkuJPmoI/ku43lnKjkuJPmoI/liJfooajkuJTljZXni6zllK7ljZZcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPD0gYXJyTGVuZ3RoOyBpbmRleCArKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gKFwi44CKXCIgKyByZWNvcmRzTGlzdFtpbmRleF1bJ3RpdGxlJ10gKyBcIuOAi1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gKFwi56Gu6K6k56e76Zmk6K+l5LiT5qCP77yM56e76Zmk5ZCO6K+l5Lya5ZGY55So5oi35bCG5peg5rOV5p+l55yL5q2k5LiT5qCP77yM5q2k5LiT5qCP5LuN5a2Y5Zyo5LqOXCIgKyB0ZXh0ICsgXCLkuK1cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KHRleHQsIFwiaW5mb1wiLCB7IC8vIDIgLT4g5L2c5Ye655u45bqU55qE5o+Q56S6XG4gICAgICAgICAgICAgICAgICAgICAgICBva3RleHQ6ICfnoa7orqTnp7vpmaQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuZGVsZXRlU2luZ2xlUmVzb3VyY2UocmVzb3VyY2VfaWQsIDYsIEJ1c2luZXNzLm1lbWJlcl9pZCk7IC8vIDMgLT4g56e76Zmk5LiT5qCPXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQubXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgfTtcbiAgICB1dGlscy5wYWNrYWdlRm9ybSA9IGZ1bmN0aW9uKGlkLGZvcm1UeXBlKXtcbiAgICAgICAgLy8gaWQ65LiT5qCP5piv5ZCm6KaB6K6+572u5pSv5LuY5pe25aGr5YaZ5L+h5oGv55qE5LiT5qCPaWTvvIxmb3JtVHlwZSDvvJp0cnVlLeWFgeiuuCBmYWxzZS3npoHmraIuXG4gICAgICAgIHZhciB2ZXJzaW9uPSQoXCIudXNlcl92ZXJzaW9uX251bVwiKS5kYXRhKFwidmVyc2lvbl90eXBlXCIpO1xuICAgICAgICBpZih2ZXJzaW9uICYmIHZlcnNpb249PTMpIHtcbiAgICAgICAgICAgICQuYWxlcnQoZm9ybVR5cGUgPyBcIuW8gOWQr+i1hOaWmeWhq+WGmeWQju+8jOeUqOaIt+WcqOS7mOi0uei0reS5sOacrOS8muWRmOWJjeWwhuWhq+WGmeS4quS6uuS/oeaBr++8jOaCqOehruiupOimgeW8gOWQr+S5iO+8n1wiIDpcbiAgICAgICAgICAgICAgICBcIuWFs+mXrei1hOaWmeWhq+WGmeWQju+8jOeUqOaIt+WcqOS7mOi0uei0reS5sOacrOS8muWRmOWJjeWwhuS4jeWGjeWhq+WGmeS4quS6uuS/oeaBr++8jOaCqOehruiupOimgeWFs+mXreS5iO+8n1wiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgIGljb246IFwiYmx1ZVwiLFxuICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KCcvc2V0X2lzX2NvbXBsZXRlX2luZm8nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19jb21wbGV0ZV9pbmZvOiBmb3JtVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5b2T5YmN54mI5pys5LiN5pSv5oyB5byA5ZCv6LWE5paZ5aGr5YaZ77yM5aaC6ZyA5byA5ZCv6K+35Y2H57qn6Iez5LiT5Lia54mIXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog56e76Zmk5Y2V5ZOB6LWE5rqQXG4gICAgICogQHBhcmFtIHJlc291cmNlSWRcbiAgICAgKiBAcGFyYW0gcmVzb3VyY2VUeXBlXG4gICAgICogQHBhcmFtIG1lbWJlcklkXG4gICAgICovXG4gICAgdXRpbHMuZGVsZXRlU2luZ2xlUmVzb3VyY2UgPSBmdW5jdGlvbihyZXNvdXJjZUlkLCByZXNvdXJjZVR5cGUsIG1lbWJlcklkKSB7XG4gICAgICAgIC8vICQoXCIubG9hZGluZ1NcIikuZmFkZUluKDMwMCk7XG4gICAgICAgICQuYWpheChcIi9tb3ZlX2dvb2RzXCIsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGdvb2RzX2lkOiByZXNvdXJjZUlkLFxuICAgICAgICAgICAgICAgIGdvb2RzX3R5cGU6IHJlc291cmNlVHlwZSxcbiAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDIsIC8vICBjaGFubmVsX3R5cGUoMC3ljZXlk4EsMS3kuJPmoI/lhoXotYTmupAsMi3kvJrlkZjlhoUpXG4gICAgICAgICAgICAgICAgcGFja2FnZV9pZDogbWVtYmVySWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAkKFwiLmxvYWRpbmdTXCIpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi56e76Zmk5oiQ5Yqf77yBXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuenu+mZpOWksei0pe+8jOivt+eojeWQjuWGjeivlVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlVHlwZSA9PSA2KSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmluaXRQYWNrYWdlTGlzdE9mTWVtYmVyKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuaW5pdFJlc291cmNlTGlzdE9mTWVtYmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgJChcIi5sb2FkaW5nU1wiKS5mYWRlT3V0KDMwMCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmnI3liqHlmajlvIDlsI/lt67kuobvvIzor7fnqI3lkI7lho3or5XvvIFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIOiuvue9ruivleWQrCDmiJYg6K+V55yLXG4gICAgICogQHBhcmFtIHBhY2thZ2VJZFxuICAgICAqIEBwYXJhbSByZXNJZFxuICAgICAqIEBwYXJhbSB0cnlTdGF0ZSAgKDAt5Y+W5raI6K+V5ZCsLDEt6K6+5Li66K+V5ZCsKVxuICAgICAqL1xuICAgIHV0aWxzLnNldFJlc291cmNlVHJ5ID0gZnVuY3Rpb24ocGFja2FnZUlkLCByZXNUeXBlLCByZXNJZCwgcGF5bWVudFR5cGUsIHRyeVN0YXRlKSB7XG5cbiAgICAgICAgLy8gaWYgKHJlc1R5cGUgPT0gNCkge1xuICAgICAgICAvLyAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pqC5LiN5pSv5oyB5bCG55u05pKt6K6+5Li66K+V55yLIVwiKTtcbiAgICAgICAgLy8gICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gfVxuICAgICAgICBpZiAocGF5bWVudFR5cGUgPT0gMSB8fCBwYXltZW50VHlwZSA9PSAyKSB7XG4gICAgICAgICAgICBpZiAocmVzVHlwZSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeWNleWTgeW3suiuvuS4uuWNleWNlu+8jOWPlua2iOWNleWNluWQjuaWueWPr+iuvuS4uuivleWQrFwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc1R5cGUgPT0gMSB8fCByZXNUeXBlID09IDMgfHwgcmVzVHlwZSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeWNleWTgeW3suiuvuS4uuWNleWNlu+8jOWPlua2iOWNleWNluWQjuaWueWPr+iuvuS4uuivleeci1wiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAkLmFqYXgoJy9zZXRfcGFja2FnZV9yZXNvdXJjZV90cnknLCB7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHBhY2thZ2VJZCxcbiAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlOiByZXNUeXBlLFxuICAgICAgICAgICAgICAgIHJlc291cmNlX2lkOiByZXNJZCxcbiAgICAgICAgICAgICAgICB0cnlfc3RhdGU6IHRyeVN0YXRlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cnlTdGF0ZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi6K6+572u5oiQ5Yqf77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWPlua2iOaIkOWKn++8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5pbml0UmVzb3VyY2VMaXN0T2ZNZW1iZXIoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIFcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgLy/lr7zlh7rpn7PpopFcbiAgICB1dGlscy5leHBvcnRBdWRpbyA9IGZ1bmN0aW9uIChhbGl2ZUlkKSB7XG5cbiAgICAgICAgJC5hamF4KFwiL2FzeW5jX2Rvd25sb2FkX2FsaXZlX3ZvaWNlXCIsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGFsaXZlX2lkOiBhbGl2ZUlkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocmVzdWx0LmNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXN1bHQuZGF0YVsndXJsJ107ICAgICAgLy/nm7TmjqXlvIDlp4vkuIvovb3pn7PpopHmlofku7ZcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+t6Z+z5q2j5Zyo5ZCI5oiQ5Lit77yM5qC55o2u5oKo55u05pKt6Ze05YaF55qE6Z+z6aKR5pWw6YeP6ZyA6KaBMTDliIbpkp/liLA05Liq5bCP5pe25LiN562J77yM6K+356iN5YCZ6K6/6Zeu44CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuW8gOWni+i/m+ihjOivremfs+WQiOaIkO+8jOagueaNruaCqOebtOaSremXtOWGheeahOmfs+mikeaVsOmHj+mcgOimgTEw5YiG6ZKf5YiwNOS4quWwj+aXtuS4jeetie+8jOivt+eojeWAmeiuv+mXruOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLmnI3liqHlmajmraPlnKjnu7TmiqTvvIznm7Tmkq3pn7PpopHlr7zlh7rlip/og73lj5fliLDlvbHlk43vvIzor7fnqI3lkI7lho3or5XjgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+l55u05pKt5rKh5pyJ6Z+z6aKR44CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIui/meS4quebtOaSreS4jeaYr+ivremfs+exu+Wei+eahO+8jOS4jeaUr+aMgemfs+mikeWvvOWHuuOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLov5nkuKrnm7Tmkq3ov5jmsqHnu5PmnZ/vvIzmmoLkuI3mlK/mjIHpn7PpopHlr7zlh7rjgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlj4LmlbDplJnor69cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAocmVzdWx0Lm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0Lm1zZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmnI3liqHlmajlh7rlsI/lt67kuobvvIzor7fnqI3lkI7lho3or5XvvIFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIHV0aWxzLnNldFNpbmdsZVNhbGUgPSBmdW5jdGlvbihyZXNUeXBlLCByZXNJZCwgcmVzVGl0bGUsIGlzVHJ5LCBzaG93VGltZSwgcmVzSW1nVXJsKSB7XG5cbiAgICAgICAgaWYgKGlzVHJ5ID09IDEpIHsgLy/mmK9cbiAgICAgICAgICAgIGlmIChyZXNUeXBlID09IDIpIHtcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+l5Y2V5ZOB5bey6K6+5Li66K+V5ZCs77yM5Y+W5raI6K+V5ZCs5ZCO5pa55Y+v6K6+5Li65Y2V5Y2WXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzVHlwZSA9PSAxIHx8IHJlc1R5cGUgPT0gMyB8fCByZXNUeXBlID09IDQpIHtcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+l5Y2V5ZOB5bey6K6+5Li66K+V55yL77yM5Y+W5raI6K+V55yL5ZCO5pa55Y+v6K6+5Li65Y2V5Y2WXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vZGFsLmluaXRTZXRTaW5nbGVTYWxlV2luZG93KHJlc0ltZ1VybCwgcmVzVGl0bGUsIHJlc1R5cGUsIHNob3dUaW1lLCByZXNJZCk7XG4gICAgICAgICAgICAkKFwiLnNldF9wcmljZV93aW5kb3dcIikuZmFkZUluKDMwMCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICB1dGlscy5jYW5jZWxTaW5nbGVTYWxlID0gZnVuY3Rpb24ocmVzVHlwZSwgcmVzSWQsIHBheW1lbnRUeXBlKSB7XG5cbiAgICAgICAgaWYgKHBheW1lbnRUeXBlID09IDEpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gXCLlj5bmtojljZXljZblkI7vvIzmnKrlvIDpgJrkvJrlkZjnmoTnlKjmiLflsIbkuI3lj6/ljZXni6zmn6XnnIvor6XljZXlk4EhXCI7XG4gICAgICAgIH0gZWxzZSBpZiAocGF5bWVudFR5cGUgPT0gMikge1xuICAgICAgICAgICAgdmFyIHRleHQgPSBcIuWPlua2iOWNleWNluWQju+8jOacquW8gOmAmuS8muWRmOeahOeUqOaIt+WwhuS4jeWPr+WNleeLrOS7mOi0uei0reS5sOivpeWNleWTgSFcIjtcbiAgICAgICAgfVxuICAgICAgICAkLmFsZXJ0KHRleHQsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICBvbk9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgICAgIHZhciBhcnIgPSB7fTtcbiAgICAgICAgICAgICAgICBhcnJbXCJyZXNvdXJjZV9pZFwiXSA9IHJlc0lkO1xuICAgICAgICAgICAgICAgIGFycltcInJlc291cmNlX3R5cGVcIl0gPSByZXNUeXBlO1xuICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZUxpc3RBcnIgPSBbYXJyXTtcblxuICAgICAgICAgICAgICAgICQuYWpheChcIi9zdWJtaXRfY2hvaWNlX3Jlc291cmNlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hhbm5lbF90eXBlXCI6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlc291cmNlX2xpc3RcIjogcmVzb3VyY2VMaXN0QXJyLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJtaXRfdHlwZVwiOiAxXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWPlua2iOWNleWNluaIkOWKn++8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5pbml0UmVzb3VyY2VMaXN0T2ZNZW1iZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5ZWm77yM6K+356iN5ZCO5YaN5pCc57Si77yBXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgdXRpbHMuY2hhbmdlQ2FuU2VsZWN0U3RhdGUgPSBmdW5jdGlvbiAocmVzSWQsIGNhblNlbGVjdCkge1xuXG4gICAgICAgICQuYWpheChcIi9zZXRfcmVzb3VyY2Vfc2VsZWN0X2NhblwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpZDogcmVzSWQsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogMSxcbiAgICAgICAgICAgICAgICBjYW5fc2VsZWN0OiBjYW5TZWxlY3QgPyAxIDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhblNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuW3sue7j+WFgeiuuOWkjeWItlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlt7Lnu4/npoHmraLlpI3liLZcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgdXRpbHMuaW5pdExpc3RQYWdpbmF0aW9uID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5saXN0LXBhZ2UgLnBhZ2luYXRpb24gbGkgYScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJGVsZSA9ICQodGhpcyk7XG4gICAgICAgICAgICAkZWxlLmF0dHIoJ2RhdGEtdXJsJywgJGVsZS5hdHRyKCdocmVmJykpO1xuICAgICAgICAgICAgJGVsZS5yZW1vdmVBdHRyKCdocmVmJyk7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIOWIh+aNoumAieaLqeW3suacieeql+WPo+S4rSB0YWIg55qE5pi+56S6XG4gICAgICogQHBhcmFtIHRhcmdldChTdHJpbmcpICAgIHBhY2thZ2VUYWIgLSDliIfmjaLliLDkuJPmoI/vvJsgc2luZ2xlVGFiIC0g5YiH5o2i5Yiw5Y2V5ZOBXG4gICAgICovXG4gICAgdXRpbHMuc3dpdGNoV2luZG93VGFiID0gZnVuY3Rpb24gKHRhcmdldCkge1xuXG4gICAgICAgIHZhciB0YWJWYWx1ZSA9ICQoXCIuc2VsZWN0R29vZFRhYldyYXBwZXI+bGkuYWN0aXZlQ29udGVudFRhYlwiKS52YWwoKTsgLy8gICAgMS3ljZXlk4EgIDAt5LiT5qCPXG5cbiAgICAgICAgaWYgKCh0YWJWYWx1ZSA9PSAxICYmIHRhcmdldCA9PSBcInNpbmdsZVRhYlwiKSB8fCAodGFiVmFsdWUgPT0gMCAmJiB0YXJnZXQgPT0gXCJwYWNrYWdlVGFiXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldCA9PSBcInNpbmdsZVRhYlwiKSB7XG4gICAgICAgICAgICAkKFwiI3NlbGVjdEdvb2RTaW5nbGVUYWJcIikuYWRkQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xuICAgICAgICAgICAgJChcIiNzZWxlY3RHb29kUGFja2FnZVRhYlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XG5cbiAgICAgICAgICAgIG1vZGFsLnRhYlN0YXRlID0gXCJzaW5nbGVMaXN0XCI7XG4gICAgICAgICAgICBtb2RhbC5yZXNUeXBlID0gMDtcblxuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCA9PSBcInBhY2thZ2VUYWJcIikge1xuICAgICAgICAgICAgJChcIiNzZWxlY3RHb29kUGFja2FnZVRhYlwiKS5hZGRDbGFzcyhcImFjdGl2ZUNvbnRlbnRUYWJcIik7XG4gICAgICAgICAgICAkKFwiI3NlbGVjdEdvb2RTaW5nbGVUYWJcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVDb250ZW50VGFiXCIpO1xuXG4gICAgICAgICAgICBtb2RhbC50YWJTdGF0ZSA9IFwicGFja2FnZUxpc3RcIjtcbiAgICAgICAgICAgIG1vZGFsLnJlc1R5cGUgPSA2O1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICByZXR1cm4gdXRpbHM7XG5cbn0pKCk7XG4iXX0=
