var business;$(function(){var e=$("#mainToolBox").data("id");business=new Business(e);business.init();$inviteGuest.init()});function Business(e){this.id=e;this.hasDown=false;this.hasClose=true;this.page=1;this.searchContent="";this.btnState=true;this.toolBoxBtn=true;this.searchResourceType=0;this.searchResourceName=""}Business.prototype={init:function(){var e=this;e.searchResourceType=GetQueryString("resource_type");e.searchResourceName=GetQueryString("search_content");this.initSearchPart();this.initCopy("copyHref");$("#mainToolBox").on("click","li[data-type]",function(t){var s=$(t.target),o=s.data("type"),a=e.id;o&&e.btnState&&e.maintool(o,a)});$("");$(".singleToolBox").on("click","li[data-type]",function(t){var s=$(t.target),o=s.data("type"),a=e.id,i=s.parentsUntil(".singleToolBox",".toolUl").data("type"),n=s.parentsUntil(".singleToolBox",".toolUl").data("id");var r=s.parentsUntil(".singleToolBox",".toolUl").data("res_title"),c=s.parentsUntil(".singleToolBox",".toolUl").data("is_try"),l=s.parentsUntil(".singleToolBox",".toolUl").data("show_time"),d=s.parentsUntil(".singleToolBox",".toolUl").data("img_url"),u=s.parentsUntil(".singleToolBox",".toolUl").data("payment_type");o&&e.btnState&&e.singleTool(o,a,i,n,r,c,l,d,u)});var t=$("#addBtn").data("distribute");if(t==0){$("#addBtn").removeAttr("style");$("#addBtn").hover(function(){$(".downshow").css({display:"block"})},function(){$(".downshow").css({display:"none"})});$(".moreBtn").removeAttr("style");$(".moreBtn").hover(function(){$(".moreTool").show()},function(){$(".moreTool").hide()})}$("#addSingle").on("click",function(){showLoading();e.page=1;e.hasDown=false;e.hasClose=false;e.getSelectData()});$("#selectWindow #selctClose, #selectWindow #selectCancelBtn").on("click",function(){var t=$("#selectWindow");t.fadeOut("normal",function(){$(this).find("#selectAreaList").html("")});t.find(".inputSearchPart").val("");e.page=1;e.hasClose=true;e.searchContent=""});$("#selectWindow #selectSearchBtn").on("click",function(){var t=$.trim($(this).prev().val());showLoading();e.searchContent=t;e.page=1;e.hasClose=true;e.getSelectData()}).prev().on("keypress",function(e){if(e.keyCode=="13"){$("#selectWindow #selectSearchBtn").click()}});$("#selectWindow .select_content_area").scroll(function(t){var s=$("#selectAreaList").height(),o=$(this).height(),a=$(this).scrollTop();if(a+o>=s-5&&!e.hasDown&&!e.hasClose){e.hasClose=true;e.getSelectData()}});$("#selectWindow #selectOkBtn").on("click",function(t){var s=$("#selectWindow .select_content_area"),o=[];showLoading();s.find(":checkbox:checked").each(function(e,t){var s={resource_id:t.getAttribute("id"),resource_type:t.getAttribute("value")};o[o.length]=s});$.ajax("/submit_choice_resource",{type:"POST",dataType:"json",data:{channel_type:2,resource_list:o,package_id:e.id},success:function(e){console.log(e);if(e.code==0){$("#selectWindow #selctClose").click();baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{baseUtils.show.redTip(e.msg);hideLoading()}},error:function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试");hideLoading()}})})},setSingleSale:function(e,t,s,o,a,i){if(s==1){if(e==2){$.alert("该单品已设为试听，取消试听后方可设为单卖","info",{btn:2})}else if(e==1||e==3||e==4){$.alert("该单品已设为试看，取消试看后方可设为单卖","info",{btn:2})}}else{this.initSetSingleSaleWindow(a,t,e,o,i);$(".set_price_window").fadeIn(300)}},cancelSingleSale:function(e,t,s){if(s==1){var o="取消单卖后，未开通专栏的用户将不可单独查看该单品!"}else if(s==2){var o="取消单卖后，未开通专栏的用户将不可单独付费购买该单品!"}$.alert(o,"info",{onOk:function(){showLoading();var s={};s["resource_id"]=t;s["resource_type"]=e;var o=[s];$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:o,submit_type:1},success:function(e){hideLoading();if(e.code==0){baseUtils.show.blueTip("取消单卖成功！");setTimeout(function(){window.location.reload()},1500)}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,t,s){hideLoading();console.log(s);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})}})},initSetSingleSaleWindow:function(e,t,s,o,a){$(".resource_icon_3").attr("src",e);$(".resource_title").html(t);switch(s){case 1:$(".resource_type_3").html("图文");break;case 2:$(".resource_type_3").html("音频");break;case 3:$(".resource_type_3").html("视频");break;case 4:$(".resource_type_3").html("直播");break;default:break}$(".resource_time_3").html(o);$(".close_icon_wrapper_2, .cancel_set_price").click(function(){$(".set_price_window").fadeOut(300)});$(".confirm_price_btn").click(function(){var e=$.trim($(".input_setting_price").val());var t=/^([1-9][\d]*|0)([\/.][\d]{1,2})?$/;if(!t.test(e)){baseUtils.show.redTip("价格输入有误");$(".input_setting_price").val("");return false}if(e<=0){baseUtils.show.redTip("价格不能为0 或 负数!");return false}if(e>baseUtils.maxInputPrice){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}var o={};o["resource_id"]=a;o["resource_type"]=s;var i=[o];$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:i,piece_price:e*100,submit_type:0},success:function(e){if(e.code==0){$(".set_price_window").fadeOut(300);baseUtils.show.blueTip("设为单卖成功");setTimeout(function(){window.location.reload()},1500)}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,t,s){console.log(s);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})})},initSearchPart:function(){var e=this;$(".searchAllBtn").click(function(){var e=GetQueryString("id");var t=$(".selector_resource_type").val();var s=$.trim($(".inputSearchAll").val());window.location.href="/package_detail_page?id="+e+"&search_content="+s+"&resource_type="+t});$(".inputSearchAll").focusin(function(){$(document).keypress(function(e){if(e.which==13){$(".searchAllBtn").click()}})}).focusout(function(){$(document).off("keypress")});$(".selector_resource_type").on("change",function(){$(".searchAllBtn").click()});if(e.searchResourceName!=""){$(".inputSearchAll").val(e.searchResourceName)}var t=$(".selector_resource_type").children("option").length;if(t>0){for(var s=0;s<t;s++){if($(".selector_resource_type").children("option").eq(s).attr("value")==e.searchResourceType){$(".selector_resource_type").children("option").eq(s).attr("selected","selected");return}}}},initCopy:function(e){var t=new Clipboard("."+e);t.on("success",function(e){if(e.trigger.id=="copy_app_href"){baseUtils.show.blueTip("复制成功！")}else{baseUtils.show.blueTip("复制成功！请在微信内打开哦 。")}e.clearSelection()})},maintool:function(e,t){self.btnState=false;switch(e){case"newListShow":this.newListShow(t,false);break;case"newListHide":this.newListShow(t,true);break;case"stopupdate":this.packageUpdate(t,false);break;case"startupdate":this.packageUpdate(t,true);break;case"soldout":this.packageisShow(t,false);break;case"putaway":this.packageisShow(t,true);break;case"openForm":this.packageForm(t,false);break;case"closeForm":this.packageForm(t,true);break;default:console.error("参数错误");break}},newListShow:function(e,t){var s=t?1:0;console.log(s);console.log(e);showLoading();$.ajax("/set_h5_newest_hide",{type:"POST",dataType:"json",data:{id:e,h5_newest_hide:t?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();baseUtils.show.redTip(e.msg);self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},packageUpdate:function(e,t){showLoading();$.ajax("/save_package_finished_state",{type:"POST",dataType:"json",data:{package_id:e,finished_state:t?0:1},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();baseUtils.show.redTip(e.msg);self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},packageForm:function(e,t){var s=$(".user_version_num").data("version_type");if(s&&s==3){$.alert(t?"关闭资料填写后，用户在付费购买本专栏前将不再填写个人信息，您确认要关闭么？":"开启资料填写后，用户在付费购买本专栏前将填写个人信息，您确认要开启么？","info",{icon:"blue",onOk:function(){showLoading();$.ajax("/set_is_complete_info",{type:"POST",dataType:"json",data:{id:e,is_complete_info:t},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},200)}else{baseUtils.show.redTip(e.msg);hideLoading()}}})}})}else{baseUtils.show.redTip("当前版本不支持开启资料填写，如需开启请升级至专业版")}},packageisShow:function(e,t){$.alert(t?"上架后该专栏将对外显示":"下架后该专栏将不对外显示","info",{onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:0,operate_type:t?0:1},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{baseUtils.show.redTip(e.msg);hideLoading();self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}})},singleTool:function(e,t,s,o,a,i,n,r,c){self.btnState=false;switch(e){case"totop":this.setTop(t,s,o,true);break;case"canceltop":this.setTop(t,s,o,false);break;case"aliveGuestSet":if(s==4){$inviteGuest.openGuestSettingWindow(o)}break;case"showComment":if(s==4){contentDetail("/alivecomment?alive_id="+o)}else{contentDetail("/comment_admin?type="+(s-1)+"&record_id="+o)}break;case"setTry":this.setTry(t,s,o,c,true);break;case"cancelTry":this.setTry(t,s,o,c,false);break;case"set_single_sale":this.setSingleSale(s,a,i,n,r,o);break;case"cancel_single_sale":this.cancelSingleSale(s,o,c);break;case"soldout":this.singleisShow(t,s,o,true);break;case"putaway":this.singleisShow(t,s,o,false);break;case"del":this.querySingle(t,s,o);break;case"enable_copy":this.changeCanSelectState(o,true);break;case"forbid_copy":var l=this;$.alert("禁止复制后，该篇图文的图片点击放大和长按识别二维码功能将被禁用","info",{btn:3,onOk:function(){l.changeCanSelectState(o,false)}});break;case"export_audio":this.exportAudio(o);break;case"copy_app_href":break;default:console.error("参数错误");break}},exportAudio:function(e){$.ajax("/async_download_alive_voice",{type:"POST",dataType:"json",data:{alive_id:e},success:function(e){switch(e.code){case 0:window.location.href=e.data["url"];break;case 1:$.alert("语音正在合成中，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 2:$.alert("开始进行语音合成，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 3:$.alert("服务器正在维护，直播音频导出功能受到影响，请稍后再试。","info",{btn:2});break;case 4:$.alert("该直播没有音频。","info",{btn:2});break;case 5:$.alert("这个直播不是语音类型的，不支持音频导出。","info",{btn:2});break;case 6:$.alert("这个直播还没结束，暂不支持音频导出。","info",{btn:2});break;default:console.log("参数错误");baseUtils.show.redTip(e.msg);break}console.log(e.msg)},error:function(e,t,s){console.log(s);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})},changeCanSelectState:function(e,t){$.ajax("/set_resource_select_can",{type:"POST",dataType:"json",data:{id:e,resource_type:1,can_select:t?1:0},success:function(e){if(e.code==0){if(t){baseUtils.show.blueTip("已经允许复制")}else{baseUtils.show.blueTip("已经禁止复制")}window.location.reload()}else{baseUtils.show.redTip("操作失败，请稍后再试")}},error:function(e,t,s){console.log(s);baseUtils.show.redTip("网络错误，请稍后再试！")}})},setTop:function(e,t,s,o){showLoading();$.ajax("/set_package_resource_top",{type:"POST",dataType:"json",data:{package_id:e,resource_type:t,resource_id:s,top_state:o?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},setTry:function(e,t,s,o,a){if(o==1||o==2){if(t==2){$.alert("该单品已设为单卖，取消单卖后方可设为试听","info",{btn:2})}else if(t==1||t==3||t==4){$.alert("该单品已设为单卖，取消单卖后方可设为试看","info",{btn:2})}return false}showLoading();$.ajax("/set_package_resource_try",{type:"POST",dataType:"json",data:{package_id:e,resource_type:t,resource_id:s,try_state:a?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},singleisShow:function(e,t,s,o){var a=this,i=o?"下架后该单品将不对外显示":"上架后该单品将对外显示";$.alert(i,"info",{title:"",onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,operate_type:o?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();a.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();a.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}})},querySingle:function(e,t,s){var o=this,a="";$.ajax("/query_goods_state",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,channel_type:1,package_id:e}}).then(function(e){if(e.code==0){var t=e.data.records_list,s=Object.keys(t).length;if(e.data.is_exist==0){a='确认移除该内容，移除后所有用户将无法查看此内容且<spa style="color: red;">不可恢复</spa>'}else if(t[0]==undefined){$.each(t,function(e,t){a+="《"+t.title+"》"});a="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容仍存在于"+a+"中"}else{if(s==1){a="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容仍在单品列表且单独售卖"}else{$.each(t,function(e,t){if(e!=0){a+="《"+t.title+"》"}});a="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容单独售卖且仍存在于"+a+"中"}}return a}else{baseUtils.show.redTip(e.msg);return false}},function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试")}).then(function(a){if(a){$.alert(a,"info",{oktext:"确认移除",onOk:function(){o.deleteSingle(e,t,s)}})}})},deleteSingle:function(e,t,s){showLoading();$.ajax("/move_goods",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,channel_type:1,package_id:e},success:function(e){console.log(e);if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},getSelectData:function(){var e=this;$.ajax("/choice_resource_list",{type:"POST",dataType:"json",data:{search_content:e.searchContent||"",channel_type:2,resource_type:0,package_id:e.id,page:e.page},success:function(t){console.log(t);if(t.code==0){var s=$("#selectAreaList"),o="",a=JSON.parse(t.data.page_offset);$.each(t.data.resource_list,function(e,t){var s="";switch(+this.resource_type){case 1:s="图文";break;case 2:s="音频";break;case 3:s="视频";break;case 4:s="直播";break;default:s="无";break}o+='<div class="resourceItemWrapper">'+'<input value="'+this.resource_type+'" id="'+this.id+'" class="with-gap resource_radio" name="select_resource" type="checkbox">'+'<label for="'+this.id+'" class="radio_desc">'+'<div class="resource_icon_wrapper">'+'<img class="resource_icon" src="'+this.img_url+'">'+"</div>"+this.title+"</label>"+'<span class="resource_type">'+s+"</span>"+'<span class="resource_time">'+this.start_at+"</span>"+"</div>"});if(o.length==0){o+='<div class="contentNoneTip">暂无数据</div>'}if(e.page==1||!e.page){s.html(o);s.append('<div class="isDown">资源加载中</div>');e.hasClose=false;hideLoading();if(!e.searchContent){$("#selectWindow").fadeIn()}}else if(e.page>1){s.find(".isDown").before(o);e.hasClose=false}if(a.current_page>=a.total_pages){s.find(".isDown").hide();e.hasDown=true}e.page++}else{hideLoading();baseUtils.show.redTip("拉取已有单品失败！")}},error:function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试");hideLoading()}})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhY2thZ2VEZXRhaWwuanMiXSwibmFtZXMiOlsiYnVzaW5lc3MiLCIkIiwiaWQiLCJkYXRhIiwiQnVzaW5lc3MiLCJpbml0IiwiJGludml0ZUd1ZXN0IiwidGhpcyIsImhhc0Rvd24iLCJoYXNDbG9zZSIsInBhZ2UiLCJzZWFyY2hDb250ZW50IiwiYnRuU3RhdGUiLCJ0b29sQm94QnRuIiwic2VhcmNoUmVzb3VyY2VUeXBlIiwic2VhcmNoUmVzb3VyY2VOYW1lIiwicHJvdG90eXBlIiwic2VsZiIsIkdldFF1ZXJ5U3RyaW5nIiwiaW5pdFNlYXJjaFBhcnQiLCJpbml0Q29weSIsIm9uIiwiZSIsIiRlbGUiLCJ0YXJnZXQiLCJ0eXBlIiwibWFpbnRvb2wiLCJwYWNrYWdlaWQiLCJyZXNUeXBlIiwicGFyZW50c1VudGlsIiwicmVzaWQiLCJyZXNUaXRsZSIsImlzVHJ5Iiwic2hvd1RpbWUiLCJyZXNJbWdVcmwiLCJwYXltZW50VHlwZSIsInNpbmdsZVRvb2wiLCJpc19kaXN0cmlidXRlIiwicmVtb3ZlQXR0ciIsImhvdmVyIiwiY3NzIiwiZGlzcGxheSIsInNob3ciLCJoaWRlIiwic2hvd0xvYWRpbmciLCJnZXRTZWxlY3REYXRhIiwiJHNlbGVjdFdpbiIsImZhZGVPdXQiLCJmaW5kIiwiaHRtbCIsInZhbCIsInNlYXJjaFZhbCIsInRyaW0iLCJwcmV2Iiwia2V5Q29kZSIsImNsaWNrIiwic2Nyb2xsIiwiRGl2SGVpZ2h0IiwiaGVpZ2h0IiwiU2Nyb2xsSGVpZ2h0IiwiU2Nyb2xsVG9wIiwic2Nyb2xsVG9wIiwiJHNlbGVjdEFyZWEiLCJyZXNMaXN0IiwiZWFjaCIsImkiLCJpdGVtIiwicmVzT2JqIiwicmVzb3VyY2VfaWQiLCJnZXRBdHRyaWJ1dGUiLCJyZXNvdXJjZV90eXBlIiwibGVuZ3RoIiwiYWpheCIsImRhdGFUeXBlIiwiY2hhbm5lbF90eXBlIiwicmVzb3VyY2VfbGlzdCIsInBhY2thZ2VfaWQiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsImNvZGUiLCJiYXNlVXRpbHMiLCJibHVlVGlwIiwibXNnIiwic2V0VGltZW91dCIsInJlbG9hZFBhZ2UiLCJyZWRUaXAiLCJoaWRlTG9hZGluZyIsImVycm9yIiwieGhyIiwic3RhdHVzIiwiZXJyIiwic2V0U2luZ2xlU2FsZSIsInJlc0lkIiwiYWxlcnQiLCJidG4iLCJpbml0U2V0U2luZ2xlU2FsZVdpbmRvdyIsImZhZGVJbiIsImNhbmNlbFNpbmdsZVNhbGUiLCJ0ZXh0Iiwib25PayIsImFyciIsInJlc291cmNlTGlzdEFyciIsInN1Ym1pdF90eXBlIiwicmVzdWx0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJhdHRyIiwicHJpY2UiLCJyZWciLCJ0ZXN0IiwibWF4SW5wdXRQcmljZSIsInBpZWNlX3ByaWNlIiwicGFja2FnZUlkIiwic2VhcmNoX2NvbnRlbnQiLCJocmVmIiwiZm9jdXNpbiIsImRvY3VtZW50Iiwia2V5cHJlc3MiLCJ3aGljaCIsImZvY3Vzb3V0Iiwib2ZmIiwibnVtIiwiY2hpbGRyZW4iLCJlcSIsImNsYXNzTmFtZSIsImNsaXBib2FyZCIsIkNsaXBib2FyZCIsInRyaWdnZXIiLCJjbGVhclNlbGVjdGlvbiIsIm5ld0xpc3RTaG93IiwicGFja2FnZVVwZGF0ZSIsInBhY2thZ2Vpc1Nob3ciLCJwYWNrYWdlRm9ybSIsInNob3dUeXBlIiwiaDVfbmV3ZXN0X2hpZGUiLCJzdGF0ZVR5cGUiLCJmaW5pc2hlZF9zdGF0ZSIsImZvcm1UeXBlIiwidmVyc2lvbiIsImljb24iLCJpc19jb21wbGV0ZV9pbmZvIiwiY2hhbmdlVHlwZSIsImdvb2RzX2lkIiwiZ29vZHNfdHlwZSIsIm9wZXJhdGVfdHlwZSIsInNldFRvcCIsIm9wZW5HdWVzdFNldHRpbmdXaW5kb3ciLCJjb250ZW50RGV0YWlsIiwic2V0VHJ5Iiwic2luZ2xlaXNTaG93IiwicXVlcnlTaW5nbGUiLCJjaGFuZ2VDYW5TZWxlY3RTdGF0ZSIsImV4cG9ydEF1ZGlvIiwiYWxpdmVJZCIsImFsaXZlX2lkIiwiY2FuU2VsZWN0IiwiY2FuX3NlbGVjdCIsInRvcCIsInRvcF9zdGF0ZSIsInRyeVN0YXRlIiwidHJ5X3N0YXRlIiwic2hvd1N0YXRlIiwidGl0bGUiLCJ0aGVuIiwicmVjb3Jkc0xpc3QiLCJyZWNvcmRzX2xpc3QiLCJhcnJMZW5ndGgiLCJPYmplY3QiLCJrZXlzIiwiaXNfZXhpc3QiLCJ1bmRlZmluZWQiLCJrZXkiLCJ2YWx1ZSIsIm9rdGV4dCIsImRlbGV0ZVNpbmdsZSIsInNlbGVjdFN0ciIsInBhZ2VPYmoiLCJKU09OIiwicGFyc2UiLCJwYWdlX29mZnNldCIsImltZ191cmwiLCJzdGFydF9hdCIsImFwcGVuZCIsImJlZm9yZSIsImN1cnJlbnRfcGFnZSIsInRvdGFsX3BhZ2VzIl0sIm1hcHBpbmdzIjoiQUFHQSxHQUFJQSxTQUNKQyxHQUFFLFdBQ0UsR0FBSUMsR0FBS0QsRUFBRSxnQkFBZ0JFLEtBQUssS0FDaENILFVBQVcsR0FBSUksVUFBU0YsRUFDeEJGLFVBQVNLLE1BQ1RDLGNBQWFELFFBSWpCLFNBQVNELFVBQVNGLEdBQ2RLLEtBQUtMLEdBQUtBLENBQ1ZLLE1BQUtDLFFBQVUsS0FDZkQsTUFBS0UsU0FBVyxJQUNoQkYsTUFBS0csS0FBTyxDQUNaSCxNQUFLSSxjQUFnQixFQUNyQkosTUFBS0ssU0FBVyxJQUVoQkwsTUFBS00sV0FBYSxJQUVsQk4sTUFBS08sbUJBQXFCLENBQzFCUCxNQUFLUSxtQkFBcUIsR0FFOUJYLFNBQVNZLFdBQ0xYLEtBQU0sV0FDRixHQUFJWSxHQUFPVixJQUVYVSxHQUFLSCxtQkFBcUJJLGVBQWUsZ0JBQ3pDRCxHQUFLRixtQkFBcUJHLGVBQWUsaUJBR3pDWCxNQUFLWSxnQkFFTFosTUFBS2EsU0FBUyxXQUVkbkIsR0FBRSxnQkFDR29CLEdBQUcsUUFBUyxnQkFBaUIsU0FBU0MsR0FDbkMsR0FBSUMsR0FBT3RCLEVBQUVxQixFQUFFRSxRQUNYQyxFQUFPRixFQUFLcEIsS0FBSyxRQUNqQkQsRUFBS2UsRUFBS2YsRUFDZHVCLElBQVFSLEVBQUtMLFVBQWFLLEVBQUtTLFNBQVNE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R0FDREEsRUFBZ0IsSUFDaEIsTUFDSixLQUFLLEdBQ0RBLEVBQWdCLElBQ2hCLE1BQ0osU0FDSUEsRUFBZ0IsR0FDaEIsT0FHUjJHLEdBQWEsb0NBQ1QsaUJBQW1CMUssS0FBSytELGNBQWdCLFNBQVcvRCxLQUFLTCxHQUFLLDRFQUM3RCxlQUFpQkssS0FBS0wsR0FBSyx3QkFDM0Isc0NBQ0EsbUNBQXFDSyxLQUFLK0ssUUFBVSxLQUNwRCxTQUNBL0ssS0FBSzZKLE1BQ0wsV0FDQSwrQkFBaUM5RixFQUFnQixVQUNqRCwrQkFBaUMvRCxLQUFLZ0wsU0FBVyxVQUNqRCxVQUVSLElBQUlOLEVBQVUxRyxRQUFVLEVBQUcsQ0FDdkIwRyxHQUNJLHlDQUVSLEdBQUloSyxFQUFLUCxNQUFRLElBQU1PLEVBQUtQLEtBQU0sQ0FDOUJvRCxFQUFZYixLQUFLZ0ksRUFDakJuSCxHQUFZMEgsT0FBTyxrQ0FDbkJ2SyxHQUFLUixTQUFXLEtBQ2hCOEUsY0FFQSxLQUFLdEUsRUFBS04sY0FBZSxDQUNyQlYsRUFBRSxpQkFBaUJnRyxjQUVwQixJQUFJaEYsRUFBS1AsS0FBTyxFQUFHLENBQ3RCb0QsRUFBWWQsS0FBSyxXQUFXeUksT0FBT1IsRUFDbkNoSyxHQUFLUixTQUFXLE1BSXBCLEdBQUl5SyxFQUFRUSxjQUFnQlIsRUFBUVMsWUFBYSxDQUM3QzdILEVBQVlkLEtBQUssV0FBV0wsTUFDNUIxQixHQUFLVCxRQUFVLEtBRW5CUyxFQUFLUCxXQUVGLENBQ0g2RSxhQUNBTixXQUFVdkMsS0FBSzRDLE9BQU8sZUFHOUJFLE1BQU8sU0FBU0MsRUFBS0MsRUFBUUMsR0FDekJiLFFBQVFVLE1BQU1HLEVBQ2RWLFdBQVV2QyxLQUFLNEMsT0FBTyxhQUN0QkMiLCJmaWxlIjoicGFja2FnZURldGFpbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBGcmFuayBvbiAyMDE3LzMvMjEuXG4gKi9cbnZhciBidXNpbmVzcztcbiQoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlkID0gJCgnI21haW5Ub29sQm94JykuZGF0YSgnaWQnKTtcbiAgICBidXNpbmVzcyA9IG5ldyBCdXNpbmVzcyhpZCk7XG4gICAgYnVzaW5lc3MuaW5pdCgpO1xuICAgICRpbnZpdGVHdWVzdC5pbml0KCk7XG59KTtcblxuXG5mdW5jdGlvbiBCdXNpbmVzcyhpZCkgeyAvL+WumuS5ieS4gOS6m+WFrOWFseWxnuaAp1xuICAgIHRoaXMuaWQgPSBpZDsgLy/lvZPliY3kuJPmoI/nmoRpZFxuICAgIHRoaXMuaGFzRG93biA9IGZhbHNlO1xuICAgIHRoaXMuaGFzQ2xvc2UgPSB0cnVlO1xuICAgIHRoaXMucGFnZSA9IDE7IC8v5bey5pyJ5Y2V5ZOB55qE6aG156CBXG4gICAgdGhpcy5zZWFyY2hDb250ZW50ID0gJyc7XG4gICAgdGhpcy5idG5TdGF0ZSA9IHRydWU7XG5cbiAgICB0aGlzLnRvb2xCb3hCdG4gPSB0cnVlOyAvL+W3peWFt+aMiemSrueahOeCueWHu+eKtuaAgVxuXG4gICAgdGhpcy5zZWFyY2hSZXNvdXJjZVR5cGUgPSAwO1xuICAgIHRoaXMuc2VhcmNoUmVzb3VyY2VOYW1lID0gXCJcIjtcbn1cbkJ1c2luZXNzLnByb3RvdHlwZSA9IHtcbiAgICBpbml0OiBmdW5jdGlvbigpIHsgLy/pobXpnaLnmoTliJ3lp4vljJbmk43kvZzvvIznu5Hlrprkuovku7ZcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHNlbGYuc2VhcmNoUmVzb3VyY2VUeXBlID0gR2V0UXVlcnlTdHJpbmcoXCJyZXNvdXJjZV90eXBlXCIpO1xuICAgICAgICBzZWxmLnNlYXJjaFJlc291cmNlTmFtZSA9IEdldFF1ZXJ5U3RyaW5nKFwic2VhcmNoX2NvbnRlbnRcIik7XG5cbiAgICAgICAgLy8gIOWIneWni+WMluaQnOe0ouetm+mAiVxuICAgICAgICB0aGlzLmluaXRTZWFyY2hQYXJ0KCk7XG5cbiAgICAgICAgdGhpcy5pbml0Q29weSgnY29weUhyZWYnKTsgLy/liqDovb3lpI3liLbpk77mjqXmj5Lku7ZcblxuICAgICAgICAkKCcjbWFpblRvb2xCb3gnKVxuICAgICAgICAgICAgLm9uKCdjbGljaycsICdsaVtkYXRhLXR5cGVdJywgZnVuY3Rpb24oZSkgeyAvL+S4k+agj+eahOWKn+iDvVxuICAgICAgICAgICAgICAgIHZhciAkZWxlID0gJChlLnRhcmdldCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAkZWxlLmRhdGEoJ3R5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBzZWxmLmlkO1xuICAgICAgICAgICAgICAgIHR5cGUgJiYgc2VsZi5idG5TdGF0ZSAmJiAoc2VsZi5tYWludG9vbCh0eXBlLCBpZCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICQoJycpXG4gICAgICAgICQoJy5zaW5nbGVUb29sQm94JylcbiAgICAgICAgICAgIC5vbignY2xpY2snLCAnbGlbZGF0YS10eXBlXScsIGZ1bmN0aW9uKGUpIHsgLy/kuJPmoI/lhoXljZXlk4HnmoTlip/og71cbiAgICAgICAgICAgICAgICB2YXIgJGVsZSA9ICQoZS50YXJnZXQpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJGVsZS5kYXRhKCd0eXBlJyksXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VpZCA9IHNlbGYuaWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc1R5cGUgPSAkZWxlLnBhcmVudHNVbnRpbCgnLnNpbmdsZVRvb2xCb3gnLCAnLnRvb2xVbCcpLmRhdGEoJ3R5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaWQgPSAkZWxlLnBhcmVudHNVbnRpbCgnLnNpbmdsZVRvb2xCb3gnLCAnLnRvb2xVbCcpLmRhdGEoJ2lkJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVzVGl0bGUgPSAkZWxlLnBhcmVudHNVbnRpbCgnLnNpbmdsZVRvb2xCb3gnLCAnLnRvb2xVbCcpLmRhdGEoJ3Jlc190aXRsZScpLFxuICAgICAgICAgICAgICAgICAgICBpc1RyeSA9ICRlbGUucGFyZW50c1VudGlsKCcuc2luZ2xlVG9vbEJveCcsICcudG9vbFVsJykuZGF0YSgnaXNfdHJ5JyksXG4gICAgICAgICAgICAgICAgICAgIHNob3dUaW1lID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCdzaG93X3RpbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzSW1nVXJsID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCdpbWdfdXJsJyksXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRUeXBlID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCdwYXltZW50X3R5cGUnKTtcblxuICAgICAgICAgICAgICAgIHR5cGUgJiYgc2VsZi5idG5TdGF0ZSAmJiAoc2VsZi5zaW5nbGVUb29sKHR5cGUsIHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHJlc1RpdGxlLCBpc1RyeSwgc2hvd1RpbWUsIHJlc0ltZ1VybCwgcGF5bWVudFR5cGUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB2YXIgaXNfZGlzdHJpYnV0ZT0kKCcjYWRkQnRuJykuZGF0YShcImRpc3RyaWJ1dGVcIik7XG4gICAgICAgIGlmKGlzX2Rpc3RyaWJ1dGUgPT0gMCl7XG4gICAgICAgICAgICAkKFwiI2FkZEJ0blwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIik7XG4gICAgICAgICAgICAkKFwiI2FkZEJ0blwiKS5ob3ZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJChcIi5kb3duc2hvd1wiKS5jc3Moe2Rpc3BsYXk6XCJibG9ja1wifSlcbiAgICAgICAgICAgIH0sZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQoXCIuZG93bnNob3dcIikuY3NzKHtkaXNwbGF5Olwibm9uZVwifSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJChcIi5tb3JlQnRuXCIpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKTtcbiAgICAgICAgICAgICQoXCIubW9yZUJ0blwiKS5ob3ZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJChcIi5tb3JlVG9vbFwiKS5zaG93KCk7XG4gICAgICAgICAgICB9LGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKFwiLm1vcmVUb29sXCIpLmhpZGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAkKCcjYWRkU2luZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7IC8v5by55Ye66YCJ6YCJ5oup5oup5qGGXG4gICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgc2VsZi5wYWdlID0gMTtcbiAgICAgICAgICAgIHNlbGYuaGFzRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5nZXRTZWxlY3REYXRhKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKCcjc2VsZWN0V2luZG93ICNzZWxjdENsb3NlLCAjc2VsZWN0V2luZG93ICNzZWxlY3RDYW5jZWxCdG4nKVxuICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgeyAvL+WFs+mXremAieaLqeW8ueeql1xuICAgICAgICAgICAgICAgIHZhciAkc2VsZWN0V2luID0gJCgnI3NlbGVjdFdpbmRvdycpO1xuICAgICAgICAgICAgICAgICRzZWxlY3RXaW4uZmFkZU91dCgnbm9ybWFsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnI3NlbGVjdEFyZWFMaXN0JykuaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJHNlbGVjdFdpbi5maW5kKCcuaW5wdXRTZWFyY2hQYXJ0JykudmFsKCcnKTsgLy/muIXnqbrmkJzntKLmoYZcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNlbGYuc2VhcmNoQ29udGVudCA9ICcnO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnI3NlbGVjdFdpbmRvdyAjc2VsZWN0U2VhcmNoQnRuJylcbiAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbigpIHsgLy/pgInmi6nmoYbnmoTljZXlk4HmkJzntKJcbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoVmFsID0gJC50cmltKCQodGhpcykucHJldigpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2VhcmNoQ29udGVudCA9IHNlYXJjaFZhbDtcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNlbGYuZ2V0U2VsZWN0RGF0YSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5wcmV2KCkub24oJ2tleXByZXNzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gXCIxM1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGVjdFNlYXJjaEJ0bicpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnI3NlbGVjdFdpbmRvdyAuc2VsZWN0X2NvbnRlbnRfYXJlYScpLnNjcm9sbChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgRGl2SGVpZ2h0ID0gJCgnI3NlbGVjdEFyZWFMaXN0JykuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgU2Nyb2xsSGVpZ2h0ID0gJCh0aGlzKS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBTY3JvbGxUb3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICBpZiAoKFNjcm9sbFRvcCArIFNjcm9sbEhlaWdodCA+PSBEaXZIZWlnaHQgLSA1KSAmJlxuICAgICAgICAgICAgICAgICFzZWxmLmhhc0Rvd24gLy/liKTmlq3mmK/lkKbliLDovr7lupXpg6hcbiAgICAgICAgICAgICAgICAmJlxuICAgICAgICAgICAgICAgICFzZWxmLmhhc0Nsb3NlIC8v5Yik5pat5by55qGG5piv5ZCm5YWz6ZetXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxmLmdldFNlbGVjdERhdGEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/mj5DkuqTopoHmt7vliqDnmoTljZXlk4FcbiAgICAgICAgJCgnI3NlbGVjdFdpbmRvdyAjc2VsZWN0T2tCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgJHNlbGVjdEFyZWEgPSAkKCcjc2VsZWN0V2luZG93IC5zZWxlY3RfY29udGVudF9hcmVhJyksXG4gICAgICAgICAgICAgICAgcmVzTGlzdCA9IFtdO1xuXG4gICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgJHNlbGVjdEFyZWEuZmluZCgnOmNoZWNrYm94OmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKGksIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV9pZDogaXRlbS5nZXRBdHRyaWJ1dGUoJ2lkJyksXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IGl0ZW0uZ2V0QXR0cmlidXRlKCd2YWx1ZScpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXNMaXN0W3Jlc0xpc3QubGVuZ3RoXSA9IHJlc09iajtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLyrlj4LmlbA6XG4gICAgICAgICAgICAxLWNoYW5uZWxfdHlwZSgxLeWNleWTgSwyLeS4k+agjywzLeS8muWRmCk7XG4gICAgICAgICAgICAyLXJlc291cmNlX2xpc3Qo6YCJ5Lit55qE6LWE5rqQ6ZuG5ZCIKOaVsOe7hCksXG4gICAgICAgICAgICDplK7lgLzlr7nnmoTmoLzlvI/lpoI6cmVzb3VyY2VfaWQ6YV9ramphazM0NSxyZXNvdXJjZV90eXBlOjEpO1xuICAgICAgICAgICAgMy1wYWNrYWdlX2lkKOW9k2NoYW5uZWxfdHlwZT0y44CBM+aXtizmnInlgLwpO1xuICAgICAgICAgICAgNC1waWVjZV9wcmljZSjkvYZjaGFubmVsX3R5cGU9MeaXtuacieWAvCkqL1xuICAgICAgICAgICAgJC5hamF4KCcvc3VibWl0X2Nob2ljZV9yZXNvdXJjZScsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcblxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbF90eXBlOiAyLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV9saXN0OiByZXNMaXN0LFxuICAgICAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBzZWxmLmlkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL+mAieaLqeaIkOWKn++8jOS4u+WKqOWFs+mXremAieaLqeW8ueeql1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NlbGVjdFdpbmRvdyAjc2VsY3RDbG9zZScpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5Yi35paw6aG16Z2iXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuXG4gICAgfSxcbiAgICBzZXRTaW5nbGVTYWxlOiBmdW5jdGlvbihyZXNUeXBlLCByZXNUaXRsZSwgaXNUcnksIHNob3dUaW1lLCByZXNJbWdVcmwsIHJlc0lkKSB7XG4gICAgICAgIC8vXHTorr7nva7ljZXljZZcbiAgICAgICAgLy9cdDHjgIHliKTmlq3ljZXlk4HmmK/lkKbkuLror5XlkKwvIOivleeciyAtLT5cbiAgICAgICAgLy8gIDLjgIHoi6XkuLror5XlkKzvvJog5by556qXIOaPkOekulxuICAgICAgICAvLyAgM+OAgeiLpeS4jeS4uuivleWQrO+8miDlvLnnqpcg6K6+572u5Y2V5ZOB5ZSu5Lu3XG5cbiAgICAgICAgaWYgKGlzVHJ5ID09IDEpIHsgLy/mmK9cbiAgICAgICAgICAgIGlmIChyZXNUeXBlID09IDIpIHtcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+l5Y2V5ZOB5bey6K6+5Li66K+V5ZCs77yM5Y+W5raI6K+V5ZCs5ZCO5pa55Y+v6K6+5Li65Y2V5Y2WXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzVHlwZSA9PSAxIHx8IHJlc1R5cGUgPT0gMyB8fCByZXNUeXBlID09IDQpIHtcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+l5Y2V5ZOB5bey6K6+5Li66K+V55yL77yM5Y+W5raI6K+V55yL5ZCO5pa55Y+v6K6+5Li65Y2V5Y2WXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbml0U2V0U2luZ2xlU2FsZVdpbmRvdyhyZXNJbWdVcmwsIHJlc1RpdGxlLCByZXNUeXBlLCBzaG93VGltZSwgcmVzSWQpO1xuICAgICAgICAgICAgJChcIi5zZXRfcHJpY2Vfd2luZG93XCIpLmZhZGVJbigzMDApO1xuICAgICAgICB9XG5cbiAgICB9LFxuICAgIGNhbmNlbFNpbmdsZVNhbGU6IGZ1bmN0aW9uKHJlc1R5cGUsIHJlc0lkLCBwYXltZW50VHlwZSkge1xuICAgICAgICAvLyBcdOWPlua2iOWNleWNllxuICAgICAgICAvL1x0MeOAgeW8ueeql+aPkOekulxuICAgICAgICBpZiAocGF5bWVudFR5cGUgPT0gMSkge1xuICAgICAgICAgICAgdmFyIHRleHQgPSBcIuWPlua2iOWNleWNluWQju+8jOacquW8gOmAmuS4k+agj+eahOeUqOaIt+WwhuS4jeWPr+WNleeLrOafpeeci+ivpeWNleWTgSFcIjtcbiAgICAgICAgfSBlbHNlIGlmIChwYXltZW50VHlwZSA9PSAyKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IFwi5Y+W5raI5Y2V5Y2W5ZCO77yM5pyq5byA6YCa5LiT5qCP55qE55So5oi35bCG5LiN5Y+v5Y2V54us5LuY6LS56LSt5Lmw6K+l5Y2V5ZOBIVwiO1xuICAgICAgICB9XG4gICAgICAgICQuYWxlcnQodGV4dCwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IHt9O1xuICAgICAgICAgICAgICAgIGFycltcInJlc291cmNlX2lkXCJdID0gcmVzSWQ7XG4gICAgICAgICAgICAgICAgYXJyW1wicmVzb3VyY2VfdHlwZVwiXSA9IHJlc1R5cGU7XG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlTGlzdEFyciA9IFthcnJdO1xuXG4gICAgICAgICAgICAgICAgJC5hamF4KFwiL3N1Ym1pdF9jaG9pY2VfcmVzb3VyY2VcIiwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGFubmVsX3R5cGVcIjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmVzb3VyY2VfbGlzdFwiOiByZXNvdXJjZUxpc3RBcnIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN1Ym1pdF90eXBlXCI6IDFcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5Y+W5raI5Y2V5Y2W5oiQ5Yqf77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5ZWm77yM6K+356iN5ZCO5YaN5pCc57Si77yBXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vXHQy44CB56Gu5a6a5Y+W5raIXG5cblxuICAgIH0sXG4gICAgLy9cdOWIneWni+WMluiuvue9ruS4k+agj+WkluWNleWNllxuICAgIGluaXRTZXRTaW5nbGVTYWxlV2luZG93OiBmdW5jdGlvbihyZXNJbWdVcmwsIHJlc1RpdGxlLCByZXNUeXBlLCBzaG93VGltZSwgcmVzSWQpIHtcblxuICAgICAgICAvLyAg57uZ6K6+572u5Lu35qC85aGr5YWF5pWw5o2uXG4gICAgICAgICQoXCIucmVzb3VyY2VfaWNvbl8zXCIpLmF0dHIoXCJzcmNcIiwgcmVzSW1nVXJsKTtcbiAgICAgICAgJChcIi5yZXNvdXJjZV90aXRsZVwiKS5odG1sKHJlc1RpdGxlKTtcbiAgICAgICAgc3dpdGNoIChyZXNUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgJChcIi5yZXNvdXJjZV90eXBlXzNcIikuaHRtbChcIuWbvuaWh1wiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAkKFwiLnJlc291cmNlX3R5cGVfM1wiKS5odG1sKFwi6Z+z6aKRXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICQoXCIucmVzb3VyY2VfdHlwZV8zXCIpLmh0bWwoXCLop4bpopFcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgJChcIi5yZXNvdXJjZV90eXBlXzNcIikuaHRtbChcIuebtOaSrVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgJChcIi5yZXNvdXJjZV90aW1lXzNcIikuaHRtbChzaG93VGltZSk7XG5cbiAgICAgICAgLy8gJChcImlucHV0W25hbWU9J3NldF9zYWxlX3ByaWNlJ11bdmFsdWU9JzEnXVwiKS5hdHRyKFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIik7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIC8vIFx06K6+572u5Y2V5ZOB5ZSu5Lu357uR5a6a5LqL5Lu2XG4gICAgICAgIC8vICQoXCJpbnB1dFtuYW1lPSdzZXRfc2FsZV9wcmljZSddXCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICAgIHZhciBzYWxlVHlwZSA9ICQoXCJpbnB1dFtuYW1lPSdzZXRfc2FsZV9wcmljZSddOmNoZWNrZWRcIikudmFsKCk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICBpZiAoc2FsZVR5cGUgPT0gMSkge1x0Ly9cdOS7mOi0uVxuICAgICAgICAvLyAgICAgICAgICQoXCIuaW5wdXRfc2V0dGluZ19wcmljZVwiKS5yZW1vdmVBdHRyKFwicmVhZG9ubHlcIik7XG4gICAgICAgIC8vICAgICAgICAgJChcIi5pbnB1dF9zZXR0aW5nX3ByaWNlXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgLy8gICAgIH0gZWxzZSBpZiAoc2FsZVR5cGUgPT0gMCkge1x0XHQvLyDlhY3otLlcbiAgICAgICAgLy8gICAgICAgICAkKFwiLmlucHV0X3NldHRpbmdfcHJpY2VcIikuYXR0cihcInJlYWRvbmx5XCIsIFwicmVhZG9ubHlcIik7XG4gICAgICAgIC8vICAgICAgICAgJChcIi5pbnB1dF9zZXR0aW5nX3ByaWNlXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvLyB9KTtcblxuICAgICAgICAvLyBcdOWPlua2iFxuICAgICAgICAkKFwiLmNsb3NlX2ljb25fd3JhcHBlcl8yLCAuY2FuY2VsX3NldF9wcmljZVwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoXCIuc2V0X3ByaWNlX3dpbmRvd1wiKS5mYWRlT3V0KDMwMCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvL1x056Gu5a6aXG4gICAgICAgICQoXCIuY29uZmlybV9wcmljZV9idG5cIikuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIHZhciBwcmljZSA9ICQudHJpbSgkKFwiLmlucHV0X3NldHRpbmdfcHJpY2VcIikudmFsKCkpO1xuXG4gICAgICAgICAgICB2YXIgcmVnID0gL14oWzEtOV1bXFxkXSp8MCkoWy8uXVtcXGRdezEsMn0pPyQvO1xuICAgICAgICAgICAgaWYgKCFyZWcudGVzdChwcmljZSkpIHtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+S7t+agvOi+k+WFpeacieivrycpO1xuICAgICAgICAgICAgICAgICQoJy5pbnB1dF9zZXR0aW5nX3ByaWNlJykudmFsKFwiXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmljZSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Lu35qC85LiN6IO95Li6MCDmiJYg6LSf5pWwIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJpY2UgPiBiYXNlVXRpbHMubWF4SW5wdXRQcmljZSkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS7t+agvOS4jeiDveWkp+S6jiBcIiArIGJhc2VVdGlscy5tYXhJbnB1dFByaWNlICsgXCIg5YWDXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB2YXIgYXJyID0ge307XG4gICAgICAgICAgICBhcnJbXCJyZXNvdXJjZV9pZFwiXSA9IHJlc0lkO1xuICAgICAgICAgICAgYXJyW1wicmVzb3VyY2VfdHlwZVwiXSA9IHJlc1R5cGU7XG4gICAgICAgICAgICB2YXIgcmVzb3VyY2VMaXN0QXJyID0gW2Fycl07XG5cbiAgICAgICAgICAgICQuYWpheChcIi9zdWJtaXRfY2hvaWNlX3Jlc291cmNlXCIsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiY2hhbm5lbF90eXBlXCI6IDEsXG4gICAgICAgICAgICAgICAgICAgIFwicmVzb3VyY2VfbGlzdFwiOiByZXNvdXJjZUxpc3RBcnIsXG4gICAgICAgICAgICAgICAgICAgIFwicGllY2VfcHJpY2VcIjogcHJpY2UgKiAxMDAsIC8vIOWNleS9je+8miDliIZcbiAgICAgICAgICAgICAgICAgICAgXCJzdWJtaXRfdHlwZVwiOiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuc2V0X3ByaWNlX3dpbmRvd1wiKS5mYWRlT3V0KDMwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi6K6+5Li65Y2V5Y2W5oiQ5YqfXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlSFcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuacjeWKoeWZqOW8gOWwj+W3ruWVpu+8jOivt+eojeWQjuWGjeaQnOe0ou+8gVwiKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgaW5pdFNlYXJjaFBhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIC8vICAx44CB5byA5aeL5pCc57SiIC0g5YWo6YOo5Y2V5ZOBXG4gICAgICAgICQoXCIuc2VhcmNoQWxsQnRuXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHBhY2thZ2VJZCA9IEdldFF1ZXJ5U3RyaW5nKFwiaWRcIik7XG4gICAgICAgICAgICB2YXIgcmVzb3VyY2VfdHlwZSA9ICQoXCIuc2VsZWN0b3JfcmVzb3VyY2VfdHlwZVwiKS52YWwoKTtcbiAgICAgICAgICAgIHZhciBzZWFyY2hfY29udGVudCA9ICQudHJpbSgkKFwiLmlucHV0U2VhcmNoQWxsXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9wYWNrYWdlX2RldGFpbF9wYWdlP2lkPVwiICsgcGFja2FnZUlkICsgXCImc2VhcmNoX2NvbnRlbnQ9XCIgKyBzZWFyY2hfY29udGVudCArIFwiJnJlc291cmNlX3R5cGU9XCIgKyByZXNvdXJjZV90eXBlO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIDLjgIHovpPlhaXlrozmiJDlkI7vvIzlm57ovablvIDlp4vmkJzntKIgLSDlhajpg6jljZXlk4FcbiAgICAgICAgJChcIi5pbnB1dFNlYXJjaEFsbFwiKS5mb2N1c2luKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJChkb2N1bWVudCkua2V5cHJlc3MoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLndoaWNoID09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zZWFyY2hBbGxCdG4nKS5jbGljaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS5mb2N1c291dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9mZigna2V5cHJlc3MnKTsgLy8gIOa4hemZpOS6i+S7tlxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAg55uR5ZCs562b6YCJ5qGG6YCJ5oup5LqL5Lu2XG4gICAgICAgICQoXCIuc2VsZWN0b3JfcmVzb3VyY2VfdHlwZVwiKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnLnNlYXJjaEFsbEJ0bicpLmNsaWNrKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIDPjgIHlm57mmL7mkJzntKJcbiAgICAgICAgaWYgKHNlbGYuc2VhcmNoUmVzb3VyY2VOYW1lICE9IFwiXCIpIHtcbiAgICAgICAgICAgICQoXCIuaW5wdXRTZWFyY2hBbGxcIikudmFsKHNlbGYuc2VhcmNoUmVzb3VyY2VOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBudW0gPSAkKFwiLnNlbGVjdG9yX3Jlc291cmNlX3R5cGVcIikuY2hpbGRyZW4oXCJvcHRpb25cIikubGVuZ3RoO1xuICAgICAgICBpZiAobnVtID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW07IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICgkKCcuc2VsZWN0b3JfcmVzb3VyY2VfdHlwZScpLmNoaWxkcmVuKFwib3B0aW9uXCIpLmVxKGkpLmF0dHIoXCJ2YWx1ZVwiKSA9PSBzZWxmLnNlYXJjaFJlc291cmNlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAkKCcuc2VsZWN0b3JfcmVzb3VyY2VfdHlwZScpLmNoaWxkcmVuKFwib3B0aW9uXCIpLmVxKGkpLmF0dHIoXCJzZWxlY3RlZFwiLCBcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBpbml0Q29weTogZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKCcuJyArIGNsYXNzTmFtZSk7IC8v5Yqg6L295aSN5Yi26ZO+5o6l5o+S5Lu2XG4gICAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmKGUudHJpZ2dlci5pZD09J2NvcHlfYXBwX2hyZWYnKXtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5aSN5Yi25oiQ5Yqf77yBXCIpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWkjeWItuaIkOWKn++8geivt+WcqOW+ruS/oeWGheaJk+W8gOWTpiDjgIJcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGUuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBtYWludG9vbDogZnVuY3Rpb24odHlwZSwgaWQpIHsgLy/kuJPmoI/lt6Xlhbfpm4ZcbiAgICAgICAgc2VsZi5idG5TdGF0ZSA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ25ld0xpc3RTaG93JzpcbiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpc3RTaG93KGlkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICduZXdMaXN0SGlkZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdMaXN0U2hvdyhpZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzdG9wdXBkYXRlJzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhY2thZ2VVcGRhdGUoaWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0dXBkYXRlJzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhY2thZ2VVcGRhdGUoaWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc29sZG91dCc6XG4gICAgICAgICAgICAgICAgdGhpcy5wYWNrYWdlaXNTaG93KGlkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwdXRhd2F5JzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhY2thZ2Vpc1Nob3coaWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnb3BlbkZvcm0nOlxuICAgICAgICAgICAgICAgIHRoaXMucGFja2FnZUZvcm0oaWQsIGZhbHNlKTsvL+S8oOWFpeW9k+WJjeWFs+mXreeKtuaAgeeahGZhbHNl5YC8XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjbG9zZUZvcm0nOlxuICAgICAgICAgICAgICAgIHRoaXMucGFja2FnZUZvcm0oaWQsIHRydWUpOy8v5Lyg5YWl5b2T5YmN5byA5ZCv54q25oCB55qE55yf5YC8XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WPguaVsOmUmeivrycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBuZXdMaXN0U2hvdzogZnVuY3Rpb24oaWQsIHNob3dUeXBlKSB7XG4gICAgICAgIHZhciBoNV9uZXdlc3RfaGlkZSA9IHNob3dUeXBlID8gMSA6IDA7XG4gICAgICAgIGNvbnNvbGUubG9nKGg1X25ld2VzdF9oaWRlKTtcbiAgICAgICAgY29uc29sZS5sb2coaWQpO1xuICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAkLmFqYXgoJy9zZXRfaDVfbmV3ZXN0X2hpZGUnLCB7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIC8v5Y+C5pWwOjEtcGFja2FnZV9pZDsyLWg1X25ld2VzdF9oaWRlKDAt5pyA5paw5YiX6KGo5Lit5pi+56S6LDEt5pyA5paw5YiX6KGo5Lit5LiN5pi+56S6XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIC8vMO+8jCAx5LiLXG4gICAgICAgICAgICAgICAgaDVfbmV3ZXN0X2hpZGU6IHNob3dUeXBlID8gMSA6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHBhY2thZ2VVcGRhdGU6IGZ1bmN0aW9uKGlkLCBzdGF0ZVR5cGUpIHtcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgJC5hamF4KCcvc2F2ZV9wYWNrYWdlX2ZpbmlzaGVkX3N0YXRlJywge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAvL+WPguaVsDoxLXBhY2thZ2VfaWQ7Mi1maW5pc2hlZF9zdGF0ZSgwLeacquWujOe7kywxLeW3suWujOe7k1xuICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IGlkLFxuICAgICAgICAgICAgICAgIC8vMOS4iuenu++8jCAx5LiL56e7XG4gICAgICAgICAgICAgICAgZmluaXNoZWRfc3RhdGU6IHN0YXRlVHlwZSA/IDAgOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBwYWNrYWdlRm9ybTogZnVuY3Rpb24oaWQsZm9ybVR5cGUpe1xuICAgICAgICAvLyBpZDrkuJPmoI/mmK/lkKbopoHorr7nva7mlK/ku5jml7bloavlhpnkv6Hmga/nmoTkuJPmoI9pZO+8jGZvcm1UeXBlIO+8mnRydWUt5YWB6K64IGZhbHNlLeemgeatolxuICAgICAgICB2YXIgdmVyc2lvbj0kKFwiLnVzZXJfdmVyc2lvbl9udW1cIikuZGF0YShcInZlcnNpb25fdHlwZVwiKTtcbiAgICAgICAgaWYodmVyc2lvbiAmJiB2ZXJzaW9uPT0zKSB7XG4gICAgICAgICAgICAkLmFsZXJ0KGZvcm1UeXBlID8gXCLlhbPpl63otYTmlpnloavlhpnlkI7vvIznlKjmiLflnKjku5jotLnotK3kubDmnKzkuJPmoI/liY3lsIbkuI3lho3loavlhpnkuKrkurrkv6Hmga/vvIzmgqjnoa7orqTopoHlhbPpl63kuYjvvJ9cIiA6XG4gICAgICAgICAgICAgICAgXCLlvIDlkK/otYTmlpnloavlhpnlkI7vvIznlKjmiLflnKjku5jotLnotK3kubDmnKzkuJPmoI/liY3lsIbloavlhpnkuKrkurrkv6Hmga/vvIzmgqjnoa7orqTopoHlvIDlkK/kuYjvvJ9cIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICBpY29uOiBcImJsdWVcIixcbiAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICQuYWpheCgnL3NldF9pc19jb21wbGV0ZV9pbmZvJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfY29tcGxldGVfaW5mbzogZm9ybVR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5b2T5YmN54mI5pys5LiN5pSv5oyB5byA5ZCv6LWE5paZ5aGr5YaZ77yM5aaC6ZyA5byA5ZCv6K+35Y2H57qn6Iez5LiT5Lia54mIXCIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBwYWNrYWdlaXNTaG93OiBmdW5jdGlvbihpZCwgY2hhbmdlVHlwZSkgeyAvL+S4k+agj+S4iuS4i+aetlxuICAgICAgICAvKmlkOiDopoHkuIrkuIvmnrbnmoTkuJPmoI9pZO+8jCBjaGFuZ2VUeXBl77yaIHRydWUt5LiK5p6277yMIGZhbHNlLeS4i+aetiovXG5cbiAgICAgICAgJC5hbGVydChjaGFuZ2VUeXBlID8gXCLkuIrmnrblkI7or6XkuJPmoI/lsIblr7nlpJbmmL7npLpcIiA6IFwi5LiL5p625ZCO6K+l5LiT5qCP5bCG5LiN5a+55aSW5pi+56S6XCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICBvbk9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgICAgICQuYWpheCgnL2NoYW5nZV9nb29kc19zdGF0ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgMS1nb29kc19pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIDItZ29vZHNfdHlwZSgwLeS4k+agjywxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAzLW9wZXJhdGVfdHlwZSgwLeS4iuaetiwxLeS4i+aetilcbiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBnb29kc19pZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBnb29kc190eXBlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0ZV90eXBlOiBjaGFuZ2VUeXBlID8gMCA6IDEsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSxcbiAgICBzaW5nbGVUb29sOiBmdW5jdGlvbih0eXBlLCBwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCByZXNUaXRsZSwgaXNUcnksIHNob3dUaW1lLCByZXNJbWdVcmwsIHBheW1lbnRUeXBlKSB7IC8v5Y2V5ZOB5bel5YW36ZuGXG4gICAgICAgIHNlbGYuYnRuU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICd0b3RvcCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUb3AocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjYW5jZWx0b3AnOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VG9wKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnYWxpdmVHdWVzdFNldCc6XG4gICAgICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAkaW52aXRlR3Vlc3Qub3Blbkd1ZXN0U2V0dGluZ1dpbmRvdyhyZXNpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdzaG93Q29tbWVudCc6XG4gICAgICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50RGV0YWlsKFwiL2FsaXZlY29tbWVudD9hbGl2ZV9pZD1cIiArIHJlc2lkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50RGV0YWlsKFwiL2NvbW1lbnRfYWRtaW4/dHlwZT1cIiArIChyZXNUeXBlIC0gMSkgKyBcIiZyZWNvcmRfaWQ9XCIgKyByZXNpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2V0VHJ5JzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRyeShwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCBwYXltZW50VHlwZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjYW5jZWxUcnknOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJ5KHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHBheW1lbnRUeXBlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZXRfc2luZ2xlX3NhbGUnOlxuICAgICAgICAgICAgICAgIC8vXHTorr7nva7ljZXljZZcbiAgICAgICAgICAgICAgICAvL1x0MeOAgeWIpOaWreWNleWTgeaYr+WQpuS4uuivleWQrC8g6K+V55yLIC0tPlxuICAgICAgICAgICAgICAgIC8vICAy44CB6Iul5Li66K+V5ZCs77yaIOW8ueeqlyDmj5DnpLpcbiAgICAgICAgICAgICAgICAvLyAgM+OAgeiLpeS4jeS4uuivleWQrO+8miDlvLnnqpcg6K6+572u5Y2V5ZOB5ZSu5Lu3XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTaW5nbGVTYWxlKHJlc1R5cGUsIHJlc1RpdGxlLCBpc1RyeSwgc2hvd1RpbWUsIHJlc0ltZ1VybCwgcmVzaWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2FuY2VsX3NpbmdsZV9zYWxlJzpcbiAgICAgICAgICAgICAgICAvLyBcdOWPlua2iOWNleWNllxuICAgICAgICAgICAgICAgIC8vXHQx44CB5by556qX5o+Q56S6XG4gICAgICAgICAgICAgICAgLy9cdDLjgIHnoa7lrprlj5bmtohcbiAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFNpbmdsZVNhbGUocmVzVHlwZSwgcmVzaWQsIHBheW1lbnRUeXBlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NvbGRvdXQnOlxuICAgICAgICAgICAgICAgIHRoaXMuc2luZ2xlaXNTaG93KHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncHV0YXdheSc6XG4gICAgICAgICAgICAgICAgdGhpcy5zaW5nbGVpc1Nob3cocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGVsJzpcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5U2luZ2xlKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZW5hYmxlX2NvcHknOi8v5YWB6K645aSN5Yi2XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VDYW5TZWxlY3RTdGF0ZShyZXNpZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmb3JiaWRfY29weSc6Ly/npoHmraLlpI3liLZcbiAgICAgICAgICAgICAgICB2YXIgJGVsZSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgJC5hbGVydChcIuemgeatouWkjeWItuWQju+8jOivpeevh+WbvuaWh+eahOWbvueJh+eCueWHu+aUvuWkp+WSjOmVv+aMieivhuWIq+S6jOe7tOeggeWKn+iDveWwhuiiq+emgeeUqFwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICBidG46IDMsXG4gICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbGUuY2hhbmdlQ2FuU2VsZWN0U3RhdGUocmVzaWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZXhwb3J0X2F1ZGlvJzovL+WvvOWHuumfs+mikVxuICAgICAgICAgICAgICAgIHRoaXMuZXhwb3J0QXVkaW8ocmVzaWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29weV9hcHBfaHJlZic6IC8v5aSN5Yi25bCP56iL5bqP6ZO+5o6lXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5Y+C5pWw6ZSZ6K+vJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGV4cG9ydEF1ZGlvOiBmdW5jdGlvbiAoYWxpdmVJZCkge1xuXG4gICAgICAgICQuYWpheChcIi9hc3luY19kb3dubG9hZF9hbGl2ZV92b2ljZVwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBhbGl2ZV9pZDogYWxpdmVJZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlc3VsdC5jb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzdWx0LmRhdGFbJ3VybCddOyAgICAgIC8v55u05o6l5byA5aeL5LiL6L296Z+z6aKR5paH5Lu2XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuivremfs+ato+WcqOWQiOaIkOS4re+8jOagueaNruaCqOebtOaSremXtOWGheeahOmfs+mikeaVsOmHj+mcgOimgTEw5YiG6ZKf5YiwNOS4quWwj+aXtuS4jeetie+8jOivt+eojeWAmeiuv+mXruOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLlvIDlp4vov5vooYzor63pn7PlkIjmiJDvvIzmoLnmja7mgqjnm7Tmkq3pl7TlhoXnmoTpn7PpopHmlbDph4/pnIDopoExMOWIhumSn+WIsDTkuKrlsI/ml7bkuI3nrYnvvIzor7fnqI3lgJnorr/pl67jgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi5pyN5Yqh5Zmo5q2j5Zyo57u05oqk77yM55u05pKt6Z+z6aKR5a+85Ye65Yqf6IO95Y+X5Yiw5b2x5ZON77yM6K+356iN5ZCO5YaN6K+V44CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeebtOaSreayoeaciemfs+mikeOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLov5nkuKrnm7Tmkq3kuI3mmK/or63pn7PnsbvlnovnmoTvvIzkuI3mlK/mjIHpn7PpopHlr7zlh7rjgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6L+Z5Liq55u05pKt6L+Y5rKh57uT5p2f77yM5pqC5LiN5pSv5oyB6Z+z6aKR5a+85Ye644CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+C5pWw6ZSZ6K+vXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKHJlc3VsdC5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5tc2cpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5Ye65bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgY2hhbmdlQ2FuU2VsZWN0U3RhdGU6IGZ1bmN0aW9uIChyZXNJZCwgY2FuU2VsZWN0KSB7XG5cbiAgICAgICAgJC5hamF4KFwiL3NldF9yZXNvdXJjZV9zZWxlY3RfY2FuXCIsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkOiByZXNJZCxcbiAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlOiAxLFxuICAgICAgICAgICAgICAgIGNhbl9zZWxlY3Q6IGNhblNlbGVjdCA/IDEgOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5bey57uP5YWB6K645aSN5Yi2XCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuW3sue7j+emgeatouWkjeWItlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgc2V0VG9wOiBmdW5jdGlvbihwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCB0b3ApIHsgLy/nva7pobbmk43kvZxcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgLyoxLXBhY2thZ2VfaWQ7XG4gICAgICAgIDItcmVzb3VyY2VfdHlwZSgwLeS4k+agjywxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XG4gICAgICAgIDMtcmVzb3VyY2VfaWQ7XG4gICAgICAgIDQtdG9wX3N0YXRlKDAt5Y+W5raI572u6aG2LDEt6K6+572u572u6aG2KSovXG4gICAgICAgICQuYWpheCgnL3NldF9wYWNrYWdlX3Jlc291cmNlX3RvcCcsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcGFja2FnZV9pZDogcGFja2FnZWlkLFxuICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IHJlc1R5cGUsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfaWQ6IHJlc2lkLFxuICAgICAgICAgICAgICAgIHRvcF9zdGF0ZTogdG9wID8gMSA6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2V0VHJ5OiBmdW5jdGlvbihwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCBwYXltZW50VHlwZSwgdHJ5U3RhdGUpIHsgLy/or5XlkKxcblxuICAgICAgICAvLyBpZiAocmVzVHlwZSA9PSA0KSB7XG4gICAgICAgIC8vICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmmoLkuI3mlK/mjIHlsIbnm7Tmkq3orr7kuLror5XnnIshXCIpO1xuICAgICAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyB9XG4gICAgICAgIGlmIChwYXltZW50VHlwZSA9PSAxIHx8IHBheW1lbnRUeXBlID09IDIpIHtcbiAgICAgICAgICAgIGlmIChyZXNUeXBlID09IDIpIHtcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+l5Y2V5ZOB5bey6K6+5Li65Y2V5Y2W77yM5Y+W5raI5Y2V5Y2W5ZCO5pa55Y+v6K6+5Li66K+V5ZCsXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzVHlwZSA9PSAxIHx8IHJlc1R5cGUgPT0gMyB8fCByZXNUeXBlID09IDQpIHtcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+l5Y2V5ZOB5bey6K6+5Li65Y2V5Y2W77yM5Y+W5raI5Y2V5Y2W5ZCO5pa55Y+v6K6+5Li66K+V55yLXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheCgnL3NldF9wYWNrYWdlX3Jlc291cmNlX3RyeScsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgIDEtcGFja2FnZV9pZDtcbiAgICAgICAgICAgIDItcmVzb3VyY2VfdHlwZSgyLemfs+mikSk7XG4gICAgICAgICAgICAzLXJlc291cmNlX2lkO1xuICAgICAgICAgICAgNC10cnlfc3RhdGUoMC3lj5bmtojor5XlkKwsMS3orr7kuLror5XlkKwpKi9cbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBwYWNrYWdlaWQsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogcmVzVHlwZSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZV9pZDogcmVzaWQsXG4gICAgICAgICAgICAgICAgdHJ5X3N0YXRlOiB0cnlTdGF0ZSA/IDEgOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0sXG4gICAgc2luZ2xlaXNTaG93OiBmdW5jdGlvbihwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCBzaG93U3RhdGUpIHsgLy/ljZXlk4HkuIrkuIvmnrZcbiAgICAgICAgLypzaG93U3RhdGU6IHRydWUt5LiL5p62ICBmYWxzZS3kuIrmnrYqL1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICB0ZXh0ID0gc2hvd1N0YXRlID8gJ+S4i+aetuWQjuivpeWNleWTgeWwhuS4jeWvueWkluaYvuekuicgOiAn5LiK5p625ZCO6K+l5Y2V5ZOB5bCG5a+55aSW5pi+56S6JztcbiAgICAgICAgJC5hbGVydCh0ZXh0LCAnaW5mbycsIHtcbiAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgJC5hamF4KCcvY2hhbmdlX2dvb2RzX3N0YXRlJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAxLWdvb2RzX2lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgMi1nb29kc190eXBlKDAt5LiT5qCPLDEt5Zu+5paHLDIt6Z+z6aKRLDMt6KeG6aKRLDQt55u05pKtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIDMtb3BlcmF0ZV90eXBlKDAt5LiK5p62LDEt5LiL5p62KVxuICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGdvb2RzX2lkOiByZXNpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvb2RzX3R5cGU6IHJlc1R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRlX3R5cGU6IHNob3dTdGF0ZSA/IDEgOiAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKnNlbGYudG9vbEJveEJ0biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50b0RldGFpbCA9IHRydWU7Ki9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLypzZWxmLnRvb2xCb3hCdG4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50b0RldGFpbCA9IHRydWU7Ki9cbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBxdWVyeVNpbmdsZTogZnVuY3Rpb24ocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCkge1xuICAgICAgICAvKnNob3dTdGF0ZTogdHJ1ZS3kuIvmnrYgIGZhbHNlLeS4iuaetiovXG4gICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgIHRleHQgPSAnJztcbiAgICAgICAgJC5hamF4KCcvcXVlcnlfZ29vZHNfc3RhdGUnLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgLyrlj4LmlbA6XG4gICAgICAgICAgICAgICAgMS1nb29kc19pZDtcbiAgICAgICAgICAgICAgICAyLWdvb2RzX3R5cGUoMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgICAgIDMtY2hhbm5lbF90eXBlKDAt5Y2V5ZOBLDEt5LiT5qCP5YaF6LWE5rqQKTtcbiAgICAgICAgICAgICAgICA0LXBhY2thZ2VfaWQo5b2TY2hhbm5lbF90eXBlPTHml7bmnInlgLwpKi9cbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2RzX2lkOiByZXNpZCxcbiAgICAgICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogcmVzVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbF90eXBlOiAxLFxuICAgICAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBwYWNrYWdlaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVjb3Jkc0xpc3QgPSByZXN1bHQuZGF0YS5yZWNvcmRzX2xpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJMZW5ndGggPSBPYmplY3Qua2V5cyhyZWNvcmRzTGlzdCkubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5pc19leGlzdCA9PSAwKSB7ICAgICAgICAgICAgLy8gIOWPquWxnuS6juafkOS4quS4k+agj+eahOWNleWTgVxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9ICfnoa7orqTnp7vpmaTor6XlhoXlrrnvvIznp7vpmaTlkI7miYDmnInnlKjmiLflsIbml6Dms5Xmn6XnnIvmraTlhoXlrrnkuJQ8c3BhIHN0eWxlPVwiY29sb3I6IHJlZDtcIj7kuI3lj6/mgaLlpI08L3NwYT4nO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZHNMaXN0WzBdID09IHVuZGVmaW5lZCkgeyAgICAgIC8vICDlj6rlsZ7kuo7lpJrkuKrkuJPmoI/nmoTljZXlk4FcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlY29yZHNMaXN0LCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gXCLjgIpcIiArIHZhbHVlLnRpdGxlICsgXCLjgItcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCLnoa7orqTnp7vpmaTor6XlhoXlrrnvvIznp7vpmaTlkI7or6XkuJPmoI/nlKjmiLflsIbml6Dms5Xmn6XnnIvmraTlhoXlrrnjgILmraTlhoXlrrnku43lrZjlnKjkuo5cIiArIHRleHQgKyBcIuS4rVwiO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyckxlbmd0aCA9PSAxKSB7ICAgICAgICAgICAgICAgICAgIC8vICDljZXlk4HljZXljZbkuJTlsZ7kuo7kuIDkuKrkuJPmoI9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCLnoa7orqTnp7vpmaTor6XlhoXlrrnvvIznp7vpmaTlkI7or6XkuJPmoI/nlKjmiLflsIbml6Dms5Xmn6XnnIvmraTlhoXlrrnjgILmraTlhoXlrrnku43lnKjljZXlk4HliJfooajkuJTljZXni6zllK7ljZZcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICDljZXlk4HljZXljZbkuJTlsZ7kuo7lpJrkuKrkuJPmoI9cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChyZWNvcmRzTGlzdCwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IFwi44CKXCIgKyB2YWx1ZS50aXRsZSArIFwi44CLXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBcIuehruiupOenu+mZpOivpeWGheWuue+8jOenu+mZpOWQjuivpeS4k+agj+eUqOaIt+WwhuaXoOazleafpeeci+atpOWGheWuueOAguatpOWGheWuueWNleeLrOWUruWNluS4lOS7jeWtmOWcqOS6jlwiICsgdGV4dCArIFwi5LitXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAocmVzdWx0Lm1zZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5hbGVydCh0ZXh0LCAnaW5mbycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9rdGV4dDogJ+ehruiupOenu+mZpCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRlbGV0ZVNpbmdsZShwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfSxcbiAgICBkZWxldGVTaW5nbGU6IGZ1bmN0aW9uKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQpIHtcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgJC5hamF4KCcvbW92ZV9nb29kcycsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgLyrlj4LmlbA6XG4gICAgICAgICAgICAgICAgMS1nb29kc19pZDtcbiAgICAgICAgICAgICAgICAyLWdvb2RzX3R5cGUoMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgICAgIDMtY2hhbm5lbF90eXBlKDAt5Y2V5ZOBLDEt5LiT5qCP5YaF6LWE5rqQKTtcbiAgICAgICAgICAgICAgICA0LXBhY2thZ2VfaWQo5b2TY2hhbm5lbF90eXBlPTHml7bmnInlgLwpXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBnb29kc19pZDogcmVzaWQsXG4gICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogcmVzVHlwZSxcbiAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDEsXG4gICAgICAgICAgICAgICAgcGFja2FnZV9pZDogcGFja2FnZWlkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBnZXRTZWxlY3REYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAkLmFqYXgoJy9jaG9pY2VfcmVzb3VyY2VfbGlzdCcsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgIDEtY2hhbm5lbF90eXBlKDEt5Y2V5ZOBLDIt5LiT5qCPLDMt5Lya5ZGYKVxuICAgICAgICAgICAgMi3mkJzntKLlhoXlrrktc2VhcmNoX2NvbnRlbnQ7XG4gICAgICAgICAgICAzLXJlc291cmNlX3R5cGUoMC3lhajpg6gsMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgNC1wYWdlKOWIhumhtemhteeggSk7XG4gICAgICAgICAgICA1LXBhY2thZ2VfaWQo5b2TY2hhbm5lbF90eXBlPTLjgIEz5pe2LOacieWAvClcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc2VhcmNoX2NvbnRlbnQ6IHNlbGYuc2VhcmNoQ29udGVudCB8fCAnJyxcbiAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDIsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogMCxcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBzZWxmLmlkLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHNlbGYucGFnZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRzZWxlY3RBcmVhID0gJCgnI3NlbGVjdEFyZWFMaXN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RTdHIgPSAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VPYmogPSBKU09OLnBhcnNlKHJlc3VsdC5kYXRhLnBhZ2Vfb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlc3VsdC5kYXRhLnJlc291cmNlX2xpc3QsIGZ1bmN0aW9uKGksIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZV90eXBlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCt0aGlzLnJlc291cmNlX3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGUgPSAn5Zu+5paHJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlID0gJ+mfs+mikSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZSA9ICfop4bpopEnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGUgPSAn55u05pKtJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZSA9ICfml6AnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U3RyICs9ICc8ZGl2IGNsYXNzPVwicmVzb3VyY2VJdGVtV3JhcHBlclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW5wdXQgdmFsdWU9XCInICsgdGhpcy5yZXNvdXJjZV90eXBlICsgJ1wiIGlkPVwiJyArIHRoaXMuaWQgKyAnXCIgY2xhc3M9XCJ3aXRoLWdhcCByZXNvdXJjZV9yYWRpb1wiIG5hbWU9XCJzZWxlY3RfcmVzb3VyY2VcIiB0eXBlPVwiY2hlY2tib3hcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGxhYmVsIGZvcj1cIicgKyB0aGlzLmlkICsgJ1wiIGNsYXNzPVwicmFkaW9fZGVzY1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicmVzb3VyY2VfaWNvbl93cmFwcGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgY2xhc3M9XCJyZXNvdXJjZV9pY29uXCIgc3JjPVwiJyArIHRoaXMuaW1nX3VybCArICdcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvbGFiZWw+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicmVzb3VyY2VfdHlwZVwiPicgKyByZXNvdXJjZV90eXBlICsgJzwvc3Bhbj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJyZXNvdXJjZV90aW1lXCI+JyArIHRoaXMuc3RhcnRfYXQgKyAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdFN0ci5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U3RyICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250ZW50Tm9uZVRpcFwiPuaaguaXoOaVsOaNrjwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucGFnZSA9PSAxIHx8ICFzZWxmLnBhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3RBcmVhLmh0bWwoc2VsZWN0U3RyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3RBcmVhLmFwcGVuZCgnPGRpdiBjbGFzcz1cImlzRG93blwiPui1hOa6kOWKoOi9veS4rTwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v6aaW5qyh5Yqg6L2977yM5pi+56S6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuc2VhcmNoQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzZWxlY3RXaW5kb3cnKS5mYWRlSW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLnBhZ2UgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0QXJlYS5maW5kKCcuaXNEb3duJykuYmVmb3JlKHNlbGVjdFN0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvL+aVsOaNruWKoOi9veWujOavleWQjueahOaTjeS9nFxuICAgICAgICAgICAgICAgICAgICBpZiAocGFnZU9iai5jdXJyZW50X3BhZ2UgPj0gcGFnZU9iai50b3RhbF9wYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdEFyZWEuZmluZCgnLmlzRG93bicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFzRG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlKys7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmi4nlj5blt7LmnInljZXlk4HlpLHotKXvvIFcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuIl19
