$(function(){var t=new Business;t.init();if(GetQueryString("prompt")==1){$(".red_prompt_word").html("小鹅通内容列表全面升级为商品管理，点击查看更多高级功能<a href='/help/system_update' target='_blank'>查看教程</a>");$(".red_prompt").show()}});function Business(){this.toolBoxBtn=true;this.toDetail=true;this.searchObj={state:GetQueryString("state")||0,search_content:GetQueryString("search_content")||""}}Business.prototype={init:function(){var t=this;$("#packageList").on("click",".listItem",function(){if(t.toDetail){t.toolBoxBtn=false,t.toDetail=false;var e="/package_detail_page?id="+$(this).data("id");contentDetail(e)}});$("#packageList").on("click",".listItem .toolBox li",function(e){e.stopPropagation();var a=$(e.target),o=a.parentsUntil("#packageList",".listItem").data("id");type=a.data("type");type&&t.toolBoxBtn&&t.toDetail&&(t.tool(type,o),t.toDetail=false)});$("#searchBtn").on("click",function(){var t=$("#selector").val(),e=$.trim($("#searchVal").val());if(!!e){window.location.href="/package_list_page?state="+t+"&search_content="+e}else{window.location.href="/package_list_page?state="+t}});$("#selector").find("option").eq(++this.searchObj.state).attr("selected",true);$("#searchVal").on("keypress",function(t){if(t.keyCode=="13"){$("#searchBtn").click()}}).val(this.searchObj.search_content);$(".selector").on("change",function(){$("#searchBtn").click()})},tool:function(t,e){switch(t){case"edit":contentDetail("/edit_package_page?id="+e);break;case"toup":this.movePackage(e,true);break;case"todown":this.movePackage(e,false);break;case"soldout":this.isShow(e,false);break;case"putaway":this.isShow(e,true);break;default:console.error("参数错误");break}},movePackage:function(t,e){var a=this;showLoading();$.ajax("/change_package_weight",{type:"POST",dataType:"json",data:{package_id:t,order_type:e?0:1},success:function(t){hideLoading();if(t.code==0){baseUtils.show.blueTip(t.msg);setTimeout(function(){reloadPage()},700)}else{a.toolBoxBtn=true;a.toDetail=true;baseUtils.show.redTip(t.msg)}},error:function(t,e,o){console.error(o);hideLoading();a.toolBoxBtn=true;a.toDetail=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},isShow:function(t,e){var a=this;showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:t,goods_type:0,operate_type:e?0:1},success:function(t){hideLoading();if(t.code==0){baseUtils.show.blueTip(t.msg);setTimeout(function(){reloadPage()},700)}else{a.toolBoxBtn=true;a.toDetail=true;baseUtils.show.redTip(t.msg)}},error:function(t,e,o){console.error(o);hideLoading();a.toolBoxBtn=true;a.toDetail=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL3Jlc01hbmFnZS9wYWNrYWdlTGlzdC5qcyJdLCJuYW1lcyI6WyIkIiwiYnVzaW5lc3MiLCJCdXNpbmVzcyIsImluaXQiLCJHZXRRdWVyeVN0cmluZyIsImh0bWwiLCJzaG93IiwidGhpcyIsInRvb2xCb3hCdG4iLCJ0b0RldGFpbCIsInNlYXJjaE9iaiIsInN0YXRlIiwic2VhcmNoX2NvbnRlbnQiLCJwcm90b3R5cGUiLCJzZWxmIiwib24iLCJocmVmIiwiZGF0YSIsImNvbnRlbnREZXRhaWwiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiJGVsZSIsInRhcmdldCIsImlkIiwicGFyZW50c1VudGlsIiwidHlwZSIsInRvb2wiLCJ2YWwiLCJ0cmltIiwid2luZG93IiwibG9jYXRpb24iLCJmaW5kIiwiZXEiLCJhdHRyIiwia2V5Q29kZSIsImNsaWNrIiwibW92ZVBhY2thZ2UiLCJpc1Nob3ciLCJjb25zb2xlIiwiZXJyb3IiLCJjaGFuZ2VUeXBlIiwic2hvd0xvYWRpbmciLCJhamF4IiwiZGF0YVR5cGUiLCJwYWNrYWdlX2lkIiwib3JkZXJfdHlwZSIsInN1Y2Nlc3MiLCJoaWRlTG9hZGluZyIsImNvZGUiLCJiYXNlVXRpbHMiLCJibHVlVGlwIiwibXNnIiwic2V0VGltZW91dCIsInJlbG9hZFBhZ2UiLCJyZWRUaXAiLCJ4aHIiLCJzdGF0dXMiLCJlcnIiLCJnb29kc19pZCIsImdvb2RzX3R5cGUiLCJvcGVyYXRlX3R5cGUiXSwibWFwcGluZ3MiOiJBQUtBQSxFQUFFLFdBQ0UsR0FBSUMsR0FBVyxHQUFJQyxTQUNuQkQsR0FBU0UsTUFHVCxJQUFJQyxlQUFlLFdBQWEsRUFBRyxDQUMvQkosRUFBRSxvQkFBb0JLLEtBQUssb0ZBQzNCTCxHQUFFLGVBQWVNLFNBS3pCLFNBQVNKLFlBQ0xLLEtBQUtDLFdBQWEsSUFDbEJELE1BQUtFLFNBQVcsSUFDaEJGLE1BQUtHLFdBQ0RDLE1BQU9QLGVBQWUsVUFBWSxFQUNsQ1EsZUFBZ0JSLGVBQWUsbUJBQXFCLElB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LGNBQ0YsU0FDQyxDQUNIdkMsRUFBS04sV0FBYSxJQUNsQk0sR0FBS0wsU0FBVyxJQUNoQndDLFdBQVUzQyxLQUFLZ0QsT0FBT3JDLEVBQUtrQyxPQUduQ1osTUFBTyxTQUFTZ0IsRUFBS0MsRUFBUUMsR0FDekJuQixRQUFRQyxNQUFNa0IsRUFDZFYsY0FDQWpDLEdBQUtOLFdBQWEsSUFDbEJNLEdBQUtMLFNBQVcsSUFDaEJ3QyxXQUFVM0MsS0FBS2dELE9BQU8iLCJmaWxlIjoiYWRtaW4vcmVzTWFuYWdlL3BhY2thZ2VMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgRnJhbmsgb24gMjAxNy8zLzIxLlxyXG4gKi9cclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBidXNpbmVzcyA9IG5ldyBCdXNpbmVzcygpO1xyXG4gICAgYnVzaW5lc3MuaW5pdCgpO1xyXG5cclxuICAgIC8vICDmmL7npLrlsI/pu4TmnaEgICA85bCP6bmF6YCa5YaF5a655YiX6KGo5YWo6Z2i5Y2H57qn5Li65ZWG5ZOB566h55CG77yM6I635Y+W5pu05aSa6auY57qn5Yqf6IO95L2/55So5pWZ56iL6K+354K55Ye744CQ5ZWG5ZOB566h55CG5pWZ56iL44CRPlxyXG4gICAgaWYgKEdldFF1ZXJ5U3RyaW5nKFwicHJvbXB0XCIpID09IDEpIHtcclxuICAgICAgICAkKFwiLnJlZF9wcm9tcHRfd29yZFwiKS5odG1sKFwi5bCP6bmF6YCa5YaF5a655YiX6KGo5YWo6Z2i5Y2H57qn5Li65ZWG5ZOB566h55CG77yM54K55Ye75p+l55yL5pu05aSa6auY57qn5Yqf6IO9PGEgaHJlZj0nL2hlbHAvc3lzdGVtX3VwZGF0ZScgdGFyZ2V0PSdfYmxhbmsnPuafpeeci+aVmeeoizwvYT5cIik7XHJcbiAgICAgICAgJChcIi5yZWRfcHJvbXB0XCIpLnNob3coKTtcclxuICAgIH1cclxuXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gQnVzaW5lc3MoKSB7Ly/lrprkuYnkuIDkupvlhazlhbHlsZ7mgKdcclxuICAgIHRoaXMudG9vbEJveEJ0biA9IHRydWU7XHJcbiAgICB0aGlzLnRvRGV0YWlsID0gdHJ1ZTtcclxuICAgIHRoaXMuc2VhcmNoT2JqID0ge1xyXG4gICAgICAgIHN0YXRlOiBHZXRRdWVyeVN0cmluZygnc3RhdGUnKSB8fCAwLFxyXG4gICAgICAgIHNlYXJjaF9jb250ZW50OiBHZXRRdWVyeVN0cmluZygnc2VhcmNoX2NvbnRlbnQnKSB8fCAnJ1xyXG4gICAgfVxyXG59XHJcblxyXG5CdXNpbmVzcy5wcm90b3R5cGUgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7IC8v6aG16Z2i55qE5Yid5aeL5YyW5pON5L2c77yM57uR5a6a5LqL5Lu2XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICQoJyNwYWNrYWdlTGlzdCcpIC8v6Lez6L2s6K+m5oOF6aG1XHJcbiAgICAgICAgLm9uKCdjbGljaycsICcubGlzdEl0ZW0nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYoc2VsZi50b0RldGFpbCl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvb2xCb3hCdG4gPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGYudG9EZXRhaWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZhciBocmVmID0gJy9wYWNrYWdlX2RldGFpbF9wYWdlP2lkPScgKyAkKHRoaXMpLmRhdGEoJ2lkJyk7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50RGV0YWlsKGhyZWYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyNwYWNrYWdlTGlzdCcpICAvL+iwg+eUqOW3peWFt+WHveaVsFxyXG4gICAgICAgIC5vbignY2xpY2snLCAnLmxpc3RJdGVtIC50b29sQm94IGxpJyAsZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgJGVsZSA9ICQoZS50YXJnZXQpLFxyXG4gICAgICAgICAgICAgICAgaWQgPSAkZWxlLnBhcmVudHNVbnRpbCgnI3BhY2thZ2VMaXN0JywnLmxpc3RJdGVtJykuZGF0YSgnaWQnKVxyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICRlbGUuZGF0YSgndHlwZScpO1xyXG4gICAgICAgICAgICB0eXBlICYmIHNlbGYudG9vbEJveEJ0biAmJiBzZWxmLnRvRGV0YWlsICYmIChcclxuICAgICAgICAgICAgICAgIHNlbGYudG9vbCh0eXBlLCBpZCksXHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvRGV0YWlsID0gZmFsc2VcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI3NlYXJjaEJ0bicpXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgeyAvL+aQnOe0olxyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSAkKCcjc2VsZWN0b3InKS52YWwoKSxcclxuICAgICAgICAgICAgICAgIHNlYXJjaF9jb250ZW50ID0gJC50cmltKCAkKCcjc2VhcmNoVmFsJykudmFsKCkgKTtcclxuICAgICAgICAgICAgaWYoISFzZWFyY2hfY29udGVudCl7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvcGFja2FnZV9saXN0X3BhZ2U/c3RhdGU9JytzdGF0ZSsnJnNlYXJjaF9jb250ZW50PScrc2VhcmNoX2NvbnRlbnQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvcGFja2FnZV9saXN0X3BhZ2U/c3RhdGU9JytzdGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL+WIneWni+WMluaQnOe0ouadoeS7tlxyXG4gICAgICAgICQoJyNzZWxlY3RvcicpLmZpbmQoJ29wdGlvbicpLmVxKCsrdGhpcy5zZWFyY2hPYmouc3RhdGUpLmF0dHIoJ3NlbGVjdGVkJyx0cnVlKTtcclxuICAgICAgICAkKCcjc2VhcmNoVmFsJykub24oJ2tleXByZXNzJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZihlLmtleUNvZGUgPT0gXCIxM1wiKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjc2VhcmNoQnRuJykuY2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnZhbCh0aGlzLnNlYXJjaE9iai5zZWFyY2hfY29udGVudCk7XHJcblxyXG4gICAgICAgIC8vICDnm5HlkKznrZvpgInmoYbpgInmi6nkuovku7ZcclxuICAgICAgICAkKFwiLnNlbGVjdG9yXCIpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyNzZWFyY2hCdG4nKS5jbGljaygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0sXHJcbiAgICB0b29sOiBmdW5jdGlvbih0eXBlLGlkKSB7XHJcbiAgICAgICAgc3dpdGNoKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnZWRpdCc6XHJcbiAgICAgICAgICAgICAgICBjb250ZW50RGV0YWlsKCcvZWRpdF9wYWNrYWdlX3BhZ2U/aWQ9JyArIGlkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0b3VwJzpcclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVBhY2thZ2UoaWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvZG93bic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVQYWNrYWdlKGlkLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc29sZG91dCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU2hvdyhpZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3B1dGF3YXknOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1Nob3coaWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCflj4LmlbDplJnor68nKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3ZlUGFja2FnZTogZnVuY3Rpb24oaWQsIGNoYW5nZVR5cGUpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICBpZDog6KaB56e75Yqo55qE5LiT5qCPaWRcclxuICAgICAgICAgICAgY2hhbmdlVHlwZe+8miB0cnVlLeS4iuenu++8jCBmYWxzZS3kuIvnp7tcclxuICAgICAgICAqL1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzaG93TG9hZGluZygpO1xyXG4gICAgICAgICQuYWpheCgnL2NoYW5nZV9wYWNrYWdlX3dlaWdodCcsIHtcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBpZCxcclxuICAgICAgICAgICAgICAgIC8vMOS4iuenu++8jCAx5LiL56e7XHJcbiAgICAgICAgICAgICAgICBvcmRlcl90eXBlOiBjaGFuZ2VUeXBlID8gMCA6IDFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSw3MDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRvb2xCb3hCdG4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudG9EZXRhaWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b29sQm94QnRuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9EZXRhaWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBpc1Nob3c6IGZ1bmN0aW9uKGlkLCBjaGFuZ2VUeXBlKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgICAgaWQ6IOimgeS4iuS4i+aetueahOS4k+agj2lkXHJcbiAgICAgICAgICAgIGNoYW5nZVR5cGXvvJogdHJ1ZS3kuIrmnrbvvIwgZmFsc2Ut5LiL5p62XHJcbiAgICAgICAgKi9cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICAkLmFqYXgoJy9jaGFuZ2VfZ29vZHNfc3RhdGUnLHtcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgMS1nb29kc19pZDtcclxuICAgICAgICAgICAgICAgIDItZ29vZHNfdHlwZSgwLeS4k+agjywxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XHJcbiAgICAgICAgICAgICAgICAzLW9wZXJhdGVfdHlwZSgwLeS4iuaetiwxLeS4i+aetilcclxuICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBnb29kc19pZDogaWQsXHJcbiAgICAgICAgICAgICAgICBnb29kc190eXBlOiAwLFxyXG4gICAgICAgICAgICAgICAgb3BlcmF0ZV90eXBlOiBjaGFuZ2VUeXBlID8gMCA6IDEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSw3MDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRvb2xCb3hCdG4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudG9EZXRhaWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b29sQm94QnRuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9EZXRhaWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
