$(document).ready(function(){dynamicDetail.init()});var dynamicDetail=function(){var e={};e.communityId=-1;e.dynamicId=-1;e.replyCommentState=false;e.init=function(){e.communityId=$("#admin_data").data("community_id");e.dynamicId=$("#admin_data").data("dynamic_id");$("#pushCommentBtn").click(function(){var t=$("#commentContent").val();if(t==""||t==undefined){baseUtils.show.redTip("评论内容不能为空");return false}$.ajax("/smallCommunity/commentDynamic",{type:"POST",dataType:"json",data:{id:e.dynamicId,comment_content:t,comment_type:0},success:function(e){if(e.code==0){baseUtils.show.blueTip("评论成功");setTimeout(function(){window.location.reload()},700)}else{baseUtils.show.redTip("评论失败，请稍后再试")}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})});$("#praiseDynamic").click(function(){if($(this).data("praise_state")==1){t(0)}else{t(1)}});$(".detailShowWrapper ul li").click(function(){var t=$(this).data("type");switch(t){case"edit_dynamic":window.location.href="/smallCommunity/editDynamic?id="+e.dynamicId;break;case"move_in":i({id:e.dynamicId,is_chosen:1});break;case"move_out":i({id:e.dynamicId,is_chosen:0});break;case"set_group_notice":i({id:e.dynamicId,is_notice:1},"群公告设置成功，将在小社群主页置顶显示");break;case"cancel_group_notice":i({id:e.dynamicId,is_notice:0},"群公告已撤，将不再置顶显示");break;case"delete_dynamic":$.alert("确认删除此动态","error",{btn:3,title:"提示",oktext:"删除",onOk:function(){a({id:e.dynamicId,feeds_state:2})}});break}});$(".replyCommentBtn").click(function(){var t=$(this).prev(".replyContent").val(),i=$(this).parents(".commentReplyPart").data("comment_id");if(t==""||t==undefined){baseUtils.show.redTip("评论内容不能为空");return false}$.ajax("/smallCommunity/commentDynamic",{type:"POST",dataType:"json",data:{id:e.dynamicId,comment_content:t,comment_type:1,comment_id:i},success:function(e){if(e.code==0){baseUtils.show.blueTip("评论成功");setTimeout(function(){window.location.reload()},700)}else{baseUtils.show.redTip(e.msg)}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})});$(".showReplyWindow").click(function(){var t=$(this).parents(".commentItem").next(".commentReplyPart");if($(this).text()=="回复"){$(this).text("取消回复")}else{$(this).text("回复")}if(t.hasClass("hide")){t.removeClass("hide");e.replyCommentState=true}else{t.addClass("hide");e.replyCommentState=false}});$(".deleteComment").click(function(){var e=$(this).parents(".commentItem").data("comment_id");$.ajax("/smallCommunity/deleteDynamicComment",{type:"POST",dataType:"json",data:{id:e},success:function(e){if(e.code==0){baseUtils.show.blueTip("删除成功");setTimeout(function(){window.location.reload()},700)}else{baseUtils.show.redTip("删除失败，请稍后再试")}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})})};function t(t){$.ajax("/smallCommunity/dynamicPraise",{type:"POST",dataType:"json",data:{id:e.dynamicId,state:t},success:function(e){if(e.code==0){var i=parseInt($("#dynamicPraiseNum").text());if(t==0){$("#praiseDynamic").attr("src","../images/admin/communityOperate/praise_icon.png");$("#dynamicPraiseNum").text(i-1);$("#praiseDynamic").data("praise_state",0)}else{$("#praiseDynamic").attr("src","../images/admin/communityOperate/praise_pre_icon.png");$("#dynamicPraiseNum").text(i+1);$("#praiseDynamic").data("praise_state",1)}}else{baseUtils.show.redTip(e.msg)}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})}function i(e,t){$.ajax("/smallCommunity/changeDynamicState",{type:"POST",dataType:"json",data:e,success:function(e){if(e.code==0){baseUtils.show.blueTip(t||"操作成功");setTimeout(function(){window.location.reload()},700)}else{console.log(e.msg);baseUtils.show.redTip("操作失败，请稍后再试")}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})}function a(t){$.ajax("/smallCommunity/changeDynamicState",{type:"POST",dataType:"json",data:t,success:function(t){if(t.code==0){baseUtils.show.blueTip("删除成功");setTimeout(function(){window.location.href="/smallCommunity/dynamicList?community_id="+e.communityId},700)}else{console.log(t.msg);baseUtils.show.redTip("操作失败，请稍后再试")}},error:function(e,t,i){console.log(i);baseUtils.show.redTip("网络错误，请稍后再试！")}})}return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL2NvbW11bml0eU9wZXJhdGUvZHluYW1pY0RldGFpbC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImR5bmFtaWNEZXRhaWwiLCJpbml0IiwiY29tbXVuaXR5SWQiLCJkeW5hbWljSWQiLCJyZXBseUNvbW1lbnRTdGF0ZSIsImRhdGEiLCJjbGljayIsImNvbW1lbnRDb250ZW50IiwidmFsIiwidW5kZWZpbmVkIiwiYmFzZVV0aWxzIiwic2hvdyIsInJlZFRpcCIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJpZCIsImNvbW1lbnRfY29udGVudCIsImNvbW1lbnRfdHlwZSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJjb2RlIiwiYmx1ZVRpcCIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImVycm9yIiwieGhyIiwic3RhdHVzIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInRoaXMiLCJjaGFuZ2VEeW5hbWljUHJhaXNlU3RhdGUiLCJocmVmIiwiY2hhbmdlRHluYW1pY1N0YXRlIiwiaXNfY2hvc2VuIiwiaXNfbm90aWNlIiwiYWxlcnQiLCJidG4iLCJ0aXRsZSIsIm9rdGV4dCIsIm9uT2siLCJkZWxldGVEeW5hbWljIiwiZmVlZHNfc3RhdGUiLCJwcmV2IiwiY29tbWVudElkIiwicGFyZW50cyIsImNvbW1lbnRfaWQiLCJtc2ciLCIkcmVwbHlBcmVhIiwibmV4dCIsInRleHQiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJzdGF0ZSIsIm51bSIsInBhcnNlSW50IiwiYXR0ciIsInNlbmREYXRhIiwicHJvbXB0VGV4dCJdLCJtYXBwaW5ncyI6IkFBSUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FFZEMsY0FBY0MsUUFHbEIsSUFBSUQsZUFBZ0IsV0FFaEIsR0FBSUEsS0FFSkEsR0FBY0UsYUFBZSxDQUM3QkYsR0FBY0csV0FBYSxDQUMzQkgsR0FBY0ksa0JBQW9CLEtBRWxDSixHQUFjQyxL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QUtDLEVBQVFDLEdBQzFCQyxRQUFRQyxJQUFJRixFQUNacEIsV0FBVUMsS0FBS0MsT0FBTyxrQkFZbEMsUUFBU3dCLEdBQW1CeUIsRUFBVUMsR0FFbENqRSxFQUFFZ0IsS0FBSyxzQ0FDSEMsS0FBTSxPQUNOQyxTQUFVLE9BQ1ZWLEtBQU13RCxFQUNOMUMsUUFBUyxTQUFVQyxHQUNmLEdBQUlBLEVBQU9DLE1BQVEsRUFBRyxDQUNsQlgsVUFBVUMsS0FBS1csUUFBUXdDLEdBQWMsT0FDckN2QyxZQUFXLFdBQ1BDLE9BQU9DLFNBQVNDLFVBQ2pCLFNBQ0EsQ0FDSEssUUFBUUMsSUFBSVosRUFBTzhCLElBQ25CeEMsV0FBVUMsS0FBS0MsT0FBTyxnQkFHOUJlLE1BQU8sU0FBVUMsRUFBS0MsRUFBUUMsR0FDMUJDLFFBQVFDLElBQUlGLEVBQ1pwQixXQUFVQyxLQUFLQyxPQUFPLGtCQUtsQyxRQUFTZ0MsR0FBY2lCLEdBRW5CaEUsRUFBRWdCLEtBQUssc0NBQ0hDLEtBQU0sT0FDTkMsU0FBVSxPQUNWVixLQUFNd0QsRUFDTjFDLFFBQVMsU0FBVUMsR0FDZixHQUFJQSxFQUFPQyxNQUFRLEVBQUcsQ0FDbEJYLFVBQVVDLEtBQUtXLFFBQVEsT0FDdkJDLFlBQVcsV0FDUEMsT0FBT0MsU0FBU1UsS0FBTyw0Q0FBOENuQyxFQUFjRSxhQUNwRixTQUNBLENBQ0g2QixRQUFRQyxJQUFJWixFQUFPOEIsSUFDbkJ4QyxXQUFVQyxLQUFLQyxPQUFPLGdCQUc5QmUsTUFBTyxTQUFVQyxFQUFLQyxFQUFRQyxHQUMxQkMsUUFBUUMsSUFBSUYsRUFDWnBCLFdBQVVDLEtBQUtDLE9BQU8sa0JBUWxDLE1BQU9aIiwiZmlsZSI6ImFkbWluL2NvbW11bml0eU9wZXJhdGUvZHluYW1pY0RldGFpbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFkbWluaXN0cmF0b3Igb24gMjAxNy81LzIuXHJcbiAqL1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIGR5bmFtaWNEZXRhaWwuaW5pdCgpO1xyXG59KVxyXG5cclxudmFyIGR5bmFtaWNEZXRhaWwgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBkeW5hbWljRGV0YWlsID0ge307XHJcblxyXG4gICAgZHluYW1pY0RldGFpbC5jb21tdW5pdHlJZCA9IC0xOyAgICAgIC8v56S+576kaWRcclxuICAgIGR5bmFtaWNEZXRhaWwuZHluYW1pY0lkID0gLTE7ICAgICAgICAvL+WKqOaAgWlkXHJcbiAgICBkeW5hbWljRGV0YWlsLnJlcGx5Q29tbWVudFN0YXRlID0gZmFsc2U7ICAgICAgICAvL+WbnuWkjeivhOiuuueahOeKtuaAgSB0cnVlIC0g5pyJ5Zue5aSN6KKr5omT5byAIGZhbHNlIC0g5rKh5pyJXHJcblxyXG4gICAgZHluYW1pY0RldGFpbC5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBkeW5hbWljRGV0YWlsLmNvbW11bml0eUlkID0gJChcIiNhZG1pbl9kYXRhXCIpLmRhdGEoXCJjb21tdW5pdHlfaWRcIik7XHJcbiAgICAgICAgZHluYW1pY0RldGFpbC5keW5hbWljSWQgPSAkKFwiI2FkbWluX2RhdGFcIikuZGF0YShcImR5bmFtaWNfaWRcIik7XHJcblxyXG4gICAgICAgICQoXCIjcHVzaENvbW1lbnRCdG5cIikuY2xpY2soZnVuY3Rpb24gKCkgeyAgICAvL+ivhOiuuuWKqOaAgVxyXG4gICAgICAgICAgICB2YXIgY29tbWVudENvbnRlbnQgPSAkKFwiI2NvbW1lbnRDb250ZW50XCIpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbW1lbnRDb250ZW50ID09IFwiXCIgfHwgY29tbWVudENvbnRlbnQgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor4TorrrlhoXlrrnkuI3og73kuLrnqbpcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQuYWpheChcIi9zbWFsbENvbW11bml0eS9jb21tZW50RHluYW1pY1wiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogZHluYW1pY0RldGFpbC5keW5hbWljSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudF9jb250ZW50OiBjb21tZW50Q29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICBjb21tZW50X3R5cGU6IDAgICAgLy8oMC3kuLvor4Torro7MS3pmYTlsZ7or4TorropXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLor4TorrrmiJDlip9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivhOiuuuWksei0pe+8jOivt+eojeWQjuWGjeivlVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIjcHJhaXNlRHluYW1pY1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoXCJwcmFpc2Vfc3RhdGVcIikgPT0gMSkgeyAgICAvL+eKtuaAgeS4uuW3sueCuei1niAtPiDmk43kvZzvvJrlj5bmtojngrnotZ5cclxuICAgICAgICAgICAgICAgIGNoYW5nZUR5bmFtaWNQcmFpc2VTdGF0ZSgwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZUR5bmFtaWNQcmFpc2VTdGF0ZSgxKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gIOWvueWKqOaAgeeahOaTjeS9nFxyXG4gICAgICAgICQoXCIuZGV0YWlsU2hvd1dyYXBwZXIgdWwgbGlcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmRhdGEoXCJ0eXBlXCIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlZGl0X2R5bmFtaWNcIjpcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL3NtYWxsQ29tbXVuaXR5L2VkaXREeW5hbWljP2lkPVwiICsgZHluYW1pY0RldGFpbC5keW5hbWljSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibW92ZV9pblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUR5bmFtaWNTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkeW5hbWljRGV0YWlsLmR5bmFtaWNJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfY2hvc2VuOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibW92ZV9vdXRcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VEeW5hbWljU3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZHluYW1pY0RldGFpbC5keW5hbWljSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2Nob3NlbjogMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNldF9ncm91cF9ub3RpY2VcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VEeW5hbWljU3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZHluYW1pY0RldGFpbC5keW5hbWljSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX25vdGljZTogMVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIFwi576k5YWs5ZGK6K6+572u5oiQ5Yqf77yM5bCG5Zyo5bCP56S+576k5Li76aG1572u6aG25pi+56S6XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImNhbmNlbF9ncm91cF9ub3RpY2VcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VEeW5hbWljU3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZHluYW1pY0RldGFpbC5keW5hbWljSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX25vdGljZTogMFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIFwi576k5YWs5ZGK5bey5pKk77yM5bCG5LiN5YaN572u6aG25pi+56S6XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRlbGV0ZV9keW5hbWljXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuehruiupOWIoOmZpOatpOWKqOaAgVwiLCBcImVycm9yXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCLmj5DnpLpcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2t0ZXh0OiBcIuWIoOmZpFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVEeW5hbWljKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZHluYW1pY0RldGFpbC5keW5hbWljSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVlZHNfc3RhdGU6IDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIucmVwbHlDb21tZW50QnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgICAgLy/lm57lpI3or4TorrpcclxuICAgICAgICAgICAgdmFyIGNvbW1lbnRDb250ZW50ID0gJCh0aGlzKS5wcmV2KFwiLnJlcGx5Q29udGVudFwiKS52YWwoKSxcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRJZCA9ICQodGhpcykucGFyZW50cyhcIi5jb21tZW50UmVwbHlQYXJ0XCIpLmRhdGEoXCJjb21tZW50X2lkXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbW1lbnRDb250ZW50ID09IFwiXCIgfHwgY29tbWVudENvbnRlbnQgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor4TorrrlhoXlrrnkuI3og73kuLrnqbpcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQuYWpheChcIi9zbWFsbENvbW11bml0eS9jb21tZW50RHluYW1pY1wiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogZHluYW1pY0RldGFpbC5keW5hbWljSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudF9jb250ZW50OiBjb21tZW50Q29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICBjb21tZW50X3R5cGU6IDEsICAgIC8vKDAt5Li76K+E6K66OzEt6ZmE5bGe6K+E6K66KVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRfaWQ6IGNvbW1lbnRJZFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi6K+E6K665oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAocmVzdWx0Lm1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIuc2hvd1JlcGx5V2luZG93XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgICAvLyAg5omT5byA5Zue5aSN56qX5Y+jXHJcbiAgICAgICAgICAgIHZhciAkcmVwbHlBcmVhID0gJCh0aGlzKS5wYXJlbnRzKFwiLmNvbW1lbnRJdGVtXCIpLm5leHQoXCIuY29tbWVudFJlcGx5UGFydFwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmICgkcmVwbHlBcmVhLmhhc0NsYXNzKFwiaGlkZVwiKSAmJiBkeW5hbWljRGV0YWlsLnJlcGx5Q29tbWVudFN0YXRlKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7flhYjlrozmiJDlhbblroPlm57lpI1cIik7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgaWYgKCQodGhpcykudGV4dCgpID09IFwi5Zue5aSNXCIpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykudGV4dChcIuWPlua2iOWbnuWkjVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykudGV4dChcIuWbnuWkjVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJHJlcGx5QXJlYS5oYXNDbGFzcyhcImhpZGVcIikpIHtcclxuICAgICAgICAgICAgICAgICRyZXBseUFyZWEucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgZHluYW1pY0RldGFpbC5yZXBseUNvbW1lbnRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcmVwbHlBcmVhLmFkZENsYXNzKFwiaGlkZVwiKTtcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNEZXRhaWwucmVwbHlDb21tZW50U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIi5kZWxldGVDb21tZW50XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgLy8gIOWIoOmZpOivhOiuulxyXG5cclxuICAgICAgICAgICAgdmFyIGNvbW1lbnRJZCA9ICQodGhpcykucGFyZW50cyhcIi5jb21tZW50SXRlbVwiKS5kYXRhKFwiY29tbWVudF9pZFwiKTtcclxuXHJcbiAgICAgICAgICAgICQuYWpheChcIi9zbWFsbENvbW11bml0eS9kZWxldGVEeW5hbWljQ29tbWVudFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogY29tbWVudElkXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLliKDpmaTmiJDlip9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuWIoOmZpOWksei0pe+8jOivt+eojeWQjuWGjeivlVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gY2hhbmdlRHluYW1pY1ByYWlzZVN0YXRlKHN0YXRlKSB7XHJcblxyXG4gICAgICAgICQuYWpheChcIi9zbWFsbENvbW11bml0eS9keW5hbWljUHJhaXNlXCIsIHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGR5bmFtaWNEZXRhaWwuZHluYW1pY0lkLFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHBhcnNlSW50KCQoXCIjZHluYW1pY1ByYWlzZU51bVwiKS50ZXh0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSAwKSB7ICAgLy/mk43kvZzvvJrlj5bmtojngrnotZ5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwcmFpc2VEeW5hbWljXCIpLmF0dHIoXCJzcmNcIiwgXCIuLi9pbWFnZXMvYWRtaW4vY29tbXVuaXR5T3BlcmF0ZS9wcmFpc2VfaWNvbi5wbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjZHluYW1pY1ByYWlzZU51bVwiKS50ZXh0KG51bSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3ByYWlzZUR5bmFtaWNcIikuZGF0YShcInByYWlzZV9zdGF0ZVwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3ByYWlzZUR5bmFtaWNcIikuYXR0cihcInNyY1wiLCBcIi4uL2ltYWdlcy9hZG1pbi9jb21tdW5pdHlPcGVyYXRlL3ByYWlzZV9wcmVfaWNvbi5wbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjZHluYW1pY1ByYWlzZU51bVwiKS50ZXh0KG51bSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3ByYWlzZUR5bmFtaWNcIikuZGF0YShcInByYWlzZV9zdGF0ZVwiLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChyZXN1bHQubXNnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAxLWlkKOekvue+pOWKqOaAgWlkKVxyXG4gICAgICogMi1pc19jaG9zZW4gMO+8muaZrumAmueKtuaAgSAgMe+8mueyvumAieeKtuaAgVxyXG4gICAgICogMy1mZWVkc19zdGF0ZSAgMO+8muWPr+ingSAgMe+8mumakOiXjyAgMu+8muWIoOmZpFxyXG4gICAgICogNC1pc19ub3RpY2UgMO+8muaZrumAmueKtuaAgSAgMe+8muWFrOWRiueKtuaAgVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VEeW5hbWljU3RhdGUoc2VuZERhdGEsIHByb21wdFRleHQpIHtcclxuXHJcbiAgICAgICAgJC5hamF4KFwiL3NtYWxsQ29tbXVuaXR5L2NoYW5nZUR5bmFtaWNTdGF0ZVwiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHNlbmREYXRhLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAocHJvbXB0VGV4dCB8fCBcIuaTjeS9nOaIkOWKn1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5tc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIGRlbGV0ZUR5bmFtaWMoc2VuZERhdGEpIHtcclxuXHJcbiAgICAgICAgJC5hamF4KFwiL3NtYWxsQ29tbXVuaXR5L2NoYW5nZUR5bmFtaWNTdGF0ZVwiLCB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHNlbmREYXRhLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLliKDpmaTmiJDlip9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvc21hbGxDb21tdW5pdHkvZHluYW1pY0xpc3Q/Y29tbXVuaXR5X2lkPVwiICsgZHluYW1pY0RldGFpbC5jb21tdW5pdHlJZDtcclxuICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQubXNnKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5VcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICByZXR1cm4gZHluYW1pY0RldGFpbDtcclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl19
