var business;$(function(){var e=$("#mainToolBox").data("id");business=new Business(e);business.init();$inviteGuest.init();$aliveShowSet.init()});function Business(e){this.id=e;this.hasDown=false;this.hasClose=true;this.page=1;this.searchContent="";this.btnState=true;this.toolBoxBtn=true;this.searchResourceType=0;this.searchResourceName=""}Business.prototype={init:function(){var e=this;e.searchResourceType=GetQueryString("resource_type");e.searchResourceName=GetQueryString("search_content");var t=sessionStorage.getItem("inviteGuestAliveId");if(t&&t!=""){sessionStorage.setItem("inviteGuestAliveId","");$inviteGuest.openGuestSettingWindow(t)}this.initSearchPart();this.initCopy("copyHref");$("#mainToolBox").on("click","li[data-type]",function(t){var s=$(t.target),i=s.data("type"),a=e.id;i&&e.btnState&&e.maintool(i,a)});$("");$(".singleToolBox").on("click","li[data-type]",function(t){var s=$(t.target),i=s.data("type"),a=e.id,o=s.parentsUntil(".singleToolBox",".toolUl").data("type"),n=s.parentsUntil(".singleToolBox",".toolUl").data("id");var r=s.parentsUntil(".singleToolBox",".toolUl").data("res_title"),c=s.parentsUntil(".singleToolBox",".toolUl").data("is_try"),l=s.parentsUntil(".singleToolBox",".toolUl").data("show_time"),d=s.parentsUntil(".singleToolBox",".toolUl").data("img_url"),u=s.parentsUntil(".singleToolBox",".toolUl").data("payment_type");i&&e.btnState&&e.singleTool(i,a,o,n,r,c,l,d,u)});$("#addSingle").on("click",function(){showLoading();e.page=1;e.hasDown=false;e.hasClose=false;e.getSelectData()});$("#selectWindow #selctClose, #selectWindow #selectCancelBtn").on("click",function(){var t=$("#selectWindow");t.fadeOut("normal",function(){$(this).find("#selectAreaList").html("")});t.find(".inputSearchPart").val("");e.page=1;e.hasClose=true;e.searchContent=""});$("#selectWindow #selectSearchBtn").on("click",function(){var t=$.trim($(this).prev().val());showLoading();e.searchContent=t;e.page=1;e.hasClose=true;e.getSelectData()}).prev().on("keypress",function(e){if(e.keyCode=="13"){$("#selectWindow #selectSearchBtn").click()}});$("#selectWindow .select_content_area").scroll(function(t){var s=$("#selectAreaList").height(),i=$(this).height(),a=$(this).scrollTop();if(a+i>=s-5&&!e.hasDown&&!e.hasClose){e.hasClose=true;e.getSelectData()}});$("#selectWindow #selectOkBtn").on("click",function(t){var s=$("#selectWindow .select_content_area"),i=[];showLoading();s.find(":checkbox:checked").each(function(e,t){var s={resource_id:t.getAttribute("id"),resource_type:t.getAttribute("value")};i[i.length]=s});$.ajax("/submit_choice_resource",{type:"POST",dataType:"json",data:{channel_type:2,resource_list:i,package_id:e.id},success:function(e){console.log(e);if(e.code==0){$("#selectWindow #selctClose").click();baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{baseUtils.show.redTip(e.msg);hideLoading()}},error:function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试");hideLoading()}})})},setSingleSale:function(e,t,s,i,a,o){if(s==1){if(e==2){$.alert("该单品已设为试听，取消试听后方可设为单卖","info",{btn:2})}else if(e==1||e==3||e==4){$.alert("该单品已设为试看，取消试看后方可设为单卖","info",{btn:2})}}else{this.initSetSingleSaleWindow(a,t,e,i,o);$(".set_price_window").fadeIn(300)}},cancelSingleSale:function(e,t,s){if(s==1){var i="取消单卖后，未开通专栏的用户将不可单独查看该单品!"}else if(s==2){var i="取消单卖后，未开通专栏的用户将不可单独付费购买该单品!"}$.alert(i,"info",{onOk:function(){showLoading();var s={};s["resource_id"]=t;s["resource_type"]=e;var i=[s];$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:i,submit_type:1},success:function(e){hideLoading();if(e.code==0){baseUtils.show.blueTip("取消单卖成功！");setTimeout(function(){window.location.reload()},1500)}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,t,s){hideLoading();console.log(s);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})}})},initSetSingleSaleWindow:function(e,t,s,i,a){$(".resource_icon_3").attr("src",e);$(".resource_title").html(t);switch(s){case 1:$(".resource_type_3").html("图文");break;case 2:$(".resource_type_3").html("音频");break;case 3:$(".resource_type_3").html("视频");break;case 4:$(".resource_type_3").html("直播");break;default:break}$(".resource_time_3").html(i);$(".close_icon_wrapper_2, .cancel_set_price").click(function(){$(".set_price_window").fadeOut(300)});$(".confirm_price_btn").click(function(){var e=$.trim($(".input_setting_price").val());var t=/^([1-9][\d]*|0)([\/.][\d]{1,2})?$/;if(!t.test(e)){baseUtils.show.redTip("价格输入有误");$(".input_setting_price").val("");return false}if(e<=0){baseUtils.show.redTip("价格不能为0 或 负数!");return false}if(e>baseUtils.maxInputPrice){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}var i={};i["resource_id"]=a;i["resource_type"]=s;var o=[i];$.ajax("/submit_choice_resource",{type:"POST",data:{channel_type:1,resource_list:o,piece_price:e*100,submit_type:0},success:function(e){if(e.code==0){$(".set_price_window").fadeOut(300);baseUtils.show.blueTip("设为单卖成功");setTimeout(function(){window.location.reload()},1500)}else{baseUtils.show.redTip("操作失败，请稍后再试!")}},error:function(e,t,s){console.log(s);baseUtils.show.redTip("服务器开小差啦，请稍后再搜索！")}})})},initSearchPart:function(){var e=this;$(".searchAllBtn").click(function(){var e=GetQueryString("id");var t=$(".selector_resource_type").val();var s=$.trim($(".inputSearchAll").val());window.location.href="/package_detail_page?id="+e+"&search_content="+s+"&resource_type="+t});$(".inputSearchAll").focusin(function(){$(document).keypress(function(e){if(e.which==13){$(".searchAllBtn").click()}})}).focusout(function(){$(document).off("keypress")});$(".selector_resource_type").on("change",function(){$(".searchAllBtn").click()});if(e.searchResourceName!=""){$(".inputSearchAll").val(e.searchResourceName)}var t=$(".selector_resource_type").children("option").length;if(t>0){for(var s=0;s<t;s++){if($(".selector_resource_type").children("option").eq(s).attr("value")==e.searchResourceType){$(".selector_resource_type").children("option").eq(s).attr("selected","selected");return}}}},initCopy:function(e){var t=new Clipboard("."+e);t.on("success",function(e){if(e.trigger.id=="copy_app_href"){baseUtils.show.blueTip("复制成功！")}else{baseUtils.show.blueTip("复制成功！请在微信内打开哦 。")}e.clearSelection()})},maintool:function(e,t){self.btnState=false;switch(e){case"newListShow":this.newListShow(t,false);break;case"newListHide":this.newListShow(t,true);break;case"stopupdate":this.packageUpdate(t,false);break;case"startupdate":this.packageUpdate(t,true);break;case"soldout":this.packageisShow(t,false);break;case"putaway":this.packageisShow(t,true);break;case"openForm":this.packageForm(t,false);break;case"closeForm":this.packageForm(t,true);break;case"closevisible":this.visibleSwitch(t,0);break;case"openvisible":this.visibleSwitch(t,1);break;default:console.error("参数错误");break}},newListShow:function(e,t){var s=t?1:0;console.log(s);console.log(e);showLoading();$.ajax("/set_h5_newest_hide",{type:"POST",dataType:"json",data:{id:e,h5_newest_hide:t?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();baseUtils.show.redTip(e.msg);self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},packageUpdate:function(e,t){showLoading();$.ajax("/save_package_finished_state",{type:"POST",dataType:"json",data:{package_id:e,finished_state:t?0:1},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();baseUtils.show.redTip(e.msg);self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},packageForm:function(e,t){var s=$(".user_version_num").data("version_type");if(s&&s==3){$.alert(t?"关闭资料填写后，用户在付费购买本专栏前将不再填写个人信息，您确认要关闭么？":"开启资料填写后，用户在付费购买本专栏前将填写个人信息，您确认要开启么？","info",{icon:"blue",onOk:function(){showLoading();$.ajax("/set_is_complete_info",{type:"POST",dataType:"json",data:{id:e,is_complete_info:t},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},200)}else{baseUtils.show.redTip(e.msg);hideLoading()}}})}})}else{baseUtils.show.redTip("当前版本不支持开启资料填写，如需开启请升级至专业版")}},visibleSwitch:function(e,t){var s=$(".user_version_num").data("version_type");if(s&&s==3){$.alert(t?"开启内容展示后，未购买专栏的用户进去专栏后将可见内容列表，您确认要开启么？":"关闭内容展示后，未购买专栏的用户进去专栏后将无法查看内容列表，您确认要关闭么？","info",{icon:"blue",onOk:function(){showLoading();$.ajax("/visible_on_switch",{type:"POST",dataType:"json",data:{id:e,visible_on:t},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},200)}else{baseUtils.show.redTip(e.msg);hideLoading()}}})}})}else{baseUtils.show.redTip("当前版本不支持开启资料填写，如需开启请升级至专业版")}},packageisShow:function(e,t){$.alert(t?"上架后该专栏将对外显示":"下架后该专栏将不对外显示","info",{onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:e,goods_type:0,operate_type:t?0:1},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{baseUtils.show.redTip(e.msg);hideLoading();self.btnState=true}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}})},singleTool:function(e,t,s,i,a,o,n,r,c){self.btnState=false;switch(e){case"totop":this.setTop(t,s,i,true);break;case"canceltop":this.setTop(t,s,i,false);break;case"aliveGuestSet":if(s==4){$inviteGuest.openGuestSettingWindow(i)}break;case"showComment":if(s==4){contentDetail("/alivecomment?alive_id="+i)}else{contentDetail("/comment_admin?type="+(s-1)+"&record_id="+i)}break;case"setTry":this.setTry(t,s,i,c,true);break;case"cancelTry":this.setTry(t,s,i,c,false);break;case"set_single_sale":this.setSingleSale(s,a,o,n,r,i);break;case"cancel_single_sale":this.cancelSingleSale(s,i,c);break;case"soldout":this.singleisShow(t,s,i,true);break;case"putaway":this.singleisShow(t,s,i,false);break;case"del":this.querySingle(t,s,i);break;case"enable_copy":this.changeCanSelectState(i,true);break;case"forbid_copy":var l=this;$.alert("禁止复制后，该篇图文的图片点击放大和长按识别二维码功能将被禁用","info",{btn:3,onOk:function(){l.changeCanSelectState(i,false)}});break;case"export_audio":this.exportAudio(i);break;case"copy_app_href":break;default:console.error("参数错误");break}},exportAudio:function(e){$.ajax("/async_download_alive_voice",{type:"POST",dataType:"json",data:{alive_id:e},success:function(e){switch(e.code){case 0:window.location.href=e.data["url"];break;case 1:$.alert("语音正在合成中，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 2:$.alert("开始进行语音合成，根据您直播间内的音频数量需要10分钟到4个小时不等，请稍候访问。","info",{btn:2});break;case 3:$.alert("服务器正在维护，直播音频导出功能受到影响，请稍后再试。","info",{btn:2});break;case 4:$.alert("该直播没有音频。","info",{btn:2});break;case 5:$.alert("这个直播不是语音类型的，不支持音频导出。","info",{btn:2});break;case 6:$.alert("这个直播还没结束，暂不支持音频导出。","info",{btn:2});break;default:console.log("参数错误");baseUtils.show.redTip(e.msg);break}console.log(e.msg)},error:function(e,t,s){console.log(s);baseUtils.show.redTip("服务器出小差了，请稍后再试！")}})},changeCanSelectState:function(e,t){$.ajax("/set_resource_select_can",{type:"POST",dataType:"json",data:{id:e,resource_type:1,can_select:t?1:0},success:function(e){if(e.code==0){if(t){baseUtils.show.blueTip("已经允许复制")}else{baseUtils.show.blueTip("已经禁止复制")}window.location.reload()}else{baseUtils.show.redTip("操作失败，请稍后再试")}},error:function(e,t,s){console.log(s);baseUtils.show.redTip("网络错误，请稍后再试！")}})},setTop:function(e,t,s,i){showLoading();$.ajax("/set_package_resource_top",{type:"POST",dataType:"json",data:{package_id:e,resource_type:t,resource_id:s,top_state:i?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},setTry:function(e,t,s,i,a){if(i==1||i==2){if(t==2){$.alert("该单品已设为单卖，取消单卖后方可设为试听","info",{btn:2})}else if(t==1||t==3||t==4){$.alert("该单品已设为单卖，取消单卖后方可设为试看","info",{btn:2})}return false}showLoading();$.ajax("/set_package_resource_try",{type:"POST",dataType:"json",data:{package_id:e,resource_type:t,resource_id:s,try_state:a?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},singleisShow:function(e,t,s,i){var a=this,o=i?"下架后该单品将不对外显示":"上架后该单品将对外显示";$.alert(o,"info",{title:"",onOk:function(){showLoading();$.ajax("/change_goods_state",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,operate_type:i?1:0},success:function(e){if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();a.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();a.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})}})},querySingle:function(e,t,s){var i=this,a="";$.ajax("/query_goods_state",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,channel_type:1,package_id:e}}).then(function(e){if(e.code==0){var t=e.data.records_list,s=Object.keys(t).length;if(e.data.is_exist==0){a='确认移除该内容，移除后所有用户将无法查看此内容且<spa style="color: red;">不可恢复</spa>'}else if(t[0]==undefined){$.each(t,function(e,t){a+="《"+t.title+"》"});a="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容仍存在于"+a+"中"}else{if(s==1){a="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容仍在单品列表且单独售卖"}else{$.each(t,function(e,t){if(e!=0){a+="《"+t.title+"》"}});a="确认移除该内容，移除后该专栏用户将无法查看此内容。此内容单独售卖且仍存在于"+a+"中"}}return a}else{baseUtils.show.redTip(e.msg);return false}},function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试")}).then(function(a){if(a){$.alert(a,"info",{oktext:"确认移除",onOk:function(){i.deleteSingle(e,t,s)}})}})},deleteSingle:function(e,t,s){showLoading();$.ajax("/move_goods",{type:"POST",dataType:"json",data:{goods_id:s,goods_type:t,channel_type:1,package_id:e},success:function(e){console.log(e);if(e.code==0){baseUtils.show.blueTip(e.msg);setTimeout(function(){reloadPage()},700)}else{hideLoading();self.btnState=true;baseUtils.show.redTip(e.msg)}},error:function(e,t,s){console.error(s);hideLoading();self.btnState=true;baseUtils.show.redTip("操作失败，请稍后再试")}})},getSelectData:function(){var e=this;$.ajax("/choice_resource_list",{type:"POST",dataType:"json",data:{search_content:e.searchContent||"",channel_type:2,resource_type:0,package_id:e.id,page:e.page},success:function(t){console.log(t);if(t.code==0){var s=$("#selectAreaList"),i="",a=JSON.parse(t.data.page_offset);$.each(t.data.resource_list,function(e,t){var s="";switch(+this.resource_type){case 1:s="图文";break;case 2:s="音频";break;case 3:s="视频";break;case 4:s="直播";break;default:s="无";break}i+='<div class="resourceItemWrapper">'+'<input value="'+this.resource_type+'" id="'+this.id+'" class="with-gap singleResourceRadio" name="select_resource" type="checkbox">'+'<label for="'+this.id+'" class="radio_desc">'+'<div class="resource_icon_wrapper">'+'<img class="resource_icon" src="'+this.img_url+'">'+"</div>"+this.title+"</label>"+'<span class="resource_type">'+s+"</span>"+'<span class="resource_time">'+this.start_at+"</span>"+"</div>"});if(i.length==0){i+='<div class="contentNoneTip">暂无数据</div>'}if(e.page==1||!e.page){s.html(i);s.append('<div class="isDown">资源加载中</div>');e.hasClose=false;hideLoading();if(!e.searchContent){$("#selectWindow").fadeIn()}}else if(e.page>1){s.find(".isDown").before(i);e.hasClose=false}if(a.current_page>=a.total_pages){s.find(".isDown").hide();e.hasDown=true}e.page++}else{hideLoading();baseUtils.show.redTip("拉取已有单品失败！")}},error:function(e,t,s){console.error(s);baseUtils.show.redTip("操作失败，请稍后再试");hideLoading()}})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhY2thZ2VEZXRhaWwuanMiXSwibmFtZXMiOlsiYnVzaW5lc3MiLCIkIiwiaWQiLCJkYXRhIiwiQnVzaW5lc3MiLCJpbml0IiwiJGludml0ZUd1ZXN0IiwiJGFsaXZlU2hvd1NldCIsInRoaXMiLCJoYXNEb3duIiwiaGFzQ2xvc2UiLCJwYWdlIiwic2VhcmNoQ29udGVudCIsImJ0blN0YXRlIiwidG9vbEJveEJ0biIsInNlYXJjaFJlc291cmNlVHlwZSIsInNlYXJjaFJlc291cmNlTmFtZSIsInByb3RvdHlwZSIsInNlbGYiLCJHZXRRdWVyeVN0cmluZyIsImFsaXZlSWQiLCJzZXNzaW9uU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwib3Blbkd1ZXN0U2V0dGluZ1dpbmRvdyIsImluaXRTZWFyY2hQYXJ0IiwiaW5pdENvcHkiLCJvbiIsImUiLCIkZWxlIiwidGFyZ2V0IiwidHlwZSIsIm1haW50b29sIiwicGFja2FnZWlkIiwicmVzVHlwZSIsInBhcmVudHNVbnRpbCIsInJlc2lkIiwicmVzVGl0bGUiLCJpc1RyeSIsInNob3dUaW1lIiwicmVzSW1nVXJsIiwicGF5bWVudFR5cGUiLCJzaW5nbGVUb29sIiwic2hvd0xvYWRpbmciLCJnZXRTZWxlY3REYXRhIiwiJHNlbGVjdFdpbiIsImZhZGVPdXQiLCJmaW5kIiwiaHRtbCIsInZhbCIsInNlYXJjaFZhbCIsInRyaW0iLCJwcmV2Iiwia2V5Q29kZSIsImNsaWNrIiwic2Nyb2xsIiwiRGl2SGVpZ2h0IiwiaGVpZ2h0IiwiU2Nyb2xsSGVpZ2h0IiwiU2Nyb2xsVG9wIiwic2Nyb2xsVG9wIiwiJHNlbGVjdEFyZWEiLCJyZXNMaXN0IiwiZWFjaCIsImkiLCJpdGVtIiwicmVzT2JqIiwicmVzb3VyY2VfaWQiLCJnZXRBdHRyaWJ1dGUiLCJyZXNvdXJjZV90eXBlIiwibGVuZ3RoIiwiYWpheCIsImRhdGFUeXBlIiwiY2hhbm5lbF90eXBlIiwicmVzb3VyY2VfbGlzdCIsInBhY2thZ2VfaWQiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsImNvZGUiLCJiYXNlVXRpbHMiLCJzaG93IiwiYmx1ZVRpcCIsIm1zZyIsInNldFRpbWVvdXQiLCJyZWxvYWRQYWdlIiwicmVkVGlwIiwiaGlkZUxvYWRpbmciLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsInNldFNpbmdsZVNhbGUiLCJyZXNJZCIsImFsZXJ0IiwiYnRuIiwiaW5pdFNldFNpbmdsZVNhbGVXaW5kb3ciLCJmYWRlSW4iLCJjYW5jZWxTaW5nbGVTYWxlIiwidGV4dCIsIm9uT2siLCJhcnIiLCJyZXNvdXJjZUxpc3RBcnIiLCJzdWJtaXRfdHlwZSIsInJlc3VsdCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiYXR0ciIsInByaWNlIiwicmVnIiwidGVzdCIsIm1heElucHV0UHJpY2UiLCJwaWVjZV9wcmljZSIsInBhY2thZ2VJZCIsInNlYXJjaF9jb250ZW50IiwiaHJlZiIsImZvY3VzaW4iLCJkb2N1bWVudCIsImtleXByZXNzIiwid2hpY2giLCJmb2N1c291dCIsIm9mZiIsIm51bSIsImNoaWxkcmVuIiwiZXEiLCJjbGFzc05hbWUiLCJjbGlwYm9hcmQiLCJDbGlwYm9hcmQiLCJ0cmlnZ2VyIiwiY2xlYXJTZWxlY3Rpb24iLCJuZXdMaXN0U2hvdyIsInBhY2thZ2VVcGRhdGUiLCJwYWNrYWdlaXNTaG93IiwicGFja2FnZUZvcm0iLCJ2aXNpYmxlU3dpdGNoIiwic2hvd1R5cGUiLCJoNV9uZXdlc3RfaGlkZSIsInN0YXRlVHlwZSIsImZpbmlzaGVkX3N0YXRlIiwiZm9ybVR5cGUiLCJ2ZXJzaW9uIiwiaWNvbiIsImlzX2NvbXBsZXRlX2luZm8iLCJ2aXNpYmxlX29uIiwiY2hhbmdlVHlwZSIsImdvb2RzX2lkIiwiZ29vZHNfdHlwZSIsIm9wZXJhdGVfdHlwZSIsInNldFRvcCIsImNvbnRlbnREZXRhaWwiLCJzZXRUcnkiLCJzaW5nbGVpc1Nob3ciLCJxdWVyeVNpbmdsZSIsImNoYW5nZUNhblNlbGVjdFN0YXRlIiwiZXhwb3J0QXVkaW8iLCJhbGl2ZV9pZCIsImNhblNlbGVjdCIsImNhbl9zZWxlY3QiLCJ0b3AiLCJ0b3Bfc3RhdGUiLCJ0cnlTdGF0ZSIsInRyeV9zdGF0ZSIsInNob3dTdGF0ZSIsInRpdGxlIiwidGhlbiIsInJlY29yZHNMaXN0IiwicmVjb3Jkc19saXN0IiwiYXJyTGVuZ3RoIiwiT2JqZWN0Iiwia2V5cyIsImlzX2V4aXN0IiwidW5kZWZpbmVkIiwia2V5IiwidmFsdWUiLCJva3RleHQiLCJkZWxldGVTaW5nbGUiLCJzZWxlY3RTdHIiLCJwYWdlT2JqIiwiSlNPTiIsInBhcnNlIiwicGFnZV9vZmZzZXQiLCJpbWdfdXJsIiwic3RhcnRfYXQiLCJhcHBlbmQiLCJiZWZvcmUiLCJjdXJyZW50X3BhZ2UiLCJ0b3RhbF9wYWdlcyIsImhpZGUiXSwibWFwcGluZ3MiOiJBQUdBLEdBQUlBLFNBQ0pDLEdBQUUsV0FDRSxHQUFJQyxHQUFLRCxFQUFFLGdCQUFnQkUsS0FBSyxLQUNoQ0gsVUFBVyxHQUFJSSxVQUFTRixFQUN4QkYsVUFBU0ssTUFDVEMsY0FBYUQsTUFDYkUsZUFBY0YsUUFJbEIsU0FBU0QsVUFBU0YsR0FDZE0sS0FBS04sR0FBS0EsQ0FDVk0sTUFBS0MsUUFBVSxLQUNmRCxNQUFLRSxTQUFXLElBQ2hCRixNQUFLRyxLQUFPLENBQ1pILE1BQUtJLGNBQWdCLEVBQ3JCSixNQUFLSyxTQUFXLElBRWhCTCxNQUFLTSxXQUFhLElBRWxCTixNQUFLTyxtQkFBcUIsQ0FDMUJQLE1BQUtRLG1CQUFxQixHQUU5QlosU0FBU2EsV0FDTFosS0FBTSxXQUNGLEdBQUlhLEdBQU9WLElBRVhVLEdBQUtILG1CQUFxQkksZUFBZSxnQkFDekNELEdBQUtGLG1CQUFxQkcsZUFBZSxpQkFHekMsSUFBSUMsR0FBVUMsZUFBZUMsUUFBUSxxQkFDckMsSUFBSUYsR0FBV0EsR0FBVyxHQUFJLENBQzFCQyxlQUFlRSxRQUFRLHFCQUFzQixHQUM3Q2pCLGNBQWFrQix1QkFBdUJKLEdBSXhDWixLQUFLaUIsZ0JBRUxqQixNQUFLa0IsU0FBUyxXQUVk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NUIxSyxHQUFLVCxRQUFVLEtBRW5CUyxFQUFLUCxXQUVGLENBQ0g0RSxhQUNBUCxXQUFVQyxLQUFLSyxPQUFPLGVBRzlCRSxNQUFPLFNBQVNDLEVBQUtDLEVBQVFDLEdBQ3pCZCxRQUFRVyxNQUFNRyxFQUNkWCxXQUFVQyxLQUFLSyxPQUFPLGFBQ3RCQyIsImZpbGUiOiJwYWNrYWdlRGV0YWlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IEZyYW5rIG9uIDIwMTcvMy8yMS5cbiAqL1xudmFyIGJ1c2luZXNzO1xuJChmdW5jdGlvbigpIHtcbiAgICB2YXIgaWQgPSAkKCcjbWFpblRvb2xCb3gnKS5kYXRhKCdpZCcpO1xuICAgIGJ1c2luZXNzID0gbmV3IEJ1c2luZXNzKGlkKTtcbiAgICBidXNpbmVzcy5pbml0KCk7XG4gICAgJGludml0ZUd1ZXN0LmluaXQoKTtcbiAgICAkYWxpdmVTaG93U2V0LmluaXQoKTtcbn0pO1xuXG5cbmZ1bmN0aW9uIEJ1c2luZXNzKGlkKSB7IC8v5a6a5LmJ5LiA5Lqb5YWs5YWx5bGe5oCnXG4gICAgdGhpcy5pZCA9IGlkOyAvL+W9k+WJjeS4k+agj+eahGlkXG4gICAgdGhpcy5oYXNEb3duID0gZmFsc2U7XG4gICAgdGhpcy5oYXNDbG9zZSA9IHRydWU7XG4gICAgdGhpcy5wYWdlID0gMTsgLy/lt7LmnInljZXlk4HnmoTpobXnoIFcbiAgICB0aGlzLnNlYXJjaENvbnRlbnQgPSAnJztcbiAgICB0aGlzLmJ0blN0YXRlID0gdHJ1ZTtcblxuICAgIHRoaXMudG9vbEJveEJ0biA9IHRydWU7IC8v5bel5YW35oyJ6ZKu55qE54K55Ye754q25oCBXG5cbiAgICB0aGlzLnNlYXJjaFJlc291cmNlVHlwZSA9IDA7XG4gICAgdGhpcy5zZWFyY2hSZXNvdXJjZU5hbWUgPSBcIlwiO1xufVxuQnVzaW5lc3MucHJvdG90eXBlID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkgeyAvL+mhtemdoueahOWIneWni+WMluaTjeS9nO+8jOe7keWumuS6i+S7tlxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5zZWFyY2hSZXNvdXJjZVR5cGUgPSBHZXRRdWVyeVN0cmluZyhcInJlc291cmNlX3R5cGVcIik7XG4gICAgICAgIHNlbGYuc2VhcmNoUmVzb3VyY2VOYW1lID0gR2V0UXVlcnlTdHJpbmcoXCJzZWFyY2hfY29udGVudFwiKTtcblxuICAgICAgICAvL+aJk+W8gOebtOaSreeql+WPo1xuICAgICAgICB2YXIgYWxpdmVJZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJpbnZpdGVHdWVzdEFsaXZlSWRcIik7XG4gICAgICAgIGlmIChhbGl2ZUlkICYmIGFsaXZlSWQgIT0gXCJcIikge1xuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImludml0ZUd1ZXN0QWxpdmVJZFwiLCBcIlwiKTtcbiAgICAgICAgICAgICRpbnZpdGVHdWVzdC5vcGVuR3Vlc3RTZXR0aW5nV2luZG93KGFsaXZlSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gIOWIneWni+WMluaQnOe0ouetm+mAiVxuICAgICAgICB0aGlzLmluaXRTZWFyY2hQYXJ0KCk7XG5cbiAgICAgICAgdGhpcy5pbml0Q29weSgnY29weUhyZWYnKTsgLy/liqDovb3lpI3liLbpk77mjqXmj5Lku7ZcblxuICAgICAgICAkKCcjbWFpblRvb2xCb3gnKVxuICAgICAgICAgICAgLm9uKCdjbGljaycsICdsaVtkYXRhLXR5cGVdJywgZnVuY3Rpb24oZSkgeyAvL+S4k+agj+eahOWKn+iDvVxuICAgICAgICAgICAgICAgIHZhciAkZWxlID0gJChlLnRhcmdldCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAkZWxlLmRhdGEoJ3R5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBzZWxmLmlkO1xuICAgICAgICAgICAgICAgIHR5cGUgJiYgc2VsZi5idG5TdGF0ZSAmJiAoc2VsZi5tYWludG9vbCh0eXBlLCBpZCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICQoJycpXG4gICAgICAgICQoJy5zaW5nbGVUb29sQm94JylcbiAgICAgICAgICAgIC5vbignY2xpY2snLCAnbGlbZGF0YS10eXBlXScsIGZ1bmN0aW9uKGUpIHsgLy/kuJPmoI/lhoXljZXlk4HnmoTlip/og71cbiAgICAgICAgICAgICAgICB2YXIgJGVsZSA9ICQoZS50YXJnZXQpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJGVsZS5kYXRhKCd0eXBlJyksXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VpZCA9IHNlbGYuaWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc1R5cGUgPSAkZWxlLnBhcmVudHNVbnRpbCgnLnNpbmdsZVRvb2xCb3gnLCAnLnRvb2xVbCcpLmRhdGEoJ3R5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaWQgPSAkZWxlLnBhcmVudHNVbnRpbCgnLnNpbmdsZVRvb2xCb3gnLCAnLnRvb2xVbCcpLmRhdGEoJ2lkJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVzVGl0bGUgPSAkZWxlLnBhcmVudHNVbnRpbCgnLnNpbmdsZVRvb2xCb3gnLCAnLnRvb2xVbCcpLmRhdGEoJ3Jlc190aXRsZScpLFxuICAgICAgICAgICAgICAgICAgICBpc1RyeSA9ICRlbGUucGFyZW50c1VudGlsKCcuc2luZ2xlVG9vbEJveCcsICcudG9vbFVsJykuZGF0YSgnaXNfdHJ5JyksXG4gICAgICAgICAgICAgICAgICAgIHNob3dUaW1lID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCdzaG93X3RpbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzSW1nVXJsID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCdpbWdfdXJsJyksXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRUeXBlID0gJGVsZS5wYXJlbnRzVW50aWwoJy5zaW5nbGVUb29sQm94JywgJy50b29sVWwnKS5kYXRhKCdwYXltZW50X3R5cGUnKTtcblxuICAgICAgICAgICAgICAgIHR5cGUgJiYgc2VsZi5idG5TdGF0ZSAmJiAoc2VsZi5zaW5nbGVUb29sKHR5cGUsIHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHJlc1RpdGxlLCBpc1RyeSwgc2hvd1RpbWUsIHJlc0ltZ1VybCwgcGF5bWVudFR5cGUpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNhZGRTaW5nbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsgLy/lvLnlh7rpgInpgInmi6nmi6nmoYZcbiAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICBzZWxmLnBhZ2UgPSAxO1xuICAgICAgICAgICAgc2VsZi5oYXNEb3duID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmdldFNlbGVjdERhdGEoKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoJyNzZWxlY3RXaW5kb3cgI3NlbGN0Q2xvc2UsICNzZWxlY3RXaW5kb3cgI3NlbGVjdENhbmNlbEJ0bicpXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7IC8v5YWz6Zet6YCJ5oup5by556qXXG4gICAgICAgICAgICAgICAgdmFyICRzZWxlY3RXaW4gPSAkKCcjc2VsZWN0V2luZG93Jyk7XG4gICAgICAgICAgICAgICAgJHNlbGVjdFdpbi5mYWRlT3V0KCdub3JtYWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcjc2VsZWN0QXJlYUxpc3QnKS5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkc2VsZWN0V2luLmZpbmQoJy5pbnB1dFNlYXJjaFBhcnQnKS52YWwoJycpOyAvL+a4heepuuaQnOe0ouahhlxuICAgICAgICAgICAgICAgIHNlbGYucGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi5zZWFyY2hDb250ZW50ID0gJyc7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAkKCcjc2VsZWN0V2luZG93ICNzZWxlY3RTZWFyY2hCdG4nKVxuICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgeyAvL+mAieaLqeahhueahOWNleWTgeaQnOe0olxuICAgICAgICAgICAgICAgIHZhciBzZWFyY2hWYWwgPSAkLnRyaW0oJCh0aGlzKS5wcmV2KCkudmFsKCkpO1xuICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zZWFyY2hDb250ZW50ID0gc2VhcmNoVmFsO1xuICAgICAgICAgICAgICAgIHNlbGYucGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgc2VsZi5oYXNDbG9zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi5nZXRTZWxlY3REYXRhKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnByZXYoKS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSBcIjEzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3NlbGVjdFdpbmRvdyAjc2VsZWN0U2VhcmNoQnRuJykuY2xpY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAkKCcjc2VsZWN0V2luZG93IC5zZWxlY3RfY29udGVudF9hcmVhJykuc2Nyb2xsKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBEaXZIZWlnaHQgPSAkKCcjc2VsZWN0QXJlYUxpc3QnKS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBTY3JvbGxIZWlnaHQgPSAkKHRoaXMpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgIFNjcm9sbFRvcCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgIGlmICgoU2Nyb2xsVG9wICsgU2Nyb2xsSGVpZ2h0ID49IERpdkhlaWdodCAtIDUpICYmXG4gICAgICAgICAgICAgICAgIXNlbGYuaGFzRG93biAvL+WIpOaWreaYr+WQpuWIsOi+vuW6lemDqFxuICAgICAgICAgICAgICAgICYmXG4gICAgICAgICAgICAgICAgIXNlbGYuaGFzQ2xvc2UgLy/liKTmlq3lvLnmoYbmmK/lkKblhbPpl61cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNlbGYuZ2V0U2VsZWN0RGF0YSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvL+aPkOS6pOimgea3u+WKoOeahOWNleWTgVxuICAgICAgICAkKCcjc2VsZWN0V2luZG93ICNzZWxlY3RPa0J0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciAkc2VsZWN0QXJlYSA9ICQoJyNzZWxlY3RXaW5kb3cgLnNlbGVjdF9jb250ZW50X2FyZWEnKSxcbiAgICAgICAgICAgICAgICByZXNMaXN0ID0gW107XG5cbiAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAkc2VsZWN0QXJlYS5maW5kKCc6Y2hlY2tib3g6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oaSwgaXRlbSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNPYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX2lkOiBpdGVtLmdldEF0dHJpYnV0ZSgnaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogaXRlbS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJylcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlc0xpc3RbcmVzTGlzdC5sZW5ndGhdID0gcmVzT2JqO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgIDEtY2hhbm5lbF90eXBlKDEt5Y2V5ZOBLDIt5LiT5qCPLDMt5Lya5ZGYKTtcbiAgICAgICAgICAgIDItcmVzb3VyY2VfbGlzdCjpgInkuK3nmoTotYTmupDpm4blkIgo5pWw57uEKSxcbiAgICAgICAgICAgIOmUruWAvOWvueeahOagvOW8j+WmgjpyZXNvdXJjZV9pZDphX2tqamFrMzQ1LHJlc291cmNlX3R5cGU6MSk7XG4gICAgICAgICAgICAzLXBhY2thZ2VfaWQo5b2TY2hhbm5lbF90eXBlPTLjgIEz5pe2LOacieWAvCk7XG4gICAgICAgICAgICA0LXBpZWNlX3ByaWNlKOS9hmNoYW5uZWxfdHlwZT0x5pe25pyJ5YC8KSovXG4gICAgICAgICAgICAkLmFqYXgoJy9zdWJtaXRfY2hvaWNlX3Jlc291cmNlJywge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDIsXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX2xpc3Q6IHJlc0xpc3QsXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQ6IHNlbGYuaWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v6YCJ5oup5oiQ5Yqf77yM5Li75Yqo5YWz6Zet6YCJ5oup5by556qXXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2VsZWN0V2luZG93ICNzZWxjdENsb3NlJykuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/liLfmlrDpobXpnaJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICB9LFxuICAgIHNldFNpbmdsZVNhbGU6IGZ1bmN0aW9uKHJlc1R5cGUsIHJlc1RpdGxlLCBpc1RyeSwgc2hvd1RpbWUsIHJlc0ltZ1VybCwgcmVzSWQpIHtcbiAgICAgICAgLy9cdOiuvue9ruWNleWNllxuICAgICAgICAvL1x0MeOAgeWIpOaWreWNleWTgeaYr+WQpuS4uuivleWQrC8g6K+V55yLIC0tPlxuICAgICAgICAvLyAgMuOAgeiLpeS4uuivleWQrO+8miDlvLnnqpcg5o+Q56S6XG4gICAgICAgIC8vICAz44CB6Iul5LiN5Li66K+V5ZCs77yaIOW8ueeqlyDorr7nva7ljZXlk4HllK7ku7dcblxuICAgICAgICBpZiAoaXNUcnkgPT0gMSkgeyAvL+aYr1xuICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gMikge1xuICAgICAgICAgICAgICAgICQuYWxlcnQoXCLor6XljZXlk4Hlt7Lorr7kuLror5XlkKzvvIzlj5bmtojor5XlkKzlkI7mlrnlj6/orr7kuLrljZXljZZcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNUeXBlID09IDEgfHwgcmVzVHlwZSA9PSAzIHx8IHJlc1R5cGUgPT0gNCkge1xuICAgICAgICAgICAgICAgICQuYWxlcnQoXCLor6XljZXlk4Hlt7Lorr7kuLror5XnnIvvvIzlj5bmtojor5XnnIvlkI7mlrnlj6/orr7kuLrljZXljZZcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmluaXRTZXRTaW5nbGVTYWxlV2luZG93KHJlc0ltZ1VybCwgcmVzVGl0bGUsIHJlc1R5cGUsIHNob3dUaW1lLCByZXNJZCk7XG4gICAgICAgICAgICAkKFwiLnNldF9wcmljZV93aW5kb3dcIikuZmFkZUluKDMwMCk7XG4gICAgICAgIH1cblxuICAgIH0sXG4gICAgY2FuY2VsU2luZ2xlU2FsZTogZnVuY3Rpb24ocmVzVHlwZSwgcmVzSWQsIHBheW1lbnRUeXBlKSB7XG4gICAgICAgIC8vIFx05Y+W5raI5Y2V5Y2WXG4gICAgICAgIC8vXHQx44CB5by556qX5o+Q56S6XG4gICAgICAgIGlmIChwYXltZW50VHlwZSA9PSAxKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IFwi5Y+W5raI5Y2V5Y2W5ZCO77yM5pyq5byA6YCa5LiT5qCP55qE55So5oi35bCG5LiN5Y+v5Y2V54us5p+l55yL6K+l5Y2V5ZOBIVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHBheW1lbnRUeXBlID09IDIpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gXCLlj5bmtojljZXljZblkI7vvIzmnKrlvIDpgJrkuJPmoI/nmoTnlKjmiLflsIbkuI3lj6/ljZXni6zku5jotLnotK3kubDor6XljZXlk4EhXCI7XG4gICAgICAgIH1cbiAgICAgICAgJC5hbGVydCh0ZXh0LCBcImluZm9cIiwge1xuICAgICAgICAgICAgb25PazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0ge307XG4gICAgICAgICAgICAgICAgYXJyW1wicmVzb3VyY2VfaWRcIl0gPSByZXNJZDtcbiAgICAgICAgICAgICAgICBhcnJbXCJyZXNvdXJjZV90eXBlXCJdID0gcmVzVHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2VMaXN0QXJyID0gW2Fycl07XG5cbiAgICAgICAgICAgICAgICAkLmFqYXgoXCIvc3VibWl0X2Nob2ljZV9yZXNvdXJjZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoYW5uZWxfdHlwZVwiOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXNvdXJjZV9saXN0XCI6IHJlc291cmNlTGlzdEFycixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3VibWl0X3R5cGVcIjogMVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlj5bmtojljZXljZbmiJDlip/vvIFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmnI3liqHlmajlvIDlsI/lt67llabvvIzor7fnqI3lkI7lho3mkJzntKLvvIFcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy9cdDLjgIHnoa7lrprlj5bmtohcblxuXG4gICAgfSxcbiAgICAvL1x05Yid5aeL5YyW6K6+572u5LiT5qCP5aSW5Y2V5Y2WXG4gICAgaW5pdFNldFNpbmdsZVNhbGVXaW5kb3c6IGZ1bmN0aW9uKHJlc0ltZ1VybCwgcmVzVGl0bGUsIHJlc1R5cGUsIHNob3dUaW1lLCByZXNJZCkge1xuXG4gICAgICAgIC8vICDnu5norr7nva7ku7fmoLzloavlhYXmlbDmja5cbiAgICAgICAgJChcIi5yZXNvdXJjZV9pY29uXzNcIikuYXR0cihcInNyY1wiLCByZXNJbWdVcmwpO1xuICAgICAgICAkKFwiLnJlc291cmNlX3RpdGxlXCIpLmh0bWwocmVzVGl0bGUpO1xuICAgICAgICBzd2l0Y2ggKHJlc1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAkKFwiLnJlc291cmNlX3R5cGVfM1wiKS5odG1sKFwi5Zu+5paHXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICQoXCIucmVzb3VyY2VfdHlwZV8zXCIpLmh0bWwoXCLpn7PpopFcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgJChcIi5yZXNvdXJjZV90eXBlXzNcIikuaHRtbChcIuinhumikVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAkKFwiLnJlc291cmNlX3R5cGVfM1wiKS5odG1sKFwi55u05pKtXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAkKFwiLnJlc291cmNlX3RpbWVfM1wiKS5odG1sKHNob3dUaW1lKTtcblxuICAgICAgICAvLyAkKFwiaW5wdXRbbmFtZT0nc2V0X3NhbGVfcHJpY2UnXVt2YWx1ZT0nMSddXCIpLmF0dHIoXCJjaGVja2VkXCIsIFwiY2hlY2tlZFwiKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gLy8gXHTorr7nva7ljZXlk4HllK7ku7fnu5Hlrprkuovku7ZcbiAgICAgICAgLy8gJChcImlucHV0W25hbWU9J3NldF9zYWxlX3ByaWNlJ11cIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAgICAgdmFyIHNhbGVUeXBlID0gJChcImlucHV0W25hbWU9J3NldF9zYWxlX3ByaWNlJ106Y2hlY2tlZFwiKS52YWwoKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIGlmIChzYWxlVHlwZSA9PSAxKSB7XHQvL1x05LuY6LS5XG4gICAgICAgIC8vICAgICAgICAgJChcIi5pbnB1dF9zZXR0aW5nX3ByaWNlXCIpLnJlbW92ZUF0dHIoXCJyZWFkb25seVwiKTtcbiAgICAgICAgLy8gICAgICAgICAkKFwiLmlucHV0X3NldHRpbmdfcHJpY2VcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgICAgICAvLyAgICAgfSBlbHNlIGlmIChzYWxlVHlwZSA9PSAwKSB7XHRcdC8vIOWFjei0uVxuICAgICAgICAvLyAgICAgICAgICQoXCIuaW5wdXRfc2V0dGluZ19wcmljZVwiKS5hdHRyKFwicmVhZG9ubHlcIiwgXCJyZWFkb25seVwiKTtcbiAgICAgICAgLy8gICAgICAgICAkKFwiLmlucHV0X3NldHRpbmdfcHJpY2VcIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgIC8vIFx05Y+W5raIXG4gICAgICAgICQoXCIuY2xvc2VfaWNvbl93cmFwcGVyXzIsIC5jYW5jZWxfc2V0X3ByaWNlXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJChcIi5zZXRfcHJpY2Vfd2luZG93XCIpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vXHTnoa7lrppcbiAgICAgICAgJChcIi5jb25maXJtX3ByaWNlX2J0blwiKS5jbGljayhmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyIHByaWNlID0gJC50cmltKCQoXCIuaW5wdXRfc2V0dGluZ19wcmljZVwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIHZhciByZWcgPSAvXihbMS05XVtcXGRdKnwwKShbLy5dW1xcZF17MSwyfSk/JC87XG4gICAgICAgICAgICBpZiAoIXJlZy50ZXN0KHByaWNlKSkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5Lu35qC86L6T5YWl5pyJ6K+vJyk7XG4gICAgICAgICAgICAgICAgJCgnLmlucHV0X3NldHRpbmdfcHJpY2UnKS52YWwoXCJcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByaWNlIDw9IDApIHtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLku7fmoLzkuI3og73kuLowIOaIliDotJ/mlbAhXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmljZSA+IGJhc2VVdGlscy5tYXhJbnB1dFByaWNlKSB7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Lu35qC85LiN6IO95aSn5LqOIFwiICsgYmFzZVV0aWxzLm1heElucHV0UHJpY2UgKyBcIiDlhYNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHZhciBhcnIgPSB7fTtcbiAgICAgICAgICAgIGFycltcInJlc291cmNlX2lkXCJdID0gcmVzSWQ7XG4gICAgICAgICAgICBhcnJbXCJyZXNvdXJjZV90eXBlXCJdID0gcmVzVHlwZTtcbiAgICAgICAgICAgIHZhciByZXNvdXJjZUxpc3RBcnIgPSBbYXJyXTtcblxuICAgICAgICAgICAgJC5hamF4KFwiL3N1Ym1pdF9jaG9pY2VfcmVzb3VyY2VcIiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJjaGFubmVsX3R5cGVcIjogMSxcbiAgICAgICAgICAgICAgICAgICAgXCJyZXNvdXJjZV9saXN0XCI6IHJlc291cmNlTGlzdEFycixcbiAgICAgICAgICAgICAgICAgICAgXCJwaWVjZV9wcmljZVwiOiBwcmljZSAqIDEwMCwgLy8g5Y2V5L2N77yaIOWIhlxuICAgICAgICAgICAgICAgICAgICBcInN1Ym1pdF90eXBlXCI6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5zZXRfcHJpY2Vfd2luZG93XCIpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLorr7kuLrljZXljZbmiJDlip9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5byA5bCP5beu5ZWm77yM6K+356iN5ZCO5YaN5pCc57Si77yBXCIpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgfSxcbiAgICBpbml0U2VhcmNoUGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gIDHjgIHlvIDlp4vmkJzntKIgLSDlhajpg6jljZXlk4FcbiAgICAgICAgJChcIi5zZWFyY2hBbGxCdG5cIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcGFja2FnZUlkID0gR2V0UXVlcnlTdHJpbmcoXCJpZFwiKTtcbiAgICAgICAgICAgIHZhciByZXNvdXJjZV90eXBlID0gJChcIi5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlXCIpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIHNlYXJjaF9jb250ZW50ID0gJC50cmltKCQoXCIuaW5wdXRTZWFyY2hBbGxcIikudmFsKCkpO1xuXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL3BhY2thZ2VfZGV0YWlsX3BhZ2U/aWQ9XCIgKyBwYWNrYWdlSWQgKyBcIiZzZWFyY2hfY29udGVudD1cIiArIHNlYXJjaF9jb250ZW50ICsgXCImcmVzb3VyY2VfdHlwZT1cIiArIHJlc291cmNlX3R5cGU7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gMuOAgei+k+WFpeWujOaIkOWQju+8jOWbnui9puW8gOWni+aQnOe0oiAtIOWFqOmDqOWNleWTgVxuICAgICAgICAkKFwiLmlucHV0U2VhcmNoQWxsXCIpLmZvY3VzaW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKGRvY3VtZW50KS5rZXlwcmVzcyhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNlYXJjaEFsbEJ0bicpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLmZvY3Vzb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKCdrZXlwcmVzcycpOyAvLyAg5riF6Zmk5LqL5Lu2XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICDnm5HlkKznrZvpgInmoYbpgInmi6nkuovku7ZcbiAgICAgICAgJChcIi5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlXCIpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcuc2VhcmNoQWxsQnRuJykuY2xpY2soKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gM+OAgeWbnuaYvuaQnOe0olxuICAgICAgICBpZiAoc2VsZi5zZWFyY2hSZXNvdXJjZU5hbWUgIT0gXCJcIikge1xuICAgICAgICAgICAgJChcIi5pbnB1dFNlYXJjaEFsbFwiKS52YWwoc2VsZi5zZWFyY2hSZXNvdXJjZU5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG51bSA9ICQoXCIuc2VsZWN0b3JfcmVzb3VyY2VfdHlwZVwiKS5jaGlsZHJlbihcIm9wdGlvblwiKS5sZW5ndGg7XG4gICAgICAgIGlmIChudW0gPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoJy5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlJykuY2hpbGRyZW4oXCJvcHRpb25cIikuZXEoaSkuYXR0cihcInZhbHVlXCIpID09IHNlbGYuc2VhcmNoUmVzb3VyY2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zZWxlY3Rvcl9yZXNvdXJjZV90eXBlJykuY2hpbGRyZW4oXCJvcHRpb25cIikuZXEoaSkuYXR0cihcInNlbGVjdGVkXCIsIFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGluaXRDb3B5OiBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJy4nICsgY2xhc3NOYW1lKTsgLy/liqDovb3lpI3liLbpk77mjqXmj5Lku7ZcbiAgICAgICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYoZS50cmlnZ2VyLmlkPT0nY29weV9hcHBfaHJlZicpe1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlpI3liLbmiJDlip/vvIFcIik7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5aSN5Yi25oiQ5Yqf77yB6K+35Zyo5b6u5L+h5YaF5omT5byA5ZOmIOOAglwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZS5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIG1haW50b29sOiBmdW5jdGlvbih0eXBlLCBpZCkgeyAvL+S4k+agj+W3peWFt+mbhlxuICAgICAgICBzZWxmLmJ0blN0YXRlID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnbmV3TGlzdFNob3cnOlxuICAgICAgICAgICAgICAgIHRoaXMubmV3TGlzdFNob3coaWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ25ld0xpc3RIaWRlJzpcbiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpc3RTaG93KGlkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N0b3B1cGRhdGUnOlxuICAgICAgICAgICAgICAgIHRoaXMucGFja2FnZVVwZGF0ZShpZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3RhcnR1cGRhdGUnOlxuICAgICAgICAgICAgICAgIHRoaXMucGFja2FnZVVwZGF0ZShpZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzb2xkb3V0JzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhY2thZ2Vpc1Nob3coaWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3B1dGF3YXknOlxuICAgICAgICAgICAgICAgIHRoaXMucGFja2FnZWlzU2hvdyhpZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdvcGVuRm9ybSc6XG4gICAgICAgICAgICAgICAgdGhpcy5wYWNrYWdlRm9ybShpZCwgZmFsc2UpOy8v5Lyg5YWl5b2T5YmN5YWz6Zet54q25oCB55qEZmFsc2XlgLxcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlRm9ybSc6XG4gICAgICAgICAgICAgICAgdGhpcy5wYWNrYWdlRm9ybShpZCwgdHJ1ZSk7Ly/kvKDlhaXlvZPliY3lvIDlkK/nirbmgIHnmoTnnJ/lgLxcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NldmlzaWJsZSc6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlU3dpdGNoKGlkLDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnb3BlbnZpc2libGUnOlxuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZVN3aXRjaChpZCwxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5Y+C5pWw6ZSZ6K+vJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5ld0xpc3RTaG93OiBmdW5jdGlvbihpZCwgc2hvd1R5cGUpIHtcbiAgICAgICAgdmFyIGg1X25ld2VzdF9oaWRlID0gc2hvd1R5cGUgPyAxIDogMDtcbiAgICAgICAgY29uc29sZS5sb2coaDVfbmV3ZXN0X2hpZGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhpZCk7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheCgnL3NldF9oNV9uZXdlc3RfaGlkZScsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgLy/lj4LmlbA6MS1wYWNrYWdlX2lkOzItaDVfbmV3ZXN0X2hpZGUoMC3mnIDmlrDliJfooajkuK3mmL7npLosMS3mnIDmlrDliJfooajkuK3kuI3mmL7npLpcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgLy8w77yMIDHkuItcbiAgICAgICAgICAgICAgICBoNV9uZXdlc3RfaGlkZTogc2hvd1R5cGUgPyAxIDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcGFja2FnZVVwZGF0ZTogZnVuY3Rpb24oaWQsIHN0YXRlVHlwZSkge1xuICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAkLmFqYXgoJy9zYXZlX3BhY2thZ2VfZmluaXNoZWRfc3RhdGUnLCB7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIC8v5Y+C5pWwOjEtcGFja2FnZV9pZDsyLWZpbmlzaGVkX3N0YXRlKDAt5pyq5a6M57uTLDEt5bey5a6M57uTXG4gICAgICAgICAgICAgICAgcGFja2FnZV9pZDogaWQsXG4gICAgICAgICAgICAgICAgLy8w5LiK56e777yMIDHkuIvnp7tcbiAgICAgICAgICAgICAgICBmaW5pc2hlZF9zdGF0ZTogc3RhdGVUeXBlID8gMCA6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5idG5TdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHBhY2thZ2VGb3JtOiBmdW5jdGlvbihpZCxmb3JtVHlwZSl7XG4gICAgICAgIC8vIGlkOuS4k+agj+aYr+WQpuimgeiuvue9ruaUr+S7mOaXtuWhq+WGmeS/oeaBr+eahOS4k+agj2lk77yMZm9ybVR5cGUg77yadHJ1ZS3lhYHorrggZmFsc2Ut56aB5q2iXG4gICAgICAgIHZhciB2ZXJzaW9uPSQoXCIudXNlcl92ZXJzaW9uX251bVwiKS5kYXRhKFwidmVyc2lvbl90eXBlXCIpO1xuICAgICAgICBpZih2ZXJzaW9uICYmIHZlcnNpb249PTMpIHtcbiAgICAgICAgICAgICQuYWxlcnQoZm9ybVR5cGUgPyBcIuWFs+mXrei1hOaWmeWhq+WGmeWQju+8jOeUqOaIt+WcqOS7mOi0uei0reS5sOacrOS4k+agj+WJjeWwhuS4jeWGjeWhq+WGmeS4quS6uuS/oeaBr++8jOaCqOehruiupOimgeWFs+mXreS5iO+8n1wiIDpcbiAgICAgICAgICAgICAgICBcIuW8gOWQr+i1hOaWmeWhq+WGmeWQju+8jOeUqOaIt+WcqOS7mOi0uei0reS5sOacrOS4k+agj+WJjeWwhuWhq+WGmeS4quS6uuS/oeaBr++8jOaCqOehruiupOimgeW8gOWQr+S5iO+8n1wiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgIGljb246IFwiYmx1ZVwiLFxuICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KCcvc2V0X2lzX2NvbXBsZXRlX2luZm8nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19jb21wbGV0ZV9pbmZvOiBmb3JtVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLlvZPliY3niYjmnKzkuI3mlK/mjIHlvIDlkK/otYTmlpnloavlhpnvvIzlpoLpnIDlvIDlkK/or7fljYfnuqfoh7PkuJPkuJrniYhcIik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHZpc2libGVTd2l0Y2g6IGZ1bmN0aW9uKGlkLHZpc2libGVfb24pe1xuICAgICAgICAvLyBpZDrkuJPmoI/mmK/lkKbopoHorr7nva7mlK/ku5jml7bloavlhpnkv6Hmga/nmoTkuJPmoI9pZCzliJfooajmmL7npLrlvIDlhbPnirbmgIEwLeWFs+mXre+8jDEt5byA5ZCvXG4gICAgICAgIHZhciB2ZXJzaW9uPSQoXCIudXNlcl92ZXJzaW9uX251bVwiKS5kYXRhKFwidmVyc2lvbl90eXBlXCIpO1xuICAgICAgICBpZih2ZXJzaW9uJiZ2ZXJzaW9uPT0zKSB7XG4gICAgICAgICAgICAkLmFsZXJ0KHZpc2libGVfb24gPyBcIuW8gOWQr+WGheWuueWxleekuuWQju+8jOacqui0reS5sOS4k+agj+eahOeUqOaIt+i/m+WOu+S4k+agj+WQjuWwhuWPr+ingeWGheWuueWIl+ihqO+8jOaCqOehruiupOimgeW8gOWQr+S5iO+8n1wiIDpcbiAgICAgICAgICAgICAgICBcIuWFs+mXreWGheWuueWxleekuuWQju+8jOacqui0reS5sOS4k+agj+eahOeUqOaIt+i/m+WOu+S4k+agj+WQjuWwhuaXoOazleafpeeci+WGheWuueWIl+ihqO+8jOaCqOehruiupOimgeWFs+mXreS5iO+8n1wiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgIGljb246IFwiYmx1ZVwiLFxuICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KCcvdmlzaWJsZV9vbl9zd2l0Y2gnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlX29uOnZpc2libGVfb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5b2T5YmN54mI5pys5LiN5pSv5oyB5byA5ZCv6LWE5paZ5aGr5YaZ77yM5aaC6ZyA5byA5ZCv6K+35Y2H57qn6Iez5LiT5Lia54mIXCIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBwYWNrYWdlaXNTaG93OiBmdW5jdGlvbihpZCwgY2hhbmdlVHlwZSkgeyAvL+S4k+agj+S4iuS4i+aetlxuICAgICAgICAvKmlkOiDopoHkuIrkuIvmnrbnmoTkuJPmoI9pZO+8jCBjaGFuZ2VUeXBl77yaIHRydWUt5LiK5p6277yMIGZhbHNlLeS4i+aetiovXG5cbiAgICAgICAgJC5hbGVydChjaGFuZ2VUeXBlID8gXCLkuIrmnrblkI7or6XkuJPmoI/lsIblr7nlpJbmmL7npLpcIiA6IFwi5LiL5p625ZCO6K+l5LiT5qCP5bCG5LiN5a+55aSW5pi+56S6XCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICBvbk9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAgICAgICAgICQuYWpheCgnL2NoYW5nZV9nb29kc19zdGF0ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgMS1nb29kc19pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIDItZ29vZHNfdHlwZSgwLeS4k+agjywxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAzLW9wZXJhdGVfdHlwZSgwLeS4iuaetiwxLeS4i+aetilcbiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBnb29kc19pZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBnb29kc190eXBlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0ZV90eXBlOiBjaGFuZ2VUeXBlID8gMCA6IDEsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSxcbiAgICBzaW5nbGVUb29sOiBmdW5jdGlvbih0eXBlLCBwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCByZXNUaXRsZSwgaXNUcnksIHNob3dUaW1lLCByZXNJbWdVcmwsIHBheW1lbnRUeXBlKSB7IC8v5Y2V5ZOB5bel5YW36ZuGXG4gICAgICAgIHNlbGYuYnRuU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICd0b3RvcCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUb3AocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjYW5jZWx0b3AnOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VG9wKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnYWxpdmVHdWVzdFNldCc6XG4gICAgICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAkaW52aXRlR3Vlc3Qub3Blbkd1ZXN0U2V0dGluZ1dpbmRvdyhyZXNpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdzaG93Q29tbWVudCc6XG4gICAgICAgICAgICAgICAgaWYgKHJlc1R5cGUgPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50RGV0YWlsKFwiL2FsaXZlY29tbWVudD9hbGl2ZV9pZD1cIiArIHJlc2lkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50RGV0YWlsKFwiL2NvbW1lbnRfYWRtaW4/dHlwZT1cIiArIChyZXNUeXBlIC0gMSkgKyBcIiZyZWNvcmRfaWQ9XCIgKyByZXNpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2V0VHJ5JzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRyeShwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCBwYXltZW50VHlwZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjYW5jZWxUcnknOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJ5KHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHBheW1lbnRUeXBlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZXRfc2luZ2xlX3NhbGUnOlxuICAgICAgICAgICAgICAgIC8vXHTorr7nva7ljZXljZZcbiAgICAgICAgICAgICAgICAvL1x0MeOAgeWIpOaWreWNleWTgeaYr+WQpuS4uuivleWQrC8g6K+V55yLIC0tPlxuICAgICAgICAgICAgICAgIC8vICAy44CB6Iul5Li66K+V5ZCs77yaIOW8ueeqlyDmj5DnpLpcbiAgICAgICAgICAgICAgICAvLyAgM+OAgeiLpeS4jeS4uuivleWQrO+8miDlvLnnqpcg6K6+572u5Y2V5ZOB5ZSu5Lu3XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTaW5nbGVTYWxlKHJlc1R5cGUsIHJlc1RpdGxlLCBpc1RyeSwgc2hvd1RpbWUsIHJlc0ltZ1VybCwgcmVzaWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2FuY2VsX3NpbmdsZV9zYWxlJzpcbiAgICAgICAgICAgICAgICAvLyBcdOWPlua2iOWNleWNllxuICAgICAgICAgICAgICAgIC8vXHQx44CB5by556qX5o+Q56S6XG4gICAgICAgICAgICAgICAgLy9cdDLjgIHnoa7lrprlj5bmtohcbiAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFNpbmdsZVNhbGUocmVzVHlwZSwgcmVzaWQsIHBheW1lbnRUeXBlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NvbGRvdXQnOlxuICAgICAgICAgICAgICAgIHRoaXMuc2luZ2xlaXNTaG93KHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncHV0YXdheSc6XG4gICAgICAgICAgICAgICAgdGhpcy5zaW5nbGVpc1Nob3cocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGVsJzpcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5U2luZ2xlKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZW5hYmxlX2NvcHknOi8v5YWB6K645aSN5Yi2XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VDYW5TZWxlY3RTdGF0ZShyZXNpZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmb3JiaWRfY29weSc6Ly/npoHmraLlpI3liLZcbiAgICAgICAgICAgICAgICB2YXIgJGVsZSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgJC5hbGVydChcIuemgeatouWkjeWItuWQju+8jOivpeevh+WbvuaWh+eahOWbvueJh+eCueWHu+aUvuWkp+WSjOmVv+aMieivhuWIq+S6jOe7tOeggeWKn+iDveWwhuiiq+emgeeUqFwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICBidG46IDMsXG4gICAgICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbGUuY2hhbmdlQ2FuU2VsZWN0U3RhdGUocmVzaWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZXhwb3J0X2F1ZGlvJzovL+WvvOWHuumfs+mikVxuICAgICAgICAgICAgICAgIHRoaXMuZXhwb3J0QXVkaW8ocmVzaWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29weV9hcHBfaHJlZic6IC8v5aSN5Yi25bCP56iL5bqP6ZO+5o6lXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5Y+C5pWw6ZSZ6K+vJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGV4cG9ydEF1ZGlvOiBmdW5jdGlvbiAoYWxpdmVJZCkge1xuXG4gICAgICAgICQuYWpheChcIi9hc3luY19kb3dubG9hZF9hbGl2ZV92b2ljZVwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBhbGl2ZV9pZDogYWxpdmVJZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlc3VsdC5jb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzdWx0LmRhdGFbJ3VybCddOyAgICAgIC8v55u05o6l5byA5aeL5LiL6L296Z+z6aKR5paH5Lu2XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuivremfs+ato+WcqOWQiOaIkOS4re+8jOagueaNruaCqOebtOaSremXtOWGheeahOmfs+mikeaVsOmHj+mcgOimgTEw5YiG6ZKf5YiwNOS4quWwj+aXtuS4jeetie+8jOivt+eojeWAmeiuv+mXruOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLlvIDlp4vov5vooYzor63pn7PlkIjmiJDvvIzmoLnmja7mgqjnm7Tmkq3pl7TlhoXnmoTpn7PpopHmlbDph4/pnIDopoExMOWIhumSn+WIsDTkuKrlsI/ml7bkuI3nrYnvvIzor7fnqI3lgJnorr/pl67jgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi5pyN5Yqh5Zmo5q2j5Zyo57u05oqk77yM55u05pKt6Z+z6aKR5a+85Ye65Yqf6IO95Y+X5Yiw5b2x5ZON77yM6K+356iN5ZCO5YaN6K+V44CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIuivpeebtOaSreayoeaciemfs+mikeOAglwiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWxlcnQoXCLov5nkuKrnm7Tmkq3kuI3mmK/or63pn7PnsbvlnovnmoTvvIzkuI3mlK/mjIHpn7PpopHlr7zlh7rjgIJcIiwgXCJpbmZvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG46IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6L+Z5Liq55u05pKt6L+Y5rKh57uT5p2f77yM5pqC5LiN5pSv5oyB6Z+z6aKR5a+85Ye644CCXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+C5pWw6ZSZ6K+vXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKHJlc3VsdC5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5tc2cpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5pyN5Yqh5Zmo5Ye65bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgY2hhbmdlQ2FuU2VsZWN0U3RhdGU6IGZ1bmN0aW9uIChyZXNJZCwgY2FuU2VsZWN0KSB7XG5cbiAgICAgICAgJC5hamF4KFwiL3NldF9yZXNvdXJjZV9zZWxlY3RfY2FuXCIsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkOiByZXNJZCxcbiAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlOiAxLFxuICAgICAgICAgICAgICAgIGNhbl9zZWxlY3Q6IGNhblNlbGVjdCA/IDEgOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5bey57uP5YWB6K645aSN5Yi2XCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuW3sue7j+emgeatouWkjeWItlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi572R57uc6ZSZ6K+v77yM6K+356iN5ZCO5YaN6K+V77yBXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgc2V0VG9wOiBmdW5jdGlvbihwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCB0b3ApIHsgLy/nva7pobbmk43kvZxcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgLyoxLXBhY2thZ2VfaWQ7XG4gICAgICAgIDItcmVzb3VyY2VfdHlwZSgwLeS4k+agjywxLeWbvuaWhywyLemfs+mikSwzLeinhumikSw0LeebtOaSrSk7XG4gICAgICAgIDMtcmVzb3VyY2VfaWQ7XG4gICAgICAgIDQtdG9wX3N0YXRlKDAt5Y+W5raI572u6aG2LDEt6K6+572u572u6aG2KSovXG4gICAgICAgICQuYWpheCgnL3NldF9wYWNrYWdlX3Jlc291cmNlX3RvcCcsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcGFja2FnZV9pZDogcGFja2FnZWlkLFxuICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGU6IHJlc1R5cGUsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfaWQ6IHJlc2lkLFxuICAgICAgICAgICAgICAgIHRvcF9zdGF0ZTogdG9wID8gMSA6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2V0VHJ5OiBmdW5jdGlvbihwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCBwYXltZW50VHlwZSwgdHJ5U3RhdGUpIHsgLy/or5XlkKxcblxuICAgICAgICAvLyBpZiAocmVzVHlwZSA9PSA0KSB7XG4gICAgICAgIC8vICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmmoLkuI3mlK/mjIHlsIbnm7Tmkq3orr7kuLror5XnnIshXCIpO1xuICAgICAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyB9XG4gICAgICAgIGlmIChwYXltZW50VHlwZSA9PSAxIHx8IHBheW1lbnRUeXBlID09IDIpIHtcbiAgICAgICAgICAgIGlmIChyZXNUeXBlID09IDIpIHtcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+l5Y2V5ZOB5bey6K6+5Li65Y2V5Y2W77yM5Y+W5raI5Y2V5Y2W5ZCO5pa55Y+v6K6+5Li66K+V5ZCsXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzVHlwZSA9PSAxIHx8IHJlc1R5cGUgPT0gMyB8fCByZXNUeXBlID09IDQpIHtcbiAgICAgICAgICAgICAgICAkLmFsZXJ0KFwi6K+l5Y2V5ZOB5bey6K6+5Li65Y2V5Y2W77yM5Y+W5raI5Y2V5Y2W5ZCO5pa55Y+v6K6+5Li66K+V55yLXCIsIFwiaW5mb1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bjogMixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheCgnL3NldF9wYWNrYWdlX3Jlc291cmNlX3RyeScsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgIDEtcGFja2FnZV9pZDtcbiAgICAgICAgICAgIDItcmVzb3VyY2VfdHlwZSgyLemfs+mikSk7XG4gICAgICAgICAgICAzLXJlc291cmNlX2lkO1xuICAgICAgICAgICAgNC10cnlfc3RhdGUoMC3lj5bmtojor5XlkKwsMS3orr7kuLror5XlkKwpKi9cbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBwYWNrYWdlaWQsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogcmVzVHlwZSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZV9pZDogcmVzaWQsXG4gICAgICAgICAgICAgICAgdHJ5X3N0YXRlOiB0cnlTdGF0ZSA/IDEgOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoJ+aTjeS9nOWksei0pe+8jOivt+eojeWQjuWGjeivlScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0sXG4gICAgc2luZ2xlaXNTaG93OiBmdW5jdGlvbihwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkLCBzaG93U3RhdGUpIHsgLy/ljZXlk4HkuIrkuIvmnrZcbiAgICAgICAgLypzaG93U3RhdGU6IHRydWUt5LiL5p62ICBmYWxzZS3kuIrmnrYqL1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICB0ZXh0ID0gc2hvd1N0YXRlID8gJ+S4i+aetuWQjuivpeWNleWTgeWwhuS4jeWvueWkluaYvuekuicgOiAn5LiK5p625ZCO6K+l5Y2V5ZOB5bCG5a+55aSW5pi+56S6JztcbiAgICAgICAgJC5hbGVydCh0ZXh0LCAnaW5mbycsIHtcbiAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgJC5hamF4KCcvY2hhbmdlX2dvb2RzX3N0YXRlJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAxLWdvb2RzX2lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgMi1nb29kc190eXBlKDAt5LiT5qCPLDEt5Zu+5paHLDIt6Z+z6aKRLDMt6KeG6aKRLDQt55u05pKtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIDMtb3BlcmF0ZV90eXBlKDAt5LiK5p62LDEt5LiL5p62KVxuICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGdvb2RzX2lkOiByZXNpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvb2RzX3R5cGU6IHJlc1R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRlX3R5cGU6IHNob3dTdGF0ZSA/IDEgOiAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChkYXRhLm1zZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJ0blN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKnNlbGYudG9vbEJveEJ0biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50b0RldGFpbCA9IHRydWU7Ki9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLypzZWxmLnRvb2xCb3hCdG4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50b0RldGFpbCA9IHRydWU7Ki9cbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBxdWVyeVNpbmdsZTogZnVuY3Rpb24ocGFja2FnZWlkLCByZXNUeXBlLCByZXNpZCkge1xuICAgICAgICAvKnNob3dTdGF0ZTogdHJ1ZS3kuIvmnrYgIGZhbHNlLeS4iuaetiovXG4gICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgIHRleHQgPSAnJztcbiAgICAgICAgJC5hamF4KCcvcXVlcnlfZ29vZHNfc3RhdGUnLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgLyrlj4LmlbA6XG4gICAgICAgICAgICAgICAgMS1nb29kc19pZDtcbiAgICAgICAgICAgICAgICAyLWdvb2RzX3R5cGUoMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgICAgIDMtY2hhbm5lbF90eXBlKDAt5Y2V5ZOBLDEt5LiT5qCP5YaF6LWE5rqQKTtcbiAgICAgICAgICAgICAgICA0LXBhY2thZ2VfaWQo5b2TY2hhbm5lbF90eXBlPTHml7bmnInlgLwpKi9cbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2RzX2lkOiByZXNpZCxcbiAgICAgICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogcmVzVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbF90eXBlOiAxLFxuICAgICAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBwYWNrYWdlaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVjb3Jkc0xpc3QgPSByZXN1bHQuZGF0YS5yZWNvcmRzX2xpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJMZW5ndGggPSBPYmplY3Qua2V5cyhyZWNvcmRzTGlzdCkubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5pc19leGlzdCA9PSAwKSB7ICAgICAgICAgICAgLy8gIOWPquWxnuS6juafkOS4quS4k+agj+eahOWNleWTgVxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9ICfnoa7orqTnp7vpmaTor6XlhoXlrrnvvIznp7vpmaTlkI7miYDmnInnlKjmiLflsIbml6Dms5Xmn6XnnIvmraTlhoXlrrnkuJQ8c3BhIHN0eWxlPVwiY29sb3I6IHJlZDtcIj7kuI3lj6/mgaLlpI08L3NwYT4nO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZHNMaXN0WzBdID09IHVuZGVmaW5lZCkgeyAgICAgIC8vICDlj6rlsZ7kuo7lpJrkuKrkuJPmoI/nmoTljZXlk4FcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlY29yZHNMaXN0LCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gXCLjgIpcIiArIHZhbHVlLnRpdGxlICsgXCLjgItcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCLnoa7orqTnp7vpmaTor6XlhoXlrrnvvIznp7vpmaTlkI7or6XkuJPmoI/nlKjmiLflsIbml6Dms5Xmn6XnnIvmraTlhoXlrrnjgILmraTlhoXlrrnku43lrZjlnKjkuo5cIiArIHRleHQgKyBcIuS4rVwiO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyckxlbmd0aCA9PSAxKSB7ICAgICAgICAgICAgICAgICAgIC8vICDljZXlk4HljZXljZbkuJTlsZ7kuo7kuIDkuKrkuJPmoI9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCLnoa7orqTnp7vpmaTor6XlhoXlrrnvvIznp7vpmaTlkI7or6XkuJPmoI/nlKjmiLflsIbml6Dms5Xmn6XnnIvmraTlhoXlrrnjgILmraTlhoXlrrnku43lnKjljZXlk4HliJfooajkuJTljZXni6zllK7ljZZcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICDljZXlk4HljZXljZbkuJTlsZ7kuo7lpJrkuKrkuJPmoI9cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChyZWNvcmRzTGlzdCwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IFwi44CKXCIgKyB2YWx1ZS50aXRsZSArIFwi44CLXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBcIuehruiupOenu+mZpOivpeWGheWuue+8jOenu+mZpOWQjuivpeS4k+agj+eUqOaIt+WwhuaXoOazleafpeeci+atpOWGheWuueOAguatpOWGheWuueWNleeLrOWUruWNluS4lOS7jeWtmOWcqOS6jlwiICsgdGV4dCArIFwi5LitXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAocmVzdWx0Lm1zZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5hbGVydCh0ZXh0LCAnaW5mbycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9rdGV4dDogJ+ehruiupOenu+mZpCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRlbGV0ZVNpbmdsZShwYWNrYWdlaWQsIHJlc1R5cGUsIHJlc2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfSxcbiAgICBkZWxldGVTaW5nbGU6IGZ1bmN0aW9uKHBhY2thZ2VpZCwgcmVzVHlwZSwgcmVzaWQpIHtcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgJC5hamF4KCcvbW92ZV9nb29kcycsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgLyrlj4LmlbA6XG4gICAgICAgICAgICAgICAgMS1nb29kc19pZDtcbiAgICAgICAgICAgICAgICAyLWdvb2RzX3R5cGUoMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgICAgIDMtY2hhbm5lbF90eXBlKDAt5Y2V5ZOBLDEt5LiT5qCP5YaF6LWE5rqQKTtcbiAgICAgICAgICAgICAgICA0LXBhY2thZ2VfaWQo5b2TY2hhbm5lbF90eXBlPTHml7bmnInlgLwpXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBnb29kc19pZDogcmVzaWQsXG4gICAgICAgICAgICAgICAgZ29vZHNfdHlwZTogcmVzVHlwZSxcbiAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDEsXG4gICAgICAgICAgICAgICAgcGFja2FnZV9pZDogcGFja2FnZWlkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKGRhdGEubXNnKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIHNlbGYuYnRuU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBnZXRTZWxlY3REYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAkLmFqYXgoJy9jaG9pY2VfcmVzb3VyY2VfbGlzdCcsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAvKuWPguaVsDpcbiAgICAgICAgICAgIDEtY2hhbm5lbF90eXBlKDEt5Y2V5ZOBLDIt5LiT5qCPLDMt5Lya5ZGYKVxuICAgICAgICAgICAgMi3mkJzntKLlhoXlrrktc2VhcmNoX2NvbnRlbnQ7XG4gICAgICAgICAgICAzLXJlc291cmNlX3R5cGUoMC3lhajpg6gsMS3lm77mlocsMi3pn7PpopEsMy3op4bpopEsNC3nm7Tmkq0pO1xuICAgICAgICAgICAgNC1wYWdlKOWIhumhtemhteeggSk7XG4gICAgICAgICAgICA1LXBhY2thZ2VfaWQo5b2TY2hhbm5lbF90eXBlPTLjgIEz5pe2LOacieWAvClcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc2VhcmNoX2NvbnRlbnQ6IHNlbGYuc2VhcmNoQ29udGVudCB8fCAnJyxcbiAgICAgICAgICAgICAgICBjaGFubmVsX3R5cGU6IDIsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZTogMCxcbiAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBzZWxmLmlkLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHNlbGYucGFnZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRzZWxlY3RBcmVhID0gJCgnI3NlbGVjdEFyZWFMaXN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RTdHIgPSAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VPYmogPSBKU09OLnBhcnNlKHJlc3VsdC5kYXRhLnBhZ2Vfb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlc3VsdC5kYXRhLnJlc291cmNlX2xpc3QsIGZ1bmN0aW9uKGksIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZV90eXBlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCt0aGlzLnJlc291cmNlX3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGUgPSAn5Zu+5paHJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlID0gJ+mfs+mikSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZSA9ICfop4bpopEnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3R5cGUgPSAn55u05pKtJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfdHlwZSA9ICfml6AnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U3RyICs9ICc8ZGl2IGNsYXNzPVwicmVzb3VyY2VJdGVtV3JhcHBlclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW5wdXQgdmFsdWU9XCInICsgdGhpcy5yZXNvdXJjZV90eXBlICsgJ1wiIGlkPVwiJyArIHRoaXMuaWQgKyAnXCIgY2xhc3M9XCJ3aXRoLWdhcCBzaW5nbGVSZXNvdXJjZVJhZGlvXCIgbmFtZT1cInNlbGVjdF9yZXNvdXJjZVwiIHR5cGU9XCJjaGVja2JveFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGFiZWwgZm9yPVwiJyArIHRoaXMuaWQgKyAnXCIgY2xhc3M9XCJyYWRpb19kZXNjXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZXNvdXJjZV9pY29uX3dyYXBwZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBjbGFzcz1cInJlc291cmNlX2ljb25cIiBzcmM9XCInICsgdGhpcy5pbWdfdXJsICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpdGxlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJyZXNvdXJjZV90eXBlXCI+JyArIHJlc291cmNlX3R5cGUgKyAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInJlc291cmNlX3RpbWVcIj4nICsgdGhpcy5zdGFydF9hdCArICc8L3NwYW4+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0U3RyLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RTdHIgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRlbnROb25lVGlwXCI+5pqC5peg5pWw5o2uPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5wYWdlID09IDEgfHwgIXNlbGYucGFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdEFyZWEuaHRtbChzZWxlY3RTdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdEFyZWEuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiaXNEb3duXCI+6LWE5rqQ5Yqg6L295LitPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhhc0Nsb3NlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/pppbmrKHliqDovb3vvIzmmL7npLpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5zZWFyY2hDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NlbGVjdFdpbmRvdycpLmZhZGVJbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYucGFnZSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3RBcmVhLmZpbmQoJy5pc0Rvd24nKS5iZWZvcmUoc2VsZWN0U3RyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFzQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8v5pWw5o2u5Yqg6L295a6M5q+V5ZCO55qE5pON5L2cXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYWdlT2JqLmN1cnJlbnRfcGFnZSA+PSBwYWdlT2JqLnRvdGFsX3BhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0QXJlYS5maW5kKCcuaXNEb3duJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oYXNEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2UrKztcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaLieWPluW3suacieWNleWTgeWksei0pe+8gVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfmk43kvZzlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iXX0=
