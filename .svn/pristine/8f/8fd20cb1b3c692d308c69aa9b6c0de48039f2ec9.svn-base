$(function(){shortLink()});function shortLink(){var s;var o=new Clipboard(".copyHref");o.on("success",function(s){baseUtils.show.blueTip("复制成功！请在微信内打开哦。");s.clearSelection()});$(".compress").on("click",function(){s=$(".shortInput").val();$.ajax({type:"POST",url:"/assist/st",data:{url:s},success:function(s){if(s.code==0){e(1,s.data.url);i(s.data.url);t();baseUtils.show.blueTip("压缩成功")}else if(s.code==-1){e(2);baseUtils.show.redTip(s.msg)}},error:function(s,o,e){console.log(s);console.error(e);console.error(o);baseUtils.show.redTip("网络错误，请稍后再试！")}})});function e(s,o){var e=$("<div>");if(s==1){e.html("<span class='success'>压缩成功</span><div class='shortContent'>生成的短链接：<span class='shortUrl'>"+o+"</span><a data-clipboard-text='"+o+"'class='clip copyHref'>复制链接</a></div><div class='shortContent'>链接二维码："+"<div class='frame'><div id='miniCode'></div></div><a class='clip downPic' download='qsCode.jpeg'>下载二维码</a></div>")}else{e.html("<span class='error'>压缩失败：您输入的原链接不是小鹅通链接</span>")}$(".displayVessel").html(e)}function i(s){var o=new QRCode(document.getElementById("miniCode"),{text:s,width:100,height:100,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.L})}function t(){setTimeout(function(){var s=$("#miniCode img").prop("src");$(".downPic").prop("href",s)})}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3J0TGluay5qcyJdLCJuYW1lcyI6WyIkIiwic2hvcnRMaW5rIiwiaW5wdXRVcmwiLCJjbGlwYm9hcmQiLCJDbGlwYm9hcmQiLCJvbiIsImUiLCJiYXNlVXRpbHMiLCJzaG93IiwiYmx1ZVRpcCIsImNsZWFyU2VsZWN0aW9uIiwidmFsIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsImNvZGUiLCJjcmVhdGVEb20iLCJRU2NyZWF0ZSIsImRvd25Mb2FkRXZlbnQiLCJyZWRUaXAiLCJtc2ciLCJlcnJvciIsInhociIsInN0YXR1cyIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJudW0iLCJzaG9ydFVybCIsInJvb3REaXYiLCJodG1sIiwicXJjb2RlIiwiUVJDb2RlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRleHQiLCJ3aWR0aCIsImhlaWdodCIsImNvbG9yRGFyayIsImNvbG9yTGlnaHQiLCJjb3JyZWN0TGV2ZWwiLCJDb3JyZWN0TGV2ZWwiLCJMIiwic2V0VGltZW91dCIsIlNyYyIsInByb3AiXSwibWFwcGluZ3MiOiJBQUlBQSxFQUFFLFdBQ0VDLGFBR0osU0FBU0EsYUFDTCxHQUFJQyxFQUVKLElBQUlDLEdBQVksR0FBSUMsV0FBVSxZQUM5QkQsR0FBVUUsR0FBRyxVQUFXLFNBQVNDLEdBQzdCQyxVQUFVQyxLQUFLQyxRQUFRLGlCQUN2QkgsR0FBRUksa0JBRU5WLEdBQUUsYUFBYUssR0FBRyxRQUFRLFdBR3RCSCxFQUFTRixFQUFFLGVBQWVXLEtBQzFCWCxHQUFFWSxNQUNFQyxLQUFLLE9BQ0xDLElBQUksYUFDSkMsTUFBTUQsSUFBSVosR0FDVmMsUUFBUSxTQUFTRCxHQUNiLEdBQUdBLEVBQUtFLE1BQU0sRUFBRSxDQUVaQyxFQUFVLEVBQUVILEVBQUtBLEtBQUtELElBQ3RCSyxHQUFTSixFQUFLQSxLQUFLRCxJQUNuQk0sSUFDQWIsV0FBVUMsS0FBS0MsUUFBUSxZQUNyQixJQUFHTSxFQUFLRSxPQUFPLEVBQUUsQ0FFbkJDLEVBQVUsRUFDVlgsV0FBVUMsS0FBS2EsT0FBT04sRUFBS08sT0FHbkNDLE1BQU8sU0FBU0MsRUFBS0MsRUFBUUMsR0FDekJDLFFBQVFDLElBQUlKLEVBQ1pHLFNBQVFKLE1BQU1HLEVBQ2RDLFNBQVFKLE1BQU1FLEVBQ2RsQixXQUFVQyxLQUFLYSxPQUFPLG1CQU1sQyxTQUFTSCxHQUFVVyxFQUFJQyxHQUNuQixHQUFJQyxHQUFRL0IsRUFBRSxRQUNkLElBQUc2QixHQUFLLEVBQUUsQ0FDTkUsRUFBUUMsS0FBSyw0RkFBNEZGLEVBQ3BHLGtDQUFrQ0EsRUFBUyx3RUFDM0Msd0hBQ0osQ0FDREMsRUFBUUMsS0FBSyxrREFFakJoQyxFQUFFLGtCQUFrQmdDLEtBQUtELEdBRzdCLFFBQVNaLEdBQVNMLEdBQ2QsR0FBSW1CLEdBQVMsR0FBSUMsUUFBT0MsU0FBU0MsZUFBZSxhQUM1Q0MsS0FBTXZCLEVBQ053QixNQUFPLElBQ1BDLE9BQVEsSUFDUkMsVUFBWSxVQUNaQyxXQUFhLFVBQ2JDLGFBQWVSLE9BQU9TLGFBQWFDLElBSzNDLFFBQVN4QixLQUNMeUIsV0FBVyxXQUNQLEdBQUlDLEdBQUk5QyxFQUFFLGlCQUFpQitDLEtBQUssTUFFaEMvQyxHQUFFLFlBQVkrQyxLQUFLLE9BQU9EIiwiZmlsZSI6InNob3J0TGluay5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEplcnZpc19jZW4gb24gMjAxNy82LzE0LlxyXG4gKi9cclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIHNob3J0TGluaygpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHNob3J0TGluaygpe1xyXG4gICAgdmFyIGlucHV0VXJsOy8v6L6T5YWl55qEdXJsXHJcbiAgICAvL+WIneWni+WMluWJqui0tOadv1xyXG4gICAgdmFyIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJy5jb3B5SHJlZicpO1xyXG4gICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLlpI3liLbmiJDlip/vvIHor7flnKjlvq7kv6HlhoXmiZPlvIDlk6bjgIJcIik7XHJcbiAgICAgICAgZS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgICAkKFwiLmNvbXByZXNzXCIpLm9uKCdjbGljaycsZnVuY3Rpb24oKXsvL+WOi+e8qeS4gOS4i1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjb21wcmVzcyB0ZXN0JylcclxuXHJcbiAgICAgICAgaW5wdXRVcmw9JChcIi5zaG9ydElucHV0XCIpLnZhbCgpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6J1BPU1QnLFxyXG4gICAgICAgICAgICB1cmw6Jy9hc3Npc3Qvc3QnLFxyXG4gICAgICAgICAgICBkYXRhOnt1cmw6aW5wdXRVcmx9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5jb2RlPT0wKXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLmRhdGEudXJsKVxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZURvbSgxLGRhdGEuZGF0YS51cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIFFTY3JlYXRlKGRhdGEuZGF0YS51cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvd25Mb2FkRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5Y6L57yp5oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoZGF0YS5jb2RlPT0tMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRG9tKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlRG9tKG51bSxzaG9ydFVybCl7XHJcbiAgICAgICAgdmFyIHJvb3REaXY9JChcIjxkaXY+XCIpO1xyXG4gICAgICAgIGlmKG51bT09MSl7XHJcbiAgICAgICAgICAgIHJvb3REaXYuaHRtbChcIjxzcGFuIGNsYXNzPSdzdWNjZXNzJz7ljovnvKnmiJDlip88L3NwYW4+PGRpdiBjbGFzcz0nc2hvcnRDb250ZW50Jz7nlJ/miJDnmoTnn63pk77mjqXvvJo8c3BhbiBjbGFzcz0nc2hvcnRVcmwnPlwiK3Nob3J0VXJsXHJcbiAgICAgICAgICAgICAgICArXCI8L3NwYW4+PGEgZGF0YS1jbGlwYm9hcmQtdGV4dD0nXCIrc2hvcnRVcmwrXCInY2xhc3M9J2NsaXAgY29weUhyZWYnPuWkjeWItumTvuaOpTwvYT48L2Rpdj48ZGl2IGNsYXNzPSdzaG9ydENvbnRlbnQnPumTvuaOpeS6jOe7tOegge+8mlwiXHJcbiAgICAgICAgICAgICAgICArXCI8ZGl2IGNsYXNzPSdmcmFtZSc+PGRpdiBpZD0nbWluaUNvZGUnPjwvZGl2PjwvZGl2PjxhIGNsYXNzPSdjbGlwIGRvd25QaWMnIGRvd25sb2FkPSdxc0NvZGUuanBlZyc+5LiL6L295LqM57u056CBPC9hPjwvZGl2PlwiKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcm9vdERpdi5odG1sKFwiPHNwYW4gY2xhc3M9J2Vycm9yJz7ljovnvKnlpLHotKXvvJrmgqjovpPlhaXnmoTljp/pk77mjqXkuI3mmK/lsI/puYXpgJrpk77mjqU8L3NwYW4+XCIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJy5kaXNwbGF5VmVzc2VsJykuaHRtbChyb290RGl2KTtcclxuICAgIH1cclxuICAgIC8v55Sf5oiQ5LqM57u056CB5pa55rOVXHJcbiAgICBmdW5jdGlvbiBRU2NyZWF0ZSh1cmwpe1xyXG4gICAgICAgIHZhciBxcmNvZGUgPSBuZXcgUVJDb2RlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWluaUNvZGVcIiksIHtcclxuICAgICAgICAgICAgdGV4dDogdXJsLFxyXG4gICAgICAgICAgICB3aWR0aDogMTAwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCxcclxuICAgICAgICAgICAgY29sb3JEYXJrIDogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgICAgIGNvbG9yTGlnaHQgOiBcIiNmZmZmZmZcIixcclxuICAgICAgICAgICAgY29ycmVjdExldmVsIDogUVJDb2RlLkNvcnJlY3RMZXZlbC5MXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ljZXlh7vkuIvovb3kuovku7ZcclxuICAgIGZ1bmN0aW9uIGRvd25Mb2FkRXZlbnQoKXtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBTcmM9JChcIiNtaW5pQ29kZSBpbWdcIikucHJvcCgnc3JjJyk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFNyYyk7XHJcbiAgICAgICAgICAgICQoXCIuZG93blBpY1wiKS5wcm9wKCdocmVmJyxTcmMpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG59OyJdfQ==
