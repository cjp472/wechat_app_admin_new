$(document).ready(function(){$("#finish").click(function(){var e={};e["purchase_name"]=$("#purchase_name").val().trim();if(e["purchase_name"]==0){baseUtils.show.redTip("亲！请输入链接名称哦~");return false}e["period"]=$("#period").val();if(e["period"]==0){baseUtils.show.redTip("亲！请输入允许试听时间哦~");return false}console.log(parseInt(e["period"]));if(!/(^[1-9]\d*$)/.test(e["period"])){baseUtils.show.redTip("亲！请输入正确的时间哦~");return false}baseUtils.show.blueTip("试听链接生成中...");showLoading();$.post("/doaddExperience",{params:e},function(i){console.log(e);console.log(i);var o=i.ret;var r=i.url;if(o==0){hideLoading();$.alert("试听链接生成成功！"+r,"info",{onOk:function(){window.location.href="/experience"}})}else{hideLoading();baseUtils.show.redTip("生成失败")}})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4cGVyaWVuY2VBZGQuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJjbGljayIsInBhcmFtcyIsInZhbCIsInRyaW0iLCJiYXNlVXRpbHMiLCJzaG93IiwicmVkVGlwIiwiY29uc29sZSIsImxvZyIsInBhcnNlSW50IiwidGVzdCIsImJsdWVUaXAiLCJzaG93TG9hZGluZyIsInBvc3QiLCJkYXRhIiwicmV0IiwidXJsIiwiaGlkZUxvYWRpbmciLCJhbGVydCIsIm9uT2siLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiXSwibWFwcGluZ3MiOiJBQUtBQSxFQUFFQyxVQUFVQyxNQUFNLFdBR2RGLEVBQUUsV0FBV0csTUFBTSxXQUNmLEdBQUlDLEtBRUpBLEdBQU8saUJBQW1CSixFQUFFLGtCQUFrQkssTUFBTUMsTUFDcEQsSUFBSUYsRUFBTyxrQkFBb0IsRUFBRyxDQUM5QkcsVUFBVUMsS0FBS0MsT0FBTyxjQUN0QixPQUFPLE9BS1hMLEVBQU8sVUFBWUosRUFBRSxXQUFXSyxLQUNoQyxJQUFJRCxFQUFPLFdBQWEsRUFBRyxDQUN2QkcsVUFBVUMsS0FBS0MsT0FBTyxnQkFDdEIsT0FBTyxPQUVYQyxRQUFRQyxJQUFJQyxTQUFTUixFQUFPLFdBQzVCLEtBQUssZUFBZVMsS0FBS1QsRUFBTyxXQUFZLENBQ3hDRyxVQUFVQyxLQUFLQyxPQUFPLGVBQ3RCLE9BQU8sT0FPWEYsVUFBVUMsS0FBS00sUUFBUSxhQUN2QkMsY0FFQWYsR0FBRWdCLEtBQUssb0JBQXFCWixPQUFVQSxHQUFTLFNBQVVhLEdBQ3JEUCxRQUFRQyxJQUFJUCxFQUNaTSxTQUFRQyxJQUFJTSxFQUVaLElBQUlDLEdBQU1ELEVBQUtDLEdBQ2YsSUFBSUMsR0FBTUYsRUFBS0UsR0FDZixJQUFJRCxHQUFPLEVBQUcsQ0FDVkUsYUFDQXBCLEdBQUVxQixNQUFNLFlBQVlGLEVBQUksUUFDcEJHLEtBQUssV0FDREMsT0FBT0MsU0FBU0MsS0FBSyxxQkFJNUIsQ0FDREwsYUFDQWIsV0FBVUMsS0FBS0MsT0FBTyIsImZpbGUiOiJleHBlcmllbmNlQWRkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgU3R1cGhpbiBvbiAyMDE2LzEwLzI4LlxyXG4gKi9cclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgLy/mj5DkuqRcclxuICAgICQoXCIjZmluaXNoXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcGFyYW1zID0ge307XHJcbiAgICAgICAgLy/mibnmrKHlkI3np7BcclxuICAgICAgICBwYXJhbXNbJ3B1cmNoYXNlX25hbWUnXSA9ICQoXCIjcHVyY2hhc2VfbmFtZVwiKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgaWYgKHBhcmFtc1sncHVyY2hhc2VfbmFtZSddID09IDApIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Lqy77yB6K+36L6T5YWl6ZO+5o6l5ZCN56ew5ZOmflwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8v55Sf5pWI5pe26Ze0XHJcbiAgICAgICAgcGFyYW1zWydwZXJpb2QnXSA9ICQoXCIjcGVyaW9kXCIpLnZhbCgpO1xyXG4gICAgICAgIGlmIChwYXJhbXNbJ3BlcmlvZCddID09IDApIHtcclxuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5Lqy77yB6K+36L6T5YWl5YWB6K646K+V5ZCs5pe26Ze05ZOmflwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhwYXJzZUludChwYXJhbXNbJ3BlcmlvZCddKSk7XHJcbiAgICAgICAgaWYoISgvKF5bMS05XVxcZCokKS8udGVzdChwYXJhbXNbJ3BlcmlvZCddKSkpe1xyXG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkurLvvIHor7fovpPlhaXmraPnoa7nmoTml7bpl7Tlk6Z+XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAvL+WTjeW6lOetieW+heaXtumXtOaPkOekulxyXG4gICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLor5XlkKzpk77mjqXnlJ/miJDkuK0uLi5cIik7XHJcbiAgICAgICAgc2hvd0xvYWRpbmcoKTtcclxuXHJcbiAgICAgICAgJC5wb3N0KCcvZG9hZGRFeHBlcmllbmNlJywgeydwYXJhbXMnOiBwYXJhbXN9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwYXJhbXMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgLy8gcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgcmV0ID0gZGF0YS5yZXQ7XHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBkYXRhLnVybDtcclxuICAgICAgICAgICAgaWYgKHJldCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgJC5hbGVydChcIuivleWQrOmTvuaOpeeUn+aIkOaIkOWKn++8gVwiK3VybCxcImluZm9cIix7XHJcbiAgICAgICAgICAgICAgICAgICAgb25PazpmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj0nL2V4cGVyaWVuY2UnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpOy8vYWxlcnQocmV0KTtcclxuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIueUn+aIkOWksei0pVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pOyJdfQ==
