$(function(){createActivity.init()});var createActivity=function(){var e={};var t=false;var i="";e.type=parseInt($("#type").val());e.isSelectPackage=false;e.init=function(){aliveTimeConfig(".activityDate");$("input[name='chooseActivityTime']").change(function(){if(parseInt($(this).val())){$(".enrollDate").show()}else{$(".enrollDate").hide()}});$(".addTableArea").click(function(){var e=$(".addTableArea").index($(this));$("#otherTableWrapper").append($(".activityTableCopy").eq(e).html());if($("#otherTableWrapper").children().length){$(".otherInfoTips").hide()}else{$(".otherInfoTips").show()}});$("#otherTableWrapper").on("click",".deleteTable",function(){var e=$("#otherTableWrapper .deleteTable");if(e.length>0){var t=e.index($(this));$("#otherTableWrapper .baseInfoWrapper").eq(t).remove()}if($("#otherTableWrapper").children().length){$(".otherInfoTips").hide()}else{$(".otherInfoTips").show()}});$(".uploadActivityPic").on("change",function(e){console.log("change");if(this.files&&this.files.length>0){var t=this.files[0];var a=t.name;var r,l;l=a.lastIndexOf(".");if(l!=-1){r=a.substr(l+1).toUpperCase();r=r.toLowerCase();if(r!="jpg"&&r!="png"&&r!="jpeg"&&r!="gif"){baseUtils.show.blueTip("请上传图片类型的文件哦~");return}}else{document.all.submit_upload.disabled=true;baseUtils.show.blueTip("请上传图片类型的文件哦~");return}var c=2;if($uploadFile.checkFileSize(t,c)){$uploadFile.uploadPic(t,function(e){baseUtils.show.blueTip("上传成功！");i=e.data.access_url;if(i){s(i)}},function(e){console.log(e);baseUtils.show.redTip("上传失败！")})}else{baseUtils.show.redTip("上传图片限制在"+c+"MB内！")}}else{console.log(this.files)}});$("#package_list").on("change",function(){if($(this).children(":selected").val()){$(".activityStartTime").show();$("#start_at").val("");e.isSelectPackage=true;$("#payTicketTableWrapper").addClass("hide");$("#payTicketTip").removeClass("hide")}else{$(".activityStartTime").hide();$("#start_at").val("");e.isSelectPackage=false;$("#payTicketTip").addClass("hide");$("#payTicketTableWrapper").removeClass("hide")}});$("#deletePic").on("click",function(){l();$(".uploadActivityPic").each(function(){$(this).val("")})});modal.initTicketInfo();$("#saveActivity").on("click",function(){if(t){baseUtils.show.redTip("不能重复提交")}else{var s=$.trim($("#title").val()),l=$.trim($("#place").val()),c=$.trim($("#activity_start_at").val()),n=$.trim($("#activity_end_at").val()),o=parseInt($("input[name='chooseActivityTime']:checked").val()),d,p;if(o){d=$.trim($("#enroll_start_at").val());p=$.trim($("#enroll_end_at").val())}else{d="";p=""}var f=$("#img_url").attr("src")||i,T=parseInt($("#actor_num").val())||0,k=UE.getEditor("activityDesc"),h=k.getContent(),u=[{field_name:"姓名",type:2,required:1,placeholder:""},{field_name:"手机号码",type:1,required:1,placeholder:"",need_confirm:0}];$("#otherTableWrapper .baseInfoWrapper").each(function(){var e={},t=$(this).find(".infoTableRequied:checked"),i=$(this).find(".infoTableTitle").eq(0),a=$(this).find(".infoTablePlaceholder").eq(0);e.field_name=i.val();e.type=parseInt(i.data("type"));e.required=t.length>0?1:0;e.placeholder=a.val();if($.trim(e.field_name)){u.push(e)}});var y=$.trim($("#start_at").val()),m=$("#is_confirm:checked").length>0?1:0,v=$("#package_list option:selected"),_=v.val(),b=_?v.html():"";var g={title:s,place:l,activity_start_at:c,activity_end_at:n,is_default_enroll_time:o,enroll_start_at:d,enroll_end_at:p,img_url:f,actor_num:T,descrb:h,form_field:JSON.stringify(u),start_at:y,is_confirm:m};if(r(g)){if(_){if($formCheck.emptyString(g.start_at)){baseUtils.show.redTip("上架时间不能为空！");return false}if(!$formCheck.checkTime(g.start_at)){baseUtils.show.redTip("上架时间格式错误！");return false}if(!$formCheck.checkTimeOrder(g.start_at,g.activity_end_at)){baseUtils.show.redTip("上架时间要小于活动结束时间！");return false}}var w=$(".payTicketTableBody").length;if(!$("#freeTicketTableBody").hasClass("hide")){w++}if(w==0){baseUtils.show.redTip("票种不能为空，请添加票种");return false}if(modal.freeTicketEditState){baseUtils.show.redTip("免费票处于编辑状态");return false}var C=new Array;if(!$("#freeTicketTableBody").hasClass("hide")){var U=$("#freeTicketTableBody").data("ticket_id"),P=$("#freeTicketName").val(),I=$("#freeTicketCount").val(),S=$("#ticketExplanationArea").val(),A=$("#isFreeTicketCheck").data("check_state");var x={id:U,ticket_name:P,ticket_price:0,ticket_count:I,extra:S,is_need_check:A};C[0]=x}if(!e.isSelectPackage){if(modal.payTicketEditState){baseUtils.show.redTip("收费票处于编辑状态");return false}var E=$(".payTicketTableBody").length;if(E>0){$(".payTicketTableBody").each(function(){var e=$(this).attr("id"),t=$(this).find(".payTicketName").val(),i=$(this).find(".payTicketCount").val(),a=$(this).find(".payTicketPrice").val()*100,r=$(this).find(".payTicketExplanationArea").val();var s={id:e,ticket_name:t,ticket_price:a,ticket_count:i,extra:r};C[C.length]=s})}}var B={params:g,package_id:_,package_name:b,ticketParams:C};t=true;if(e.type===0){a("/uploadActivity",B)}else if(e.type==1){B.params.id=$("#activityId").val();a("/saveActivity",B)}}else{return false}}});$(document).ajaxError(function(e,i,a){console.info(i.status,i.statusText);console.error(a);baseUtils.show.redTip("网络错误，操作失败!");t=false})};function a(e,i){console.log(i);showLoading();$.post(e,i,function(e){if(parseInt(e.code)===0){hideLoading();baseUtils.show.blueTip("保存成功");setTimeout(function(){window.location.href="/activityManage"},700)}else{hideLoading();baseUtils.show.redTip(e.msg);t=false}})}function r(e){if($formCheck.emptyString(e.title)){baseUtils.show.redTip("活动名称不能为空！");return false}if($formCheck.emptyString(e.place)){baseUtils.show.redTip("活动地点不能为空！");return false}if($formCheck.emptyString(e.activity_start_at)){baseUtils.show.redTip("活动开始时间不能为空！");return false}if(!$formCheck.checkTime(e.activity_start_at)){baseUtils.show.redTip("活动开始时间格式错误！");return false}if($formCheck.emptyString(e.activity_end_at)){baseUtils.show.redTip("活动结束时间不能为空！");return false}if(!$formCheck.checkTime(e.activity_end_at)){baseUtils.show.redTip("活动结束时间格式错误！");return false}if(!$formCheck.checkTimeOrder(e.activity_start_at,e.activity_end_at)){baseUtils.show.redTip("活动结束时间要大于活动开始时间！");return false}console.log(e.is_default_enroll_time);if(e.is_default_enroll_time===1){if($formCheck.emptyString(e.enroll_start_at)){baseUtils.show.redTip("报名开始时间不能为空！");return false}if(!$formCheck.checkTime(e.enroll_start_at)){baseUtils.show.redTip("报名开始时间格式错误！");return false}if($formCheck.emptyString(e.enroll_end_at)){baseUtils.show.redTip("报名结束时间不能为空！");return false}if(!$formCheck.checkTime(e.enroll_end_at)){baseUtils.show.redTip("报名结束格式错误！");return false}if(!$formCheck.checkTimeOrder(e.enroll_start_at,e.enroll_end_at)){baseUtils.show.redTip("报名结束时间要大于报名开始时间！");return false}}if(isNaN(e.actor_num)||e.actor_num<0){baseUtils.show.redTip("请填写正确的活动人数！");return false}return true}function s(e){if(e){$("#img_url").attr("src",e).show();$(".noPicPreview").hide()}}function l(){$("#img_url").attr("src","").hide();$(".noPicPreview").show();i=""}return e}();var modal=function(){var e={};e.freeTicketEditState=false;e.payTicketEditState=false;e.editedPayTicketName="";e.editPayTicketDom="";e.initTicketInfo=function(){$("#newFree").click(function(){$("#freeTicketTableBody").removeClass("hide");$("#freeTicketDesc").removeClass("hide");$("#newFree").addClass("hide");t(0)});$("#deleteFreeTicket").click(function(){$("#newFree").removeClass("hide");$("#freeTicketTableBody").addClass("hide");$("#freeTicketTableBody").data("ticket_id","");$("input.freeTicketItem").val("");$("#ticketExplanationArea").val("");$("input#isFreeTicketCheck").removeAttr("checked");e.freeTicketEditState=false});$("#editFreeTicket").click(function(){if(e.freeTicketEditState){var i=$("#freeTicketName").val();if($formCheck.emptyString(i)){baseUtils.show.redTip("票种名称不能为空，请重新输入");return false}var a=$("#freeTicketCount").val();if($formCheck.emptyString(a)){baseUtils.show.redTip("请输入正确的免费票数量");return false}if(!$formCheck.isNumPositiveAndInteger(a)){baseUtils.show.redTip("请输入正确的免费票数量");return false}var r=$("#ticketExplanationArea").val();if(r.length>198){baseUtils.show.redTip("票种说明字数不能超过198个字符");return false}t(1)}else{if(e.payTicketEditState){baseUtils.show.redTip("收费票处于编辑状态，请先保存收费票");return false}t(0)}});$("input#isFreeTicketCheck").click(function(){var e=$("input#isFreeTicketCheck").data("check_state");if(e=="1"){$("input#isFreeTicketCheck").data("check_state","0");return}else{$("input#isFreeTicketCheck").data("check_state","1");return}});$("#newPayTicket").click(function(){if(e.payTicketEditState){baseUtils.show.redTip("["+e.editedPayTicketName+"]处于编辑状态，请先保存");return false}e.payTicketEditState=true;e.editedPayTicketName="新建收费票";var t=$("#payTicketBodyWrapper").children(".payTicketTableBody");$("#payTicketBodyWrapper").append(a(t.length));e.editPayTicketDom=t.eq(t.length).find(".editPayTicket")});$("#payTicketBodyWrapper").on("click",".editPayTicket",function(t){var a=$(t.target),r=a.attr("id");if(a.attr("edit_state")==1){if(e.freeTicketEditState){baseUtils.show.redTip("免费票处于编辑状态，请先保存免费票");return false}if(e.payTicketEditState){$.alert("["+e.editedPayTicketName+"]处于编辑状态,是否进行保存?","info",{btn:3,onOk:function(){e.editPayTicketDom.click()}});return false}e.payTicketEditState=true;var s=a.parents("#payTicketOperate").prevAll(".payTicketName").val();e.editedPayTicketName=s;e.editPayTicketDom=a;i(a,0)}else{var s=$.trim(a.parents("#payTicketOperate").prevAll(".payTicketName").val());if($formCheck.emptyString(s)){baseUtils.show.redTip("票种名称不能为空，请重新输入");return false}var l=$.trim(a.parents("#payTicketOperate").prevAll(".payTicketCount").val());if(!$formCheck.isNumPositiveAndInteger(l)){baseUtils.show.redTip("票数应大于0，且不能为空，请重新输入");return false}var c=$.trim(a.parents("#payTicketOperate").prevAll(".payTicketPrice").val())*100;if($formCheck.emptyString(c)||c<=0){baseUtils.show.redTip("票价不可为空且必须大于0，请重新输入");return false}if(c>baseUtils.maxInputPrice*100){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}var n=a.parents(".payTicketTableBody").find(".payTicketExplanationArea").val();if(n.length>198){baseUtils.show.redTip("票种说明字数不能超过198个字符");return false}var o=false;$("input.payTicketName").each(function(){if(r!=$(this).data("index")&&s==$.trim($(this).val())){o=true;return false}});if(o){baseUtils.show.redTip("票种名称已存在，请重新输入");return false}e.payTicketEditState=false;e.editedPayTicketName="新建收费票";i(a,1)}});$("#payTicketBodyWrapper").on("click",".deletePayTicket",function(t){var i=$(t.target);var a=i.prev(".editPayTicket").attr("edit_state");if(a==0){e.payTicketEditState=false;e.editedPayTicketName="新建收费票"}i.parents(".payTicketTableBody").remove()})};function t(t){if(t==0){e.freeTicketEditState=true;$("#editFreeTicket").attr("edit_state",0);$("#editFreeTicket").html("保存此票");$(".freeTicketItem").removeAttr("readOnly");$(".freeTicketItem").css("border","1px solid #dcdcdc");$(".freeTicketDesc").removeClass("hide")}else{e.freeTicketEditState=false;$("#editFreeTicket").attr("edit_state",1);$("#editFreeTicket").html("编辑此票");$(".freeTicketItem").attr("readOnly","true");$(".freeTicketItem").css("border","none");$(".freeTicketDesc").addClass("hide")}}function i(e,t){if(t==0){e.attr("edit_state",0);e.html("保存此票");e.parents("#payTicketOperate").prevAll(".payTicketItem").removeAttr("readOnly");e.parents("#payTicketOperate").prevAll(".payTicketItem").css("border","1px solid #dcdcdc");e.parents(".payTicketInfo").next(".payTicketDesc").removeClass("hide")}else{e.attr("edit_state",1);e.html("编辑此票");e.parents("#payTicketOperate").prevAll(".payTicketItem").attr("readOnly","true");e.parents("#payTicketOperate").prevAll(".payTicketItem").css("border","none");e.parents(".payTicketInfo").next(".payTicketDesc").addClass("hide")}}function a(e){var t='<li class="payTicketTableBody" id="">'+'<div class="payTicketInfo">'+'<input class="payTicketItem inputDefault payTicketName" data-index="'+e+'" placeholder="vip票" />'+'<input class="payTicketItem inputDefault payTicketCount" type="text" placeholder="0(不限)" />'+'<input class="payTicketItem inputDefault payTicketPrice" type="number" placeholder="请输入价格" />'+'<div class="ticketItem" id="payTicketOperate">'+'<div class="toolBox">'+"<ul>"+'<li class="editPayTicket" edit_state="0" id="'+e+'" >保存此票</li>'+'<li class="deletePayTicket">删除此票</li>'+"</ul>"+"</div>"+"</div>"+"</div>"+'<div class="payTicketDesc">'+'<div class="ticketExplanationWrapper">'+'<span class="ticketExplanation">票种说明(选填)</span>'+'<textarea class="payTicketExplanationArea ticketTextArea" placeholder="您可以在这里说明此票的特点"></textarea>'+"</div>"+"</div>"+"</li>";return t}return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyZWF0ZUFjdGl2aXR5LmpzIl0sIm5hbWVzIjpbIiQiLCJjcmVhdGVBY3Rpdml0eSIsImluaXQiLCJzdWJtaXRMaW1pdCIsImFjdGl2aXR5UGljVXJsIiwidHlwZSIsInBhcnNlSW50IiwidmFsIiwiaXNTZWxlY3RQYWNrYWdlIiwiYWxpdmVUaW1lQ29uZmlnIiwiY2hhbmdlIiwidGhpcyIsInNob3ciLCJoaWRlIiwiY2xpY2siLCJpbmRleCIsImFwcGVuZCIsImVxIiwiaHRtbCIsImNoaWxkcmVuIiwibGVuZ3RoIiwib24iLCJkZWxldGVUYWJsZSIsInJlbW92ZSIsImUiLCJjb25zb2xlIiwibG9nIiwiZmlsZXMiLCJmaWxlIiwiaW1nTmFtZSIsIm5hbWUiLCJleHQiLCJpZHgiLCJsYXN0SW5kZXhPZiIsInN1YnN0ciIsInRvVXBwZXJDYXNlIiwidG9Mb3dlckNhc2UiLCJiYXNlVXRpbHMiLCJibHVlVGlwIiwiZG9jdW1lbnQiLCJhbGwiLCJzdWJtaXRfdXBsb2FkIiwiZGlzYWJsZWQiLCJsaW1pdFNpemUiLCIkdXBsb2FkRmlsZSIsImNoZWNrRmlsZVNpemUiLCJ1cGxvYWRQaWMiLCJkYXRhIiwiYWNjZXNzX3VybCIsInNob3dBY3Rpdml0eVBpYyIsInJlZFRpcCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJoaWRlQWN0aXZpdHlQaWMiLCJlYWNoIiwibW9kYWwiLCJpbml0VGlja2V0SW5mbyIsInRpdGxlIiwidHJpbSIsInBsYWNlIiwiYWN0aXZpdHlfc3RhcnRfYXQiLCJhY3Rpdml0eV9lbmRfYXQiLCJpc19kZWZhdWx0X2Vucm9sbF90aW1lIiwiZW5yb2xsX3N0YXJ0X2F0IiwiZW5yb2xsX2VuZF9hdCIsImltZ191cmwiLCJhdHRyIiwiYWN0b3JfbnVtIiwidWUiLCJVRSIsImdldEVkaXRvciIsImRlc2NyYiIsImdldENvbnRlbnQiLCJmb3JtX2ZpZWxkIiwiZmllbGRfbmFtZSIsInJlcXVpcmVkIiwicGxhY2Vob2xkZXIiLCJuZWVkX2NvbmZpcm0iLCJmb3JtT2JqIiwiaW5mb1RhYmxlUmVxdWllZCIsImZpbmQiLCJpbmZvVGFibGVUaXRsZSIsImluZm9UYWJsZVBsYWNlaG9sZGVyIiwicHVzaCIsInN0YXJ0X2F0IiwiaXNfY29uZmlybSIsInBhY2thZ2UiLCJwYWNrYWdlX2lkIiwicGFja2FnZV9uYW1lIiwiYWN0aXZpdHlJbmZvIiwiSlNPTiIsInN0cmluZ2lmeSIsImNoZWNrQWN0aXZpdHlGb3JtIiwiJGZvcm1DaGVjayIsImVtcHR5U3RyaW5nIiwiY2hlY2tUaW1lIiwiY2hlY2tUaW1lT3JkZXIiLCJ0aWNrZXRDb3VudCIsImhhc0NsYXNzIiwiZnJlZVRpY2tldEVkaXRTdGF0ZSIsInRpY2tldFBhcmFtcyIsIkFycmF5IiwiZnJlZVRpY2tldElkIiwiZnJlZVRpY2tldE5hbWUiLCJmcmVlVGlja2V0Q291bnQiLCJ0aWNrZXRFeHBsYW5hdGlvbiIsImlzTmVlZENoZWNrIiwiZnJlZVRpY2tldEl0ZW0iLCJpZCIsInRpY2tldF9uYW1lIiwidGlja2V0X3ByaWNlIiwidGlja2V0X2NvdW50IiwiZXh0cmEiLCJpc19uZWVkX2NoZWNrIiwicGF5VGlja2V0RWRpdFN0YXRlIiwiY291bnQiLCJwYXlUaWNrZXRJZCIsInBheVRpY2tldE5hbWUiLCJwYXlUaWNrZXRDb3VudCIsInBheVRpY2tldFByaWNlIiwicGF5VGlja2V0RXh0cmEiLCJwYXlUaWNrZXRJdGVtIiwiYWxsUGFyYW1zIiwicGFyYW1zIiwic2F2ZUFjdGl2aXR5SW5mbyIsImFqYXhFcnJvciIsImV2ZW50IiwieGhyIiwib3B0IiwiaW5mbyIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJlcnJvciIsInVybCIsInNob3dMb2FkaW5nIiwicG9zdCIsImNvZGUiLCJoaWRlTG9hZGluZyIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJtc2ciLCJpc05hTiIsImVkaXRlZFBheVRpY2tldE5hbWUiLCJlZGl0UGF5VGlja2V0RG9tIiwiY2hhbmdlRnJlZVRpY2tldFN0YXRlIiwicmVtb3ZlQXR0ciIsImlzTnVtUG9zaXRpdmVBbmRJbnRlZ2VyIiwiZnJlZVRpY2tldEV4dHJhIiwic3RhdGUiLCIkcGF5VGlja2V0TGlzdCIsImdldFBheVRpY2tldEJvZHkiLCIkdGhpcyIsInRhcmdldCIsImFsZXJ0IiwiYnRuIiwib25PayIsInBhcmVudHMiLCJwcmV2QWxsIiwiY2hhbmdlUGF5VGlja2V0U3RhdGUiLCJtYXhJbnB1dFByaWNlIiwiaXNOYW1lRXhpc3QiLCJlZGl0X3N0YXRlIiwicHJldiIsImNzcyIsImN1cnJlbnREb20iLCJuZXh0IiwicGF5VGlja2V0Qm9keSJdLCJtYXBwaW5ncyI6IkFBSUFBLEVBQUUsV0FFRUMsZUFBZUMsUUFNbkIsSUFBSUQsZ0JBQWlCLFdBQ2pCLEdBQUlBLEtBRUosSUFBSUUsR0FBYyxLQUVsQixJQUFJQyxHQUFpQixFQUVyQkgsR0FBZUksS0FBUUMsU0FBU04sRUFBRSxTQUFTTyxNQUUzQ04sR0FBZU8sZ0JBQWtCLEtBRWpDUCxHQUFlQyxLQUFPLFdBU2xCTyxnQkFBZ0IsZ0JBRWhCVCxHQUFFLG9DQUFvQ1UsT0FBTyxXQUN6QyxHQUFHSixTQUFTTixFQUFFVyxNQUFNSixPQUFPLENBQ3ZCUCxFQUFFLGVBQWVZLFdBRWpCLENBQ0FaLEVBQUUsZUFBZWEsU0FLekJiLEdBQUUsaUJBQWlCYyxNQUFNLFdBQ3JCLEdBQUlDLEdBQVFmLEVBQUUsaUJBQWlCZSxNQUFNZixFQUFFVyxNQUN2Q1gsR0FBRSxzQkFBc0JnQixPQUFPaEIsRUFBRSxzQkFBc0JpQixHQUFHRixHQUFPRyxPQUVqRSxJQUFHbEIsRUFBRSxzQkFBc0JtQixXQUFXQyxPQUFPLENBQ3pDcEIsRUFBRSxrQkFBa0JhLFdBRXBCLENBQ0FiLEVBQUUsa0JBQWtCWSxTQU01QlosR0FBRSxzQkFBc0JxQixHQUFHLFFBQVEsZUFBZSxXQUM5QyxHQUFJQyxHQUFjdEIsRUFBRSxrQ0FDcEIsSUFBR3NCLEVBQVlGLE9BQU8sRUFBRSxDQUNwQixHQUFJTCxHQUFRTyxFQUFZUCxNQUFNZixFQUFF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Q0osU0FDSixTQUNBLDhCQUNJLHlDQUNJLGtEQUNBLG9HQUNKLFNBQ0osU0FDSixPQUVKLE9BQU95SixHQUlYLE1BQU9qSCIsImZpbGUiOiJjcmVhdGVBY3Rpdml0eS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBOZW8gb24gMjAxNy8zLzguXG4gKi9cblxuJChmdW5jdGlvbiAoKSB7XG5cbiAgICBjcmVhdGVBY3Rpdml0eS5pbml0KCk7XG59KTtcblxuXG5cbi8vIOS4muWKoeWHveaVsFxudmFyIGNyZWF0ZUFjdGl2aXR5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY3JlYXRlQWN0aXZpdHkgPSB7fTtcblxuICAgIHZhciBzdWJtaXRMaW1pdCA9IGZhbHNlOyAgICAgLy8g6KGo5Y2V5o+Q5Lqk6ZmQ5Yi25qCH6K6wXG5cbiAgICB2YXIgYWN0aXZpdHlQaWNVcmwgPSBcIlwiOyAgICAvLyDmtLvliqjlm77niYfnmoTot6/lvoRcblxuICAgIGNyZWF0ZUFjdGl2aXR5LnR5cGUgPSAgcGFyc2VJbnQoJChcIiN0eXBlXCIpLnZhbCgpKTtcblxuICAgIGNyZWF0ZUFjdGl2aXR5LmlzU2VsZWN0UGFja2FnZSA9IGZhbHNlOyAgICAgLy8gIOaYr+WQpumAieS6huS4k+agj1xuXG4gICAgY3JlYXRlQWN0aXZpdHkuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvLyDml7bpl7TpgInmi6nlmajliJ3lp4vljJZcbiAgICAgICAgLy8gJChcIi5hY3Rpdml0eURhdGVcIikuZGF0ZXRpbWVwaWNrZXIoe1xuICAgICAgICAvLyAgICAgd2Vla1N0YXJ0IDogMSxcbiAgICAgICAgLy8gICAgIG1pblZpZXcgOiBcImRheVwiLFxuICAgICAgICAvLyAgICAgZm9ybWF0IDogJ3l5eXktbW0tZGQgaGg6MDA6MDAnLFxuICAgICAgICAvLyAgICAgYXV0b2Nsb3NlIDogdHJ1ZSAgICAvL+mAieaLqeaXpeacn+WQjuiHquWKqOWFs+mXrVxuICAgICAgICAvLyB9KTtcbiAgICAgICAgYWxpdmVUaW1lQ29uZmlnKFwiLmFjdGl2aXR5RGF0ZVwiKTtcbiAgICAgICAgLy8g5oql5ZCN5pe26Ze06YCJ6aG55YiH5o2iXG4gICAgICAgICQoXCJpbnB1dFtuYW1lPSdjaG9vc2VBY3Rpdml0eVRpbWUnXVwiKS5jaGFuZ2UoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKHBhcnNlSW50KCQodGhpcykudmFsKCkpKXtcbiAgICAgICAgICAgICAgICAkKFwiLmVucm9sbERhdGVcIikuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAkKFwiLmVucm9sbERhdGVcIikuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyDmt7vliqDlhbbku5bkv6Hmga/nmoTmjqfku7ZcbiAgICAgICAgJChcIi5hZGRUYWJsZUFyZWFcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gJChcIi5hZGRUYWJsZUFyZWFcIikuaW5kZXgoJCh0aGlzKSk7XG4gICAgICAgICAgICAkKFwiI290aGVyVGFibGVXcmFwcGVyXCIpLmFwcGVuZCgkKFwiLmFjdGl2aXR5VGFibGVDb3B5XCIpLmVxKGluZGV4KS5odG1sKCkpO1xuXG4gICAgICAgICAgICBpZigkKFwiI290aGVyVGFibGVXcmFwcGVyXCIpLmNoaWxkcmVuKCkubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAkKFwiLm90aGVySW5mb1RpcHNcIikuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAkKFwiLm90aGVySW5mb1RpcHNcIikuc2hvdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOWIoOmZpOWFtuS7luS/oeaBr+eahOaOp+S7tlxuICAgICAgICAkKFwiI290aGVyVGFibGVXcmFwcGVyXCIpLm9uKFwiY2xpY2tcIixcIi5kZWxldGVUYWJsZVwiLGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkZWxldGVUYWJsZSA9ICQoXCIjb3RoZXJUYWJsZVdyYXBwZXIgLmRlbGV0ZVRhYmxlXCIpO1xuICAgICAgICAgICAgaWYoZGVsZXRlVGFibGUubGVuZ3RoPjApe1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGRlbGV0ZVRhYmxlLmluZGV4KCQodGhpcykpO1xuICAgICAgICAgICAgICAgICQoXCIjb3RoZXJUYWJsZVdyYXBwZXIgLmJhc2VJbmZvV3JhcHBlclwiKS5lcShpbmRleCkucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCQoXCIjb3RoZXJUYWJsZVdyYXBwZXJcIikuY2hpbGRyZW4oKS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgICQoXCIub3RoZXJJbmZvVGlwc1wiKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICQoXCIub3RoZXJJbmZvVGlwc1wiKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy8g5LiK5Lyg5rS75Yqo5rW35oqlXG4gICAgICAgICQoXCIudXBsb2FkQWN0aXZpdHlQaWNcIikub24oXCJjaGFuZ2VcIixmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaGFuZ2VcIilcbiAgICAgICAgICAgIGlmKHRoaXMuZmlsZXMgJiYgdGhpcy5maWxlcy5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xuICAgICAgICAgICAgICAgIHZhciBpbWdOYW1lID0gZmlsZS5uYW1lO1xuICAgICAgICAgICAgICAgIC8vYWxlcnQoaW1nTmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIGV4dCxpZHg7XG4gICAgICAgICAgICAgICAgaWR4ID0gaW1nTmFtZS5sYXN0SW5kZXhPZihcIi5cIik7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCAhPSAtMSl7XG4gICAgICAgICAgICAgICAgICAgIGV4dCA9IGltZ05hbWUuc3Vic3RyKGlkeCsxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBleHQgPSBleHQudG9Mb3dlckNhc2UoICk7XG4gICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoXCLlkI7nvIA9XCIrZXh0K1wi5L2N572uPVwiK2lkeCtcIui3r+W+hD1cIityZXNvdXJjZUxvY2FsVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dCAhPSAnanBnJyAmJiBleHQgIT0gJ3BuZycgJiYgZXh0ICE9ICdqcGVnJyAmJiBleHQgIT0gJ2dpZicpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9kb2N1bWVudC5hbGwuc3VibWl0X3VwbG9hZC5kaXNhYmxlZD10cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuivt+S4iuS8oOWbvueJh+exu+Wei+eahOaWh+S7tuWTpn5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwiMi7lj6rog73kuIrkvKAuanBnICAucG5nICAuanBlZyAgLmdpZuexu+Wei+eahOaWh+S7tiFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hbGwuc3VibWl0X3VwbG9hZC5kaXNhYmxlZD10cnVlO1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi6K+35LiK5Lyg5Zu+54mH57G75Z6L55qE5paH5Lu25ZOmflwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy9hbGVydChcIuWPquiDveS4iuS8oC5qcGcgIC5wbmcgIC5qcGVnICAuZ2lm57G75Z6L55qE5paH5Lu2IVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgLy8g6ZmQ5Yi25LiK5Lyg5aSn5bCPXG4gICAgICAgICAgICAgICAgdmFyIGxpbWl0U2l6ZSA9IDI7XG5cbiAgICAgICAgICAgICAgICAvLyDpmZDliLblm77niYflnKgyTULlhoVcbiAgICAgICAgICAgICAgICBpZigkdXBsb2FkRmlsZS5jaGVja0ZpbGVTaXplKGZpbGUsbGltaXRTaXplKSl7XG4gICAgICAgICAgICAgICAgICAgICR1cGxvYWRGaWxlLnVwbG9hZFBpYyhmaWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5oiQ5Yqf5Zue6LCDXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLkuIrkvKDmiJDlip/vvIFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eVBpY1VybCA9IGRhdGEuZGF0YS5hY2Nlc3NfdXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFjdGl2aXR5UGljVXJsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0FjdGl2aXR5UGljKGFjdGl2aXR5UGljVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aSx6LSl5Zue6LCDXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiK5Lyg5aSx6LSl77yBXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiK5Lyg5Zu+54mH6ZmQ5Yi25ZyoXCIrbGltaXRTaXplK1wiTULlhoXvvIFcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbGVzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vIOagueaNruaYr+WQpumAieS6huS4k+agj+WIpOWumuaYr+WQpuimgeWhq+S4iuaetuaXtumXtFxuICAgICAgICAkKFwiI3BhY2thZ2VfbGlzdFwiKS5vbihcImNoYW5nZVwiLGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmKCQodGhpcykuY2hpbGRyZW4oXCI6c2VsZWN0ZWRcIikudmFsKCkpeyAgICAvLyDpgInlrprkuobkuJPmoI9cbiAgICAgICAgICAgICAgICAkKFwiLmFjdGl2aXR5U3RhcnRUaW1lXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKFwiI3N0YXJ0X2F0XCIpLnZhbChcIlwiKTtcblxuICAgICAgICAgICAgICAgIGNyZWF0ZUFjdGl2aXR5LmlzU2VsZWN0UGFja2FnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgJChcIiNwYXlUaWNrZXRUYWJsZVdyYXBwZXJcIikuYWRkQ2xhc3MoXCJoaWRlXCIpOyAgIC8v5Yig6Zmk5pS26LS556WoXG4gICAgICAgICAgICAgICAgJChcIiNwYXlUaWNrZXRUaXBcIikucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICQoXCIuYWN0aXZpdHlTdGFydFRpbWVcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoXCIjc3RhcnRfYXRcIikudmFsKFwiXCIpO1xuXG4gICAgICAgICAgICAgICAgY3JlYXRlQWN0aXZpdHkuaXNTZWxlY3RQYWNrYWdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJChcIiNwYXlUaWNrZXRUaXBcIikuYWRkQ2xhc3MoXCJoaWRlXCIpO1xuICAgICAgICAgICAgICAgICQoXCIjcGF5VGlja2V0VGFibGVXcmFwcGVyXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g5Yig6Zmk5rS75Yqo5rW35oqlXG4gICAgICAgICQoXCIjZGVsZXRlUGljXCIpLm9uKFwiY2xpY2tcIixmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBoaWRlQWN0aXZpdHlQaWMoKTtcbiAgICAgICAgICAgIC8vIOa4heepuumAieaLqe+8jOWQpuWImWNoYW5nZeayoeazleebkeWQrFxuICAgICAgICAgICAgJCgnLnVwbG9hZEFjdGl2aXR5UGljJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS52YWwoXCJcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICBtb2RhbC5pbml0VGlja2V0SW5mbygpO1xuXG5cbiAgICAgICAgLy8g5L+d5a2Y5o+Q5LqkXG4gICAgICAgICQoXCIjc2F2ZUFjdGl2aXR5XCIpLm9uKFwiY2xpY2tcIixmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmKHN1Ym1pdExpbWl0KXtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLkuI3og73ph43lpI3mj5DkuqRcIik7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSAkLnRyaW0oJChcIiN0aXRsZVwiKS52YWwoKSksLy8g5rS75Yqo5ZCN56ewXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlID0gJC50cmltKCQoXCIjcGxhY2VcIikudmFsKCkpLC8vIOa0u+WKqOWcsOeCuVxuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eV9zdGFydF9hdCA9ICQudHJpbSgkKFwiI2FjdGl2aXR5X3N0YXJ0X2F0XCIpLnZhbCgpKSwvLyDmtLvliqjlvIDlp4vml7bpl7RcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlfZW5kX2F0ID0gJC50cmltKCQoXCIjYWN0aXZpdHlfZW5kX2F0XCIpLnZhbCgpKSwvLyDmtLvliqjnu5PmnZ/ml7bpl7RcbiAgICAgICAgICAgICAgICAgICAgaXNfZGVmYXVsdF9lbnJvbGxfdGltZSA9IHBhcnNlSW50KCQoXCJpbnB1dFtuYW1lPSdjaG9vc2VBY3Rpdml0eVRpbWUnXTpjaGVja2VkXCIpLnZhbCgpKSwvLyDmiqXlkI3ml7bpl7TpgInpoblcbiAgICAgICAgICAgICAgICAgICAgZW5yb2xsX3N0YXJ0X2F0LCAgICAgICAgLy/miqXlkI3lvIDlp4vml7bpl7RcbiAgICAgICAgICAgICAgICAgICAgZW5yb2xsX2VuZF9hdDsgICAgICAgICAgLy8g5oql5ZCN57uT5p2f5pe26Ze0XG5cbiAgICAgICAgICAgICAgICBpZihpc19kZWZhdWx0X2Vucm9sbF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGVucm9sbF9zdGFydF9hdCA9ICQudHJpbSgkKFwiI2Vucm9sbF9zdGFydF9hdFwiKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGVucm9sbF9lbmRfYXQgPSAkLnRyaW0oJChcIiNlbnJvbGxfZW5kX2F0XCIpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbnJvbGxfc3RhcnRfYXQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBlbnJvbGxfZW5kX2F0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgaW1nX3VybCA9ICQoXCIjaW1nX3VybFwiKS5hdHRyKFwic3JjXCIpIHx8IGFjdGl2aXR5UGljVXJsLC8vIOa0u+WKqOa1t+aKpVxuICAgICAgICAgICAgICAgICAgICBhY3Rvcl9udW0gPSBwYXJzZUludCgkKFwiI2FjdG9yX251bVwiKS52YWwoKSkgfHwgMCwvLyDmtLvliqjkurrmlbBcblxuICAgICAgICAgICAgICAgICAgICB1ZSA9IFVFLmdldEVkaXRvcignYWN0aXZpdHlEZXNjJyksIC8vIOa0u+WKqOivpuaDhVxuICAgICAgICAgICAgICAgICAgICBkZXNjcmIgPSB1ZS5nZXRDb250ZW50KCksXG5cbiAgICAgICAgICAgICAgICAgICAgZm9ybV9maWVsZCA9IFsgICAgICAgICAgICAgICAgICAvLyDmiqXlkI3ooajljZVcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZF9uYW1lIDogJ+Wnk+WQjScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZF9uYW1lIDogJ+aJi+acuuWPt+eggScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyIDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkX2NvbmZpcm0gOiAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgICAkKFwiI290aGVyVGFibGVXcmFwcGVyIC5iYXNlSW5mb1dyYXBwZXJcIikuZWFjaChmdW5jdGlvbiAoKSB7ICAgICAvLyDmiqXlkI3ooajljZXlhbbku5bkv6Hmga/nmoTlhoXlrrlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1PYmogPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm9UYWJsZVJlcXVpZWQgPSAkKHRoaXMpLmZpbmQoXCIuaW5mb1RhYmxlUmVxdWllZDpjaGVja2VkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mb1RhYmxlVGl0bGUgPSAkKHRoaXMpLmZpbmQoXCIuaW5mb1RhYmxlVGl0bGVcIikuZXEoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvVGFibGVQbGFjZWhvbGRlciA9ICQodGhpcykuZmluZChcIi5pbmZvVGFibGVQbGFjZWhvbGRlclwiKS5lcSgwKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3JtT2JqLmZpZWxkX25hbWUgPSBpbmZvVGFibGVUaXRsZS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9ybU9iai50eXBlID0gcGFyc2VJbnQoaW5mb1RhYmxlVGl0bGUuZGF0YShcInR5cGVcIikpO1xuICAgICAgICAgICAgICAgICAgICBmb3JtT2JqLnJlcXVpcmVkID0gaW5mb1RhYmxlUmVxdWllZC5sZW5ndGg+MCA/IDEgOjA7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1PYmoucGxhY2Vob2xkZXIgPSBpbmZvVGFibGVQbGFjZWhvbGRlci52YWwoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZigkLnRyaW0oZm9ybU9iai5maWVsZF9uYW1lKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtX2ZpZWxkLnB1c2goZm9ybU9iaik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBzdGFydF9hdCA9ICQudHJpbSgkKFwiI3N0YXJ0X2F0XCIpLnZhbCgpKSwgICAgICAgICAgICAgICAgLy8g5LiK5p625pe26Ze0XG4gICAgICAgICAgICAgICAgICAgIGlzX2NvbmZpcm0gPSAkKFwiI2lzX2NvbmZpcm06Y2hlY2tlZFwiKS5sZW5ndGg+MCA/IDEgOiAwLCAgIC8vIOaYr+WQpumcgOimgeWuoeaguFxuICAgICAgICAgICAgICAgICAgICBwYWNrYWdlID0gJChcIiNwYWNrYWdlX2xpc3Qgb3B0aW9uOnNlbGVjdGVkXCIpLCAgICAgICAgICAgLy8g5omA5bGe5LiT5qCPXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfaWQgPSAgcGFja2FnZS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgcGFja2FnZV9uYW1lID0gcGFja2FnZV9pZCA/IHBhY2thZ2UuaHRtbCgpIDogXCJcIjtcblxuICAgICAgICAgICAgICAgIHZhciBhY3Rpdml0eUluZm8gPSB7ICAgIC8vIOa0u+WKqOS/oeaBr1xuXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlIDogdGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAg5rS75Yqo5ZCN56ewXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlIDogcGxhY2UsICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAg5rS75Yqo5Zyw54K5XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5X3N0YXJ0X2F0IDogYWN0aXZpdHlfc3RhcnRfYXQsICAvLyAgICAg5rS75Yqo5byA5aeL5pe26Ze0XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5X2VuZF9hdCA6IGFjdGl2aXR5X2VuZF9hdCwgICAgICAvLyAgICAg5rS75Yqo57uT5p2f5pe26Ze0XG4gICAgICAgICAgICAgICAgICAgIGlzX2RlZmF1bHRfZW5yb2xsX3RpbWUgOiBpc19kZWZhdWx0X2Vucm9sbF90aW1lLCAgICAgICAgLy8g6buY6K6k5rS75Yqo57uT5p2f5YmN6YO95Y+v5Lul5oql5ZCNXG4gICAgICAgICAgICAgICAgICAgIGVucm9sbF9zdGFydF9hdCA6IGVucm9sbF9zdGFydF9hdCwgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIOaKpeWQjeW8gOWni+aXtumXtFxuICAgICAgICAgICAgICAgICAgICBlbnJvbGxfZW5kX2F0IDogZW5yb2xsX2VuZF9hdCwgICAgICAgICAgLy8gICAgIOaKpeWQjee7k+adn+aXtumXtFxuICAgICAgICAgICAgICAgICAgICBpbWdfdXJsIDogaW1nX3VybCwgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIOa0u+WKqOa1t+aKpVxuICAgICAgICAgICAgICAgICAgICBhY3Rvcl9udW0gOiBhY3Rvcl9udW0sICAgICAgICAgICAgICAgICAgLy8gICAgIOa0u+WKqOS6uuaVsFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmIgOiBkZXNjcmIsICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIOa0u+WKqOivpuaDhVxuICAgICAgICAgICAgICAgICAgICBmb3JtX2ZpZWxkIDogSlNPTi5zdHJpbmdpZnkoZm9ybV9maWVsZCksLy8gICAgIOaKpeWQjeihqOWNlVxuICAgICAgICAgICAgICAgICAgICBzdGFydF9hdCA6IHN0YXJ0X2F0LCAgICAgICAgICAgICAgICAgICAgLy8gICAgICDkuIrmnrbml7bpl7RcbiAgICAgICAgICAgICAgICAgICAgaXNfY29uZmlybSA6IGlzX2NvbmZpcm0gICAgICAgICAgICAgICAgIC8vICAgICAg5piv5ZCm6ZyA6KaB5a6h5qC4XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmKGNoZWNrQWN0aXZpdHlGb3JtKGFjdGl2aXR5SW5mbykpeyAgICAvLyDmo4Dmn6XooajljZVcblxuICAgICAgICAgICAgICAgICAgICAvLyDpgInlrprkuJPmoI/lkI7miY3pqozor4HkuIrmnrbml7bpl7RcbiAgICAgICAgICAgICAgICAgICAgaWYocGFja2FnZV9pZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZigkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGFjdGl2aXR5SW5mby5zdGFydF9hdCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuS4iuaetuaXtumXtOS4jeiDveS4uuepuu+8gVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZighJGZvcm1DaGVjay5jaGVja1RpbWUoYWN0aXZpdHlJbmZvLnN0YXJ0X2F0KSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiK5p625pe26Ze05qC85byP6ZSZ6K+v77yBXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEkZm9ybUNoZWNrLmNoZWNrVGltZU9yZGVyKGFjdGl2aXR5SW5mby5zdGFydF9hdCxhY3Rpdml0eUluZm8uYWN0aXZpdHlfZW5kX2F0KSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5LiK5p625pe26Ze06KaB5bCP5LqO5rS75Yqo57uT5p2f5pe26Ze077yBXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vICDmo4Dmn6XmmK/lkKbmnInmt7vliqDnpajliqFcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpY2tldENvdW50ID0gJChcIi5wYXlUaWNrZXRUYWJsZUJvZHlcIikubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoISQoXCIjZnJlZVRpY2tldFRhYmxlQm9keVwiKS5oYXNDbGFzcyhcImhpZGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tldENvdW50ICsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aWNrZXRDb3VudCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnpajnp43kuI3og73kuLrnqbrvvIzor7fmt7vliqDnpajnp41cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyAg5qOA5p+l5YWN6LS556Wo5Yqh54q25oCBXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RhbC5mcmVlVGlja2V0RWRpdFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLlhY3otLnnpajlpITkuo7nvJbovpHnirbmgIFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gIOS/neWtmOWFjei0ueelqOWKoeS/oeaBr1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGlja2V0UGFyYW1zID0gbmV3IEFycmF5KCk7ICAgICAgIC8vXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgJChcIiNmcmVlVGlja2V0VGFibGVCb2R5XCIpLmhhc0NsYXNzKFwiaGlkZVwiKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJlZVRpY2tldElkID0gJChcIiNmcmVlVGlja2V0VGFibGVCb2R5XCIpLmRhdGEoXCJ0aWNrZXRfaWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlZVRpY2tldE5hbWUgPSAkKFwiI2ZyZWVUaWNrZXROYW1lXCIpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZWVUaWNrZXRDb3VudCA9ICQoXCIjZnJlZVRpY2tldENvdW50XCIpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tldEV4cGxhbmF0aW9uID0gJChcIiN0aWNrZXRFeHBsYW5hdGlvbkFyZWFcIikudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZWVkQ2hlY2sgPSAkKFwiI2lzRnJlZVRpY2tldENoZWNrXCIpLmRhdGEoXCJjaGVja19zdGF0ZVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyZWVUaWNrZXRJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkIDogZnJlZVRpY2tldElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tldF9uYW1lIDogZnJlZVRpY2tldE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlja2V0X3ByaWNlIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXRfY291bnQgOiBmcmVlVGlja2V0Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEgOiB0aWNrZXRFeHBsYW5hdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19uZWVkX2NoZWNrIDogaXNOZWVkQ2hlY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXRQYXJhbXNbMF0gPSBmcmVlVGlja2V0SXRlbTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghY3JlYXRlQWN0aXZpdHkuaXNTZWxlY3RQYWNrYWdlKSB7ICAgICAgICAgICAgICAvL+ayoeaciemAieS4reS4k+agjyDmiJYg5Lya5ZGYIO+8iOmikemBk++8iVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIOajgOafpeaUtui0ueelqOWKoeS/oeaBr1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGFsLnBheVRpY2tldEVkaXRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaUtui0ueelqOWkhOS6jue8lui+keeKtuaAgVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAg5L+d5a2Y5pS26LS556Wo5Yqh5L+h5oGvXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAkKFwiLnBheVRpY2tldFRhYmxlQm9keVwiKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnBheVRpY2tldFRhYmxlQm9keVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF5VGlja2V0SWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheVRpY2tldE5hbWUgPSAkKHRoaXMpLmZpbmQoXCIucGF5VGlja2V0TmFtZVwiKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheVRpY2tldENvdW50ID0gJCh0aGlzKS5maW5kKFwiLnBheVRpY2tldENvdW50XCIpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5VGlja2V0UHJpY2UgPSAkKHRoaXMpLmZpbmQoXCIucGF5VGlja2V0UHJpY2VcIikudmFsKCkgKiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlUaWNrZXRFeHRyYSA9ICQodGhpcykuZmluZChcIi5wYXlUaWNrZXRFeHBsYW5hdGlvbkFyZWFcIikudmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBheVRpY2tldEl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCA6IHBheVRpY2tldElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlja2V0X25hbWUgOiBwYXlUaWNrZXROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlja2V0X3ByaWNlIDogcGF5VGlja2V0UHJpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXRfY291bnQgOiBwYXlUaWNrZXRDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhIDogcGF5VGlja2V0RXh0cmEsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXRQYXJhbXNbdGlja2V0UGFyYW1zLmxlbmd0aF0gPSBwYXlUaWNrZXRJdGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsUGFyYW1zID0geyAgICAgICAgICAgICAgIC8v6K+35rGC5o+Q5Lqk5Y+C5pWwXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMgOiBhY3Rpdml0eUluZm8sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWNrYWdlX2lkIDogcGFja2FnZV9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfbmFtZSA6IHBhY2thZ2VfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tldFBhcmFtcyA6IHRpY2tldFBhcmFtc1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdExpbWl0ID0gdHJ1ZTsgICAgIC8vIOihqOWNleaPkOS6pOmZkOWItuagh+iusFxuXG4gICAgICAgICAgICAgICAgICAgIGlmKGNyZWF0ZUFjdGl2aXR5LnR5cGUgPT09IDApeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5paw5aKe5rS75YqoXG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlQWN0aXZpdHlJbmZvKFwiL3VwbG9hZEFjdGl2aXR5XCIsIGFsbFBhcmFtcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKGNyZWF0ZUFjdGl2aXR5LnR5cGUgPT0gMSl7ICAgICAgICAgICAgICAgICAgICAgICAvLyDnvJbovpHmtLvliqhcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFBhcmFtcy5wYXJhbXMuaWQgPSAkKFwiI2FjdGl2aXR5SWRcIikudmFsKCk7ICAgICAgIC8vIOe8lui+kea0u+WKqOimgeW4pmlkXG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlQWN0aXZpdHlJbmZvKFwiL3NhdmVBY3Rpdml0eVwiLCBhbGxQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cblxuICAgICAgICAkKGRvY3VtZW50KS5hamF4RXJyb3IoZnVuY3Rpb24oZXZlbnQsIHhociwgb3B0KSB7ICAgICAgICAgICAvLyDmj5DkuqTplJnor6/lpITnkIZcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyh4aHIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKG9wdCk7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnvZHnu5zplJnor6/vvIzmk43kvZzlpLHotKUhXCIpO1xuICAgICAgICAgICAgc3VibWl0TGltaXQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2F2ZUFjdGl2aXR5SW5mbyh1cmwsIGFsbFBhcmFtcykge1xuICAgICAgICBjb25zb2xlLmxvZyhhbGxQYXJhbXMpO1xuICAgICAgICBzaG93TG9hZGluZygpO1xuICAgICAgICAkLnBvc3QodXJsLCBhbGxQYXJhbXMsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBpZihwYXJzZUludChkYXRhLmNvZGUpID09PSAwKXtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LmJsdWVUaXAoXCLkv53lrZjmiJDlip9cIik7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hY3Rpdml0eU1hbmFnZSdcbiAgICAgICAgICAgICAgICB9LDcwMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICBzdWJtaXRMaW1pdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vIOajgOafpeaPkOS6pOihqOWNlVxuICAgIGZ1bmN0aW9uIGNoZWNrQWN0aXZpdHlGb3JtKGluZm8pIHtcbiAgICAgICAgaWYoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLnRpdGxlKSl7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmtLvliqjlkI3np7DkuI3og73kuLrnqbrvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZigkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8ucGxhY2UpKXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIua0u+WKqOWcsOeCueS4jeiDveS4uuepuu+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby5hY3Rpdml0eV9zdGFydF9hdCkpe1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5rS75Yqo5byA5aeL5pe26Ze05LiN6IO95Li656m677yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoISRmb3JtQ2hlY2suY2hlY2tUaW1lKGluZm8uYWN0aXZpdHlfc3RhcnRfYXQpKXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIua0u+WKqOW8gOWni+aXtumXtOagvOW8j+mUmeivr++8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby5hY3Rpdml0eV9lbmRfYXQpKXtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIua0u+WKqOe7k+adn+aXtumXtOS4jeiDveS4uuepuu+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCEkZm9ybUNoZWNrLmNoZWNrVGltZShpbmZvLmFjdGl2aXR5X2VuZF9hdCkpe1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5rS75Yqo57uT5p2f5pe26Ze05qC85byP6ZSZ6K+v77yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoISRmb3JtQ2hlY2suY2hlY2tUaW1lT3JkZXIoaW5mby5hY3Rpdml0eV9zdGFydF9hdCxpbmZvLmFjdGl2aXR5X2VuZF9hdCkpe1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5rS75Yqo57uT5p2f5pe26Ze06KaB5aSn5LqO5rS75Yqo5byA5aeL5pe26Ze077yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5aaC5p6c5piv6Ieq5a6a5LmJ5pe26Ze0XG4gICAgICAgIGNvbnNvbGUubG9nKGluZm8uaXNfZGVmYXVsdF9lbnJvbGxfdGltZSk7XG4gICAgICAgIGlmKGluZm8uaXNfZGVmYXVsdF9lbnJvbGxfdGltZSA9PT0gMSApe1xuICAgICAgICAgICAgaWYoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLmVucm9sbF9zdGFydF9hdCkpe1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaKpeWQjeW8gOWni+aXtumXtOS4jeiDveS4uuepuu+8gVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighJGZvcm1DaGVjay5jaGVja1RpbWUoaW5mby5lbnJvbGxfc3RhcnRfYXQpKXtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmiqXlkI3lvIDlp4vml7bpl7TmoLzlvI/plJnor6/vvIFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLmVucm9sbF9lbmRfYXQpKXtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmiqXlkI3nu5PmnZ/ml7bpl7TkuI3og73kuLrnqbrvvIFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoISRmb3JtQ2hlY2suY2hlY2tUaW1lKGluZm8uZW5yb2xsX2VuZF9hdCkpe1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaKpeWQjee7k+adn+agvOW8j+mUmeivr++8gVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighJGZvcm1DaGVjay5jaGVja1RpbWVPcmRlcihpbmZvLmVucm9sbF9zdGFydF9hdCxpbmZvLmVucm9sbF9lbmRfYXQpKXtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmiqXlkI3nu5PmnZ/ml7bpl7TopoHlpKfkuo7miqXlkI3lvIDlp4vml7bpl7TvvIFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGlzTmFOKGluZm8uYWN0b3JfbnVtKXx8aW5mby5hY3Rvcl9udW08MCl7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7floavlhpnmraPnoa7nmoTmtLvliqjkurrmlbDvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8g5pi+56S65rS75Yqo5Zu+54mHXG4gICAgZnVuY3Rpb24gc2hvd0FjdGl2aXR5UGljKHVybCkge1xuICAgICAgICBpZih1cmwpe1xuICAgICAgICAgICAgJChcIiNpbWdfdXJsXCIpLmF0dHIoXCJzcmNcIix1cmwpLnNob3coKTtcbiAgICAgICAgICAgICQoXCIubm9QaWNQcmV2aWV3XCIpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOmakOiXj+W5tuWIoOmZpOa0u+WKqOWbvueJh1xuICAgIGZ1bmN0aW9uIGhpZGVBY3Rpdml0eVBpYygpIHtcbiAgICAgICAgJChcIiNpbWdfdXJsXCIpLmF0dHIoXCJzcmNcIixcIlwiKS5oaWRlKCk7XG4gICAgICAgICQoXCIubm9QaWNQcmV2aWV3XCIpLnNob3coKTtcbiAgICAgICAgYWN0aXZpdHlQaWNVcmwgPSBcIlwiO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVBY3Rpdml0eTtcblxufSkoKTtcblxudmFyIG1vZGFsID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBtb2RhbCA9IHt9O1xuXG4gICAgbW9kYWwuZnJlZVRpY2tldEVkaXRTdGF0ZSA9IGZhbHNlOyAgICAgIC8v5YWN6LS556Wo57yW6L6R54q25oCBXG5cbiAgICBtb2RhbC5wYXlUaWNrZXRFZGl0U3RhdGUgPSBmYWxzZTsgICAvL+S7mOi0ueelqOWIl+ihqOe8lui+keeKtuaAge+8jCB0cnVlIC0g5pyJ56Wo5aSE5LqO57yW6L6R54q25oCB77yMZmFsc2UgLSDmsqHmnInnpajlpITkuo7nvJbovpHnirbmgIFcbiAgICBtb2RhbC5lZGl0ZWRQYXlUaWNrZXROYW1lID0gXCJcIjsgICAvL+e8lui+keeKtuaAgeS7mOi0ueelqOWQjeensO+8jFxuICAgIG1vZGFsLmVkaXRQYXlUaWNrZXREb20gPSAnJyAgICAgICAgIC8v77yM57yW6L6R54q25oCB55qE6IqC54K5IDxjbGFzcz0nZWRpdFBheVRpY2tldCc+XG5cbiAgICBtb2RhbC5pbml0VGlja2V0SW5mbyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKiog5aSE55CG5YWN6LS556WoIC0gc3RhcnQgKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgICAgICAvLyDmt7vliqDlhY3otLnnpajnp41cbiAgICAgICAgJChcIiNuZXdGcmVlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIjZnJlZVRpY2tldFRhYmxlQm9keVwiKS5yZW1vdmVDbGFzcyhcImhpZGVcIik7XG4gICAgICAgICAgICAkKFwiI2ZyZWVUaWNrZXREZXNjXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcbiAgICAgICAgICAgICQoXCIjbmV3RnJlZVwiKS5hZGRDbGFzcyhcImhpZGVcIik7XG5cbiAgICAgICAgICAgIGNoYW5nZUZyZWVUaWNrZXRTdGF0ZSgwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIOWIoOmZpOWFjei0ueelqOenjVxuICAgICAgICAkKFwiI2RlbGV0ZUZyZWVUaWNrZXRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIiNuZXdGcmVlXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcbiAgICAgICAgICAgICQoXCIjZnJlZVRpY2tldFRhYmxlQm9keVwiKS5hZGRDbGFzcyhcImhpZGVcIik7XG4gICAgICAgICAgICAkKFwiI2ZyZWVUaWNrZXRUYWJsZUJvZHlcIikuZGF0YShcInRpY2tldF9pZFwiICxcIlwiKTtcbiAgICAgICAgICAgICQoXCJpbnB1dC5mcmVlVGlja2V0SXRlbVwiKS52YWwoXCJcIik7XG4gICAgICAgICAgICAkKFwiI3RpY2tldEV4cGxhbmF0aW9uQXJlYVwiKS52YWwoXCJcIik7XG4gICAgICAgICAgICAkKFwiaW5wdXQjaXNGcmVlVGlja2V0Q2hlY2tcIikucmVtb3ZlQXR0cihcImNoZWNrZWRcIik7XG4gICAgICAgICAgICBtb2RhbC5mcmVlVGlja2V0RWRpdFN0YXRlID0gZmFsc2U7XG5cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIOe8lui+kS/kv53lrZjlhY3otLnnpajnp41cbiAgICAgICAgJChcIiNlZGl0RnJlZVRpY2tldFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobW9kYWwuZnJlZVRpY2tldEVkaXRTdGF0ZSkgeyAgICAgLy8gIOe9ruS4uuS/neWtmOeKtuaAgVxuICAgICAgICAgICAgICAgIHZhciBmcmVlVGlja2V0TmFtZSA9ICAkKFwiI2ZyZWVUaWNrZXROYW1lXCIpLnZhbCgpO1xuICAgICAgICAgICAgICAgIGlmICgkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGZyZWVUaWNrZXROYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnpajnp43lkI3np7DkuI3og73kuLrnqbrvvIzor7fph43mlrDovpPlhaVcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGZyZWVUaWNrZXRDb3VudCA9ICAkKFwiI2ZyZWVUaWNrZXRDb3VudFwiKS52YWwoKTtcbiAgICAgICAgICAgICAgICBpZiAoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhmcmVlVGlja2V0Q291bnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+i+k+WFpeato+ehrueahOWFjei0ueelqOaVsOmHj1wiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISRmb3JtQ2hlY2suaXNOdW1Qb3NpdGl2ZUFuZEludGVnZXIoZnJlZVRpY2tldENvdW50KSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7fovpPlhaXmraPnoa7nmoTlhY3otLnnpajmlbDph49cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGZyZWVUaWNrZXRFeHRyYSA9ICQoXCIjdGlja2V0RXhwbGFuYXRpb25BcmVhXCIpLnZhbCgpO1xuICAgICAgICAgICAgICAgIGlmIChmcmVlVGlja2V0RXh0cmEubGVuZ3RoID4gMTk4KSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuelqOenjeivtOaYjuWtl+aVsOS4jeiDvei2hei/hzE5OOS4quWtl+esplwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGFuZ2VGcmVlVGlja2V0U3RhdGUoMSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7ICAgIC8vICDnva7kuLrnvJbovpHnirbmgIFcbiAgICAgICAgICAgICAgICBpZiAobW9kYWwucGF5VGlja2V0RWRpdFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaUtui0ueelqOWkhOS6jue8lui+keeKtuaAge+8jOivt+WFiOS/neWtmOaUtui0ueelqFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGFuZ2VGcmVlVGlja2V0U3RhdGUoMCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIOaYr+WQpuWuoeaguOWFjei0ueelqFxuICAgICAgICAkKFwiaW5wdXQjaXNGcmVlVGlja2V0Q2hlY2tcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gJChcImlucHV0I2lzRnJlZVRpY2tldENoZWNrXCIpLmRhdGEoXCJjaGVja19zdGF0ZVwiKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PSBcIjFcIikge1xuICAgICAgICAgICAgICAgICQoXCJpbnB1dCNpc0ZyZWVUaWNrZXRDaGVja1wiKS5kYXRhKFwiY2hlY2tfc3RhdGVcIiwgXCIwXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChcImlucHV0I2lzRnJlZVRpY2tldENoZWNrXCIpLmRhdGEoXCJjaGVja19zdGF0ZVwiLCBcIjFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKiDlpITnkIblhY3otLnnpaggLSBlbmQgKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKiog5aSE55CG5pS26LS556WoIC0gc3RhcnQgKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgICAgLy8g5re75Yqg5pS26LS556Wo56eNXG4gICAgICAgICQoXCIjbmV3UGF5VGlja2V0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChtb2RhbC5wYXlUaWNrZXRFZGl0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCJbXCIgKyBtb2RhbC5lZGl0ZWRQYXlUaWNrZXROYW1lICsgXCJd5aSE5LqO57yW6L6R54q25oCB77yM6K+35YWI5L+d5a2YXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vZGFsLnBheVRpY2tldEVkaXRTdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICBtb2RhbC5lZGl0ZWRQYXlUaWNrZXROYW1lID0gXCLmlrDlu7rmlLbotLnnpahcIjtcblxuICAgICAgICAgICAgdmFyICRwYXlUaWNrZXRMaXN0ID0gJChcIiNwYXlUaWNrZXRCb2R5V3JhcHBlclwiKS5jaGlsZHJlbihcIi5wYXlUaWNrZXRUYWJsZUJvZHlcIik7XG4gICAgICAgICAgICAkKFwiI3BheVRpY2tldEJvZHlXcmFwcGVyXCIpLmFwcGVuZChnZXRQYXlUaWNrZXRCb2R5KCRwYXlUaWNrZXRMaXN0Lmxlbmd0aCkpO1xuXG4gICAgICAgICAgICBtb2RhbC5lZGl0UGF5VGlja2V0RG9tID0gJHBheVRpY2tldExpc3QuZXEoJHBheVRpY2tldExpc3QubGVuZ3RoKS5maW5kKFwiLmVkaXRQYXlUaWNrZXRcIik7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g57yW6L6RL+S/neWtmOaUtui0ueelqOenjVxuICAgICAgICAkKFwiI3BheVRpY2tldEJvZHlXcmFwcGVyXCIpLm9uKFwiY2xpY2tcIiwgXCIuZWRpdFBheVRpY2tldFwiLCBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKGUudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICBpZCA9ICR0aGlzLmF0dHIoXCJpZFwiKTtcblxuICAgICAgICAgICAgaWYgKCR0aGlzLmF0dHIoXCJlZGl0X3N0YXRlXCIpID09IDEpIHsvL+e9ruS4uue8lui+keeKtuaAgVxuXG4gICAgICAgICAgICAgICAgaWYgKG1vZGFsLmZyZWVUaWNrZXRFZGl0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi5YWN6LS556Wo5aSE5LqO57yW6L6R54q25oCB77yM6K+35YWI5L+d5a2Y5YWN6LS556WoXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtb2RhbC5wYXlUaWNrZXRFZGl0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5hbGVydChcIltcIiArIG1vZGFsLmVkaXRlZFBheVRpY2tldE5hbWUgKyBcIl3lpITkuo7nvJbovpHnirbmgIEs5piv5ZCm6L+b6KGM5L+d5a2YP1wiLCBcImluZm9cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnRuOiAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmVkaXRQYXlUaWNrZXREb20uY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW9kYWwucGF5VGlja2V0RWRpdFN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgcGF5VGlja2V0TmFtZSA9ICR0aGlzLnBhcmVudHMoXCIjcGF5VGlja2V0T3BlcmF0ZVwiKS5wcmV2QWxsKFwiLnBheVRpY2tldE5hbWVcIikudmFsKCk7XG4gICAgICAgICAgICAgICAgbW9kYWwuZWRpdGVkUGF5VGlja2V0TmFtZSA9IHBheVRpY2tldE5hbWU7XG4gICAgICAgICAgICAgICAgbW9kYWwuZWRpdFBheVRpY2tldERvbSA9ICR0aGlzO1xuXG4gICAgICAgICAgICAgICAgY2hhbmdlUGF5VGlja2V0U3RhdGUoJHRoaXMsIDApO1xuXG4gICAgICAgICAgICB9IGVsc2Ugey8v572u5Li65L+d5a2Y54q25oCBXG5cbiAgICAgICAgICAgICAgICB2YXIgcGF5VGlja2V0TmFtZSA9ICAkLnRyaW0oJHRoaXMucGFyZW50cyhcIiNwYXlUaWNrZXRPcGVyYXRlXCIpLnByZXZBbGwoXCIucGF5VGlja2V0TmFtZVwiKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgaWYgKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcocGF5VGlja2V0TmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi56Wo56eN5ZCN56ew5LiN6IO95Li656m677yM6K+36YeN5paw6L6T5YWlXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHBheVRpY2tldENvdW50ID0gICQudHJpbSgkdGhpcy5wYXJlbnRzKFwiI3BheVRpY2tldE9wZXJhdGVcIikucHJldkFsbChcIi5wYXlUaWNrZXRDb3VudFwiKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgaWYgKCEgJGZvcm1DaGVjay5pc051bVBvc2l0aXZlQW5kSW50ZWdlcihwYXlUaWNrZXRDb3VudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi56Wo5pWw5bqU5aSn5LqOMO+8jOS4lOS4jeiDveS4uuepuu+8jOivt+mHjeaWsOi+k+WFpVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBwYXlUaWNrZXRQcmljZSA9ICAkLnRyaW0oJHRoaXMucGFyZW50cyhcIiNwYXlUaWNrZXRPcGVyYXRlXCIpLnByZXZBbGwoXCIucGF5VGlja2V0UHJpY2VcIikudmFsKCkpICogMTAwOyAgICAvLyAg5Y2V5L2N77ya5YiGXG4gICAgICAgICAgICAgICAgaWYgKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcocGF5VGlja2V0UHJpY2UpIHx8IHBheVRpY2tldFByaWNlIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi56Wo5Lu35LiN5Y+v5Li656m65LiU5b+F6aG75aSn5LqOMO+8jOivt+mHjeaWsOi+k+WFpVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGF5VGlja2V0UHJpY2UgPiBiYXNlVXRpbHMubWF4SW5wdXRQcmljZSAqIDEwMCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLku7fmoLzkuI3og73lpKfkuo4gXCIgKyBiYXNlVXRpbHMubWF4SW5wdXRQcmljZSArIFwiIOWFg1wiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBwYXlUaWNrZXRFeHRyYSA9ICR0aGlzLnBhcmVudHMoXCIucGF5VGlja2V0VGFibGVCb2R5XCIpLmZpbmQoXCIucGF5VGlja2V0RXhwbGFuYXRpb25BcmVhXCIpLnZhbCgpO1xuICAgICAgICAgICAgICAgIGlmIChwYXlUaWNrZXRFeHRyYS5sZW5ndGggPiAxOTgpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi56Wo56eN6K+05piO5a2X5pWw5LiN6IO96LaF6L+HMTk45Liq5a2X56ymXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGlzTmFtZUV4aXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJChcImlucHV0LnBheVRpY2tldE5hbWVcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZCAhPSAkKHRoaXMpLmRhdGEoXCJpbmRleFwiKSAmJiBwYXlUaWNrZXROYW1lID09ICQudHJpbSgkKHRoaXMpLnZhbCgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNOYW1lRXhpc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNOYW1lRXhpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi56Wo56eN5ZCN56ew5bey5a2Y5Zyo77yM6K+36YeN5paw6L6T5YWlXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbW9kYWwucGF5VGlja2V0RWRpdFN0YXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbW9kYWwuZWRpdGVkUGF5VGlja2V0TmFtZSA9IFwi5paw5bu65pS26LS556WoXCI7XG5cbiAgICAgICAgICAgICAgICBjaGFuZ2VQYXlUaWNrZXRTdGF0ZSgkdGhpcywgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/liKDpmaTmlLbotLnnpahcbiAgICAgICAgJChcIiNwYXlUaWNrZXRCb2R5V3JhcHBlclwiKS5vbihcImNsaWNrXCIsIFwiLmRlbGV0ZVBheVRpY2tldFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyICR0aGlzID0gJChlLnRhcmdldCk7XG4gICAgICAgICAgICB2YXIgZWRpdF9zdGF0ZSA9ICR0aGlzLnByZXYoXCIuZWRpdFBheVRpY2tldFwiKS5hdHRyKFwiZWRpdF9zdGF0ZVwiKTtcbiAgICAgICAgICAgIGlmIChlZGl0X3N0YXRlID09IDApIHtcbiAgICAgICAgICAgICAgICBtb2RhbC5wYXlUaWNrZXRFZGl0U3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtb2RhbC5lZGl0ZWRQYXlUaWNrZXROYW1lID0gXCLmlrDlu7rmlLbotLnnpahcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICR0aGlzLnBhcmVudHMoXCIucGF5VGlja2V0VGFibGVCb2R5XCIpLnJlbW92ZSgpO1xuXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqIOWkhOeQhuaUtui0ueelqCAtIGVuZCAqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc3RhdGUgMC3nva7kuLrnvJbovpHnirbmgIEsIDEt572u5Li65L+d5a2Y54q25oCBXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhbmdlRnJlZVRpY2tldFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZSA9PSAwKSB7XG4gICAgICAgICAgICBtb2RhbC5mcmVlVGlja2V0RWRpdFN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICQoXCIjZWRpdEZyZWVUaWNrZXRcIikuYXR0cihcImVkaXRfc3RhdGVcIiwgMCk7XG4gICAgICAgICAgICAkKFwiI2VkaXRGcmVlVGlja2V0XCIpLmh0bWwoXCLkv53lrZjmraTnpahcIik7XG4gICAgICAgICAgICAkKFwiLmZyZWVUaWNrZXRJdGVtXCIpLnJlbW92ZUF0dHIoXCJyZWFkT25seVwiKTtcbiAgICAgICAgICAgICQoXCIuZnJlZVRpY2tldEl0ZW1cIikuY3NzKFwiYm9yZGVyXCIsIFwiMXB4IHNvbGlkICNkY2RjZGNcIik7XG4gICAgICAgICAgICAkKFwiLmZyZWVUaWNrZXREZXNjXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcblxuICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgIG1vZGFsLmZyZWVUaWNrZXRFZGl0U3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICQoXCIjZWRpdEZyZWVUaWNrZXRcIikuYXR0cihcImVkaXRfc3RhdGVcIiwgMSk7XG4gICAgICAgICAgICAkKFwiI2VkaXRGcmVlVGlja2V0XCIpLmh0bWwoXCLnvJbovpHmraTnpahcIik7XG4gICAgICAgICAgICAkKFwiLmZyZWVUaWNrZXRJdGVtXCIpLmF0dHIoXCJyZWFkT25seVwiLCBcInRydWVcIik7XG4gICAgICAgICAgICAkKFwiLmZyZWVUaWNrZXRJdGVtXCIpLmNzcyhcImJvcmRlclwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICAkKFwiLmZyZWVUaWNrZXREZXNjXCIpLmFkZENsYXNzKFwiaGlkZVwiKTtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hhbmdlUGF5VGlja2V0U3RhdGUoY3VycmVudERvbSwgc3RhdGUpIHtcblxuICAgICAgICBpZiAoc3RhdGUgPT0gMCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v572u5Li657yW6L6R54q25oCBXG4gICAgICAgICAgICBjdXJyZW50RG9tLmF0dHIoXCJlZGl0X3N0YXRlXCIsIDApO1xuICAgICAgICAgICAgY3VycmVudERvbS5odG1sKFwi5L+d5a2Y5q2k56WoXCIpO1xuICAgICAgICAgICAgY3VycmVudERvbS5wYXJlbnRzKFwiI3BheVRpY2tldE9wZXJhdGVcIikucHJldkFsbChcIi5wYXlUaWNrZXRJdGVtXCIpLnJlbW92ZUF0dHIoXCJyZWFkT25seVwiKTtcbiAgICAgICAgICAgIGN1cnJlbnREb20ucGFyZW50cyhcIiNwYXlUaWNrZXRPcGVyYXRlXCIpLnByZXZBbGwoXCIucGF5VGlja2V0SXRlbVwiKS5jc3MoXCJib3JkZXJcIiwgXCIxcHggc29saWQgI2RjZGNkY1wiKTtcbiAgICAgICAgICAgIGN1cnJlbnREb20ucGFyZW50cyhcIi5wYXlUaWNrZXRJbmZvXCIpLm5leHQoXCIucGF5VGlja2V0RGVzY1wiKS5yZW1vdmVDbGFzcyhcImhpZGVcIik7XG5cbiAgICAgICAgfSBlbHNlICB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+e9ruS4uuS/neWtmOeKtuaAgVxuICAgICAgICAgICAgY3VycmVudERvbS5hdHRyKFwiZWRpdF9zdGF0ZVwiLCAxKTtcbiAgICAgICAgICAgIGN1cnJlbnREb20uaHRtbChcIue8lui+keatpOelqFwiKTtcbiAgICAgICAgICAgIGN1cnJlbnREb20ucGFyZW50cyhcIiNwYXlUaWNrZXRPcGVyYXRlXCIpLnByZXZBbGwoXCIucGF5VGlja2V0SXRlbVwiKS5hdHRyKFwicmVhZE9ubHlcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgY3VycmVudERvbS5wYXJlbnRzKFwiI3BheVRpY2tldE9wZXJhdGVcIikucHJldkFsbChcIi5wYXlUaWNrZXRJdGVtXCIpLmNzcyhcImJvcmRlclwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICBjdXJyZW50RG9tLnBhcmVudHMoXCIucGF5VGlja2V0SW5mb1wiKS5uZXh0KFwiLnBheVRpY2tldERlc2NcIikuYWRkQ2xhc3MoXCJoaWRlXCIpO1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYXlUaWNrZXRCb2R5KGluZGV4KSB7XG4gICAgICAgIHZhciBwYXlUaWNrZXRCb2R5ID1cbiAgICAgICAgICAgICc8bGkgY2xhc3M9XCJwYXlUaWNrZXRUYWJsZUJvZHlcIiBpZD1cIlwiPicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicGF5VGlja2V0SW5mb1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGlucHV0IGNsYXNzPVwicGF5VGlja2V0SXRlbSBpbnB1dERlZmF1bHQgcGF5VGlja2V0TmFtZVwiIGRhdGEtaW5kZXg9XCInICsgaW5kZXggKyAnXCIgcGxhY2Vob2xkZXI9XCJ2aXDnpahcIiAvPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGlucHV0IGNsYXNzPVwicGF5VGlja2V0SXRlbSBpbnB1dERlZmF1bHQgcGF5VGlja2V0Q291bnRcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiMCjkuI3pmZApXCIgLz4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCBjbGFzcz1cInBheVRpY2tldEl0ZW0gaW5wdXREZWZhdWx0IHBheVRpY2tldFByaWNlXCIgdHlwZT1cIm51bWJlclwiIHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl5Lu35qC8XCIgLz4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0aWNrZXRJdGVtXCIgaWQ9XCJwYXlUaWNrZXRPcGVyYXRlXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRvb2xCb3hcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHVsPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGxpIGNsYXNzPVwiZWRpdFBheVRpY2tldFwiIGVkaXRfc3RhdGU9XCIwXCIgaWQ9XCInICsgaW5kZXggKyAnXCIgPuS/neWtmOatpOelqDwvbGk+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGkgY2xhc3M9XCJkZWxldGVQYXlUaWNrZXRcIj7liKDpmaTmraTnpag8L2xpPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3VsPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicGF5VGlja2V0RGVzY1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRpY2tldEV4cGxhbmF0aW9uV3JhcHBlclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwidGlja2V0RXhwbGFuYXRpb25cIj7npajnp43or7TmmI4o6YCJ5aGrKTwvc3Bhbj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8dGV4dGFyZWEgY2xhc3M9XCJwYXlUaWNrZXRFeHBsYW5hdGlvbkFyZWEgdGlja2V0VGV4dEFyZWFcIiBwbGFjZWhvbGRlcj1cIuaCqOWPr+S7peWcqOi/memHjOivtOaYjuatpOelqOeahOeJueeCuVwiPjwvdGV4dGFyZWE+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPC9saT4nO1xuXG4gICAgICAgIHJldHVybiBwYXlUaWNrZXRCb2R5O1xuXG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGFsO1xuXG59KSgpO1xuIl19
