var params={};var allParams={};var is_applied;var is_change_phone;$(document).ready(function(){$frame.init();$searchContent.startSearch()});$frame={init:function(){is_applied=$(".submit_application_page").data("is_applied");if(is_applied=="1"){is_applied=true;is_change_phone=0}else{is_applied=false;is_change_phone=1}$("#tab_item_search").click(function(){$("#tab_item_search").removeClass("searchOff");$("#tab_item_search").addClass("searchOn");$("#tab_item_mine").removeClass("mineOn");$("#tab_item_mine").addClass("mineOff");window.location.href="saleHomePage"});$("#tab_item_mine").click(function(){$("#tab_item_mine").removeClass("mineOff");$("#tab_item_mine").addClass("mineOn");$("#tab_item_search").removeClass("searchOn");$("#tab_item_search").addClass("searchOff");window.location.href="/getSaleList"});$(".transparent_top_area").click(function(){$submitContent.clickTopArea()});$(".sale_content_search").bind("input propertychange",function(){$searchContent.startSearch()});$(".change_phone_number").click(function(){$submitContent.changePhoneNumber()});$(".acquire_verify_code").click(function(){$submitContent.acquireVerifyCode()});$(".submit").click(function(){$submitContent.submitApplication()})}};$searchContent={startSearch:function(){var e=$.trim($("input.sale_content_search").val());if(e!=""){$.post("/saleSearchContent",{contentSearch:e},function(e){$(".sale_content_title").addClass("hide");$(".search_suggestion").hide();if(e.code==0){$(".search_no_data").addClass("hide");$(".search_result_title").removeClass("hide");$(".search_result").show();$(".search_area").removeClass("hide");$(".search_area").html(e.data)}else{$(".search_no_data").removeClass("hide");$(".search_result_title").addClass("hide");$(".search_area").addClass("hide")}})}},applyMainPageSale:function(e){params["sale_type"]=1;params["app_id"]=$(e).data("app_id");params["app_name"]=$(e).data("app_name");params["sale_img_url"]=$(e).data("app_image");params["sale_id"]="";params["sale_content"]=$(e).data("app_name");$(".submit_application_page").css({display:"block"});$(".tab_selector").hide()},applyProductSale:function(e){params["sale_type"]=0;params["app_name"]=$(e).data("app_name");params["app_id"]=$(e).data("app_id");params["sale_img_url"]=$(e).data("package_image");params["sale_id"]=$(e).data("product_id");params["sale_content"]=$(e).data("product_name");$(".submit_application_page").css({display:"block"});$(".tab_selector").hide()}};$submitContent={clickTopArea:function(){$(".submit_application_page").css({display:"none"});$(".error_remind").html("");$(".tab_selector").show();$(".sale_name").val("");$(".remarks").val("");$(".verify_code").val("")},changePhoneNumber:function(){is_change_phone=1;$(".verify_code_wrapper").removeClass("hide");$(".phone_number").removeAttr("readonly");$(".phone_number").removeAttr("type");$(".change_phone_number").addClass("hide")},submitApplication:function(){params["sale_name"]=$(".sale_name").val();params["applier"]=$(".real_user_name").val();params["phone"]=$(".phone_number").val();params["remark"]=$(".remarks").val();var e=$(".verify_code").val();if(params["sale_name"]==""){$(".error_remind").html("分销名称不能为空！");return false}if(params["applier"]==""){$(".error_remind").html("真实姓名不能为空！");return false}if(params["phone"]==""){$(".error_remind").html("手机号码不能为空！");return false}else if(is_change_phone==1&&e==""){$(".error_remind").html("验证码不能为空！");return false}$(".error_remind").html("");allParams["params"]=params;allParams["is_change_phone"]=is_change_phone;allParams["code"]=e;$.post("/applySale",allParams,function(e){if(e.code==0){window.location.href="/submitSuccess"}else{$(".error_remind").html(e.msg)}})}};var send_sms_flag=true;var phone="";function sendsms(){phone=$(".phone_number").val();if(send_sms_flag){register.sendCoder(phone)}else{return false}}var timer;var register={count:60,clear:null,flag:false,loginFlag:false,coderTick:function(e){timer=setInterval(register.tick,1e3)},tick:function(){var e=$(".acquire_verify_code");if(register.count==0){clearInterval(timer);register.count=60;e.html("获取验证码");$(".acquire_verify_code").removeClass("disabled");register.flag=false;e.click(function(){register.sendCoder()})}else{register.count--;e.unbind("click").html(register.count+"s后重新发送");$(".acquire_verify_code").addClass("disabled");register.flag=true;send_sms_flag=false}},sendCoder:function(e){if(!register.flag){register.flag=true;$.post("/send_apply_sms",{phone:e},function(e){if(e.code==0){register.coderTick()}else{alert("验证码发送失败,请重试!");register.flag=false}})}}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluX0g1L3NhbGVIb21lUGFnZS5qcyJdLCJuYW1lcyI6WyJwYXJhbXMiLCJhbGxQYXJhbXMiLCJpc19hcHBsaWVkIiwiaXNfY2hhbmdlX3Bob25lIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCIkZnJhbWUiLCJpbml0IiwiJHNlYXJjaENvbnRlbnQiLCJzdGFydFNlYXJjaCIsImRhdGEiLCJjbGljayIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCIkc3VibWl0Q29udGVudCIsImNsaWNrVG9wQXJlYSIsImJpbmQiLCJjaGFuZ2VQaG9uZU51bWJlciIsImFjcXVpcmVWZXJpZnlDb2RlIiwic3VibWl0QXBwbGljYXRpb24iLCJjb250ZW50U2VhcmNoIiwidHJpbSIsInZhbCIsInBvc3QiLCJoaWRlIiwiY29kZSIsInNob3ciLCJodG1sIiwiYXBwbHlNYWluUGFnZVNhbGUiLCIkYnRuIiwiY3NzIiwiZGlzcGxheSIsImFwcGx5UHJvZHVjdFNhbGUiLCJyZW1vdmVBdHRyIiwidmVyaWZ5Q29kZSIsIm1zZyIsInNlbmRfc21zX2ZsYWciLCJwaG9uZSIsInNlbmRzbXMiLCJyZWdpc3RlciIsInNlbmRDb2RlciIsInRpbWVyIiwiY291bnQiLCJjbGVhciIsImZsYWciLCJsb2dpbkZsYWciLCJjb2RlclRpY2siLCJzZXRJbnRlcnZhbCIsInRpY2siLCIkY29kZXIiLCJjbGVhckludGVydmFsIiwidW5iaW5kIiwiYWxlcnQiXSwibWFwcGluZ3MiOiJBQUlBLEdBQUlBLFVBQ0osSUFBSUMsYUFFSixJQUFJQyxXQUVKLElBQUlDLGdCQUtKQyxHQUFFQyxVQUFVQyxNQUFNLFdBQ2RDLE9BQU9DLE1BRVBDLGdCQUFlQyxlQUtuQkgsU0FFSUMsS0FBTSxXQUVGTixXQUFhRSxFQUFFLDRCQUE0Qk8sS0FBSyxhQUNoRCxJQUFJVCxZQUFjLElBQUssQ0FDbkJBLFdBQWEsSUFDYkMsaUJBQWtCLE1BQ2YsQ0FDSEQsV0FBYSxL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LEdBQUlDLEdBQVNqRCxFQUFFLHVCQUVmLElBQUl1QyxTQUFTRyxPQUFTLEVBQUcsQ0FDckJRLGNBQWNULE1BQ2RGLFVBQVNHLE1BQVEsRUFDakJPLEdBQU90QixLQUFLLFFBQ1ozQixHQUFFLHdCQUF3QlMsWUFBWSxXQUV0QzhCLFVBQVNLLEtBQU8sS0FDaEJLLEdBQU96QyxNQUFNLFdBQ1QrQixTQUFTQyxrQkFFVixDQUNIRCxTQUFTRyxPQUNUTyxHQUFPRSxPQUFPLFNBQVN4QixLQUFLWSxTQUFTRyxNQUFRLFNBQzdDMUMsR0FBRSx3QkFBd0JVLFNBQVMsV0FDbkM2QixVQUFTSyxLQUFPLElBQ2hCUixlQUFnQixRQUd4QkksVUFBVyxTQUFVSCxHQU1qQixJQUFLRSxTQUFTSyxLQUFNLENBQ2hCTCxTQUFTSyxLQUFPLElBRWhCNUMsR0FBRXVCLEtBQUssbUJBQW1CYyxNQUFRQSxHQUFTLFNBQVU5QixHQUNqRCxHQUFJQSxFQUFLa0IsTUFBUSxFQUFHLENBQ2hCYyxTQUFTTyxnQkFDTixDQUNITSxNQUFNLGVBQ05iLFVBQVNLLEtBQU8iLCJmaWxlIjoiYWRtaW5fSDUvc2FsZUhvbWVQYWdlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQWRtaW5pc3RyYXRvciBvbiAyMDE3LzIvMTQuXHJcbiAqL1xyXG5cclxudmFyIHBhcmFtcyA9IHt9O1xyXG52YXIgYWxsUGFyYW1zID0ge307XHJcbi8vIOaYr+WQpuW3sue7j+eUs+ivt+WIhumUgFxyXG52YXIgaXNfYXBwbGllZDtcclxuLy8gIOaYr+WQpuS/ruaUueaJi+acuuWPt1xyXG52YXIgaXNfY2hhbmdlX3Bob25lO1xyXG5cclxuLyoqXHJcbiAqIOe9kemhteWKoOi9veWujOavleinpuWPkVxyXG4gKi9cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgJGZyYW1lLmluaXQoKTtcclxuXHJcbiAgICAkc2VhcmNoQ29udGVudC5zdGFydFNlYXJjaCgpO1xyXG5cclxufSk7XHJcblxyXG4vL+ahhuaetumAu+i+kVxyXG4kZnJhbWUgPSB7XHJcblxyXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBpc19hcHBsaWVkID0gJChcIi5zdWJtaXRfYXBwbGljYXRpb25fcGFnZVwiKS5kYXRhKFwiaXNfYXBwbGllZFwiKTtcclxuICAgICAgICBpZiAoaXNfYXBwbGllZCA9PSBcIjFcIikgeyAgICAvLyAg5bey57uP55Sz6K+36L+HXHJcbiAgICAgICAgICAgIGlzX2FwcGxpZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpc19jaGFuZ2VfcGhvbmUgPSAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlzX2FwcGxpZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaXNfY2hhbmdlX3Bob25lID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8q5bqV6YOodGFiIOaQnOe0ouagjyovXHJcbiAgICAgICAgJChcIiN0YWJfaXRlbV9zZWFyY2hcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiI3RhYl9pdGVtX3NlYXJjaFwiKS5yZW1vdmVDbGFzcyhcInNlYXJjaE9mZlwiKTtcclxuICAgICAgICAgICAgJChcIiN0YWJfaXRlbV9zZWFyY2hcIikuYWRkQ2xhc3MoXCJzZWFyY2hPblwiKTtcclxuXHJcbiAgICAgICAgICAgICQoXCIjdGFiX2l0ZW1fbWluZVwiKS5yZW1vdmVDbGFzcyhcIm1pbmVPblwiKTtcclxuICAgICAgICAgICAgJChcIiN0YWJfaXRlbV9taW5lXCIpLmFkZENsYXNzKFwibWluZU9mZlwiKTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJzYWxlSG9tZVBhZ2VcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8q5bqV6YOodGFiIOaIkeeahOWIhumUgOagjyovXHJcbiAgICAgICAgJChcIiN0YWJfaXRlbV9taW5lXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChcIiN0YWJfaXRlbV9taW5lXCIpLnJlbW92ZUNsYXNzKFwibWluZU9mZlwiKTtcclxuICAgICAgICAgICAgJChcIiN0YWJfaXRlbV9taW5lXCIpLmFkZENsYXNzKFwibWluZU9uXCIpO1xyXG5cclxuICAgICAgICAgICAgJChcIiN0YWJfaXRlbV9zZWFyY2hcIikucmVtb3ZlQ2xhc3MoXCJzZWFyY2hPblwiKTtcclxuICAgICAgICAgICAgJChcIiN0YWJfaXRlbV9zZWFyY2hcIikuYWRkQ2xhc3MoXCJzZWFyY2hPZmZcIik7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2dldFNhbGVMaXN0XCI7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLyrngrnlh7vnlLPor7fooajpobbpg6gqL1xyXG4gICAgICAgICQoXCIudHJhbnNwYXJlbnRfdG9wX2FyZWFcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkc3VibWl0Q29udGVudC5jbGlja1RvcEFyZWEoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyrnm5HlkKzmkJzntKLmoI/ovpPlhaXkuovku7YqL1xyXG4gICAgICAgICQoJy5zYWxlX2NvbnRlbnRfc2VhcmNoJykuYmluZCgnaW5wdXQgcHJvcGVydHljaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNlYXJjaENvbnRlbnQuc3RhcnRTZWFyY2goKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyrkv67mlLnmiYvmnLrlj7cqL1xyXG4gICAgICAgICQoXCIuY2hhbmdlX3Bob25lX251bWJlclwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzdWJtaXRDb250ZW50LmNoYW5nZVBob25lTnVtYmVyKCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLyrojrflj5bpqozor4HnoIEqL1xyXG4gICAgICAgICQoXCIuYWNxdWlyZV92ZXJpZnlfY29kZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzdWJtaXRDb250ZW50LmFjcXVpcmVWZXJpZnlDb2RlKCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLyrmj5DkuqTnlLPor7cqL1xyXG4gICAgICAgICQoXCIuc3VibWl0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHN1Ym1pdENvbnRlbnQuc3VibWl0QXBwbGljYXRpb24oKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufTtcclxuXHJcbi8q5pCc57Si5YaF5a656YOo5YiGKi9cclxuJHNlYXJjaENvbnRlbnQgPSB7XHJcblxyXG4gICAgLyrngrnlh7vmkJzmjInpkq4g6Kem5Y+R5pCc57SiKi9cclxuICAgIHN0YXJ0U2VhcmNoOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgY29udGVudFNlYXJjaCA9ICQudHJpbSgkKCdpbnB1dC5zYWxlX2NvbnRlbnRfc2VhcmNoJykudmFsKCkpO1xyXG4gICAgICAgIGlmIChjb250ZW50U2VhcmNoICE9ICcnKSB7XHJcbiAgICAgICAgICAgICQucG9zdChcIi9zYWxlU2VhcmNoQ29udGVudFwiLCB7J2NvbnRlbnRTZWFyY2gnOmNvbnRlbnRTZWFyY2h9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgJCgnLnNhbGVfY29udGVudF90aXRsZScpLmFkZENsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuc2VhcmNoX3N1Z2dlc3Rpb24nKS5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zZWFyY2hfbm9fZGF0YVwiKS5hZGRDbGFzcyhcImhpZGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zZWFyY2hfcmVzdWx0X3RpdGxlXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNlYXJjaF9yZXN1bHQnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zZWFyY2hfYXJlYVwiKS5yZW1vdmVDbGFzcyhcImhpZGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zZWFyY2hfYXJlYVwiKS5odG1sKGRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnNlYXJjaF9ub19kYXRhXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnNlYXJjaF9yZXN1bHRfdGl0bGVcIikuYWRkQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuc2VhcmNoX2FyZWFcIikuYWRkQ2xhc3MoXCJoaWRlXCIpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIOeUs+ivt+S4u+mhteWIhumUgFxyXG4gICAgYXBwbHlNYWluUGFnZVNhbGU6IGZ1bmN0aW9uICgkYnRuKSB7XHJcbiAgICAgICAgcGFyYW1zW1wic2FsZV90eXBlXCJdID0gMTtcclxuXHJcbiAgICAgICAgcGFyYW1zW1wiYXBwX2lkXCJdID0gJCgkYnRuKS5kYXRhKFwiYXBwX2lkXCIpO1xyXG4gICAgICAgIHBhcmFtc1tcImFwcF9uYW1lXCJdID0gJCgkYnRuKS5kYXRhKFwiYXBwX25hbWVcIik7XHJcblxyXG4gICAgICAgIHBhcmFtc1tcInNhbGVfaW1nX3VybFwiXSA9ICQoJGJ0bikuZGF0YShcImFwcF9pbWFnZVwiKTtcclxuICAgICAgICBwYXJhbXNbXCJzYWxlX2lkXCJdID0gXCJcIjtcclxuICAgICAgICBwYXJhbXNbXCJzYWxlX2NvbnRlbnRcIl0gPSAkKCRidG4pLmRhdGEoXCJhcHBfbmFtZVwiKTtcclxuXHJcblxyXG4gICAgICAgICQoXCIuc3VibWl0X2FwcGxpY2F0aW9uX3BhZ2VcIikuY3NzKHtcImRpc3BsYXlcIjpcImJsb2NrXCJ9KTtcclxuICAgICAgICAkKFwiLnRhYl9zZWxlY3RvclwiKS5oaWRlKCk7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvLyAg55Sz6K+35LiT5qCP5YiG6ZSAXHJcbiAgICBhcHBseVByb2R1Y3RTYWxlOiBmdW5jdGlvbiAoJGJ0bikge1xyXG4gICAgICAgIHBhcmFtc1tcInNhbGVfdHlwZVwiXSA9IDA7XHJcblxyXG4gICAgICAgIHBhcmFtc1tcImFwcF9uYW1lXCJdID0gJCgkYnRuKS5kYXRhKFwiYXBwX25hbWVcIik7ICAgICAgICAvLy8v5YiG6ZSA5omA5bGe55qEYXBwX25hbWVcclxuICAgICAgICBwYXJhbXNbXCJhcHBfaWRcIl0gPSAkKCRidG4pLmRhdGEoXCJhcHBfaWRcIik7ICAgICAgICAgICAvL+WIhumUgOaJgOWxnueahGFwcF9pZFxyXG5cclxuICAgICAgICBwYXJhbXNbXCJzYWxlX2ltZ191cmxcIl0gPSAkKCRidG4pLmRhdGEoXCJwYWNrYWdlX2ltYWdlXCIpOyAgICAgICAgICAgLy/liIbplIDkuJPmoI/lsIHpnaJcclxuICAgICAgICBwYXJhbXNbXCJzYWxlX2lkXCJdID0gJCgkYnRuKS5kYXRhKFwicHJvZHVjdF9pZFwiKTsgICAgICAgICAgLy/liIbplIBpZCxzYWxlX3R5cGXkuLow5pe25piv5LiT5qCPaWTvvIxzYWxlX3R5cGXkuLox5pe25piv56m6XHJcbiAgICAgICAgcGFyYW1zW1wic2FsZV9jb250ZW50XCJdID0gJCgkYnRuKS5kYXRhKFwicHJvZHVjdF9uYW1lXCIpOyAgIC8v5YiG6ZSA5YaF5a65LHNhbGVfdHlwZeS4ujDml7bmmK/kuJPmoI/lkI3np7DvvIxzYWxlX3R5cGXkuLox5pe25piv5YWs5LyX5Y+35ZCN56ewXHJcblxyXG4gICAgICAgICQoXCIuc3VibWl0X2FwcGxpY2F0aW9uX3BhZ2VcIikuY3NzKHtcImRpc3BsYXlcIjpcImJsb2NrXCJ9KTtcclxuICAgICAgICAkKFwiLnRhYl9zZWxlY3RvclwiKS5oaWRlKCk7XHJcblxyXG4gICAgfSxcclxuXHJcblxyXG59XHJcblxyXG4kc3VibWl0Q29udGVudCA9IHtcclxuXHJcbiAgICBjbGlja1RvcEFyZWE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiLnN1Ym1pdF9hcHBsaWNhdGlvbl9wYWdlXCIpLmNzcyh7XCJkaXNwbGF5XCI6IFwibm9uZVwifSk7XHJcbiAgICAgICAgJChcIi5lcnJvcl9yZW1pbmRcIikuaHRtbChcIlwiKTtcclxuICAgICAgICAkKFwiLnRhYl9zZWxlY3RvclwiKS5zaG93KCk7XHJcblxyXG4gICAgICAgIC8q5riF56m65pWw5o2uKi9cclxuICAgICAgICAkKFwiLnNhbGVfbmFtZVwiKS52YWwoXCJcIik7ICAgICAgICAgICAgLy/oh6rlrprkuYnnmoTliIbplIDlkI3np7BcclxuICAgICAgICAkKFwiLnJlbWFya3NcIikudmFsKFwiXCIpOyAgICAgICAgICAgICAgLy/lpIfms6hcclxuICAgICAgICAkKFwiLnZlcmlmeV9jb2RlXCIpLnZhbChcIlwiKTsgICAgICAgICAgLy/pqozor4HnoIFcclxuXHJcbiAgICB9LFxyXG5cclxuICAgIGNoYW5nZVBob25lTnVtYmVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaXNfY2hhbmdlX3Bob25lID0gMTtcclxuICAgICAgICAkKFwiLnZlcmlmeV9jb2RlX3dyYXBwZXJcIikucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xyXG4gICAgICAgICQoXCIucGhvbmVfbnVtYmVyXCIpLnJlbW92ZUF0dHIoXCJyZWFkb25seVwiKTtcclxuICAgICAgICAkKFwiLnBob25lX251bWJlclwiKS5yZW1vdmVBdHRyKFwidHlwZVwiKTtcclxuXHJcbiAgICAgICAgJChcIi5jaGFuZ2VfcGhvbmVfbnVtYmVyXCIpLmFkZENsYXNzKFwiaGlkZVwiKTtcclxuICAgIH0sXHJcblxyXG4gICAgc3VibWl0QXBwbGljYXRpb246IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgcGFyYW1zW1wic2FsZV9uYW1lXCJdID0gJChcIi5zYWxlX25hbWVcIikudmFsKCk7ICAgICAgICAvL+iHquWumuS5ieeahOWIhumUgOWQjeensFxyXG4gICAgICAgIHBhcmFtc1tcImFwcGxpZXJcIl0gPSAkKFwiLnJlYWxfdXNlcl9uYW1lXCIpLnZhbCgpOyAgICAgLy/nlLPor7fkurpcclxuICAgICAgICBwYXJhbXNbXCJwaG9uZVwiXSA9ICQoXCIucGhvbmVfbnVtYmVyXCIpLnZhbCgpOyAgICAgICAgIC8v55So5oi355qE5omL5py65Y+356CBXHJcbiAgICAgICAgcGFyYW1zW1wicmVtYXJrXCJdID0gJChcIi5yZW1hcmtzXCIpLnZhbCgpOyAgICAgICAgICAgICAvL+Wkh+azqFxyXG5cclxuICAgICAgICB2YXIgdmVyaWZ5Q29kZSA9ICQoXCIudmVyaWZ5X2NvZGVcIikudmFsKCk7ICAgICAgICAgICAvL+mqjOivgeeggVxyXG5cclxuICAgICAgICBpZiAocGFyYW1zW1wic2FsZV9uYW1lXCJdID09IFwiXCIpIHtcclxuICAgICAgICAgICAgJChcIi5lcnJvcl9yZW1pbmRcIikuaHRtbChcIuWIhumUgOWQjeensOS4jeiDveS4uuepuu+8gVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFyYW1zW1wiYXBwbGllclwiXSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICQoXCIuZXJyb3JfcmVtaW5kXCIpLmh0bWwoXCLnnJ/lrp7lp5PlkI3kuI3og73kuLrnqbrvvIFcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmFtc1tcInBob25lXCJdID09IFwiXCIpIHtcclxuICAgICAgICAgICAgJChcIi5lcnJvcl9yZW1pbmRcIikuaHRtbChcIuaJi+acuuWPt+eggeS4jeiDveS4uuepuu+8gVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNfY2hhbmdlX3Bob25lID09IDEgJiYgdmVyaWZ5Q29kZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICQoXCIuZXJyb3JfcmVtaW5kXCIpLmh0bWwoXCLpqozor4HnoIHkuI3og73kuLrnqbrvvIFcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJChcIi5lcnJvcl9yZW1pbmRcIikuaHRtbChcIlwiKTtcclxuXHJcbiAgICAgICAgYWxsUGFyYW1zW1wicGFyYW1zXCJdID0gcGFyYW1zO1xyXG4gICAgICAgIGFsbFBhcmFtc1tcImlzX2NoYW5nZV9waG9uZVwiXSA9IGlzX2NoYW5nZV9waG9uZTtcclxuICAgICAgICBhbGxQYXJhbXNbXCJjb2RlXCJdID0gdmVyaWZ5Q29kZTtcclxuXHJcblxyXG4gICAgICAgIC8q5byA5aeL5o+Q5LqkKi9cclxuICAgICAgICAkLnBvc3QoXCIvYXBwbHlTYWxlXCIsICBhbGxQYXJhbXMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkgeyAgIC8vICDmiJDlip9cclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvc3VibWl0U3VjY2Vzc1wiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJChcIi5lcnJvcl9yZW1pbmRcIikuaHRtbChkYXRhLm1zZyk7XHJcbiAgICAgICAgICAgICAgICAvKuW8ueahhuaPkOekuiovXHJcbiAgICAgICAgICAgICAgICAvLyBhbGVydChkYXRhLm1zZyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICB9LFxyXG5cclxufVxyXG5cclxuLy/lj5HpgIHpqozor4HnoIFcclxudmFyIHNlbmRfc21zX2ZsYWcgPSB0cnVlO1xyXG52YXIgcGhvbmUgPSAnJztcclxuZnVuY3Rpb24gc2VuZHNtcygpIHtcclxuXHJcbiAgICBwaG9uZSA9ICQoXCIucGhvbmVfbnVtYmVyXCIpLnZhbCgpO1xyXG5cclxuICAgIGlmKHNlbmRfc21zX2ZsYWcpIHtcclxuICAgICAgICByZWdpc3Rlci5zZW5kQ29kZXIocGhvbmUpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbnZhciB0aW1lcjtcclxudmFyIHJlZ2lzdGVyID0ge1xyXG4gICAgY291bnQ6IDYwLFxyXG4gICAgY2xlYXI6IG51bGwsXHJcbiAgICBmbGFnOiBmYWxzZSxcclxuICAgIGxvZ2luRmxhZzogZmFsc2UsXHJcbiAgICBjb2RlclRpY2s6IGZ1bmN0aW9uIChwaG9uZSkge1xyXG4gICAgICAgIC8v5YCS6K6h5pe2XHJcbiAgICAgICAgdGltZXIgPSBzZXRJbnRlcnZhbChyZWdpc3Rlci50aWNrLCAxMDAwKTtcclxuICAgIH0sXHJcbiAgICB0aWNrOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyICRjb2RlciA9ICQoJy5hY3F1aXJlX3ZlcmlmeV9jb2RlJyk7XHJcbiAgICAgICAgLy91dGlsLmxheWVyKCRwaG9uZSk7XHJcbiAgICAgICAgaWYgKHJlZ2lzdGVyLmNvdW50ID09IDApIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyLmNvdW50ID0gNjA7XHJcbiAgICAgICAgICAgICRjb2Rlci5odG1sKCfojrflj5bpqozor4HnoIEnKTtcclxuICAgICAgICAgICAgJChcIi5hY3F1aXJlX3ZlcmlmeV9jb2RlXCIpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIC8vIHNlbmRfc21zX2ZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICByZWdpc3Rlci5mbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRjb2Rlci5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZWdpc3Rlci5zZW5kQ29kZXIoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVnaXN0ZXIuY291bnQtLTtcclxuICAgICAgICAgICAgJGNvZGVyLnVuYmluZCgnY2xpY2snKS5odG1sKHJlZ2lzdGVyLmNvdW50ICsgJ3PlkI7ph43mlrDlj5HpgIEnKTtcclxuICAgICAgICAgICAgJChcIi5hY3F1aXJlX3ZlcmlmeV9jb2RlXCIpLmFkZENsYXNzKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyLmZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZW5kX3Ntc19mbGFnID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNlbmRDb2RlcjogZnVuY3Rpb24gKHBob25lKSB7XHJcbiAgICAgICAgLy8gdmFyIHBhcmFtID0ge307XHJcbiAgICAgICAgLy8xOuefreS/oVxyXG4gICAgICAgIC8vIHBhcmFtLmNvZGVfdHlwZSA9IDY7XHJcbiAgICAgICAgLy8gcGFyYW0ucGhvbmUgPSBwaG9uZTtcclxuICAgICAgICAvL+mYsuatouWkmuasoeeCueWHu+aXtu+8jOWkmuasoeaPkOS6pOivt+axglxyXG4gICAgICAgIGlmICghcmVnaXN0ZXIuZmxhZykge1xyXG4gICAgICAgICAgICByZWdpc3Rlci5mbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy/lj5HpgIHpqozor4HnoIFcclxuICAgICAgICAgICAgJC5wb3N0KCcvc2VuZF9hcHBseV9zbXMnLHsncGhvbmUnOnBob25lfSwgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZWdpc3Rlci5jb2RlclRpY2soKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLpqozor4HnoIHlj5HpgIHlpLHotKUs6K+36YeN6K+VIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZWdpc3Rlci5mbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4iXX0=
